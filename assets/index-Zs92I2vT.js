function bC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kk={exports:{}},ld={},xk={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ru=Symbol.for("react.element"),TC=Symbol.for("react.portal"),SC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),CC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),RC=Symbol.for("react.forward_ref"),NC=Symbol.for("react.suspense"),DC=Symbol.for("react.memo"),OC=Symbol.for("react.lazy"),R_=Symbol.iterator;function LC(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tk=Object.assign,Sk={};function sa(t,e,n){this.props=t,this.context=e,this.refs=Sk,this.updater=n||bk}sa.prototype.isReactComponent={};sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ik(){}Ik.prototype=sa.prototype;function bg(t,e,n){this.props=t,this.context=e,this.refs=Sk,this.updater=n||bk}var Tg=bg.prototype=new Ik;Tg.constructor=bg;Tk(Tg,sa.prototype);Tg.isPureReactComponent=!0;var N_=Array.isArray,Ck=Object.prototype.hasOwnProperty,Sg={current:null},Ak={key:!0,ref:!0,__self:!0,__source:!0};function Pk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ck.call(e,r)&&!Ak.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ru,type:t,key:s,ref:o,props:i,_owner:Sg.current}}function MC(t,e){return{$$typeof:ru,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===ru}function FC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D_=/\/+/g;function kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FC(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ru:case TC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kf(o,0):r,N_(i)?(n="",t!=null&&(n=t.replace(D_,"$&/")+"/"),Pc(i,e,n,"",function(u){return u})):i!=null&&(Ig(i)&&(i=MC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(D_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",N_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kf(s,a);o+=Pc(s,e,n,l,i)}else if(l=LC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kf(s,a++),o+=Pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hn={current:null},Rc={transition:null},jC={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:Rc,ReactCurrentOwner:Sg};function Rk(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!Ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=sa;Ce.Fragment=SC;Ce.Profiler=CC;Ce.PureComponent=bg;Ce.StrictMode=IC;Ce.Suspense=NC;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jC;Ce.act=Rk;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ck.call(e,l)&&!Ak.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ru,type:t.type,key:i,ref:s,props:r,_owner:o}};Ce.createContext=function(t){return t={$$typeof:PC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};Ce.createElement=Pk;Ce.createFactory=function(t){var e=Pk.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:RC,render:t}};Ce.isValidElement=Ig;Ce.lazy=function(t){return{$$typeof:OC,_payload:{_status:-1,_result:t},_init:VC}};Ce.memo=function(t,e){return{$$typeof:DC,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=Rc.transition;Rc.transition={};try{t()}finally{Rc.transition=e}};Ce.unstable_act=Rk;Ce.useCallback=function(t,e){return hn.current.useCallback(t,e)};Ce.useContext=function(t){return hn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return hn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return hn.current.useEffect(t,e)};Ce.useId=function(){return hn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return hn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return hn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return hn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return hn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return hn.current.useReducer(t,e,n)};Ce.useRef=function(t){return hn.current.useRef(t)};Ce.useState=function(t){return hn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return hn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return hn.current.useTransition()};Ce.version="18.3.1";xk.exports=Ce;var M=xk.exports;const _e=xg(M),O_=bC({__proto__:null,default:_e},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C=M,UC=Symbol.for("react.element"),zC=Symbol.for("react.fragment"),BC=Object.prototype.hasOwnProperty,HC=$C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WC={key:!0,ref:!0,__self:!0,__source:!0};function Nk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BC.call(e,r)&&!WC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:UC,type:t,key:s,ref:o,props:i,_owner:HC.current}}ld.Fragment=zC;ld.jsx=Nk;ld.jsxs=Nk;kk.exports=ld;var E=kk.exports,Op={},Dk={exports:{}},jn={},Ok={exports:{}},Lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,G){var N=$.length;$.push(G);e:for(;0<N;){var X=N-1>>>1,ne=$[X];if(0<i(ne,G))$[X]=G,$[N]=ne,N=X;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var G=$[0],N=$.pop();if(N!==G){$[0]=N;e:for(var X=0,ne=$.length,P=ne>>>1;X<P;){var ge=2*(X+1)-1,Te=$[ge],J=ge+1,re=$[J];if(0>i(Te,N))J<ne&&0>i(re,Te)?($[X]=re,$[J]=N,X=J):($[X]=Te,$[ge]=N,X=ge);else if(J<ne&&0>i(re,N))$[X]=re,$[J]=N,X=J;else break e}}return G}function i($,G){var N=$.sortIndex-G.sortIndex;return N!==0?N:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,y=!1,b=!1,D=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=$)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function O($){if(b=!1,k($),!y)if(n(l)!==null)y=!0,W(V);else{var G=n(u);G!==null&&Z(O,G.startTime-$)}}function V($,G){y=!1,b&&(b=!1,g(x),x=-1),p=!0;var N=f;try{for(k(G),d=n(l);d!==null&&(!(d.expirationTime>G)||$&&!R());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var ne=X(d.expirationTime<=G);G=t.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(l)&&r(l),k(G)}else r(l);d=n(l)}if(d!==null)var P=!0;else{var ge=n(u);ge!==null&&Z(O,ge.startTime-G),P=!1}return P}finally{d=null,f=N,p=!1}}var L=!1,S=null,x=-1,A=5,w=-1;function R(){return!(t.unstable_now()-w<A)}function I(){if(S!==null){var $=t.unstable_now();w=$;var G=!0;try{G=S(!0,$)}finally{G?T():(L=!1,S=null)}}else L=!1}var T;if(typeof _=="function")T=function(){_(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=I,T=function(){F.postMessage(null)}}else T=function(){D(I,0)};function W($){S=$,L||(L=!0,T())}function Z($,G){x=D(function(){$(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,W(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var N=f;f=G;try{return $()}finally{f=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var N=f;f=$;try{return G()}finally{f=N}},t.unstable_scheduleCallback=function($,G,N){var X=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?X+N:X):N=X,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=N+ne,$={id:h++,callback:G,priorityLevel:$,startTime:N,expirationTime:ne,sortIndex:-1},N>X?($.sortIndex=N,e(u,$),n(l)===null&&$===n(u)&&(b?(g(x),x=-1):b=!0,Z(O,N-X))):($.sortIndex=ne,e(l,$),y||p||(y=!0,W(V))),$},t.unstable_shouldYield=R,t.unstable_wrapCallback=function($){var G=f;return function(){var N=f;f=G;try{return $.apply(this,arguments)}finally{f=N}}}})(Lk);Ok.exports=Lk;var qC=Ok.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=M,Vn=qC;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mk=new Set,Sl={};function Qs(t,e){zo(t,e),zo(t+"Capture",e)}function zo(t,e){for(Sl[t]=e,t=0;t<e.length;t++)Mk.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,KC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L_={},M_={};function QC(t){return Lp.call(M_,t)?!0:Lp.call(L_,t)?!1:KC.test(t)?M_[t]=!0:(L_[t]=!0,!1)}function YC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XC(t,e,n,r){if(e===null||typeof e>"u"||YC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cg=/[\-:]([a-z])/g;function Ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);Lt[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);Lt[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cg,Ag);Lt[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pg(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XC(e,n,i,r)&&(n=null),r||i===null?QC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var si=GC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),yo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),Fk=Symbol.for("react.provider"),Vk=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),_i=Symbol.for("react.lazy"),jk=Symbol.for("react.offscreen"),F_=Symbol.iterator;function Aa(t){return t===null||typeof t!="object"?null:(t=F_&&t[F_]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,xf;function $a(t){if(xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xf=e&&e[1]||""}return`
`+xf+t}var bf=!1;function Tf(t,e){if(!t||bf)return"";bf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function JC(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case yo:return"Portal";case Mp:return"Profiler";case Rg:return"StrictMode";case Fp:return"Suspense";case Vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vk:return(t.displayName||"Context")+".Consumer";case Fk:return(t._context.displayName||"Context")+".Provider";case Ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dg:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case _i:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function ZC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $k(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eA(t){var e=$k(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=eA(t))}function Uk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$k(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $p(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zk(t,e){e=e.checked,e!=null&&Pg(t,"checked",e,!1)}function Up(t,e){zk(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,n):e.hasOwnProperty("defaultValue")&&zp(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zp(t,e,n){(e!=="number"||ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Ua(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function Bk(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function U_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,Wk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tA=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){tA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function qk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function Gk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(nA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function Og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kp=null,Ro=null,No=null;function z_(t){if(t=ou(t)){if(typeof Kp!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=fd(e),Kp(t.stateNode,t.type,e))}}function Kk(t){Ro?No?No.push(t):No=[t]:Ro=t}function Qk(){if(Ro){var t=Ro,e=No;if(No=Ro=null,z_(t),e)for(t=0;t<e.length;t++)z_(e[t])}}function Yk(t,e){return t(e)}function Xk(){}var Sf=!1;function Jk(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return Yk(t,e,n)}finally{Sf=!1,(Ro!==null||No!==null)&&(Xk(),Qk())}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var r=fd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Qp=!1;if(Gr)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{Qp=!1}function rA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var tl=!1,lh=null,uh=!1,Yp=null,iA={onError:function(t){tl=!0,lh=t}};function sA(t,e,n,r,i,s,o,a,l){tl=!1,lh=null,rA.apply(iA,arguments)}function oA(t,e,n,r,i,s,o,a,l){if(sA.apply(this,arguments),tl){if(tl){var u=lh;tl=!1,lh=null}else throw Error(Q(198));uh||(uh=!0,Yp=u)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function B_(t){if(Ys(t)!==t)throw Error(Q(188))}function aA(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return B_(i),t;if(s===r)return B_(i),e;s=s.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function ex(t){return t=aA(t),t!==null?tx(t):null}function tx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tx(t);if(e!==null)return e;t=t.sibling}return null}var nx=Vn.unstable_scheduleCallback,H_=Vn.unstable_cancelCallback,lA=Vn.unstable_shouldYield,uA=Vn.unstable_requestPaint,ft=Vn.unstable_now,cA=Vn.unstable_getCurrentPriorityLevel,Lg=Vn.unstable_ImmediatePriority,rx=Vn.unstable_UserBlockingPriority,ch=Vn.unstable_NormalPriority,hA=Vn.unstable_LowPriority,ix=Vn.unstable_IdlePriority,ud=null,_r=null;function dA(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(ud,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:mA,fA=Math.log,pA=Math.LN2;function mA(t){return t>>>=0,t===0?32:31-(fA(t)/pA|0)|0}var tc=64,nc=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=za(a):(s&=o,s!==0&&(r=za(s)))}else o=n&~i,o!==0?r=za(o):s!==0&&(r=za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function gA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=gA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sx(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function vA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Be=0;function ox(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ax,Fg,lx,ux,cx,Jp=!1,rc=[],Fi=null,Vi=null,ji=null,Al=new Map,Pl=new Map,ki=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W_(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function Ra(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ou(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wA(t,e,n,r,i){switch(e){case"focusin":return Fi=Ra(Fi,t,e,n,r,i),!0;case"dragenter":return Vi=Ra(Vi,t,e,n,r,i),!0;case"mouseover":return ji=Ra(ji,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Al.set(s,Ra(Al.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pl.set(s,Ra(Pl.get(s)||null,t,e,n,r,i)),!0}return!1}function hx(t){var e=Ts(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=Zk(n),e!==null){t.blockedOn=e,cx(t.priority,function(){lx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=ou(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function q_(t,e,n){Nc(t)&&n.delete(e)}function EA(){Jp=!1,Fi!==null&&Nc(Fi)&&(Fi=null),Vi!==null&&Nc(Vi)&&(Vi=null),ji!==null&&Nc(ji)&&(ji=null),Al.forEach(q_),Pl.forEach(q_)}function Na(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,EA)))}function Rl(t){function e(i){return Na(i,t)}if(0<rc.length){Na(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fi!==null&&Na(Fi,t),Vi!==null&&Na(Vi,t),ji!==null&&Na(ji,t),Al.forEach(e),Pl.forEach(e),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)hx(n),n.blockedOn===null&&ki.shift()}var Do=si.ReactCurrentBatchConfig,dh=!0;function kA(t,e,n,r){var i=Be,s=Do.transition;Do.transition=null;try{Be=1,Vg(t,e,n,r)}finally{Be=i,Do.transition=s}}function xA(t,e,n,r){var i=Be,s=Do.transition;Do.transition=null;try{Be=4,Vg(t,e,n,r)}finally{Be=i,Do.transition=s}}function Vg(t,e,n,r){if(dh){var i=Zp(t,e,n,r);if(i===null)Ff(t,e,r,fh,n),W_(t,r);else if(wA(i,t,e,n,r))r.stopPropagation();else if(W_(t,r),e&4&&-1<_A.indexOf(t)){for(;i!==null;){var s=ou(i);if(s!==null&&ax(s),s=Zp(t,e,n,r),s===null&&Ff(t,e,r,fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ff(t,e,r,null,n)}}var fh=null;function Zp(t,e,n,r){if(fh=null,t=Og(r),t=Ts(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fh=t,null}function dx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cA()){case Lg:return 1;case rx:return 4;case ch:case hA:return 16;case ix:return 536870912;default:return 16}default:return 16}}var Ri=null,jg=null,Dc=null;function fx(){if(Dc)return Dc;var t,e=jg,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ic(){return!0}function G_(){return!1}function $n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ic:G_,this.isPropagationStopped=G_,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),e}var oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=$n(oa),su=ot({},oa,{view:0,detail:0}),bA=$n(su),Cf,Af,Da,cd=ot({},su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Da&&(Da&&t.type==="mousemove"?(Cf=t.screenX-Da.screenX,Af=t.screenY-Da.screenY):Af=Cf=0,Da=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),K_=$n(cd),TA=ot({},cd,{dataTransfer:0}),SA=$n(TA),IA=ot({},su,{relatedTarget:0}),Pf=$n(IA),CA=ot({},oa,{animationName:0,elapsedTime:0,pseudoElement:0}),AA=$n(CA),PA=ot({},oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RA=$n(PA),NA=ot({},oa,{data:0}),Q_=$n(NA),DA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LA[t])?!!e[t]:!1}function Ug(){return MA}var FA=ot({},su,{key:function(t){if(t.key){var e=DA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VA=$n(FA),jA=ot({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=$n(jA),$A=ot({},su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),UA=$n($A),zA=ot({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),BA=$n(zA),HA=ot({},cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WA=$n(HA),qA=[9,13,27,32],zg=Gr&&"CompositionEvent"in window,nl=null;Gr&&"documentMode"in document&&(nl=document.documentMode);var GA=Gr&&"TextEvent"in window&&!nl,px=Gr&&(!zg||nl&&8<nl&&11>=nl),X_=" ",J_=!1;function mx(t,e){switch(t){case"keyup":return qA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function KA(t,e){switch(t){case"compositionend":return gx(e);case"keypress":return e.which!==32?null:(J_=!0,X_);case"textInput":return t=e.data,t===X_&&J_?null:t;default:return null}}function QA(t,e){if(_o)return t==="compositionend"||!zg&&mx(t,e)?(t=fx(),Dc=jg=Ri=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return px&&e.locale!=="ko"?null:e.data;default:return null}}var YA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YA[t.type]:e==="textarea"}function yx(t,e,n,r){Kk(r),e=ph(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Nl=null;function XA(t){Cx(t,0)}function hd(t){var e=ko(t);if(Uk(e))return t}function JA(t,e){if(t==="change")return e}var vx=!1;if(Gr){var Rf;if(Gr){var Nf="oninput"in document;if(!Nf){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Nf=typeof ew.oninput=="function"}Rf=Nf}else Rf=!1;vx=Rf&&(!document.documentMode||9<document.documentMode)}function tw(){rl&&(rl.detachEvent("onpropertychange",_x),Nl=rl=null)}function _x(t){if(t.propertyName==="value"&&hd(Nl)){var e=[];yx(e,Nl,t,Og(t)),Jk(XA,e)}}function ZA(t,e,n){t==="focusin"?(tw(),rl=e,Nl=n,rl.attachEvent("onpropertychange",_x)):t==="focusout"&&tw()}function eP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hd(Nl)}function tP(t,e){if(t==="click")return hd(e)}function nP(t,e){if(t==="input"||t==="change")return hd(e)}function rP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cr=typeof Object.is=="function"?Object.is:rP;function Dl(t,e){if(cr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lp.call(e,i)||!cr(t[i],e[i]))return!1}return!0}function nw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rw(t,e){var n=nw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nw(n)}}function wx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ex(){for(var t=window,e=ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ah(t.document)}return e}function Bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iP(t){var e=Ex(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wx(n.ownerDocument.documentElement,n)){if(r!==null&&Bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rw(n,s);var o=rw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sP=Gr&&"documentMode"in document&&11>=document.documentMode,wo=null,em=null,il=null,tm=!1;function iw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||wo==null||wo!==ah(r)||(r=wo,"selectionStart"in r&&Bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Dl(il,r)||(il=r,r=ph(em,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Df={},kx={};Gr&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function dd(t){if(Df[t])return Df[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kx)return Df[t]=e[n];return t}var xx=dd("animationend"),bx=dd("animationiteration"),Tx=dd("animationstart"),Sx=dd("transitionend"),Ix=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){Ix.set(t,e),Qs(e,[t])}for(var Of=0;Of<sw.length;Of++){var Lf=sw[Of],oP=Lf.toLowerCase(),aP=Lf[0].toUpperCase()+Lf.slice(1);is(oP,"on"+aP)}is(xx,"onAnimationEnd");is(bx,"onAnimationIteration");is(Tx,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(Sx,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function ow(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oA(r,e,void 0,t),t.currentTarget=null}function Cx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ow(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ow(i,a,u),s=l}}}if(uh)throw t=Yp,uh=!1,Yp=null,t}function Je(t,e){var n=e[om];n===void 0&&(n=e[om]=new Set);var r=t+"__bubble";n.has(r)||(Ax(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),Ax(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[oc]){t[oc]=!0,Mk.forEach(function(n){n!=="selectionchange"&&(lP.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Mf("selectionchange",!1,e))}}function Ax(t,e,n,r){switch(dx(e)){case 1:var i=kA;break;case 4:i=xA;break;default:i=Vg}n=i.bind(null,e,n,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ff(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jk(function(){var u=s,h=Og(n),d=[];e:{var f=Ix.get(t);if(f!==void 0){var p=$g,y=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":p=VA;break;case"focusin":y="focus",p=Pf;break;case"focusout":y="blur",p=Pf;break;case"beforeblur":case"afterblur":p=Pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=K_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=UA;break;case xx:case bx:case Tx:p=AA;break;case Sx:p=BA;break;case"scroll":p=bA;break;case"wheel":p=WA;break;case"copy":case"cut":case"paste":p=RA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Y_}var b=(e&4)!==0,D=!b&&t==="scroll",g=b?f!==null?f+"Capture":null:f;b=[];for(var _=u,k;_!==null;){k=_;var O=k.stateNode;if(k.tag===5&&O!==null&&(k=O,g!==null&&(O=Cl(_,g),O!=null&&b.push(Ll(_,O,k)))),D)break;_=_.return}0<b.length&&(f=new p(f,y,null,n,h),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Gp&&(y=n.relatedTarget||n.fromElement)&&(Ts(y)||y[Kr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Ts(y):null,y!==null&&(D=Ys(y),y!==D||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(b=K_,O="onMouseLeave",g="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=Y_,O="onPointerLeave",g="onPointerEnter",_="pointer"),D=p==null?f:ko(p),k=y==null?f:ko(y),f=new b(O,_+"leave",p,n,h),f.target=D,f.relatedTarget=k,O=null,Ts(h)===u&&(b=new b(g,_+"enter",y,n,h),b.target=k,b.relatedTarget=D,O=b),D=O,p&&y)t:{for(b=p,g=y,_=0,k=b;k;k=ao(k))_++;for(k=0,O=g;O;O=ao(O))k++;for(;0<_-k;)b=ao(b),_--;for(;0<k-_;)g=ao(g),k--;for(;_--;){if(b===g||g!==null&&b===g.alternate)break t;b=ao(b),g=ao(g)}b=null}else b=null;p!==null&&aw(d,f,p,b,!1),y!==null&&D!==null&&aw(d,D,y,b,!0)}}e:{if(f=u?ko(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var V=JA;else if(Z_(f))if(vx)V=nP;else{V=eP;var L=ZA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(V=tP);if(V&&(V=V(t,u))){yx(d,V,n,h);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&zp(f,"number",f.value)}switch(L=u?ko(u):window,t){case"focusin":(Z_(L)||L.contentEditable==="true")&&(wo=L,em=u,il=null);break;case"focusout":il=em=wo=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,iw(d,n,h);break;case"selectionchange":if(sP)break;case"keydown":case"keyup":iw(d,n,h)}var S;if(zg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else _o?mx(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(px&&n.locale!=="ko"&&(_o||x!=="onCompositionStart"?x==="onCompositionEnd"&&_o&&(S=fx()):(Ri=h,jg="value"in Ri?Ri.value:Ri.textContent,_o=!0)),L=ph(u,x),0<L.length&&(x=new Q_(x,t,null,n,h),d.push({event:x,listeners:L}),S?x.data=S:(S=gx(n),S!==null&&(x.data=S)))),(S=GA?KA(t,n):QA(t,n))&&(u=ph(u,"onBeforeInput"),0<u.length&&(h=new Q_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=S))}Cx(d,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cl(t,n),s!=null&&r.unshift(Ll(t,s,i)),s=Cl(t,e),s!=null&&r.push(Ll(t,s,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Cl(n,s),l!=null&&o.unshift(Ll(n,l,a))):i||(l=Cl(n,s),l!=null&&o.push(Ll(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function lw(t){return(typeof t=="string"?t:""+t).replace(uP,`
`).replace(cP,"")}function ac(t,e,n){if(e=lw(e),lw(t)!==e&&n)throw Error(Q(425))}function mh(){}var nm=null,rm=null;function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,uw=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof uw<"u"?function(t){return uw.resolve(null).then(t).catch(fP)}:sm;function fP(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Rl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Rl(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var aa=Math.random().toString(36).slice(2),gr="__reactFiber$"+aa,Ml="__reactProps$"+aa,Kr="__reactContainer$"+aa,om="__reactEvents$"+aa,pP="__reactListeners$"+aa,mP="__reactHandles$"+aa;function Ts(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cw(t);t!==null;){if(n=t[gr])return n;t=cw(t)}return e}t=n,n=t.parentNode}return null}function ou(t){return t=t[gr]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function fd(t){return t[Ml]||null}var am=[],xo=-1;function ss(t){return{current:t}}function et(t){0>xo||(t.current=am[xo],am[xo]=null,xo--)}function Qe(t,e){xo++,am[xo]=t.current,t.current=e}var Zi={},Qt=ss(Zi),_n=ss(!1),Fs=Zi;function Bo(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function gh(){et(_n),et(Qt)}function hw(t,e,n){if(Qt.current!==Zi)throw Error(Q(168));Qe(Qt,e),Qe(_n,n)}function Px(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,ZC(t)||"Unknown",i));return ot({},n,r)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Fs=Qt.current,Qe(Qt,t),Qe(_n,_n.current),!0}function dw(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=Px(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,et(_n),et(Qt),Qe(Qt,t)):et(_n),Qe(_n,n)}var Mr=null,pd=!1,jf=!1;function Rx(t){Mr===null?Mr=[t]:Mr.push(t)}function gP(t){pd=!0,Rx(t)}function os(){if(!jf&&Mr!==null){jf=!0;var t=0,e=Be;try{var n=Mr;for(Be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,pd=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),nx(Lg,os),i}finally{Be=e,jf=!1}}return null}var bo=[],To=0,vh=null,_h=0,Hn=[],Wn=0,Vs=null,jr=1,$r="";function vs(t,e){bo[To++]=_h,bo[To++]=vh,vh=t,_h=e}function Nx(t,e,n){Hn[Wn++]=jr,Hn[Wn++]=$r,Hn[Wn++]=Vs,Vs=t;var r=jr;t=$r;var i=32-or(r)-1;r&=~(1<<i),n+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,jr=1<<32-or(e)+i|n<<i|r,$r=s+t}else jr=1<<s|n<<i|r,$r=t}function Hg(t){t.return!==null&&(vs(t,1),Nx(t,1,0))}function Wg(t){for(;t===vh;)vh=bo[--To],bo[To]=null,_h=bo[--To],bo[To]=null;for(;t===Vs;)Vs=Hn[--Wn],Hn[Wn]=null,$r=Hn[--Wn],Hn[Wn]=null,jr=Hn[--Wn],Hn[Wn]=null}var Ln=null,Dn=null,nt=!1,ir=null;function Dx(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:jr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Dn=null,!0):!1;default:return!1}}function lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function um(t){if(nt){var e=Dn;if(e){var n=e;if(!fw(t,e)){if(lm(t))throw Error(Q(418));e=$i(n.nextSibling);var r=Ln;e&&fw(t,e)?Dx(r,n):(t.flags=t.flags&-4097|2,nt=!1,Ln=t)}}else{if(lm(t))throw Error(Q(418));t.flags=t.flags&-4097|2,nt=!1,Ln=t}}}function pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function lc(t){if(t!==Ln)return!1;if(!nt)return pw(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!im(t.type,t.memoizedProps)),e&&(e=Dn)){if(lm(t))throw Ox(),Error(Q(418));for(;e;)Dx(t,e),e=$i(e.nextSibling)}if(pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Ln?$i(t.stateNode.nextSibling):null;return!0}function Ox(){for(var t=Dn;t;)t=$i(t.nextSibling)}function Ho(){Dn=Ln=null,nt=!1}function qg(t){ir===null?ir=[t]:ir.push(t)}var yP=si.ReactCurrentBatchConfig;function Oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function uc(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mw(t){var e=t._init;return e(t._payload)}function Lx(t){function e(g,_){if(t){var k=g.deletions;k===null?(g.deletions=[_],g.flags|=16):k.push(_)}}function n(g,_){if(!t)return null;for(;_!==null;)e(g,_),_=_.sibling;return null}function r(g,_){for(g=new Map;_!==null;)_.key!==null?g.set(_.key,_):g.set(_.index,_),_=_.sibling;return g}function i(g,_){return g=Hi(g,_),g.index=0,g.sibling=null,g}function s(g,_,k){return g.index=k,t?(k=g.alternate,k!==null?(k=k.index,k<_?(g.flags|=2,_):k):(g.flags|=2,_)):(g.flags|=1048576,_)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,_,k,O){return _===null||_.tag!==6?(_=qf(k,g.mode,O),_.return=g,_):(_=i(_,k),_.return=g,_)}function l(g,_,k,O){var V=k.type;return V===vo?h(g,_,k.props.children,O,k.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_i&&mw(V)===_.type)?(O=i(_,k.props),O.ref=Oa(g,_,k),O.return=g,O):(O=Uc(k.type,k.key,k.props,null,g.mode,O),O.ref=Oa(g,_,k),O.return=g,O)}function u(g,_,k,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=Gf(k,g.mode,O),_.return=g,_):(_=i(_,k.children||[]),_.return=g,_)}function h(g,_,k,O,V){return _===null||_.tag!==7?(_=Os(k,g.mode,O,V),_.return=g,_):(_=i(_,k),_.return=g,_)}function d(g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qf(""+_,g.mode,k),_.return=g,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ju:return k=Uc(_.type,_.key,_.props,null,g.mode,k),k.ref=Oa(g,null,_),k.return=g,k;case yo:return _=Gf(_,g.mode,k),_.return=g,_;case _i:var O=_._init;return d(g,O(_._payload),k)}if(Ua(_)||Aa(_))return _=Os(_,g.mode,k,null),_.return=g,_;uc(g,_)}return null}function f(g,_,k,O){var V=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return V!==null?null:a(g,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ju:return k.key===V?l(g,_,k,O):null;case yo:return k.key===V?u(g,_,k,O):null;case _i:return V=k._init,f(g,_,V(k._payload),O)}if(Ua(k)||Aa(k))return V!==null?null:h(g,_,k,O,null);uc(g,k)}return null}function p(g,_,k,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return g=g.get(k)||null,a(_,g,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ju:return g=g.get(O.key===null?k:O.key)||null,l(_,g,O,V);case yo:return g=g.get(O.key===null?k:O.key)||null,u(_,g,O,V);case _i:var L=O._init;return p(g,_,k,L(O._payload),V)}if(Ua(O)||Aa(O))return g=g.get(k)||null,h(_,g,O,V,null);uc(_,O)}return null}function y(g,_,k,O){for(var V=null,L=null,S=_,x=_=0,A=null;S!==null&&x<k.length;x++){S.index>x?(A=S,S=null):A=S.sibling;var w=f(g,S,k[x],O);if(w===null){S===null&&(S=A);break}t&&S&&w.alternate===null&&e(g,S),_=s(w,_,x),L===null?V=w:L.sibling=w,L=w,S=A}if(x===k.length)return n(g,S),nt&&vs(g,x),V;if(S===null){for(;x<k.length;x++)S=d(g,k[x],O),S!==null&&(_=s(S,_,x),L===null?V=S:L.sibling=S,L=S);return nt&&vs(g,x),V}for(S=r(g,S);x<k.length;x++)A=p(S,g,x,k[x],O),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?x:A.key),_=s(A,_,x),L===null?V=A:L.sibling=A,L=A);return t&&S.forEach(function(R){return e(g,R)}),nt&&vs(g,x),V}function b(g,_,k,O){var V=Aa(k);if(typeof V!="function")throw Error(Q(150));if(k=V.call(k),k==null)throw Error(Q(151));for(var L=V=null,S=_,x=_=0,A=null,w=k.next();S!==null&&!w.done;x++,w=k.next()){S.index>x?(A=S,S=null):A=S.sibling;var R=f(g,S,w.value,O);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(g,S),_=s(R,_,x),L===null?V=R:L.sibling=R,L=R,S=A}if(w.done)return n(g,S),nt&&vs(g,x),V;if(S===null){for(;!w.done;x++,w=k.next())w=d(g,w.value,O),w!==null&&(_=s(w,_,x),L===null?V=w:L.sibling=w,L=w);return nt&&vs(g,x),V}for(S=r(g,S);!w.done;x++,w=k.next())w=p(S,g,x,w.value,O),w!==null&&(t&&w.alternate!==null&&S.delete(w.key===null?x:w.key),_=s(w,_,x),L===null?V=w:L.sibling=w,L=w);return t&&S.forEach(function(I){return e(g,I)}),nt&&vs(g,x),V}function D(g,_,k,O){if(typeof k=="object"&&k!==null&&k.type===vo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ju:e:{for(var V=k.key,L=_;L!==null;){if(L.key===V){if(V=k.type,V===vo){if(L.tag===7){n(g,L.sibling),_=i(L,k.props.children),_.return=g,g=_;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_i&&mw(V)===L.type){n(g,L.sibling),_=i(L,k.props),_.ref=Oa(g,L,k),_.return=g,g=_;break e}n(g,L);break}else e(g,L);L=L.sibling}k.type===vo?(_=Os(k.props.children,g.mode,O,k.key),_.return=g,g=_):(O=Uc(k.type,k.key,k.props,null,g.mode,O),O.ref=Oa(g,_,k),O.return=g,g=O)}return o(g);case yo:e:{for(L=k.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(g,_.sibling),_=i(_,k.children||[]),_.return=g,g=_;break e}else{n(g,_);break}else e(g,_);_=_.sibling}_=Gf(k,g.mode,O),_.return=g,g=_}return o(g);case _i:return L=k._init,D(g,_,L(k._payload),O)}if(Ua(k))return y(g,_,k,O);if(Aa(k))return b(g,_,k,O);uc(g,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(n(g,_.sibling),_=i(_,k),_.return=g,g=_):(n(g,_),_=qf(k,g.mode,O),_.return=g,g=_),o(g)):n(g,_)}return D}var Wo=Lx(!0),Mx=Lx(!1),wh=ss(null),Eh=null,So=null,Gg=null;function Kg(){Gg=So=Eh=null}function Qg(t){var e=wh.current;et(wh),t._currentValue=e}function cm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Eh=t,Gg=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(Eh===null)throw Error(Q(308));So=t,Eh.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var Ss=null;function Yg(t){Ss===null?Ss=[t]:Ss.push(t)}function Fx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wi=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,Yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function Lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}function gw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kh(t,e,n,r){var i=t.updateQueue;wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,b=a;switch(f=e,p=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(p,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,f=typeof y=="function"?y.call(p,d,f):y,f==null)break e;d=ot({},d,f);break e;case 2:wi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=d}}function yw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var au={},wr=ss(au),Fl=ss(au),Vl=ss(au);function Is(t){if(t===au)throw Error(Q(174));return t}function Jg(t,e){switch(Qe(Vl,e),Qe(Fl,t),Qe(wr,au),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}et(wr),Qe(wr,e)}function qo(){et(wr),et(Fl),et(Vl)}function jx(t){Is(Vl.current);var e=Is(wr.current),n=Hp(e,t.type);e!==n&&(Qe(Fl,t),Qe(wr,n))}function Zg(t){Fl.current===t&&(et(wr),et(Fl))}var it=ss(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function ey(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Mc=si.ReactCurrentDispatcher,Uf=si.ReactCurrentBatchConfig,js=0,st=null,Et=null,St=null,bh=!1,sl=!1,jl=0,vP=0;function $t(){throw Error(Q(321))}function ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function ny(t,e,n,r,i,s){if(js=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?kP:xP,t=n(r,i),sl){s=0;do{if(sl=!1,jl=0,25<=s)throw Error(Q(301));s+=1,St=Et=null,e.updateQueue=null,Mc.current=bP,t=n(r,i)}while(sl)}if(Mc.current=Th,e=Et!==null&&Et.next!==null,js=0,St=Et=st=null,bh=!1,e)throw Error(Q(300));return t}function ry(){var t=jl!==0;return jl=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?st.memoizedState=St=t:St=St.next=t,St}function Yn(){if(Et===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=St===null?st.memoizedState:St.next;if(e!==null)St=e,Et=t;else{if(t===null)throw Error(Q(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},St===null?st.memoizedState=St=t:St=St.next=t}return St}function $l(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((js&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,st.lanes|=h,$s|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,cr(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Yn(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);cr(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $x(){}function Ux(t,e){var n=st,r=Yn(),i=e(),s=!cr(r.memoizedState,i);if(s&&(r.memoizedState=i,vn=!0),r=r.queue,iy(Hx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,Ul(9,Bx.bind(null,n,r,i,e),void 0,null),It===null)throw Error(Q(349));js&30||zx(n,e,i)}return i}function zx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bx(t,e,n,r){e.value=n,e.getSnapshot=r,Wx(e)&&qx(t)}function Hx(t,e,n){return n(function(){Wx(e)&&qx(t)})}function Wx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cr(t,n)}catch{return!0}}function qx(t){var e=Qr(t,1);e!==null&&ar(e,t,1,-1)}function vw(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:t},e.queue=t,t=t.dispatch=EP.bind(null,st,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gx(){return Yn().memoizedState}function Fc(t,e,n,r){var i=pr();st.flags|=t,i.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function md(t,e,n,r){var i=Yn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&ty(r,o.deps)){i.memoizedState=Ul(e,n,s,r);return}}st.flags|=t,i.memoizedState=Ul(1|e,n,s,r)}function _w(t,e){return Fc(8390656,8,t,e)}function iy(t,e){return md(2048,8,t,e)}function Kx(t,e){return md(4,2,t,e)}function Qx(t,e){return md(4,4,t,e)}function Yx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xx(t,e,n){return n=n!=null?n.concat([t]):null,md(4,4,Yx.bind(null,e,t),n)}function sy(){}function Jx(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zx(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eb(t,e,n){return js&21?(cr(n,e)||(n=sx(),st.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function _P(t,e){var n=Be;Be=n!==0&&4>n?n:4,t(!0);var r=Uf.transition;Uf.transition={};try{t(!1),e()}finally{Be=n,Uf.transition=r}}function tb(){return Yn().memoizedState}function wP(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nb(t))rb(e,n);else if(n=Fx(t,e,n,r),n!==null){var i=ln();ar(n,t,r,i),ib(n,e,r)}}function EP(t,e,n){var r=Bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nb(t))rb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,cr(a,o)){var l=e.interleaved;l===null?(i.next=i,Yg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Fx(t,e,i,r),n!==null&&(i=ln(),ar(n,t,r,i),ib(n,e,r))}}function nb(t){var e=t.alternate;return t===st||e!==null&&e===st}function rb(t,e){sl=bh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ib(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}var Th={readContext:Qn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},kP={readContext:Qn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:_w,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,Yx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wP.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:vw,useDebugValue:sy,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=vw(!1),e=t[0];return t=_P.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=pr();if(nt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),It===null)throw Error(Q(349));js&30||zx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,_w(Hx.bind(null,r,s,t),[t]),r.flags|=2048,Ul(9,Bx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pr(),e=It.identifierPrefix;if(nt){var n=$r,r=jr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xP={readContext:Qn,useCallback:Jx,useContext:Qn,useEffect:iy,useImperativeHandle:Xx,useInsertionEffect:Kx,useLayoutEffect:Qx,useMemo:Zx,useReducer:zf,useRef:Gx,useState:function(){return zf($l)},useDebugValue:sy,useDeferredValue:function(t){var e=Yn();return eb(e,Et.memoizedState,t)},useTransition:function(){var t=zf($l)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:Ux,useId:tb,unstable_isNewReconciler:!1},bP={readContext:Qn,useCallback:Jx,useContext:Qn,useEffect:iy,useImperativeHandle:Xx,useInsertionEffect:Kx,useLayoutEffect:Qx,useMemo:Zx,useReducer:Bf,useRef:Gx,useState:function(){return Bf($l)},useDebugValue:sy,useDeferredValue:function(t){var e=Yn();return Et===null?e.memoizedState=t:eb(e,Et.memoizedState,t)},useTransition:function(){var t=Bf($l)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:$x,useSyncExternalStore:Ux,useId:tb,unstable_isNewReconciler:!1};function tr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gd={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Bi(t),s=Hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(ar(e,t,i,r),Lc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),i=Bi(t),s=Hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ui(t,s,i),e!==null&&(ar(e,t,i,r),Lc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Bi(t),i=Hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ui(t,i,r),e!==null&&(ar(e,t,r,n),Lc(e,t,r))}};function ww(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function sb(t,e,n){var r=!1,i=Zi,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=wn(e)?Fs:Qt.current,r=e.contextTypes,s=(r=r!=null)?Bo(t,i):Zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ew(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gd.enqueueReplaceState(e,e.state,null)}function dm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=wn(e)?Fs:Qt.current,i.context=Bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gd.enqueueReplaceState(i,i.state,null),kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Go(t,e){try{var n="",r=e;do n+=JC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TP=typeof WeakMap=="function"?WeakMap:Map;function ob(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,xm=r),fm(t,e)},n}function ab(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fm(t,e),typeof r!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jP.bind(null,t,e,n),e.then(t,t))}function xw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Ui(n,e,1))),n.lanes|=1),t)}var SP=si.ReactCurrentOwner,vn=!1;function nn(t,e,n,r){e.child=t===null?Mx(e,null,n,r):Wo(e,t.child,n,r)}function Tw(t,e,n,r,i){n=n.render;var s=e.ref;return Oo(e,i),r=ny(t,e,n,r,s,i),n=ry(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(nt&&n&&Hg(e),e.flags|=1,nn(t,e,r,i),e.child)}function Sw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!fy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lb(t,e,s,r,i)):(t=Uc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Hi(s,r),t.ref=e.ref,t.return=e,e.child=t}function lb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dl(s,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return pm(t,e,n,r,i)}function ub(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(Co,Nn),Nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qe(Co,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qe(Co,Nn),Nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qe(Co,Nn),Nn|=r;return nn(t,e,i,n),e.child}function cb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,n,r,i){var s=wn(n)?Fs:Qt.current;return s=Bo(e,s),Oo(e,i),n=ny(t,e,n,r,s,i),r=ry(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(nt&&r&&Hg(e),e.flags|=1,nn(t,e,n,i),e.child)}function Iw(t,e,n,r,i){if(wn(n)){var s=!0;yh(e)}else s=!1;if(Oo(e,i),e.stateNode===null)Vc(t,e),sb(e,n,r),dm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=wn(n)?Fs:Qt.current,u=Bo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ew(e,o,r,u),wi=!1;var f=e.memoizedState;o.state=f,kh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||_n.current||wi?(typeof h=="function"&&(hm(e,n,h,r),l=e.memoizedState),(a=wi||ww(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tr(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=wn(n)?Fs:Qt.current,l=Bo(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ew(e,o,r,l),wi=!1,f=e.memoizedState,o.state=f,kh(e,r,o,i);var y=e.memoizedState;a!==d||f!==y||_n.current||wi?(typeof p=="function"&&(hm(e,n,p,r),y=e.memoizedState),(u=wi||ww(e,n,u,r,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mm(t,e,n,r,s,i)}function mm(t,e,n,r,i,s){cb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&dw(e,n,!1),Yr(t,e,s);r=e.stateNode,SP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wo(e,t.child,null,s),e.child=Wo(e,null,a,s)):nn(t,e,a,s),e.memoizedState=r.state,i&&dw(e,n,!0),e.child}function hb(t){var e=t.stateNode;e.pendingContext?hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hw(t,e.context,!1),Jg(t,e.containerInfo)}function Cw(t,e,n,r,i){return Ho(),qg(i),e.flags|=256,nn(t,e,n,r),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function db(t,e,n){var r=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qe(it,i&1),t===null)return um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_d(o,r,0,null),t=Os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ym(n),e.memoizedState=gm,t):oy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return IP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hi(a,s):(s=Os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gm,r}return s=t.child,t=s.sibling,r=Hi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oy(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&qg(r),Wo(e,t.child,null,n),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(Q(422))),cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_d({mode:"visible",children:r.children},i,0,null),s=Os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Wo(e,t.child,null,o),e.child.memoizedState=ym(o),e.memoizedState=gm,s);if(!(e.mode&1))return cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Q(419)),r=Hf(s,r,void 0),cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,vn||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),ar(r,t,i,-1))}return dy(),r=Hf(Error(Q(421))),cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$P.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dn=$i(i.nextSibling),Ln=e,nt=!0,ir=null,t!==null&&(Hn[Wn++]=jr,Hn[Wn++]=$r,Hn[Wn++]=Vs,jr=t.id,$r=t.overflow,Vs=e),e=oy(e,r.children),e.flags|=4096,e)}function Aw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cm(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=it.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Aw(t,n,e);else if(t.tag===19)Aw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qe(it,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Hi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CP(t,e,n){switch(e.tag){case 3:hb(e),Ho();break;case 5:jx(e);break;case 1:wn(e.type)&&yh(e);break;case 4:Jg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qe(wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qe(it,it.current&1),e.flags|=128,null):n&e.child.childLanes?db(t,e,n):(Qe(it,it.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);Qe(it,it.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(it,it.current),r)break;return null;case 22:case 23:return e.lanes=0,ub(t,e,n)}return Yr(t,e,n)}var pb,vm,mb,gb;pb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vm=function(){};mb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Is(wr.current);var s=null;switch(n){case"input":i=$p(t,i),r=$p(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=Bp(t,i),r=Bp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mh)}Wp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gb=function(t,e,n,r){n!==r&&(e.flags|=4)};function La(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AP(t,e,n){var r=e.pendingProps;switch(Wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return wn(e.type)&&gh(),Ut(e),null;case 3:return r=e.stateNode,qo(),et(_n),et(Qt),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(Sm(ir),ir=null))),vm(t,e),Ut(e),null;case 5:Zg(e);var i=Is(Vl.current);if(n=e.type,t!==null&&e.stateNode!=null)mb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return Ut(e),null}if(t=Is(wr.current),lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gr]=e,r[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":Je("cancel",r),Je("close",r);break;case"iframe":case"object":case"embed":Je("load",r);break;case"video":case"audio":for(i=0;i<Ba.length;i++)Je(Ba[i],r);break;case"source":Je("error",r);break;case"img":case"image":case"link":Je("error",r),Je("load",r);break;case"details":Je("toggle",r);break;case"input":V_(r,s),Je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Je("invalid",r);break;case"textarea":$_(r,s),Je("invalid",r)}Wp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",""+a]):Sl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",r)}switch(n){case"input":Zu(r),j_(r,s,!0);break;case"textarea":Zu(r),U_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[Ml]=r,pb(t,e,!1,!1),e.stateNode=t;e:{switch(o=qp(n,r),n){case"dialog":Je("cancel",t),Je("close",t),i=r;break;case"iframe":case"object":case"embed":Je("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ba.length;i++)Je(Ba[i],t);i=r;break;case"source":Je("error",t),i=r;break;case"img":case"image":case"link":Je("error",t),Je("load",t),i=r;break;case"details":Je("toggle",t),i=r;break;case"input":V_(t,r),i=$p(t,r),Je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Je("invalid",t);break;case"textarea":$_(t,r),i=Bp(t,r),Je("invalid",t);break;default:i=r}Wp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Gk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Il(t,l):typeof l=="number"&&Il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Je("scroll",t):l!=null&&Pg(t,s,l,o))}switch(n){case"input":Zu(t),j_(t,r,!1);break;case"textarea":Zu(t),U_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Po(t,!!r.multiple,s,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)gb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Is(Vl.current),Is(wr.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Ut(e),null;case 13:if(et(it),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&Dn!==null&&e.mode&1&&!(e.flags&128))Ox(),Ho(),e.flags|=98560,s=!1;else if(s=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[gr]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),s=!1}else ir!==null&&(Sm(ir),ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?kt===0&&(kt=3):dy())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return qo(),vm(t,e),t===null&&Ol(e.stateNode.containerInfo),Ut(e),null;case 10:return Qg(e.type._context),Ut(e),null;case 17:return wn(e.type)&&gh(),Ut(e),null;case 19:if(et(it),s=e.memoizedState,s===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)La(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,La(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qe(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>Ko&&(e.flags|=128,r=!0,La(s,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),La(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nt)return Ut(e),null}else 2*ft()-s.renderingStartTime>Ko&&n!==1073741824&&(e.flags|=128,r=!0,La(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=it.current,Qe(it,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function PP(t,e){switch(Wg(e),e.tag){case 1:return wn(e.type)&&gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qo(),et(_n),et(Qt),ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if(et(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return et(it),null;case 4:return qo(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var hc=!1,Wt=!1,RP=typeof WeakSet=="function"?WeakSet:Set,se=null;function Io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function _m(t,e,n){try{n()}catch(r){ct(t,e,r)}}var Pw=!1;function NP(t,e){if(nm=dh,t=Ex(),Bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:t,selectionRange:n},dh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,D=y.memoizedState,g=e.stateNode,_=g.getSnapshotBeforeUpdate(e.elementType===e.type?b:tr(e.type,b),D);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(O){ct(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return y=Pw,Pw=!1,y}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_m(e,n,s)}i=i.next}while(i!==r)}}function yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yb(t){var e=t.alternate;e!==null&&(t.alternate=null,yb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Ml],delete e[om],delete e[pP],delete e[mP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vb(t){return t.tag===5||t.tag===3||t.tag===4}function Rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(r!==4&&(t=t.child,t!==null))for(Em(t,e,n),t=t.sibling;t!==null;)Em(t,e,n),t=t.sibling}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}var Pt=null,nr=!1;function gi(t,e,n){for(n=n.child;n!==null;)_b(t,e,n),n=n.sibling}function _b(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(ud,n)}catch{}switch(n.tag){case 5:Wt||Io(n,e);case 6:var r=Pt,i=nr;Pt=null,gi(t,e,n),Pt=r,nr=i,Pt!==null&&(nr?(t=Pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pt.removeChild(n.stateNode));break;case 18:Pt!==null&&(nr?(t=Pt,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),Rl(t)):Vf(Pt,n.stateNode));break;case 4:r=Pt,i=nr,Pt=n.stateNode.containerInfo,nr=!0,gi(t,e,n),Pt=r,nr=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_m(n,e,o),i=i.next}while(i!==r)}gi(t,e,n);break;case 1:if(!Wt&&(Io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,gi(t,e,n),Wt=r):gi(t,e,n);break;default:gi(t,e,n)}}function Nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RP),e.forEach(function(r){var i=UP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pt=a.stateNode,nr=!1;break e;case 3:Pt=a.stateNode.containerInfo,nr=!0;break e;case 4:Pt=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(Pt===null)throw Error(Q(160));_b(s,o,i),Pt=null,nr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wb(e,t),e=e.sibling}function wb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zn(e,t),dr(t),r&4){try{ol(3,t,t.return),yd(3,t)}catch(b){ct(t,t.return,b)}try{ol(5,t,t.return)}catch(b){ct(t,t.return,b)}}break;case 1:Zn(e,t),dr(t),r&512&&n!==null&&Io(n,n.return);break;case 5:if(Zn(e,t),dr(t),r&512&&n!==null&&Io(n,n.return),t.flags&32){var i=t.stateNode;try{Il(i,"")}catch(b){ct(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&zk(i,s),qp(a,o);var u=qp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Gk(i,d):h==="dangerouslySetInnerHTML"?Wk(i,d):h==="children"?Il(i,d):Pg(i,h,d,u)}switch(a){case"input":Up(i,s);break;case"textarea":Bk(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Po(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ml]=s}catch(b){ct(t,t.return,b)}}break;case 6:if(Zn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){ct(t,t.return,b)}}break;case 3:if(Zn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Rl(e.containerInfo)}catch(b){ct(t,t.return,b)}break;case 4:Zn(e,t),dr(t);break;case 13:Zn(e,t),dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=ft())),r&4&&Nw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(u=Wt)||h,Zn(e,t),Wt=u):Zn(e,t),dr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(d=se=h;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:ol(4,f,f.return);break;case 1:Io(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){ct(r,n,b)}}break;case 5:Io(f,f.return);break;case 22:if(f.memoizedState!==null){Ow(d);continue}}p!==null?(p.return=f,se=p):Ow(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qk("display",o))}catch(b){ct(t,t.return,b)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){ct(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zn(e,t),dr(t),r&4&&Nw(t);break;case 21:break;default:Zn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vb(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Il(i,""),r.flags&=-33);var s=Rw(t);km(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rw(t);Em(t,a,o);break;default:throw Error(Q(161))}}catch(l){ct(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DP(t,e,n){se=t,Eb(t)}function Eb(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=hc;var u=Wt;if(hc=o,(Wt=l)&&!u)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?Lw(i):l!==null?(l.return=o,se=l):Lw(i);for(;s!==null;)se=s,Eb(s),s=s.sibling;se=i,hc=a,Wt=u}Dw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Dw(t)}}function Dw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||yd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Rl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Wt||e.flags&512&&wm(e)}catch(f){ct(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Ow(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Lw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yd(4,e)}catch(l){ct(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ct(e,i,l)}}var s=e.return;try{wm(e)}catch(l){ct(e,s,l)}break;case 5:var o=e.return;try{wm(e)}catch(l){ct(e,o,l)}}}catch(l){ct(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var OP=Math.ceil,Sh=si.ReactCurrentDispatcher,ay=si.ReactCurrentOwner,Kn=si.ReactCurrentBatchConfig,Fe=0,It=null,_t=null,Dt=0,Nn=0,Co=ss(0),kt=0,zl=null,$s=0,vd=0,ly=0,al=null,mn=null,uy=0,Ko=1/0,Lr=null,Ih=!1,xm=null,zi=null,dc=!1,Ni=null,Ch=0,ll=0,bm=null,jc=-1,$c=0;function ln(){return Fe&6?ft():jc!==-1?jc:jc=ft()}function Bi(t){return t.mode&1?Fe&2&&Dt!==0?Dt&-Dt:yP.transition!==null?($c===0&&($c=sx()),$c):(t=Be,t!==0||(t=window.event,t=t===void 0?16:dx(t.type)),t):1}function ar(t,e,n,r){if(50<ll)throw ll=0,bm=null,Error(Q(185));iu(t,n,r),(!(Fe&2)||t!==It)&&(t===It&&(!(Fe&2)&&(vd|=n),kt===4&&xi(t,Dt)),En(t,r),n===1&&Fe===0&&!(e.mode&1)&&(Ko=ft()+500,pd&&os()))}function En(t,e){var n=t.callbackNode;yA(t,e);var r=hh(t,t===It?Dt:0);if(r===0)n!==null&&H_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H_(n),e===1)t.tag===0?gP(Mw.bind(null,t)):Rx(Mw.bind(null,t)),dP(function(){!(Fe&6)&&os()}),n=null;else{switch(ox(r)){case 1:n=Lg;break;case 4:n=rx;break;case 16:n=ch;break;case 536870912:n=ix;break;default:n=ch}n=Ab(n,kb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function kb(t,e){if(jc=-1,$c=0,Fe&6)throw Error(Q(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=hh(t,t===It?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ah(t,r);else{e=r;var i=Fe;Fe|=2;var s=bb();(It!==t||Dt!==e)&&(Lr=null,Ko=ft()+500,Ds(t,e));do try{FP();break}catch(a){xb(t,a)}while(!0);Kg(),Sh.current=s,Fe=i,_t!==null?e=0:(It=null,Dt=0,e=kt)}if(e!==0){if(e===2&&(i=Xp(t),i!==0&&(r=i,e=Tm(t,i))),e===1)throw n=zl,Ds(t,0),xi(t,r),En(t,ft()),n;if(e===6)xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!LP(i)&&(e=Ah(t,r),e===2&&(s=Xp(t),s!==0&&(r=s,e=Tm(t,s))),e===1))throw n=zl,Ds(t,0),xi(t,r),En(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:_s(t,mn,Lr);break;case 3:if(xi(t,r),(r&130023424)===r&&(e=uy+500-ft(),10<e)){if(hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sm(_s.bind(null,t,mn,Lr),e);break}_s(t,mn,Lr);break;case 4:if(xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OP(r/1960))-r,10<r){t.timeoutHandle=sm(_s.bind(null,t,mn,Lr),r);break}_s(t,mn,Lr);break;case 5:_s(t,mn,Lr);break;default:throw Error(Q(329))}}}return En(t,ft()),t.callbackNode===n?kb.bind(null,t):null}function Tm(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=mn,mn=n,e!==null&&Sm(e)),t}function Sm(t){mn===null?mn=t:mn.push.apply(mn,t)}function LP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!cr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xi(t,e){for(e&=~ly,e&=~vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function Mw(t){if(Fe&6)throw Error(Q(327));Lo();var e=hh(t,0);if(!(e&1))return En(t,ft()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Xp(t);r!==0&&(e=r,n=Tm(t,r))}if(n===1)throw n=zl,Ds(t,0),xi(t,e),En(t,ft()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,mn,Lr),En(t,ft()),null}function cy(t,e){var n=Fe;Fe|=1;try{return t(e)}finally{Fe=n,Fe===0&&(Ko=ft()+500,pd&&os())}}function Us(t){Ni!==null&&Ni.tag===0&&!(Fe&6)&&Lo();var e=Fe;Fe|=1;var n=Kn.transition,r=Be;try{if(Kn.transition=null,Be=1,t)return t()}finally{Be=r,Kn.transition=n,Fe=e,!(Fe&6)&&os()}}function hy(){Nn=Co.current,et(Co)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hP(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gh();break;case 3:qo(),et(_n),et(Qt),ey();break;case 5:Zg(r);break;case 4:qo();break;case 13:et(it);break;case 19:et(it);break;case 10:Qg(r.type._context);break;case 22:case 23:hy()}n=n.return}if(It=t,_t=t=Hi(t.current,null),Dt=Nn=e,kt=0,zl=null,ly=vd=$s=0,mn=al=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ss=null}return t}function xb(t,e){do{var n=_t;try{if(Kg(),Mc.current=Th,bh){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bh=!1}if(js=0,St=Et=st=null,sl=!1,jl=0,ay.current=null,n===null||n.return===null){kt=1,zl=e,_t=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=xw(o);if(p!==null){p.flags&=-257,bw(p,o,a,s,e),p.mode&1&&kw(s,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var b=new Set;b.add(l),e.updateQueue=b}else y.add(l);break e}else{if(!(e&1)){kw(s,u,e),dy();break e}l=Error(Q(426))}}else if(nt&&a.mode&1){var D=xw(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),bw(D,o,a,s,e),qg(Go(l,a));break e}}s=l=Go(l,a),kt!==4&&(kt=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=ob(s,l,e);gw(s,g);break e;case 1:a=l;var _=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(zi===null||!zi.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=ab(s,a,e);gw(s,O);break e}}s=s.return}while(s!==null)}Sb(n)}catch(V){e=V,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function bb(){var t=Sh.current;return Sh.current=Th,t===null?Th:t}function dy(){(kt===0||kt===3||kt===2)&&(kt=4),It===null||!($s&268435455)&&!(vd&268435455)||xi(It,Dt)}function Ah(t,e){var n=Fe;Fe|=2;var r=bb();(It!==t||Dt!==e)&&(Lr=null,Ds(t,e));do try{MP();break}catch(i){xb(t,i)}while(!0);if(Kg(),Fe=n,Sh.current=r,_t!==null)throw Error(Q(261));return It=null,Dt=0,kt}function MP(){for(;_t!==null;)Tb(_t)}function FP(){for(;_t!==null&&!lA();)Tb(_t)}function Tb(t){var e=Cb(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?Sb(t):_t=e,ay.current=null}function Sb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PP(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,_t=null;return}}else if(n=AP(n,e,Nn),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);kt===0&&(kt=5)}function _s(t,e,n){var r=Be,i=Kn.transition;try{Kn.transition=null,Be=1,VP(t,e,n,r)}finally{Kn.transition=i,Be=r}return null}function VP(t,e,n,r){do Lo();while(Ni!==null);if(Fe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vA(t,s),t===It&&(_t=It=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||dc||(dc=!0,Ab(ch,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Kn.transition,Kn.transition=null;var o=Be;Be=1;var a=Fe;Fe|=4,ay.current=null,NP(t,n),wb(n,t),iP(rm),dh=!!nm,rm=nm=null,t.current=n,DP(n),uA(),Fe=a,Be=o,Kn.transition=s}else t.current=n;if(dc&&(dc=!1,Ni=t,Ch=i),s=t.pendingLanes,s===0&&(zi=null),dA(n.stateNode),En(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ih)throw Ih=!1,t=xm,xm=null,t;return Ch&1&&t.tag!==0&&Lo(),s=t.pendingLanes,s&1?t===bm?ll++:(ll=0,bm=t):ll=0,os(),null}function Lo(){if(Ni!==null){var t=ox(Ch),e=Kn.transition,n=Be;try{if(Kn.transition=null,Be=16>t?16:t,Ni===null)var r=!1;else{if(t=Ni,Ni=null,Ch=0,Fe&6)throw Error(Q(331));var i=Fe;for(Fe|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:ol(8,h,s)}var d=h.child;if(d!==null)d.return=h,se=d;else for(;se!==null;){h=se;var f=h.sibling,p=h.return;if(yb(h),h===u){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var D=b.sibling;b.sibling=null,b=D}while(b!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,se=g;break e}se=s.return}}var _=t.current;for(se=_;se!==null;){o=se;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,se=k;else e:for(o=_;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yd(9,a)}}catch(V){ct(a,a.return,V)}if(a===o){se=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,se=O;break e}se=a.return}}if(Fe=i,os(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(ud,t)}catch{}r=!0}return r}finally{Be=n,Kn.transition=e}}return!1}function Fw(t,e,n){e=Go(n,e),e=ob(t,e,1),t=Ui(t,e,1),e=ln(),t!==null&&(iu(t,1,e),En(t,e))}function ct(t,e,n){if(t.tag===3)Fw(t,t,n);else for(;e!==null;){if(e.tag===3){Fw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))){t=Go(n,t),t=ab(e,t,1),e=Ui(e,t,1),t=ln(),e!==null&&(iu(e,1,t),En(e,t));break}}e=e.return}}function jP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Dt&n)===n&&(kt===4||kt===3&&(Dt&130023424)===Dt&&500>ft()-uy?Ds(t,0):ly|=n),En(t,e)}function Ib(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=ln();t=Qr(t,e),t!==null&&(iu(t,e,n),En(t,n))}function $P(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ib(t,n)}function UP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),Ib(t,n)}var Cb;Cb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,CP(t,e,n);vn=!!(t.flags&131072)}else vn=!1,nt&&e.flags&1048576&&Nx(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vc(t,e),t=e.pendingProps;var i=Bo(e,Qt.current);Oo(e,n),i=ny(null,e,r,t,i,n);var s=ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(e),i.updater=gd,e.stateNode=i,i._reactInternals=e,dm(e,r,t,n),e=mm(null,e,r,!0,s,n)):(e.tag=0,nt&&s&&Hg(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BP(r),t=tr(r,t),i){case 0:e=pm(null,e,r,t,n);break e;case 1:e=Iw(null,e,r,t,n);break e;case 11:e=Tw(null,e,r,t,n);break e;case 14:e=Sw(null,e,r,tr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Iw(t,e,r,i,n);case 3:e:{if(hb(e),t===null)throw Error(Q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vx(t,e),kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Go(Error(Q(423)),e),e=Cw(t,e,r,n,i);break e}else if(r!==i){i=Go(Error(Q(424)),e),e=Cw(t,e,r,n,i);break e}else for(Dn=$i(e.stateNode.containerInfo.firstChild),Ln=e,nt=!0,ir=null,n=Mx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ho(),r===i){e=Yr(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return jx(e),t===null&&um(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,im(r,i)?o=null:s!==null&&im(r,s)&&(e.flags|=32),cb(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&um(e),null;case 13:return db(t,e,n);case 4:return Jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wo(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Tw(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qe(wh,r._currentValue),r._currentValue=o,s!==null)if(cr(s.value,o)){if(s.children===i.children&&!_n.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),i=Qn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=tr(r,e.pendingProps),i=tr(r.type,i),Sw(t,e,r,i,n);case 15:return lb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:tr(r,i),Vc(t,e),e.tag=1,wn(r)?(t=!0,yh(e)):t=!1,Oo(e,n),sb(e,r,i),dm(e,r,i,n),mm(null,e,r,!0,t,n);case 19:return fb(t,e,n);case 22:return ub(t,e,n)}throw Error(Q(156,e.tag))};function Ab(t,e){return nx(t,e)}function zP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new zP(t,e,n,r)}function fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BP(t){if(typeof t=="function")return fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ng)return 11;if(t===Dg)return 14}return 2}function Hi(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return Os(n.children,i,s,e);case Rg:o=8,i|=8;break;case Mp:return t=Gn(12,n,e,i|2),t.elementType=Mp,t.lanes=s,t;case Fp:return t=Gn(13,n,e,i),t.elementType=Fp,t.lanes=s,t;case Vp:return t=Gn(19,n,e,i),t.elementType=Vp,t.lanes=s,t;case jk:return _d(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fk:o=10;break e;case Vk:o=9;break e;case Ng:o=11;break e;case Dg:o=14;break e;case _i:o=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Os(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function _d(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=jk,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function Gf(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function py(t,e,n,r,i,s,o,a,l){return t=new HP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(s),t}function WP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Pb(t){if(!t)return Zi;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(wn(n))return Px(t,n,e)}return e}function Rb(t,e,n,r,i,s,o,a,l){return t=py(n,r,!0,t,i,s,o,a,l),t.context=Pb(null),n=t.current,r=ln(),i=Bi(n),s=Hr(r,i),s.callback=e??null,Ui(n,s,i),t.current.lanes=i,iu(t,i,r),En(t,r),t}function wd(t,e,n,r){var i=e.current,s=ln(),o=Bi(i);return n=Pb(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ui(i,e,o),t!==null&&(ar(t,i,o,s),Lc(t,i,o)),o}function Ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function my(t,e){Vw(t,e),(t=t.alternate)&&Vw(t,e)}function qP(){return null}var Nb=typeof reportError=="function"?reportError:function(t){console.error(t)};function gy(t){this._internalRoot=t}Ed.prototype.render=gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));wd(t,e,null,null)};Ed.prototype.unmount=gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){wd(null,t,null,null)}),e[Kr]=null}};function Ed(t){this._internalRoot=t}Ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=ux();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ki.length&&e!==0&&e<ki[n].priority;n++);ki.splice(n,0,t),n===0&&hx(t)}};function yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jw(){}function GP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ph(o);s.call(u)}}var o=Rb(e,r,t,0,null,!1,!1,"",jw);return t._reactRootContainer=o,t[Kr]=o.current,Ol(t.nodeType===8?t.parentNode:t),Us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ph(l);a.call(u)}}var l=py(t,0,!1,null,null,!1,!1,"",jw);return t._reactRootContainer=l,t[Kr]=l.current,Ol(t.nodeType===8?t.parentNode:t),Us(function(){wd(e,l,n,r)}),l}function xd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ph(o);a.call(l)}}wd(e,o,t,i)}else o=GP(n,e,t,i,r);return Ph(o)}ax=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Mg(e,n|1),En(e,ft()),!(Fe&6)&&(Ko=ft()+500,os()))}break;case 13:Us(function(){var r=Qr(t,1);if(r!==null){var i=ln();ar(r,t,1,i)}}),my(t,1)}};Fg=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=ln();ar(e,t,134217728,n)}my(t,134217728)}};lx=function(t){if(t.tag===13){var e=Bi(t),n=Qr(t,e);if(n!==null){var r=ln();ar(n,t,e,r)}my(t,e)}};ux=function(){return Be};cx=function(t,e){var n=Be;try{return Be=t,e()}finally{Be=n}};Kp=function(t,e,n){switch(e){case"input":if(Up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fd(r);if(!i)throw Error(Q(90));Uk(r),Up(r,i)}}}break;case"textarea":Bk(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};Yk=cy;Xk=Us;var KP={usingClientEntryPoint:!1,Events:[ou,ko,fd,Kk,Qk,cy]},Ma={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QP={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ex(t),t===null?null:t.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||qP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ud=fc.inject(QP),_r=fc}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(e))throw Error(Q(200));return WP(t,e,null,n)};jn.createRoot=function(t,e){if(!yy(t))throw Error(Q(299));var n=!1,r="",i=Nb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=py(t,1,!1,null,null,n,!1,r,i),t[Kr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new gy(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=ex(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Us(t)};jn.hydrate=function(t,e,n){if(!kd(e))throw Error(Q(200));return xd(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!yy(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Nb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Rb(e,null,t,1,n??null,i,!1,s,o),t[Kr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ed(e)};jn.render=function(t,e,n){if(!kd(e))throw Error(Q(200));return xd(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(Q(40));return t._reactRootContainer?(Us(function(){xd(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};jn.unstable_batchedUpdates=cy;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kd(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return xd(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function Db(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Db)}catch(t){console.error(t)}}Db(),Dk.exports=jn;var Ob=Dk.exports,$w=Ob;Op.createRoot=$w.createRoot,Op.hydrateRoot=$w.hydrateRoot;const YP={apiKey:"AIzaSyDMge0ZVBwCHb6tzmdIv5dD_BMrtfu_P_I",authDomain:"swim-meet-app.firebaseapp.com",projectId:"swim-meet-app",storageBucket:"swim-meet-app.firebasestorage.app",messagingSenderId:"869827349699",appId:"1:869827349699:web:26b08aeece866760cbe676"},Rh={"jonny5v@gmail.com":"SUPERADMIN","admin@westgatecc.com":"WCC","admin@ponchatrainrc.com":"PRC","admin@barracudaswim.org":"BARR","admin@example.com":"KLR"},zc=["Girls 6 & Under 25m Freestyle","Boys 6 & Under 25m Freestyle","Girls 7-8 25m Freestyle","Boys 7-8 25m Freestyle","Girls 9-10 50m Freestyle","Boys 9-10 50m Freestyle","Girls 11-12 50m Freestyle","Boys 11-12 50m Freestyle","Girls 13-14 50m Freestyle","Boys 13-14 50m Freestyle","Girls 15-17 50m Freestyle","Boys 15-17 50m Freestyle","Girls 9-10 100m Freestyle","Boys 9-10 100m Freestyle","Girls 11-12 100m Freestyle","Boys 11-12 100m Freestyle","Girls 13-14 100m Freestyle","Boys 13-14 100m Freestyle","Girls 15-17 100m Freestyle","Boys 15-17 100m Freestyle","Girls 11-12 200m Freestyle","Boys 11-12 200m Freestyle","Girls 13-14 200m Freestyle","Boys 13-14 200m Freestyle","Girls 15-17 200m Freestyle","Boys 15-17 200m Freestyle","Girls 6 & Under 25m Backstroke","Boys 6 & Under 25m Backstroke","Girls 7-8 25m Backstroke","Boys 7-8 25m Backstroke","Girls 9-10 50m Backstroke","Boys 9-10 50m Backstroke","Girls 11-12 50m Backstroke","Boys 11-12 50m Backstroke","Girls 13-14 100m Backstroke","Boys 13-14 100m Backstroke","Girls 15-17 100m Backstroke","Boys 15-17 100m Backstroke","Girls 7-8 25m Breaststroke","Boys 7-8 25m Breaststroke","Girls 9-10 50m Breaststroke","Boys 9-10 50m Breaststroke","Girls 11-12 50m Breaststroke","Boys 11-12 50m Breaststroke","Girls 13-14 100m Breaststroke","Boys 13-14 100m Breaststroke","Girls 15-17 100m Breaststroke","Boys 15-17 100m Breaststroke","Girls 7-8 25m Butterfly","Boys 7-8 25m Butterfly","Girls 9-10 50m Butterfly","Boys 9-10 50m Butterfly","Girls 11-12 50m Butterfly","Boys 11-12 50m Butterfly","Girls 13-14 100m Butterfly","Boys 13-14 100m Butterfly","Girls 15-17 100m Butterfly","Boys 15-17 100m Butterfly","Girls 9-10 100m IM","Boys 9-10 100m IM","Girls 11-12 100m IM","Boys 11-12 100m IM","Girls 13-14 200m IM","Boys 13-14 200m IM","Girls 15-17 200m IM","Boys 15-17 200m IM"];let XP={data:""},JP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||XP,ZP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eR=/\/\*[^]*?\*\/|  +/g,Uw=/\n+/g,bi=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?bi(o,s):s+"{"+bi(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=bi(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=bi.p?bi.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Or={},Lb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Lb(t[n]);return e}return t},tR=(t,e,n,r,i)=>{let s=Lb(t),o=Or[s]||(Or[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!Or[o]){let l=s!==t?t:(u=>{let h,d,f=[{}];for(;h=ZP.exec(u.replace(eR,""));)h[4]?f.shift():h[3]?(d=h[3].replace(Uw," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(Uw," ").trim();return f[0]})(t);Or[o]=bi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Or.g?Or.g:null;return n&&(Or.g=Or[o]),((l,u,h,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(Or[o],e,r,a),o},nR=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":bi(a,""):a===!1?"":a}return r+i+(o??"")},"");function bd(t){let e=this||{},n=t.call?t(e.p):t;return tR(n.unshift?n.raw?nR(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,JP(e.target),e.g,e.o,e.k)}let Mb,Im,Cm;bd.bind({g:1});let Xr=bd.bind({k:1});function rR(t,e,n,r){bi.p=e,Mb=t,Im=n,Cm=r}function as(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Im&&Im()},a),n.o=/ *go\d+/.test(l),a.className=bd.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Cm&&u[0]&&Cm(a),Mb(u,a)}return i}}var iR=t=>typeof t=="function",Nh=(t,e)=>iR(t)?t(e):t,sR=(()=>{let t=0;return()=>(++t).toString()})(),Fb=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),oR=20,Vb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,oR)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Vb(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Bc=[],Cs={toasts:[],pausedAt:void 0},Xs=t=>{Cs=Vb(Cs,t),Bc.forEach(e=>{e(Cs)})},aR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lR=(t={})=>{let[e,n]=M.useState(Cs),r=M.useRef(Cs);M.useEffect(()=>(r.current!==Cs&&n(Cs),Bc.push(n),()=>{let s=Bc.indexOf(n);s>-1&&Bc.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||aR[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},uR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||sR()}),lu=t=>(e,n)=>{let r=uR(e,t,n);return Xs({type:2,toast:r}),r.id},rn=(t,e)=>lu("blank")(t,e);rn.error=lu("error");rn.success=lu("success");rn.loading=lu("loading");rn.custom=lu("custom");rn.dismiss=t=>{Xs({type:3,toastId:t})};rn.remove=t=>Xs({type:4,toastId:t});rn.promise=(t,e,n)=>{let r=rn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Nh(e.success,i):void 0;return s?rn.success(s,{id:r,...n,...n==null?void 0:n.success}):rn.dismiss(r),i}).catch(i=>{let s=e.error?Nh(e.error,i):void 0;s?rn.error(s,{id:r,...n,...n==null?void 0:n.error}):rn.dismiss(r)}),t};var cR=(t,e)=>{Xs({type:1,toast:{id:t,height:e}})},hR=()=>{Xs({type:5,time:Date.now()})},ul=new Map,dR=1e3,fR=(t,e=dR)=>{if(ul.has(t))return;let n=setTimeout(()=>{ul.delete(t),Xs({type:4,toastId:t})},e);ul.set(t,n)},pR=t=>{let{toasts:e,pausedAt:n}=lR(t);M.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&rn.dismiss(a.id);return}return setTimeout(()=>rn.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=M.useCallback(()=>{n&&Xs({type:6,time:Date.now()})},[n]),i=M.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},h=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),d=h.findIndex(p=>p.id===s.id),f=h.filter((p,y)=>y<d&&p.visible).length;return h.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,y)=>p+(y.height||0)+l,0)},[e]);return M.useEffect(()=>{e.forEach(s=>{if(s.dismissed)fR(s.id,s.removeDelay);else{let o=ul.get(s.id);o&&(clearTimeout(o),ul.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:cR,startPause:hR,endPause:r,calculateOffset:i}}},mR=Xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gR=Xr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yR=Xr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vR=as("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_R=Xr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wR=as("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_R} 1s linear infinite;
`,ER=Xr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kR=Xr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xR=as("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ER} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bR=as("div")`
  position: absolute;
`,TR=as("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SR=Xr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IR=as("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CR=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?M.createElement(IR,null,e):e:n==="blank"?null:M.createElement(TR,null,M.createElement(wR,{...r}),n!=="loading"&&M.createElement(bR,null,n==="error"?M.createElement(vR,{...r}):M.createElement(xR,{...r})))},AR=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,RR="0%{opacity:0;} 100%{opacity:1;}",NR="0%{opacity:1;} 100%{opacity:0;}",DR=as("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,OR=as("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LR=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Fb()?[RR,NR]:[AR(n),PR(n)];return{animation:e?`${Xr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xr(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},MR=M.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?LR(t.position||e||"top-center",t.visible):{opacity:0},s=M.createElement(CR,{toast:t}),o=M.createElement(OR,{...t.ariaProps},Nh(t.message,t));return M.createElement(DR,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):M.createElement(M.Fragment,null,s,o))});rR(M.createElement);var FR=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=M.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return M.createElement("div",{ref:s,className:e,style:n},i)},VR=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Fb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},jR=bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pc=16,$R=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=pR(n);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:pc,left:pc,right:pc,bottom:pc,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let h=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),f=VR(h,d);return M.createElement(FR,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?jR:"",style:f},u.type==="custom"?Nh(u.message,u):i?i(u):M.createElement(MR,{toast:u,position:h}))}))},jb={exports:{}};(function(t,e){(function(n,r){t.exports=r(M)})(typeof self<"u"?self:Tl,function(n){return function(){var r={155:function(g){g.exports=n}},i={};function s(g){var _=i[g];if(_!==void 0)return _.exports;var k=i[g]={exports:{}};return r[g](k,k.exports,s),k.exports}s.d=function(g,_){for(var k in _)s.o(_,k)&&!s.o(g,k)&&Object.defineProperty(g,k,{enumerable:!0,get:_[k]})},s.o=function(g,_){return Object.prototype.hasOwnProperty.call(g,_)},s.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var o={};s.r(o),s.d(o,{useReactToPrint:function(){return D}});var a=s(155);function l({level:g="error",messages:_,suppressErrors:k=!1}){k||(g==="error"?console.error(_):g==="warning"?console.warn(_):console.debug(_))}function u(g,_){if(_||!g){const k=document.getElementById("printWindow");k&&document.body.removeChild(k)}}function h(g){return g instanceof Error?g:new Error("Unknown Error")}function d(g,_){const{documentTitle:k,onAfterPrint:O,onPrintError:V,preserveAfterPrint:L,print:S,suppressErrors:x}=_;setTimeout(()=>{var A,w;if(g.contentWindow){let I=function(){O==null||O(),u(L)};var R=I;if(g.contentWindow.focus(),S)S(g).then(I).catch(T=>{V?V("print",h(T)):l({messages:["An error was thrown by the specified `print` function"],suppressErrors:x})});else{if(g.contentWindow.print){const T=(w=(A=g.contentDocument)===null||A===void 0?void 0:A.title)!==null&&w!==void 0?w:"",H=g.ownerDocument.title;k&&(g.ownerDocument.title=k,g.contentDocument&&(g.contentDocument.title=k)),g.contentWindow.print(),k&&(g.ownerDocument.title=H,g.contentDocument&&(g.contentDocument.title=T))}else l({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:x});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(T=>{var H,F;return((F=(H=navigator.userAgent)!==null&&H!==void 0?H:navigator.vendor)!==null&&F!==void 0?F:"opera"in window&&window.opera).match(T)})?setTimeout(I,500):I()}}else l({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:x})},500)}function f(g){const _=[],k=document.createTreeWalker(g,NodeFilter.SHOW_ELEMENT,null);let O=k.nextNode();for(;O;)_.push(O),O=k.nextNode();return _}function p(g,_,k){const O=f(g),V=f(_);if(O.length===V.length)for(let L=0;L<O.length;L++){const S=O[L],x=V[L],A=S.shadowRoot;if(A!==null){const w=x.attachShadow({mode:A.mode});w.innerHTML=A.innerHTML,p(A,w,k)}}else l({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",g,_],suppressErrors:k})}const y=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(g,_,k,O){var V,L,S,x,A;const{contentNode:w,clonedContentNode:R,clonedImgNodes:I,clonedVideoNodes:T,numResourcesToLoad:H,originalCanvasNodes:F}=k,{bodyClass:W,fonts:Z,ignoreGlobalStyles:$,pageStyle:G,nonce:N,suppressErrors:X,copyShadowRoots:ne}=O;g.onload=null;const P=(V=g.contentDocument)!==null&&V!==void 0?V:(L=g.contentWindow)===null||L===void 0?void 0:L.document;if(P){const ge=P.body.appendChild(R);ne&&p(w,ge,!!X),Z&&(!((S=g.contentDocument)===null||S===void 0)&&S.fonts&&(!((x=g.contentWindow)===null||x===void 0)&&x.FontFace)?Z.forEach(ae=>{const ue=new FontFace(ae.family,ae.source,{weight:ae.weight,style:ae.style});g.contentDocument.fonts.add(ue),ue.loaded.then(()=>{_(ue)}).catch(ze=>{_(ue,["Failed loading the font:",ue,"Load error:",h(ze)])})}):(Z.forEach(ae=>{_(ae)}),l({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:X})));const Te=G??y,J=P.createElement("style");N&&(J.setAttribute("nonce",N),P.head.setAttribute("nonce",N)),J.appendChild(P.createTextNode(Te)),P.head.appendChild(J),W&&P.body.classList.add(...W.split(" "));const re=P.querySelectorAll("canvas");for(let ae=0;ae<F.length;++ae){const ue=F[ae],ze=re[ae];if(ze===void 0){l({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ue],suppressErrors:X});continue}const Ae=ze.getContext("2d");Ae&&Ae.drawImage(ue,0,0)}for(let ae=0;ae<I.length;ae++){const ue=I[ae],ze=ue.getAttribute("src");if(ze){const Ae=new Image;Ae.onload=()=>{_(ue)},Ae.onerror=(Ye,bt,bn,Ft,Jt)=>{_(ue,["Error loading <img>",ue,"Error",Jt])},Ae.src=ze}else _(ue,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ue])}for(let ae=0;ae<T.length;ae++){const ue=T[ae];ue.preload="auto";const ze=ue.getAttribute("poster");if(ze){const Ae=new Image;Ae.onload=()=>{_(ue)},Ae.onerror=(Ye,bt,bn,Ft,Jt)=>{_(ue,["Error loading video poster",ze,"for video",ue,"Error:",Jt])},Ae.src=ze}else ue.readyState>=2?_(ue):ue.src?(ue.onloadeddata=()=>{_(ue)},ue.onerror=(Ae,Ye,bt,bn,Ft)=>{_(ue,["Error loading video",ue,"Error",Ft])},ue.onstalled=()=>{_(ue,["Loading video stalled, skipping",ue])}):_(ue,["Error loading video, `src` is empty",ue])}const ie="select",we=w.querySelectorAll(ie),Me=P.querySelectorAll(ie);for(let ae=0;ae<we.length;ae++)Me[ae].value=we[ae].value;if(!$){const ae=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ue=0,ze=ae.length;ue<ze;++ue){const Ae=ae[ue];if(Ae.tagName.toLowerCase()==="style"){const Ye=P.createElement(Ae.tagName),bt=Ae.sheet;if(bt){let bn="";try{const Ft=bt.cssRules.length;for(let Jt=0;Jt<Ft;++Jt)typeof bt.cssRules[Jt].cssText=="string"&&(bn+=`${bt.cssRules[Jt].cssText}\r
`)}catch(Ft){l({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ae,`Original error: ${h(Ft).message}`],level:"warning"})}Ye.setAttribute("id",`react-to-print-${ue}`),N&&Ye.setAttribute("nonce",N),Ye.appendChild(P.createTextNode(bn)),P.head.appendChild(Ye)}}else if(Ae.getAttribute("href"))if(Ae.hasAttribute("disabled"))l({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ae],level:"warning"}),_(Ae);else{const Ye=P.createElement(Ae.tagName);for(let bt=0,bn=Ae.attributes.length;bt<bn;++bt){const Ft=Ae.attributes[bt];Ft&&Ye.setAttribute(Ft.nodeName,(A=Ft.nodeValue)!==null&&A!==void 0?A:"")}Ye.onload=()=>{_(Ye)},Ye.onerror=(bt,bn,Ft,Jt,ci)=>{_(Ye,["Failed to load",Ye,"Error:",ci])},N&&Ye.setAttribute("nonce",N),P.head.appendChild(Ye)}else l({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ae],level:"warning"}),_(Ae)}}}H===0&&d(g,O)}function D({bodyClass:g,contentRef:_,copyShadowRoots:k,documentTitle:O,fonts:V,ignoreGlobalStyles:L,nonce:S,onAfterPrint:x,onBeforePrint:A,onPrintError:w,pageStyle:R,preserveAfterPrint:I,print:T,suppressErrors:H}){return(0,a.useCallback)(F=>{function W(){const Z={bodyClass:g,contentRef:_,copyShadowRoots:k,documentTitle:O,fonts:V,ignoreGlobalStyles:L,nonce:S,onAfterPrint:x,onPrintError:w,pageStyle:R,preserveAfterPrint:I,print:T,suppressErrors:H},$=function(){const X=document.createElement("iframe");return X.width=`${document.documentElement.clientWidth}px`,X.height=`${document.documentElement.clientHeight}px`,X.style.position="absolute",X.style.top=`-${document.documentElement.clientHeight+100}px`,X.style.left=`-${document.documentElement.clientWidth+100}px`,X.id="printWindow",X.srcdoc="<!DOCTYPE html>",X}(),G=function(X,ne){const{contentRef:P,fonts:ge,ignoreGlobalStyles:Te,suppressErrors:J}=ne,re=function({contentRef:ze,optionalContent:Ae,suppressErrors:Ye}){return!Ae||Ae instanceof Event||(ze&&l({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof Ae!="function")?ze?ze.current:void l({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Ye}):Ae()}({contentRef:P,optionalContent:X,suppressErrors:J});if(!re)return;const ie=re.cloneNode(!0),we=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Me=ie.querySelectorAll("img"),ae=ie.querySelectorAll("video"),ue=ge?ge.length:0;return{contentNode:re,clonedContentNode:ie,clonedImgNodes:Me,clonedVideoNodes:ae,numResourcesToLoad:(Te?0:we.length)+Me.length+ae.length+ue,originalCanvasNodes:re.querySelectorAll("canvas")}}(F,Z);if(!G)return void l({messages:["There is nothing to print"],suppressErrors:H});const N=function(X,ne,P){const{suppressErrors:ge}=X,Te=[],J=[];return function(re,ie){Te.includes(re)?l({level:"debug",messages:["Tried to mark a resource that has already been handled",re],suppressErrors:ge}):(ie?(l({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...ie],suppressErrors:ge}),J.push(re)):Te.push(re),Te.length+J.length===ne&&d(P,X))}}(Z,G.numResourcesToLoad,$);(function(X,ne,P,ge){X.onload=()=>{b(X,ne,P,ge)},document.body.appendChild(X)})($,N,G,Z)}u(I,!0),A?A().then(()=>{W()}).catch(Z=>{w==null||w("onBeforePrint",h(Z))}):W()},[g,_,k,O,V,L,S,x,A,w,R,I,T,H])}return o}()})})(jb);var UR=jb.exports;const Ue=({name:t,type:e="fas",...n})=>E.jsx("i",{className:`${e} fa-${t}`,"aria-hidden":"true",...n}),zR="modulepreload",BR=function(t){return"/swim-meet-app/"+t},zw={},HR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=BR(l),l in zw)return;zw[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":zR,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function WR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(d=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(a=await HR(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/swim-meet-app/sw.js",{scope:"/swim-meet-app/",type:"classic"})).catch(d=>{o==null||o(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),a.register({immediate:e}).then(d=>{s?s("/swim-meet-app/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return l=h(),u}function qR(){return M.useEffect(()=>{const t=WR({onNeedRefresh(){confirm("New content is available, do you want to reload?")&&t(!0)},onOfflineReady(){console.log("App is ready to work offline")}})},[]),null}function $b({event:t,favorites:e,currentEvent:n,toggleFavorite:r}){const i=(t.heats||[]).some(a=>a.lanes.some(l=>e.has(l.id))),s=n.isTracking&&t.eventNumber===n.eventNumber,o=["bg-surface-light dark:bg-surface-dark rounded-lg mb-3 border border-border-light dark:border-border-dark overflow-hidden transition-all",i?"border-l-4 border-l-secondary":"",s?"border-2 border-primary dark:border-primary-light scale-[1.02]":""].join(" ");return E.jsxs("div",{className:o,children:[E.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark font-bold",children:["Event ",t.eventNumber,": ",t.name]}),E.jsx("div",{className:"p-4 space-y-4",children:t.heats&&t.heats.length>0?t.heats.map(a=>E.jsxs("div",{className:`p-3 rounded-lg ${s&&a.heatNumber===n.heatNumber?"bg-primary/10 dark:bg-primary/20":""}`,children:[E.jsxs("h6",{className:"mb-2 font-semibold text-gray-600 dark:text-gray-400",children:["Heat ",a.heatNumber]}),E.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark -m-3",children:a.lanes.map(l=>E.jsxs("li",{className:"p-3 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("strong",{className:"font-semibold",children:["Lane ",l.lane,":"]})," ",`${l.firstName} ${l.lastName}`," ",E.jsxs("span",{className:"text-gray-500",children:["(",l.team,")"]})]}),E.jsx("button",{className:"p-2 -m-2",onClick:()=>r(l.id),"aria-label":`Toggle favorite for ${l.firstName} ${l.lastName}`,children:E.jsx("div",{className:`${e.has(l.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:E.jsx(Ue,{name:"star",type:e.has(l.id)?"fas":"far"})})})]},l.id))})]},a.heatNumber)):E.jsx("p",{className:"text-center text-gray-500",children:"No heats or swimmers for this event yet."})})]})}function Bw({events:t,favorites:e,currentEvent:n,toggleFavorite:r,adminRole:i,updateMeetStatus:s}){if(!t||t.length===0)return E.jsx("p",{className:"text-center text-gray-500",children:"No events found for this meet."});const o=()=>{const u=Math.min(t.length,n.eventNumber+1);s({eventNumber:u,heatNumber:1})},a=()=>{const u=Math.max(1,n.eventNumber-1);s({eventNumber:u,heatNumber:1})},l=()=>{s({isTracking:!n.isTracking})};return E.jsxs("div",{children:[i&&E.jsxs("div",{className:"sticky top-0 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-sm z-10 p-2 rounded-lg border border-border-light dark:border-border-dark mb-4 flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:a,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Previous Event",children:E.jsx(Ue,{name:"backward-step"})}),E.jsx("div",{className:"text-center",children:E.jsxs("div",{className:"font-semibold text-sm",children:["Event ",n.eventNumber]})}),E.jsx("button",{onClick:o,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Next Event",children:E.jsx(Ue,{name:"forward-step"})})]}),E.jsx("button",{onClick:l,className:`py-2 px-3 rounded-md font-semibold text-xs flex-shrink-0 ${n.isTracking?"bg-yellow-500 text-black":"bg-blue-600 text-white"}`,children:n.isTracking?"Stop Tracking":"Start Tracking"})]}),n.isTracking&&!i&&E.jsxs("div",{className:"bg-primary text-white p-3 rounded-lg mb-4 shadow-md text-center",children:[E.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Now Swimming"}),E.jsxs("div",{className:"text-lg mt-1 font-semibold",children:["Event #",n.eventNumber]})]}),t.map(u=>E.jsx($b,{event:u,favorites:e,currentEvent:n,toggleFavorite:r},u.id))]})}function GR({search:t,setSearch:e,results:n,favorites:r,currentEvent:i,toggleFavorite:s}){return E.jsxs("div",{children:[E.jsx("label",{htmlFor:"event-search-input",className:"sr-only",children:"Search by event name or number"}),E.jsx("input",{id:"event-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search by event name or number...",value:t,onChange:o=>e(o.target.value)}),t&&n.length===0&&E.jsx("p",{className:"text-center text-gray-500",children:"No events found."}),n.map(o=>E.jsx($b,{event:o,favorites:r,currentEvent:i,toggleFavorite:s},o.id))]})}function KR({search:t,setSearch:e,results:n,favorites:r,toggleFavorite:i}){return E.jsxs("div",{children:[E.jsx("label",{htmlFor:"swimmer-search-input",className:"sr-only",children:"Search for a swimmer"}),E.jsx("input",{id:"swimmer-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search for a swimmer...",value:t,onChange:s=>e(s.target.value)}),t&&n.length===0&&E.jsx("p",{className:"text-center text-gray-500",children:"No swimmers found."}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md overflow-hidden border border-border-light dark:border-border-dark",children:E.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:n.map(s=>E.jsxs("li",{className:"p-4 flex justify-between items-center",children:[E.jsxs("div",{className:"mr-auto font-bold",children:[s.name," (",s.team,")"]}),E.jsx("button",{className:"p-2 -m-2",onClick:()=>i(s.id),"aria-label":`Toggle favorite for ${s.name}`,children:E.jsx("div",{className:`${r.has(s.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:E.jsx(Ue,{name:"star",type:r.has(s.id)?"fas":"far"})})})]},s.id))})})]})}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Hw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hw(Object(n),!0).forEach(function(r){QR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hc=function(e){return typeof e}:Hc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function QR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jr(){return Jr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jr.apply(this,arguments)}function YR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XR(t,e){if(t==null)return{};var n=YR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var JR="1.15.6";function Wr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var oi=Wr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),uu=Wr(/Edge/i),Ww=Wr(/firefox/i),cl=Wr(/safari/i)&&!Wr(/chrome/i)&&!Wr(/android/i),vy=Wr(/iP(ad|od|hone)/i),Ub=Wr(/chrome/i)&&Wr(/android/i),zb={capture:!1,passive:!1};function Ne(t,e,n){t.addEventListener(e,n,!oi&&zb)}function Pe(t,e,n){t.removeEventListener(e,n,!oi&&zb)}function Dh(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Bb(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function rr(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Dh(t,e):Dh(t,e))||r&&t===n)return t;if(t===n)break}while(t=Bb(t))}return null}var qw=/\s+/g;function An(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(qw," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(qw," ")}}function pe(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Mo(t,e){var n="";if(typeof t=="string")n=t;else do{var r=pe(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Hb(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Er(){var t=document.scrollingElement;return t||document.documentElement}function vt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,h,d;if(t!==window&&t.parentNode&&t!==Er()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,h=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!oi))do if(i&&i.getBoundingClientRect&&(pe(i,"transform")!=="none"||n&&pe(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(pe(i,"border-top-width")),a-=f.left+parseInt(pe(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=Mo(i||t),y=p&&p.a,b=p&&p.d;p&&(o/=b,a/=y,d/=y,h/=b,l=o+h,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:h}}}function Gw(t,e,n){for(var r=Di(t,!0),i=vt(t)[e];r;){var s=vt(r)[n],o=void 0;if(o=i>=s,!o)return r;if(r===Er())break;r=Di(r,!1)}return!1}function Qo(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==me.ghost&&(r||o[s]!==me.dragged)&&rr(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function _y(t,e){for(var n=t.lastElementChild;n&&(n===me.ghost||pe(n,"display")==="none"||e&&!Dh(n,e));)n=n.previousElementSibling;return n||null}function Bn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==me.clone&&(!e||Dh(t,e))&&n++;return n}function Kw(t){var e=0,n=0,r=Er();if(t)do{var i=Mo(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function ZR(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Di(t,e){if(!t||!t.getBoundingClientRect)return Er();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=pe(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Er();if(r||e)return n;r=!0}}while(n=n.parentNode);return Er()}function eN(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Kf(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var hl;function Wb(t,e){return function(){if(!hl){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),hl=setTimeout(function(){hl=void 0},e)}}}function tN(){clearTimeout(hl),hl=void 0}function qb(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Gb(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Kb(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,o,a,l;if(!(!rr(i,e.draggable,t,!1)||i.animated||i===n)){var u=vt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,u.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var gn="Sortable"+new Date().getTime();function nN(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(pe(i,"display")==="none"||i===me.ghost)){t.push({target:i,rect:vt(i)});var s=Sr({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Mo(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(ZR(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,h=u.fromRect,d=vt(u),f=u.prevFromRect,p=u.prevToRect,y=a.rect,b=Mo(u,!0);b&&(d.top-=b.f,d.left-=b.e),u.toRect=d,u.thisAnimationDuration&&Kf(f,d)&&!Kf(h,d)&&(y.top-d.top)/(y.left-d.left)===(h.top-d.top)/(h.left-d.left)&&(l=iN(y,f,p,i.options)),Kf(d,h)||(u.prevFromRect=h,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,y,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){pe(r,"transition",""),pe(r,"transform","");var a=Mo(this.el),l=a&&a.a,u=a&&a.d,h=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!h,r.animatingY=!!d,pe(r,"transform","translate3d("+h+"px,"+d+"px,0)"),this.forRepaintDummy=rN(r),pe(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),pe(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){pe(r,"transition",""),pe(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function rN(t){return t.offsetWidth}function iN(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var lo=[],Qf={initializeByDefault:!0},cu={mount:function(e){for(var n in Qf)Qf.hasOwnProperty(n)&&!(n in e)&&(e[n]=Qf[n]);lo.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),lo.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";lo.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Sr({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Sr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){lo.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Jr(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return lo.forEach(function(i){typeof i.eventProperties=="function"&&Jr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return lo.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function sN(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,y=t.extraEventProperties;if(e=e||n&&n[gn],!!e){var b,D=e.options,g="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!oi&&!uu?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=o||n,b.from=a||n,b.item=i||n,b.clone=s,b.oldIndex=l,b.newIndex=u,b.oldDraggableIndex=h,b.newDraggableIndex=d,b.originalEvent=f,b.pullMode=p?p.lastPutMode:void 0;var _=Sr(Sr({},y),cu.getEventProperties(r,e));for(var k in _)b[k]=_[k];n&&n.dispatchEvent(b),D[g]&&D[g].call(e,b)}}var oN=["evt"],fn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=XR(r,oN);cu.pluginEvent.bind(me)(e,n,Sr({dragEl:ee,parentEl:ut,ghostEl:Ee,rootEl:tt,nextEl:ws,lastDownEl:Wc,cloneEl:rt,cloneHidden:Ti,dragStarted:Ha,putSortable:At,activeSortable:me.active,originalEvent:i,oldIndex:Ao,oldDraggableIndex:dl,newIndex:Rn,newDraggableIndex:Ei,hideGhostForTarget:Jb,unhideGhostForTarget:Zb,cloneNowHidden:function(){Ti=!0},cloneNowShown:function(){Ti=!1},dispatchSortableEvent:function(a){tn({sortable:n,name:a,originalEvent:i})}},s))};function tn(t){sN(Sr({putSortable:At,cloneEl:rt,targetEl:ee,rootEl:tt,oldIndex:Ao,oldDraggableIndex:dl,newIndex:Rn,newDraggableIndex:Ei},t))}var ee,ut,Ee,tt,ws,Wc,rt,Ti,Ao,Rn,dl,Ei,mc,At,ho=!1,Oh=!1,Lh=[],ps,er,Yf,Xf,Qw,Yw,Ha,uo,fl,pl=!1,gc=!1,qc,zt,Jf=[],Am=!1,Mh=[],Td=typeof document<"u",yc=vy,Xw=uu||oi?"cssFloat":"float",aN=Td&&!Ub&&!vy&&"draggable"in document.createElement("div"),Qb=function(){if(Td){if(oi)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Yb=function(e,n){var r=pe(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=Qo(e,0,n),o=Qo(e,1,n),a=s&&pe(s),l=o&&pe(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+vt(s).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+vt(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[Xw]==="none"||o&&r[Xw]==="none"&&u+h>i)?"vertical":"horizontal"},lN=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},uN=function(e,n){var r;return Lh.some(function(i){var s=i[gn].options.emptyInsertThreshold;if(!(!s||_y(i))){var o=vt(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},Xb=function(e){function n(s,o){return function(a,l,u,h){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,h),o)(a,l,u,h);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||Hc(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},Jb=function(){!Qb&&Ee&&pe(Ee,"display","none")},Zb=function(){!Qb&&Ee&&pe(Ee,"display","")};Td&&!Ub&&document.addEventListener("click",function(t){if(Oh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Oh=!1,!1},!0);var ms=function(e){if(ee){e=e.touches?e.touches[0]:e;var n=uN(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[gn]._onDragOver(r)}}},cN=function(e){ee&&ee.parentNode[gn]._isOutsideThisEl(e.target)};function me(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Jr({},e),t[gn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yb(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:me.supportPointer!==!1&&"PointerEvent"in window&&(!cl||vy),emptyInsertThreshold:5};cu.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);Xb(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:aN,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ne(t,"pointerdown",this._onTapStart):(Ne(t,"mousedown",this._onTapStart),Ne(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ne(t,"dragover",this),Ne(t,"dragenter",this)),Lh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Jr(this,nN())}me.prototype={constructor:me,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(uo=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,h=i.filter;if(vN(r),!ee&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&cl&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=rr(l,i.draggable,r,!1),!(l&&l.animated)&&Wc!==l)){if(Ao=Bn(l),dl=Bn(l,i.draggable),typeof h=="function"){if(h.call(this,e,l,this)){tn({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),fn("filter",n,{evt:e}),s&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(d){if(d=rr(u,d.trim(),r,!1),d)return tn({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),fn("filter",n,{evt:e}),!0}),h)){s&&e.preventDefault();return}i.handle&&!rr(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!ee&&r.parentNode===s){var u=vt(r);if(tt=s,ee=r,ut=ee.parentNode,ws=ee.nextSibling,Wc=r,mc=o.group,me.dragged=ee,ps={target:ee,clientX:(n||e).clientX,clientY:(n||e).clientY},Qw=ps.clientX-u.left,Yw=ps.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,ee.style["will-change"]="all",l=function(){if(fn("delayEnded",i,{evt:e}),me.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Ww&&i.nativeDraggable&&(ee.draggable=!0),i._triggerDragStart(e,n),tn({sortable:i,name:"choose",originalEvent:e}),An(ee,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){Hb(ee,h.trim(),Zf)}),Ne(a,"dragover",ms),Ne(a,"mousemove",ms),Ne(a,"touchmove",ms),o.supportPointer?(Ne(a,"pointerup",i._onDrop),!this.nativeDraggable&&Ne(a,"pointercancel",i._onDrop)):(Ne(a,"mouseup",i._onDrop),Ne(a,"touchend",i._onDrop),Ne(a,"touchcancel",i._onDrop)),Ww&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),fn("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(uu||oi))){if(me.eventCanceled){this._onDrop();return}o.supportPointer?(Ne(a,"pointerup",i._disableDelayedDrag),Ne(a,"pointercancel",i._disableDelayedDrag)):(Ne(a,"mouseup",i._disableDelayedDrag),Ne(a,"touchend",i._disableDelayedDrag),Ne(a,"touchcancel",i._disableDelayedDrag)),Ne(a,"mousemove",i._delayedDragTouchMoveHandler),Ne(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Ne(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&Zf(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Pe(e,"mouseup",this._disableDelayedDrag),Pe(e,"touchend",this._disableDelayedDrag),Pe(e,"touchcancel",this._disableDelayedDrag),Pe(e,"pointerup",this._disableDelayedDrag),Pe(e,"pointercancel",this._disableDelayedDrag),Pe(e,"mousemove",this._delayedDragTouchMoveHandler),Pe(e,"touchmove",this._delayedDragTouchMoveHandler),Pe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ne(document,"pointermove",this._onTouchMove):n?Ne(document,"touchmove",this._onTouchMove):Ne(document,"mousemove",this._onTouchMove):(Ne(ee,"dragend",this),Ne(tt,"dragstart",this._onDragStart));try{document.selection?Gc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(ho=!1,tt&&ee){fn("dragStarted",this,{evt:n}),this.nativeDraggable&&Ne(document,"dragover",cN);var r=this.options;!e&&An(ee,r.dragClass,!1),An(ee,r.ghostClass,!0),me.active=this,e&&this._appendGhost(),tn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(er){this._lastX=er.clientX,this._lastY=er.clientY,Jb();for(var e=document.elementFromPoint(er.clientX,er.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(er.clientX,er.clientY),e!==n);)n=e;if(ee.parentNode[gn]._isOutsideThisEl(e),n)do{if(n[gn]){var r=void 0;if(r=n[gn]._onDragOver({clientX:er.clientX,clientY:er.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=Bb(n));Zb()}},_onTouchMove:function(e){if(ps){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=Ee&&Mo(Ee,!0),a=Ee&&o&&o.a,l=Ee&&o&&o.d,u=yc&&zt&&Kw(zt),h=(s.clientX-ps.clientX+i.x)/(a||1)+(u?u[0]-Jf[0]:0)/(a||1),d=(s.clientY-ps.clientY+i.y)/(l||1)+(u?u[1]-Jf[1]:0)/(l||1);if(!me.active&&!ho){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Ee){o?(o.e+=h-(Yf||0),o.f+=d-(Xf||0)):o={a:1,b:0,c:0,d:1,e:h,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");pe(Ee,"webkitTransform",f),pe(Ee,"mozTransform",f),pe(Ee,"msTransform",f),pe(Ee,"transform",f),Yf=h,Xf=d,er=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Ee){var e=this.options.fallbackOnBody?document.body:tt,n=vt(ee,!0,yc,!0,e),r=this.options;if(yc){for(zt=e;pe(zt,"position")==="static"&&pe(zt,"transform")==="none"&&zt!==document;)zt=zt.parentNode;zt!==document.body&&zt!==document.documentElement?(zt===document&&(zt=Er()),n.top+=zt.scrollTop,n.left+=zt.scrollLeft):zt=Er(),Jf=Kw(zt)}Ee=ee.cloneNode(!0),An(Ee,r.ghostClass,!1),An(Ee,r.fallbackClass,!0),An(Ee,r.dragClass,!0),pe(Ee,"transition",""),pe(Ee,"transform",""),pe(Ee,"box-sizing","border-box"),pe(Ee,"margin",0),pe(Ee,"top",n.top),pe(Ee,"left",n.left),pe(Ee,"width",n.width),pe(Ee,"height",n.height),pe(Ee,"opacity","0.8"),pe(Ee,"position",yc?"absolute":"fixed"),pe(Ee,"zIndex","100000"),pe(Ee,"pointerEvents","none"),me.ghost=Ee,e.appendChild(Ee),pe(Ee,"transform-origin",Qw/parseInt(Ee.style.width)*100+"% "+Yw/parseInt(Ee.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(fn("dragStart",this,{evt:e}),me.eventCanceled){this._onDrop();return}fn("setupClone",this),me.eventCanceled||(rt=Gb(ee),rt.removeAttribute("id"),rt.draggable=!1,rt.style["will-change"]="",this._hideClone(),An(rt,this.options.chosenClass,!1),me.clone=rt),r.cloneId=Gc(function(){fn("clone",r),!me.eventCanceled&&(r.options.removeCloneOnHide||tt.insertBefore(rt,ee),r._hideClone(),tn({sortable:r,name:"clone"}))}),!n&&An(ee,s.dragClass,!0),n?(Oh=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Pe(document,"mouseup",r._onDrop),Pe(document,"touchend",r._onDrop),Pe(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,ee)),Ne(document,"drop",r),pe(ee,"transform","translateZ(0)")),ho=!0,r._dragStartId=Gc(r._dragStarted.bind(r,n,e)),Ne(document,"selectstart",r),Ha=!0,window.getSelection().removeAllRanges(),cl&&pe(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=me.active,h=mc===l,d=a.sort,f=At||u,p,y=this,b=!1;if(Am)return;function D($,G){fn($,y,Sr({evt:e,isOwner:h,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:f,target:r,completed:_,onMove:function(X,ne){return vc(tt,n,ee,i,X,vt(X),e,ne)},changed:k},G))}function g(){D("dragOverAnimationCapture"),y.captureAnimationState(),y!==f&&f.captureAnimationState()}function _($){return D("dragOverCompleted",{insertion:$}),$&&(h?u._hideClone():u._showClone(y),y!==f&&(An(ee,At?At.options.ghostClass:u.options.ghostClass,!1),An(ee,a.ghostClass,!0)),At!==y&&y!==me.active?At=y:y===me.active&&At&&(At=null),f===y&&(y._ignoreWhileAnimating=r),y.animateAll(function(){D("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===ee&&!ee.animated||r===n&&!r.animated)&&(uo=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(ee.parentNode[gn]._isOutsideThisEl(e.target),!$&&ms(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function k(){Rn=Bn(ee),Ei=Bn(ee,a.draggable),tn({sortable:y,name:"change",toEl:n,newIndex:Rn,newDraggableIndex:Ei,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=rr(r,a.draggable,n,!0),D("dragOver"),me.eventCanceled)return b;if(ee.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||y._ignoreWhileAnimating===r)return _(!1);if(Oh=!1,u&&!a.disabled&&(h?d||(o=ut!==tt):At===this||(this.lastPutMode=mc.checkPull(this,u,ee,e))&&l.checkPut(this,u,ee,e))){if(p=this._getDirection(e,r)==="vertical",i=vt(ee),D("dragOverValid"),me.eventCanceled)return b;if(o)return ut=tt,g(),this._hideClone(),D("revert"),me.eventCanceled||(ws?tt.insertBefore(ee,ws):tt.appendChild(ee)),_(!0);var O=_y(n,a.draggable);if(!O||pN(e,p,this)&&!O.animated){if(O===ee)return _(!1);if(O&&n===e.target&&(r=O),r&&(s=vt(r)),vc(tt,n,ee,i,r,s,e,!!r)!==!1)return g(),O&&O.nextSibling?n.insertBefore(ee,O.nextSibling):n.appendChild(ee),ut=n,k(),_(!0)}else if(O&&fN(e,p,this)){var V=Qo(n,0,a,!0);if(V===ee)return _(!1);if(r=V,s=vt(r),vc(tt,n,ee,i,r,s,e,!1)!==!1)return g(),n.insertBefore(ee,V),ut=n,k(),_(!0)}else if(r.parentNode===n){s=vt(r);var L=0,S,x=ee.parentNode!==n,A=!lN(ee.animated&&ee.toRect||i,r.animated&&r.toRect||s,p),w=p?"top":"left",R=Gw(r,"top","top")||Gw(ee,"top","top"),I=R?R.scrollTop:void 0;uo!==r&&(S=s[w],pl=!1,gc=!A&&a.invertSwap||x),L=mN(e,r,s,p,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,gc,uo===r);var T;if(L!==0){var H=Bn(ee);do H-=L,T=ut.children[H];while(T&&(pe(T,"display")==="none"||T===Ee))}if(L===0||T===r)return _(!1);uo=r,fl=L;var F=r.nextElementSibling,W=!1;W=L===1;var Z=vc(tt,n,ee,i,r,s,e,W);if(Z!==!1)return(Z===1||Z===-1)&&(W=Z===1),Am=!0,setTimeout(dN,30),g(),W&&!F?n.appendChild(ee):r.parentNode.insertBefore(ee,W?F:r),R&&qb(R,0,I-R.scrollTop),ut=ee.parentNode,S!==void 0&&!gc&&(qc=Math.abs(S-vt(r)[w])),k(),_(!0)}if(n.contains(ee))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Pe(document,"mousemove",this._onTouchMove),Pe(document,"touchmove",this._onTouchMove),Pe(document,"pointermove",this._onTouchMove),Pe(document,"dragover",ms),Pe(document,"mousemove",ms),Pe(document,"touchmove",ms)},_offUpEvents:function(){var e=this.el.ownerDocument;Pe(e,"mouseup",this._onDrop),Pe(e,"touchend",this._onDrop),Pe(e,"pointerup",this._onDrop),Pe(e,"pointercancel",this._onDrop),Pe(e,"touchcancel",this._onDrop),Pe(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Rn=Bn(ee),Ei=Bn(ee,r.draggable),fn("drop",this,{evt:e}),ut=ee&&ee.parentNode,Rn=Bn(ee),Ei=Bn(ee,r.draggable),me.eventCanceled){this._nulling();return}ho=!1,gc=!1,pl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Pm(this.cloneId),Pm(this._dragStartId),this.nativeDraggable&&(Pe(document,"drop",this),Pe(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),cl&&pe(document.body,"user-select",""),pe(ee,"transform",""),e&&(Ha&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),(tt===ut||At&&At.lastPutMode!=="clone")&&rt&&rt.parentNode&&rt.parentNode.removeChild(rt),ee&&(this.nativeDraggable&&Pe(ee,"dragend",this),Zf(ee),ee.style["will-change"]="",Ha&&!ho&&An(ee,At?At.options.ghostClass:this.options.ghostClass,!1),An(ee,this.options.chosenClass,!1),tn({sortable:this,name:"unchoose",toEl:ut,newIndex:null,newDraggableIndex:null,originalEvent:e}),tt!==ut?(Rn>=0&&(tn({rootEl:ut,name:"add",toEl:ut,fromEl:tt,originalEvent:e}),tn({sortable:this,name:"remove",toEl:ut,originalEvent:e}),tn({rootEl:ut,name:"sort",toEl:ut,fromEl:tt,originalEvent:e}),tn({sortable:this,name:"sort",toEl:ut,originalEvent:e})),At&&At.save()):Rn!==Ao&&Rn>=0&&(tn({sortable:this,name:"update",toEl:ut,originalEvent:e}),tn({sortable:this,name:"sort",toEl:ut,originalEvent:e})),me.active&&((Rn==null||Rn===-1)&&(Rn=Ao,Ei=dl),tn({sortable:this,name:"end",toEl:ut,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){fn("nulling",this),tt=ee=ut=Ee=ws=rt=Wc=Ti=ps=er=Ha=Rn=Ei=Ao=dl=uo=fl=At=mc=me.dragged=me.ghost=me.clone=me.active=null,Mh.forEach(function(e){e.checked=!0}),Mh.length=Yf=Xf=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ee&&(this._onDragOver(e),hN(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],rr(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||yN(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];rr(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return rr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=cu.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&Xb(r)},destroy:function(){fn("destroy",this);var e=this.el;e[gn]=null,Pe(e,"mousedown",this._onTapStart),Pe(e,"touchstart",this._onTapStart),Pe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Pe(e,"dragover",this),Pe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Lh.splice(Lh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ti){if(fn("hideClone",this),me.eventCanceled)return;pe(rt,"display","none"),this.options.removeCloneOnHide&&rt.parentNode&&rt.parentNode.removeChild(rt),Ti=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ti){if(fn("showClone",this),me.eventCanceled)return;ee.parentNode==tt&&!this.options.group.revertClone?tt.insertBefore(rt,ee):ws?tt.insertBefore(rt,ws):tt.appendChild(rt),this.options.group.revertClone&&this.animate(ee,rt),pe(rt,"display",""),Ti=!1}}};function hN(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function vc(t,e,n,r,i,s,o,a){var l,u=t[gn],h=u.options.onMove,d;return window.CustomEvent&&!oi&&!uu?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||vt(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),h&&(d=h.call(u,l,o)),d}function Zf(t){t.draggable=!1}function dN(){Am=!1}function fN(t,e,n){var r=vt(Qo(n.el,0,n.options,!0)),i=Kb(n.el,n.options,Ee),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function pN(t,e,n){var r=vt(_y(n.el,n.options.draggable)),i=Kb(n.el,n.options,Ee),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function mN(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,h=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(a&&qc<u*i){if(!pl&&(fl===1?l>h+u*s/2:l<d-u*s/2)&&(pl=!0),pl)f=!0;else if(fl===1?l<h+qc:l>d-qc)return-fl}else if(l>h+u*(1-i)/2&&l<d-u*(1-i)/2)return gN(e)}return f=f||o,f&&(l<h+u*s/2||l>d-u*s/2)?l>h+u/2?1:-1:0}function gN(t){return Bn(ee)<Bn(t)?1:-1}function yN(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function vN(t){Mh.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Mh.push(r)}}function Gc(t){return setTimeout(t,0)}function Pm(t){return clearTimeout(t)}Td&&Ne(document,"touchmove",function(t){(me.active||ho)&&t.cancelable&&t.preventDefault()});me.utils={on:Ne,off:Pe,css:pe,find:Hb,is:function(e,n){return!!rr(e,n,e,!1)},extend:eN,throttle:Wb,closest:rr,toggleClass:An,clone:Gb,index:Bn,nextTick:Gc,cancelNextTick:Pm,detectDirection:Yb,getChild:Qo,expando:gn};me.get=function(t){return t[gn]};me.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(me.utils=Sr(Sr({},me.utils),r.utils)),cu.mount(r)})};me.create=function(t,e){return new me(t,e)};me.version=JR;var mt=[],Wa,Rm,Nm=!1,ep,tp,Fh,qa;function _N(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Ne(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ne(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Ne(document,"touchmove",this._handleFallbackAutoScroll):Ne(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Pe(document,"dragover",this._handleAutoScroll):(Pe(document,"pointermove",this._handleFallbackAutoScroll),Pe(document,"touchmove",this._handleFallbackAutoScroll),Pe(document,"mousemove",this._handleFallbackAutoScroll)),Jw(),Kc(),tN()},nulling:function(){Fh=Rm=Wa=Nm=qa=ep=tp=null,mt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(Fh=n,r||this.options.forceAutoScrollFallback||uu||oi||cl){np(n,this.options,a,r);var l=Di(a,!0);Nm&&(!qa||s!==ep||o!==tp)&&(qa&&Jw(),qa=setInterval(function(){var u=Di(document.elementFromPoint(s,o),!0);u!==l&&(l=u,Kc()),np(n,i.options,u,r)},10),ep=s,tp=o)}else{if(!this.options.bubbleScroll||Di(a,!0)===Er()){Kc();return}np(n,this.options,Di(a,!1),!1)}}},Jr(t,{pluginName:"scroll",initializeByDefault:!0})}function Kc(){mt.forEach(function(t){clearInterval(t.pid)}),mt=[]}function Jw(){clearInterval(qa)}var np=Wb(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Er(),u=!1,h;Rm!==n&&(Rm=n,Kc(),Wa=e.scroll,h=e.scrollFn,Wa===!0&&(Wa=Di(n,!0)));var d=0,f=Wa;do{var p=f,y=vt(p),b=y.top,D=y.bottom,g=y.left,_=y.right,k=y.width,O=y.height,V=void 0,L=void 0,S=p.scrollWidth,x=p.scrollHeight,A=pe(p),w=p.scrollLeft,R=p.scrollTop;p===l?(V=k<S&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),L=O<x&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(V=k<S&&(A.overflowX==="auto"||A.overflowX==="scroll"),L=O<x&&(A.overflowY==="auto"||A.overflowY==="scroll"));var I=V&&(Math.abs(_-i)<=o&&w+k<S)-(Math.abs(g-i)<=o&&!!w),T=L&&(Math.abs(D-s)<=o&&R+O<x)-(Math.abs(b-s)<=o&&!!R);if(!mt[d])for(var H=0;H<=d;H++)mt[H]||(mt[H]={});(mt[d].vx!=I||mt[d].vy!=T||mt[d].el!==p)&&(mt[d].el=p,mt[d].vx=I,mt[d].vy=T,clearInterval(mt[d].pid),(I!=0||T!=0)&&(u=!0,mt[d].pid=setInterval((function(){r&&this.layer===0&&me.active._onTouchMove(Fh);var F=mt[this.layer].vy?mt[this.layer].vy*a:0,W=mt[this.layer].vx?mt[this.layer].vx*a:0;typeof h=="function"&&h.call(me.dragged.parentNode[gn],W,F,t,Fh,mt[this.layer].el)!=="continue"||qb(mt[this.layer].el,W,F)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Di(f,!1)));Nm=u}},30),e1=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(h.clientX,h.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function wy(){}wy.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Qo(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:e1};Jr(wy,{pluginName:"revertOnSpill"});function Ey(){}Ey.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:e1};Jr(Ey,{pluginName:"removeOnSpill"});me.mount(new _N);me.mount(Ey,wy);var wN=Object.defineProperty,EN=(t,e,n)=>e in t?wN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rp=(t,e,n)=>(EN(t,typeof e!="symbol"?e+"":e,n),n);let kN=class{constructor(){rp(this,"current",this.detect()),rp(this,"handoffState","pending"),rp(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ls=new kN;function Sd(t){var e,n;return Ls.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Id(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ai(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Id(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ai();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function ky(){let[t]=M.useState(ai);return M.useEffect(()=>()=>t.dispose(),[t]),t}let Kt=(t,e)=>{Ls.isServer?M.useEffect(t,e):M.useLayoutEffect(t,e)};function Js(t){let e=M.useRef(t);return Kt(()=>{e.current=t},[t]),e}let qe=function(t){let e=Js(t);return _e.useCallback((...n)=>e.current(...n),[e])},xN=M.createContext(void 0);function bN(){return M.useContext(xN)}function Dm(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Zr(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Zr),r}var Vh=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Vh||{}),Oi=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Oi||{});function Xn(){let t=SN();return M.useCallback(e=>TN({mergeRefs:t,...e}),[t])}function TN({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??IN;let l=t1(e,t);if(s)return _c(l,n,r,o,a);let u=i??0;if(u&2){let{static:h=!1,...d}=l;if(h)return _c(d,n,r,o,a)}if(u&1){let{unmount:h=!0,...d}=l;return Zr(h?0:1,{0(){return null},1(){return _c({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return _c(l,n,r,o,a)}function _c(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=ip(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let f=!1,p=[];for(let[y,b]of Object.entries(e))typeof b=="boolean"&&(f=!0),b===!0&&p.push(y.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(f){d["data-headlessui-state"]=p.join(" ");for(let y of p)d[`data-${y}`]=""}}if(s===M.Fragment&&(Object.keys(Es(l)).length>0||Object.keys(Es(d)).length>0))if(!M.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(Es(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Es(l)).concat(Object.keys(Es(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=h.props,p=f==null?void 0:f.className,y=typeof p=="function"?(...g)=>Dm(p(...g),l.className):Dm(p,l.className),b=y?{className:y}:{},D=t1(h.props,Es(ip(l,["ref"])));for(let g in d)g in D&&delete d[g];return M.cloneElement(h,Object.assign({},D,d,u,{ref:i(CN(h),u.ref)},b))}return M.createElement(s,Object.assign({},ip(l,["ref"]),s!==M.Fragment&&u,s!==M.Fragment&&d),h)}function SN(){let t=M.useRef([]),e=M.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function IN(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function t1(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function kn(t){var e;return Object.assign(M.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Es(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ip(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function CN(t){return _e.version.split(".")[0]>="19"?t.props.ref:t.ref}let AN="span";var jh=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(jh||{});function PN(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Xn()({ourProps:s,theirProps:i,slot:{},defaultTag:AN,name:"Hidden"})}let Om=kn(PN);function n1(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Wi(t){return n1(t)&&"tagName"in t}function zs(t){return Wi(t)&&"accessKey"in t}function Li(t){return Wi(t)&&"tabIndex"in t}function RN(t){return Wi(t)&&"style"in t}function NN(t){return zs(t)&&t.nodeName==="IFRAME"}function DN(t){return zs(t)&&t.nodeName==="INPUT"}let r1=Symbol();function ON(t,e=!0){return Object.assign(t,{[r1]:e})}function Ar(...t){let e=M.useRef(t);M.useEffect(()=>{e.current=t},[t]);let n=qe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[r1]))?void 0:n}let xy=M.createContext(null);xy.displayName="DescriptionContext";function i1(){let t=M.useContext(xy);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,i1),e}return t}function LN(){let[t,e]=M.useState([]);return[t.length>0?t.join(" "):void 0,M.useMemo(()=>function(n){let r=qe(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=M.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return _e.createElement(xy.Provider,{value:i},n.children)},[e])]}let MN="p";function FN(t,e){let n=M.useId(),r=bN(),{id:i=`headlessui-description-${n}`,...s}=t,o=i1(),a=Ar(e);Kt(()=>o.register(i),[i,o.register]);let l=r||!1,u=M.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),h={ref:a,...o.props,id:i};return Xn()({ourProps:h,theirProps:s,slot:u,defaultTag:MN,name:o.name||"Description"})}let VN=kn(FN),s1=Object.assign(VN,{});var o1=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(o1||{});let jN=M.createContext(()=>{});function $N({value:t,children:e}){return _e.createElement(jN.Provider,{value:t},e)}let a1=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var UN=Object.defineProperty,zN=(t,e,n)=>e in t?UN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BN=(t,e,n)=>(zN(t,e+"",n),n),l1=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},zn=(t,e,n)=>(l1(t,e,"read from private field"),n?n.call(t):e.get(t)),sp=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Zw=(t,e,n,r)=>(l1(t,e,"write to private field"),e.set(t,n),n),fr,Ga,Ka;let HN=class{constructor(e){sp(this,fr,{}),sp(this,Ga,new a1(()=>new Set)),sp(this,Ka,new Set),BN(this,"disposables",ai()),Zw(this,fr,e)}dispose(){this.disposables.dispose()}get state(){return zn(this,fr)}subscribe(e,n){let r={selector:e,callback:n,current:e(zn(this,fr))};return zn(this,Ka).add(r),this.disposables.add(()=>{zn(this,Ka).delete(r)})}on(e,n){return zn(this,Ga).get(e).add(n),this.disposables.add(()=>{zn(this,Ga).get(e).delete(n)})}send(e){let n=this.reduce(zn(this,fr),e);if(n!==zn(this,fr)){Zw(this,fr,n);for(let r of zn(this,Ka)){let i=r.selector(zn(this,fr));u1(r.current,i)||(r.current=i,r.callback(i))}for(let r of zn(this,Ga).get(e.type))r(zn(this,fr),e)}}};fr=new WeakMap,Ga=new WeakMap,Ka=new WeakMap;function u1(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:op(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:op(t.entries(),e.entries()):e0(t)&&e0(e)?op(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function op(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function e0(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var WN=Object.defineProperty,qN=(t,e,n)=>e in t?WN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,t0=(t,e,n)=>(qN(t,typeof e!="symbol"?e+"":e,n),n),GN=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(GN||{});let KN={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},QN=class c1 extends HN{constructor(){super(...arguments),t0(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),t0(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new c1({stack:[]})}reduce(e,n){return Zr(n.type,KN,e,n)}};const h1=new a1(()=>QN.new());var d1={exports:{}},f1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hu=M;function YN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XN=typeof Object.is=="function"?Object.is:YN,JN=hu.useSyncExternalStore,ZN=hu.useRef,eD=hu.useEffect,tD=hu.useMemo,nD=hu.useDebugValue;f1.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ZN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=tD(function(){function l(p){if(!u){if(u=!0,h=p,p=r(p),i!==void 0&&o.hasValue){var y=o.value;if(i(y,p))return d=y}return d=p}if(y=d,XN(h,p))return y;var b=r(p);return i!==void 0&&i(y,b)?(h=p,y):(h=p,d=b)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=JN(t,s[0],s[1]);return eD(function(){o.hasValue=!0,o.value=a},[a]),nD(a),a};d1.exports=f1;var rD=d1.exports;function p1(t,e,n=u1){return rD.useSyncExternalStoreWithSelector(qe(r=>t.subscribe(iD,r)),qe(()=>t.state),qe(()=>t.state),qe(e),n)}function iD(t){return t}function du(t,e){let n=M.useId(),r=h1.get(e),[i,s]=p1(r,M.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Kt(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Lm=new Map,ml=new Map;function n0(t){var e;let n=(e=ml.get(t))!=null?e:0;return ml.set(t,n+1),n!==0?()=>r0(t):(Lm.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>r0(t))}function r0(t){var e;let n=(e=ml.get(t))!=null?e:1;if(n===1?ml.delete(t):ml.set(t,n-1),n!==1)return;let r=Lm.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Lm.delete(t))}function sD(t,{allowed:e,disallowed:n}={}){let r=du(t,"inert-others");Kt(()=>{var i,s;if(!r)return;let o=ai();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(n0(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=Sd(l);if(!u)continue;let h=l.parentElement;for(;h&&h!==u.body;){for(let d of h.children)a.some(f=>d.contains(f))||o.add(n0(d));h=h.parentElement}}return o.dispose},[r,e,n])}function oD(t,e,n){let r=Js(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});M.useEffect(()=>{if(!t)return;let i=e===null?null:zs(e)?e:e.current;if(!i)return;let s=ai();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let $h=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),aD=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Fr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Fr||{}),Mm=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Mm||{}),lD=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(lD||{});function uD(t=document.body){return t==null?[]:Array.from(t.querySelectorAll($h)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function cD(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(aD)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var m1=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(m1||{});function hD(t,e=0){var n;return t===((n=Sd(t))==null?void 0:n.body)?!1:Zr(e,{0(){return t.matches($h)},1(){let r=t;for(;r!==null;){if(r.matches($h))return!0;r=r.parentElement}return!1}})}var dD=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(dD||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function qr(t){t==null||t.focus({preventScroll:!0})}let fD=["textarea","input"].join(",");function pD(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,fD))!=null?n:!1}function mD(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function gl(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?mD(t):t:e&64?cD(t):uD(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(y=>y!=null&&"current"in y?(y==null?void 0:y.current)===p:y===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,d=o.length,f;do{if(h>=d||h+d<=0)return 0;let p=l+h;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=o[p],f==null||f.focus(u),h+=a}while(f!==s.activeElement);return e&6&&pD(f)&&f.select(),2}function g1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function gD(){return/Android/gi.test(window.navigator.userAgent)}function i0(){return g1()||gD()}function wc(t,e,n,r){let i=Js(n);M.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function y1(t,e,n,r){let i=Js(n);M.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const s0=30;function yD(t,e,n){let r=Js(n),i=M.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of h)if(d!==null&&(d.contains(u)||a.composed&&a.composedPath().includes(d)))return;return!hD(u,m1.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,e]),s=M.useRef(null);wc(t,"pointerdown",a=>{var l,u;i0()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),wc(t,"pointerup",a=>{if(i0()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=M.useRef({x:0,y:0});wc(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),wc(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=s0||Math.abs(l.y-o.current.y)>=s0))return i(a,()=>Li(a.target)?a.target:null)},!0),y1(t,"blur",a=>i(a,()=>NN(window.document.activeElement)?window.document.activeElement:null),!0)}function Cd(...t){return M.useMemo(()=>Sd(...t),[...t])}function v1(t,e,n,r){let i=Js(n);M.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function vD(t){return M.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function _D(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function wD(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function ED(){return g1()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ai();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Li(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),h=t.querySelector(u);Li(h)&&!r(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(Li(a.target)&&RN(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(Li(a.target)){if(DN(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function kD(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function xD(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let As=_D(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ai(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:xD(n)},i=[ED(),wD(),kD()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});As.subscribe(()=>{let t=As.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&As.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&As.dispatch("TEARDOWN",n)}});function bD(t,e,n=()=>({containers:[]})){let r=vD(As),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Kt(()=>{if(!(!e||!t))return As.dispatch("PUSH",e,n),()=>As.dispatch("POP",e,n)},[t,e]),s}function TD(t,e,n=()=>[document.body]){let r=du(t,"scroll-lock");bD(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function SD(t=0){let[e,n]=M.useState(t),r=M.useCallback(l=>n(l),[e]),i=M.useCallback(l=>n(u=>u|l),[e]),s=M.useCallback(l=>(e&l)===l,[e]),o=M.useCallback(l=>n(u=>u&~l),[n]),a=M.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var ID={},o0,a0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((o0=process==null?void 0:ID)==null?void 0:o0.NODE_ENV)==="test"&&typeof((a0=Element==null?void 0:Element.prototype)==null?void 0:a0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var CD=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(CD||{});function AD(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function PD(t,e,n,r){let[i,s]=M.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=SD(t&&i?3:0),u=M.useRef(!1),h=M.useRef(!1),d=ky();return Kt(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),RD(e,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){h.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function RD(t,{prepare:e,run:n,done:r,inFlight:i}){let s=ai();return DD(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(ND(t,r))})}),s.dispose}function ND(t,e){var n,r;let i=ai();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function DD(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function by(t,e){let n=M.useRef([]),r=qe(t);M.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}let Ad=M.createContext(null);Ad.displayName="OpenClosedContext";var sr=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(sr||{});function Pd(){return M.useContext(Ad)}function OD({value:t,children:e}){return _e.createElement(Ad.Provider,{value:t},e)}function LD({children:t}){return _e.createElement(Ad.Provider,{value:null},t)}function MD(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Si=[];MD(()=>{function t(e){if(!Li(e.target)||e.target===document.body||Si[0]===e.target)return;let n=e.target;n=n.closest($h),Si.unshift(n??e.target),Si=Si.filter(r=>r!=null&&r.isConnected),Si.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function _1(t){let e=qe(t),n=M.useRef(!1);M.useEffect(()=>(n.current=!1,()=>{n.current=!0,Id(()=>{n.current&&e()})}),[e])}function FD(){let t=typeof document>"u";return"useSyncExternalStore"in O_?(e=>e.useSyncExternalStore)(O_)(()=>()=>{},()=>!1,()=>!t):!1}function fu(){let t=FD(),[e,n]=M.useState(Ls.isHandoffComplete);return e&&Ls.isHandoffComplete===!1&&n(!1),M.useEffect(()=>{e!==!0&&n(!0)},[e]),M.useEffect(()=>Ls.handoff(),[]),t?!1:e}let w1=M.createContext(!1);function VD(){return M.useContext(w1)}function l0(t){return _e.createElement(w1.Provider,{value:t.force},t.children)}function jD(t){let e=VD(),n=M.useContext(k1),[r,i]=M.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Ls.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return M.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),M.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let E1=M.Fragment,$D=kn(function(t,e){let{ownerDocument:n=null,...r}=t,i=M.useRef(null),s=Ar(ON(p=>{i.current=p}),e),o=Cd(i),a=n??o,l=jD(a),[u]=M.useState(()=>{var p;return Ls.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),h=M.useContext(Fm),d=fu();Kt(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),Kt(()=>{if(u&&h)return h.register(u)},[h,u]),_1(()=>{var p;!l||!u||(n1(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let f=Xn();return d?!l||!u?null:Ob.createPortal(f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:E1,name:"Portal"}),u):null});function UD(t,e){let n=Ar(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Xn();return r?_e.createElement($D,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:E1,name:"Portal"})}let zD=M.Fragment,k1=M.createContext(null);function BD(t,e){let{target:n,...r}=t,i={ref:Ar(e)},s=Xn();return _e.createElement(k1.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:zD,name:"Popover.Group"}))}let Fm=M.createContext(null);function HD(){let t=M.useContext(Fm),e=M.useRef([]),n=qe(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=qe(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=M.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,M.useMemo(()=>function({children:s}){return _e.createElement(Fm.Provider,{value:i},s)},[i])]}let WD=kn(UD),x1=kn(BD),qD=Object.assign(WD,{Group:x1});function GD(t,e=typeof document<"u"?document.defaultView:null,n){let r=du(t,"escape");v1(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===o1.Escape&&n(i))})}function KD(){var t;let[e]=M.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=M.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Kt(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function QD({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Cd(n),i=qe(()=>{var s,o;let a=[];for(let l of t)l!==null&&(Wi(l)?a.push(l):"current"in l&&Wi(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Wi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:qe(s=>i().some(o=>o.contains(s)))}}let b1=M.createContext(null);function u0({children:t,node:e}){let[n,r]=M.useState(null),i=T1(e??n);return _e.createElement(b1.Provider,{value:i},t,i===null&&_e.createElement(Om,{features:jh.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Sd(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Wi(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function T1(t=null){var e;return(e=M.useContext(b1))!=null?e:t}function Ty(){let t=M.useRef(!1);return Kt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Qa=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Qa||{});function YD(){let t=M.useRef(0);return y1(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function S1(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Wi(n.current)&&e.add(n.current);return e}let XD="div";var xs=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(xs||{});function JD(t,e){let n=M.useRef(null),r=Ar(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;fu()||(a=0);let u=Cd(n);n2(a,{ownerDocument:u});let h=r2(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});i2(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:h});let d=YD(),f=qe(_=>{if(!zs(n.current))return;let k=n.current;(O=>O())(()=>{Zr(d.current,{[Qa.Forwards]:()=>{gl(k,Fr.First,{skipElements:[_.relatedTarget,s]})},[Qa.Backwards]:()=>{gl(k,Fr.Last,{skipElements:[_.relatedTarget,s]})}})})}),p=du(!!(a&2),"focus-trap#tab-lock"),y=ky(),b=M.useRef(!1),D={ref:r,onKeyDown(_){_.key=="Tab"&&(b.current=!0,y.requestAnimationFrame(()=>{b.current=!1}))},onBlur(_){if(!(a&4))return;let k=S1(o);zs(n.current)&&k.add(n.current);let O=_.relatedTarget;Li(O)&&O.dataset.headlessuiFocusGuard!=="true"&&(I1(k,O)||(b.current?gl(n.current,Zr(d.current,{[Qa.Forwards]:()=>Fr.Next,[Qa.Backwards]:()=>Fr.Previous})|Fr.WrapAround,{relativeTo:_.target}):Li(_.target)&&qr(_.target)))}},g=Xn();return _e.createElement(_e.Fragment,null,p&&_e.createElement(Om,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:jh.Focusable}),g({ourProps:D,theirProps:l,defaultTag:XD,name:"FocusTrap"}),p&&_e.createElement(Om,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:jh.Focusable}))}let ZD=kn(JD),e2=Object.assign(ZD,{features:xs});function t2(t=!0){let e=M.useRef(Si.slice());return by(([n],[r])=>{r===!0&&n===!1&&Id(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Si.slice())},[t,Si,e]),qe(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function n2(t,{ownerDocument:e}){let n=!!(t&8),r=t2(n);by(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&qr(r())},[n]),_1(()=>{n&&qr(r())})}function r2(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=M.useRef(null),o=du(!!(t&1),"focus-trap#initial-focus"),a=Ty();return by(()=>{if(t===0)return;if(!o){i!=null&&i.current&&qr(i.current);return}let l=n.current;l&&Id(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)qr(r.current);else{if(t&16){if(gl(l,Fr.First|Fr.AutoFocus)!==Mm.Error)return}else if(gl(l,Fr.First)!==Mm.Error)return;if(i!=null&&i.current&&(qr(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function i2(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Ty(),o=!!(t&4);v1(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=S1(r);zs(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let h=a.target;zs(h)?I1(l,h)?(i.current=h,qr(h)):(a.preventDefault(),a.stopPropagation(),qr(u)):qr(i.current)},!0)}function I1(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function C1(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:P1)!==M.Fragment||_e.Children.count(t.children)===1}let Rd=M.createContext(null);Rd.displayName="TransitionContext";var s2=(t=>(t.Visible="visible",t.Hidden="hidden",t))(s2||{});function o2(){let t=M.useContext(Rd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function a2(){let t=M.useContext(Nd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Nd=M.createContext(null);Nd.displayName="NestingContext";function Dd(t){return"children"in t?Dd(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function A1(t,e){let n=Js(t),r=M.useRef([]),i=Ty(),s=ky(),o=qe((p,y=Oi.Hidden)=>{let b=r.current.findIndex(({el:D})=>D===p);b!==-1&&(Zr(y,{[Oi.Unmount](){r.current.splice(b,1)},[Oi.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var D;!Dd(r)&&i.current&&((D=n.current)==null||D.call(n))}))}),a=qe(p=>{let y=r.current.find(({el:b})=>b===p);return y?y.state!=="visible"&&(y.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Oi.Unmount)}),l=M.useRef([]),u=M.useRef(Promise.resolve()),h=M.useRef({enter:[],leave:[]}),d=qe((p,y,b)=>{l.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([D])=>D!==p)),e==null||e.chains.current[y].push([p,new Promise(D=>{l.current.push(D)})]),e==null||e.chains.current[y].push([p,new Promise(D=>{Promise.all(h.current[y].map(([g,_])=>_)).then(()=>D())})]),y==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(y)):b(y)}),f=qe((p,y,b)=>{Promise.all(h.current[y].splice(0).map(([D,g])=>g)).then(()=>{var D;(D=l.current.shift())==null||D()}).then(()=>b(y))});return M.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:f,wait:u,chains:h}),[a,o,r,d,f,h,u])}let P1=M.Fragment,R1=Vh.RenderStrategy;function l2(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:h,enterTo:d,entered:f,leave:p,leaveFrom:y,leaveTo:b,...D}=t,[g,_]=M.useState(null),k=M.useRef(null),O=C1(t),V=Ar(...O?[k,e,_]:e===null?[]:[e]),L=(n=D.unmount)==null||n?Oi.Unmount:Oi.Hidden,{show:S,appear:x,initial:A}=o2(),[w,R]=M.useState(S?"visible":"hidden"),I=a2(),{register:T,unregister:H}=I;Kt(()=>T(k),[T,k]),Kt(()=>{if(L===Oi.Hidden&&k.current){if(S&&w!=="visible"){R("visible");return}return Zr(w,{hidden:()=>H(k),visible:()=>T(k)})}},[w,k,T,H,S,L]);let F=fu();Kt(()=>{if(O&&F&&w==="visible"&&k.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[k,w,F,O]);let W=A&&!x,Z=x&&S&&A,$=M.useRef(!1),G=A1(()=>{$.current||(R("hidden"),H(k))},I),N=qe(re=>{$.current=!0;let ie=re?"enter":"leave";G.onStart(k,ie,we=>{we==="enter"?s==null||s():we==="leave"&&(a==null||a())})}),X=qe(re=>{let ie=re?"enter":"leave";$.current=!1,G.onStop(k,ie,we=>{we==="enter"?o==null||o():we==="leave"&&(l==null||l())}),ie==="leave"&&!Dd(G)&&(R("hidden"),H(k))});M.useEffect(()=>{O&&i||(N(S),X(S))},[S,O,i]);let ne=!(!i||!O||!F||W),[,P]=PD(ne,g,S,{start:N,end:X}),ge=Es({ref:V,className:((r=Dm(D.className,Z&&u,Z&&h,P.enter&&u,P.enter&&P.closed&&h,P.enter&&!P.closed&&d,P.leave&&p,P.leave&&!P.closed&&y,P.leave&&P.closed&&b,!P.transition&&S&&f))==null?void 0:r.trim())||void 0,...AD(P)}),Te=0;w==="visible"&&(Te|=sr.Open),w==="hidden"&&(Te|=sr.Closed),S&&w==="hidden"&&(Te|=sr.Opening),!S&&w==="visible"&&(Te|=sr.Closing);let J=Xn();return _e.createElement(Nd.Provider,{value:G},_e.createElement(OD,{value:Te},J({ourProps:ge,theirProps:D,defaultTag:P1,features:R1,visible:w==="visible",name:"Transition.Child"})))}function u2(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=M.useRef(null),a=C1(t),l=Ar(...a?[o,e]:e===null?[]:[e]);fu();let u=Pd();if(n===void 0&&u!==null&&(n=(u&sr.Open)===sr.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,d]=M.useState(n?"visible":"hidden"),f=A1(()=>{n||d("hidden")}),[p,y]=M.useState(!0),b=M.useRef([n]);Kt(()=>{p!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),y(!1))},[b,n]);let D=M.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);Kt(()=>{n?d("visible"):!Dd(f)&&o.current!==null&&d("hidden")},[n,f]);let g={unmount:i},_=qe(()=>{var V;p&&y(!1),(V=t.beforeEnter)==null||V.call(t)}),k=qe(()=>{var V;p&&y(!1),(V=t.beforeLeave)==null||V.call(t)}),O=Xn();return _e.createElement(Nd.Provider,{value:f},_e.createElement(Rd.Provider,{value:D},O({ourProps:{...g,as:M.Fragment,children:_e.createElement(N1,{ref:l,...g,...s,beforeEnter:_,beforeLeave:k})},theirProps:{},defaultTag:M.Fragment,features:R1,visible:h==="visible",name:"Transition"})))}function c2(t,e){let n=M.useContext(Rd)!==null,r=Pd()!==null;return _e.createElement(_e.Fragment,null,!n&&r?_e.createElement(Vm,{ref:e,...t}):_e.createElement(N1,{ref:e,...t}))}let Vm=kn(u2),N1=kn(l2),Bl=kn(c2),D1=Object.assign(Vm,{Child:Bl,Root:Vm});var h2=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(h2||{}),d2=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(d2||{});let f2={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Sy=M.createContext(null);Sy.displayName="DialogContext";function Od(t){let e=M.useContext(Sy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Od),n}return e}function p2(t,e){return Zr(e.type,f2,t,e)}let c0=kn(function(t,e){let n=M.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:h=!1,...d}=t,f=M.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Pd();i===void 0&&p!==null&&(i=(p&sr.Open)===sr.Open);let y=M.useRef(null),b=Ar(y,e),D=Cd(y),g=i?0:1,[_,k]=M.useReducer(p2,{titleId:null,descriptionId:null,panelRef:M.createRef()}),O=qe(()=>s(!1)),V=qe(P=>k({type:0,id:P})),L=fu()?g===0:!1,[S,x]=HD(),A={get current(){var P;return(P=_.panelRef.current)!=null?P:y.current}},w=T1(),{resolveContainers:R}=QD({mainTreeNode:w,portals:S,defaultContainers:[A]}),I=p!==null?(p&sr.Closing)===sr.Closing:!1;sD(u||I?!1:L,{allowed:qe(()=>{var P,ge;return[(ge=(P=y.current)==null?void 0:P.closest("[data-headlessui-portal]"))!=null?ge:null]}),disallowed:qe(()=>{var P;return[(P=w==null?void 0:w.closest("body > *:not(#headlessui-portal-root)"))!=null?P:null]})});let T=h1.get(null);Kt(()=>{if(L)return T.actions.push(r),()=>T.actions.pop(r)},[T,r,L]);let H=p1(T,M.useCallback(P=>T.selectors.isTop(P,r),[T,r]));yD(H,R,P=>{P.preventDefault(),O()}),GD(H,D==null?void 0:D.defaultView,P=>{P.preventDefault(),P.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),O()}),TD(u||I?!1:L,D,R),oD(L,y,O);let[F,W]=LN(),Z=M.useMemo(()=>[{dialogState:g,close:O,setTitleId:V,unmount:h},_],[g,_,O,V,h]),$=M.useMemo(()=>({open:g===0}),[g]),G={ref:b,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:g===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":F,unmount:h},N=!KD(),X=xs.None;L&&!u&&(X|=xs.RestoreFocus,X|=xs.TabLock,l&&(X|=xs.AutoFocus),N&&(X|=xs.InitialFocus));let ne=Xn();return _e.createElement(LD,null,_e.createElement(l0,{force:!0},_e.createElement(qD,null,_e.createElement(Sy.Provider,{value:Z},_e.createElement(x1,{target:y},_e.createElement(l0,{force:!1},_e.createElement(W,{slot:$},_e.createElement(x,null,_e.createElement(e2,{initialFocus:o,initialFocusFallback:y,containers:R,features:X},_e.createElement($N,{value:O},ne({ourProps:G,theirProps:d,slot:$,defaultTag:m2,features:g2,visible:g===0,name:"Dialog"})))))))))))}),m2="div",g2=Vh.RenderStrategy|Vh.Static;function y2(t,e){let{transition:n=!1,open:r,...i}=t,s=Pd(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?_e.createElement(u0,null,_e.createElement(D1,{show:r,transition:n,unmount:i.unmount},_e.createElement(c0,{ref:e,...i}))):_e.createElement(u0,null,_e.createElement(c0,{ref:e,open:r,...i}))}let v2="div";function _2(t,e){let n=M.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=Od("Dialog.Panel"),u=Ar(e,l.panelRef),h=M.useMemo(()=>({open:o===0}),[o]),d=qe(D=>{D.stopPropagation()}),f={ref:u,id:r,onClick:d},p=i?Bl:M.Fragment,y=i?{unmount:a}:{},b=Xn();return _e.createElement(p,{...y},b({ourProps:f,theirProps:s,slot:h,defaultTag:v2,name:"Dialog.Panel"}))}let w2="div";function E2(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=Od("Dialog.Backdrop"),o=M.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0},l=n?Bl:M.Fragment,u=n?{unmount:s}:{},h=Xn();return _e.createElement(l,{...u},h({ourProps:a,theirProps:r,slot:o,defaultTag:w2,name:"Dialog.Backdrop"}))}let k2="h2";function x2(t,e){let n=M.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Od("Dialog.Title"),a=Ar(e);M.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=M.useMemo(()=>({open:s===0}),[s]),u={ref:a,id:r};return Xn()({ourProps:u,theirProps:i,slot:l,defaultTag:k2,name:"Dialog.Title"})}let b2=kn(y2),O1=kn(_2);kn(E2);let L1=kn(x2),T2=Object.assign(b2,{Panel:O1,Title:L1,Description:s1});function S2({isOpen:t,onClose:e,title:n,children:r,footer:i}){return E.jsx(D1,{appear:!0,show:t,as:M.Fragment,children:E.jsxs(T2,{as:"div",className:"relative z-50",onClose:e,children:[E.jsx(Bl,{as:M.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50","aria-hidden":"true"})}),E.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:E.jsx(Bl,{as:M.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:E.jsxs(O1,{className:"bg-surface-light dark:bg-surface-dark w-full max-w-md m-4 p-6 rounded-lg shadow-xl",role:"document",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx(L1,{as:"h2",className:"text-xl font-bold text-text-dark dark:text-text-light",children:n}),E.jsx("button",{onClick:e,"aria-label":"Close modal",className:"text-gray-500 hover:text-gray-800 dark:hover:text-gray-200",children:""})]}),E.jsx(s1,{as:"div",className:"mb-6 text-text-dark dark:text-text-light",children:r}),E.jsx("div",{className:"flex justify-end gap-3",children:i})]})})})]})})}const an=({children:t,onClick:e,type:n="button",variant:r="primary",className:i="",...s})=>{const o="w-full text-center px-4 py-2 rounded-md font-semibold text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary text-white hover:bg-green-700",secondary:"bg-gray-500 dark:bg-gray-600 text-white hover:bg-gray-600 dark:hover:bg-gray-500",outline:"border border-current text-primary hover:bg-primary/10 dark:hover:bg-primary/20","outline-success":"border border-green-500 text-green-600 hover:bg-green-500/10"};return E.jsx("button",{type:n,onClick:e,className:`${o} ${a[r]} ${i}`,...s,children:t})},kr=({label:t,id:e,...n})=>E.jsxs("div",{children:[E.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),E.jsx("input",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...n})]}),I2=()=>{const[t,e]=M.useState(null),[n,r]=M.useState(null),i=M.useCallback(u=>(r(u),new Promise((h,d)=>{e({resolve:h})})),[]),s=()=>{e(null)},o=u=>{t==null||t.resolve(u),s()},a=()=>{t==null||t.resolve(!1),s()};return{confirm:i,ConfirmationModal:()=>{const[u,h]=M.useState({}),d=p=>{h(y=>({...y,[p.target.name]:p.target.value}))};if(M.useState(()=>{if((n==null?void 0:n.mode)==="form"&&n.inputs){const p={};n.inputs.forEach(y=>{p[y.name]=y.defaultValue||""}),h(p)}},[n]),!t)return null;const f=n.mode==="form";return E.jsx(S2,{isOpen:t!==null,onClose:s,title:n.title,footer:E.jsxs(E.Fragment,{children:[E.jsx(an,{onClick:a,variant:"secondary",children:"Cancel"}),E.jsx(an,{onClick:()=>o(f?u:!0),variant:"primary",children:n.confirmText||"Confirm"})]}),children:f?E.jsx("div",{className:"space-y-4",children:n.inputs.map(p=>E.jsx(kr,{label:p.label,id:p.name,name:p.name,type:p.type||"text",value:u[p.name]||"",onChange:d},p.name))}):E.jsx("p",{children:n.message})})}}};var h0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},F1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(M1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new A2;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const P2=function(t){const e=M1(t);return F1.encodeByteArray(e,!0)},Uh=function(t){return P2(t).replace(/\./g,"")},V1=function(t){try{return F1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=()=>R2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof h0>"u")return;const t=h0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V1(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return N2()||D2()||O2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j1=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L2=t=>{const e=j1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$1=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},U1=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function j2(){var t;const e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B2(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function H2(){return!j2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W2(){try{return typeof indexedDB=="object"}catch{return!1}}function q2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=G2,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?K2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new li(i,a,r)}}function K2(t,e){return t.replace(Q2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q2=/\{\$([^}]+)}/g;function Y2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(d0(s)&&d0(o)){if(!zh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function d0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function X2(t,e){const n=new J2(t,e);return n.subscribe.bind(n)}class J2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ap),i.error===void 0&&(i.error=ap),i.complete===void 0&&(i.complete=ap);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nO(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tO(t){return t===ks?void 0:t}function nO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const iO={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},sO=De.INFO,oO={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},aO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=sO,this._logHandler=aO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const lO=(t,e)=>e.some(n=>t instanceof n);let f0,p0;function uO(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cO(){return p0||(p0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z1=new WeakMap,jm=new WeakMap,B1=new WeakMap,lp=new WeakMap,Cy=new WeakMap;function hO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&z1.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function dO(t){if(jm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jm.set(t,e)}let $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||B1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fO(t){$m=t($m)}function pO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(up(this),e,...n);return B1.set(r,e.sort?e.sort():[e]),qi(r)}:cO().includes(t)?function(...e){return t.apply(up(this),e),qi(z1.get(this))}:function(...e){return qi(t.apply(up(this),e))}}function mO(t){return typeof t=="function"?pO(t):(t instanceof IDBTransaction&&dO(t),lO(t,uO())?new Proxy(t,$m):t)}function qi(t){if(t instanceof IDBRequest)return hO(t);if(lp.has(t))return lp.get(t);const e=mO(t);return e!==t&&(lp.set(t,e),Cy.set(e,t)),e}const up=t=>Cy.get(t);function gO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qi(o.result),l.oldVersion,l.newVersion,qi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yO=["get","getKey","getAll","getAllKeys","count"],vO=["put","add","delete","clear"],cp=new Map;function m0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=vO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return cp.set(e,s),s}fO(t=>({...t,get:(e,n,r)=>m0(e,n)||t.get(e,n,r),has:(e,n)=>!!m0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",g0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Iy("@firebase/app"),EO="@firebase/app-compat",kO="@firebase/analytics-compat",xO="@firebase/analytics",bO="@firebase/app-check-compat",TO="@firebase/app-check",SO="@firebase/auth",IO="@firebase/auth-compat",CO="@firebase/database",AO="@firebase/data-connect",PO="@firebase/database-compat",RO="@firebase/functions",NO="@firebase/functions-compat",DO="@firebase/installations",OO="@firebase/installations-compat",LO="@firebase/messaging",MO="@firebase/messaging-compat",FO="@firebase/performance",VO="@firebase/performance-compat",jO="@firebase/remote-config",$O="@firebase/remote-config-compat",UO="@firebase/storage",zO="@firebase/storage-compat",BO="@firebase/firestore",HO="@firebase/vertexai-preview",WO="@firebase/firestore-compat",qO="firebase",GO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="[DEFAULT]",KO={[Um]:"fire-core",[EO]:"fire-core-compat",[xO]:"fire-analytics",[kO]:"fire-analytics-compat",[TO]:"fire-app-check",[bO]:"fire-app-check-compat",[SO]:"fire-auth",[IO]:"fire-auth-compat",[CO]:"fire-rtdb",[AO]:"fire-data-connect",[PO]:"fire-rtdb-compat",[RO]:"fire-fn",[NO]:"fire-fn-compat",[DO]:"fire-iid",[OO]:"fire-iid-compat",[LO]:"fire-fcm",[MO]:"fire-fcm-compat",[FO]:"fire-perf",[VO]:"fire-perf-compat",[jO]:"fire-rc",[$O]:"fire-rc-compat",[UO]:"fire-gcs",[zO]:"fire-gcs-compat",[BO]:"fire-fst",[WO]:"fire-fst-compat",[HO]:"fire-vertex","fire-js":"fire-js",[qO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,QO=new Map,Bm=new Map;function y0(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(Bm.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Bm.set(e,t);for(const n of Bh.values())y0(n,t);for(const n of QO.values())y0(n,t);return!0}function Ay(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new pu("app","Firebase",YO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=GO;function H1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gi.create("bad-app-name",{appName:String(i)});if(n||(n=$1()),!n)throw Gi.create("no-options");const s=Bh.get(i);if(s){if(zh(n,s.options)&&zh(r,s.config))return s;throw Gi.create("duplicate-app",{appName:i})}const o=new rO(i);for(const l of Bm.values())o.addComponent(l);const a=new XO(n,r,o);return Bh.set(i,a),a}function W1(t=zm){const e=Bh.get(t);if(!e&&t===zm&&$1())return H1();if(!e)throw Gi.create("no-app",{appName:t});return e}function Ki(t,e,n){var r;let i=(r=KO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Yo(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="firebase-heartbeat-database",ZO=1,Hl="firebase-heartbeat-store";let hp=null;function q1(){return hp||(hp=gO(JO,ZO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gi.create("idb-open",{originalErrorMessage:t.message})})),hp}async function eL(t){try{const n=(await q1()).transaction(Hl),r=await n.objectStore(Hl).get(G1(t));return await n.done,r}catch(e){if(e instanceof li)ei.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function v0(t,e){try{const r=(await q1()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,G1(t)),await r.done}catch(n){if(n instanceof li)ei.warn(n.message);else{const r=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function G1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=1024,nL=30*24*60*60*1e3;class rL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=nL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_0(),{heartbeatsToSend:r,unsentEntries:i}=iL(this._heartbeatsCache.heartbeats),s=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ei.warn(n),""}}}function _0(){return new Date().toISOString().substring(0,10)}function iL(t,e=tL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W2()?q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w0(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){Yo(new Bs("platform-logger",e=>new _O(e),"PRIVATE")),Yo(new Bs("heartbeat",e=>new rL(e),"PRIVATE")),Ki(Um,g0,t),Ki(Um,g0,"esm2017"),Ki("fire-js","")}oL("");var aL="firebase",lL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(aL,lL,"app");function Py(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uL=K1,Q1=new pu("auth","Firebase",K1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Iy("@firebase/auth");function cL(t,...e){Hh.logLevel<=De.WARN&&Hh.warn(`Auth (${la}): ${t}`,...e)}function Qc(t,...e){Hh.logLevel<=De.ERROR&&Hh.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw Ny(t,...e)}function lr(t,...e){return Ny(t,...e)}function Ry(t,e,n){const r=Object.assign(Object.assign({},uL()),{[e]:n});return new pu("auth","Firebase",r).create(e,{appName:t.name})}function Qi(t){return Ry(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ir(t,"argument-error"),Ry(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ny(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Q1.create(t,...e)}function ye(t,e,...n){if(!t)throw Ny(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function ti(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dL(){return E0()==="http:"||E0()==="https:"}function E0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dL()||U2()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=V2()||z2()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t,e){ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new gu(3e4,6e4);function Md(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ua(t,e,n,r,i={}){return X1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return $2()||(u.referrerPolicy="no-referrer"),Y1.fetch()(Z1(t,t.config.apiHost,n,a),u)})}async function X1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mL),e);try{const i=new yL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ec(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ec(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ec(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ry(t,h,u);Ir(t,h)}}catch(i){if(i instanceof li)throw i;Ir(t,"network-request-failed",{message:String(i)})}}async function J1(t,e,n,r,i={}){const s=await ua(t,e,n,r,i);return"mfaPendingCredential"in s&&Ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dy(t.config,i):`${t.config.apiScheme}://${i}`}class yL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),gL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ec(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e){return ua(t,"POST","/v1/accounts:delete",e)}async function eT(t,e){return ua(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _L(t,e=!1){const n=xt(t),r=await n.getIdToken(e),i=Oy(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:yl(dp(i.auth_time)),issuedAtTime:yl(dp(i.iat)),expirationTime:yl(dp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function dp(t){return Number(t)*1e3}function Oy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=V1(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function k0(t){const e=Oy(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof li&&wL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wl(t,eT(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tT(s.providerUserInfo):[],a=xL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function kL(t){const e=xt(t);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tT(t){return t.map(e=>{var{providerId:n}=e,r=Py(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e){const n=await X1(t,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Z1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TL(t,e){return ua(t,"POST","/v2/accounts:revokeToken",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=k0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await bL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fo;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Py(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _L(this,e)}reload(){return kL(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await Wl(this,vL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:O,isAnonymous:V,providerData:L,stsTokenManager:S}=n;ye(k&&S,e,"internal-error");const x=Fo.fromJSON(this.name,S);ye(typeof k=="string",e,"internal-error"),yi(d,e.name),yi(f,e.name),ye(typeof O=="boolean",e,"internal-error"),ye(typeof V=="boolean",e,"internal-error"),yi(p,e.name),yi(y,e.name),yi(b,e.name),yi(D,e.name),yi(g,e.name),yi(_,e.name);const A=new zr({uid:k,auth:e,email:f,emailVerified:O,displayName:d,isAnonymous:V,photoURL:y,phoneNumber:p,tenantId:b,stsTokenManager:x,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(A.providerData=L.map(w=>Object.assign({},w))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fo;i.updateFromServerResponse(n);const s=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fo;a.updateFromIdToken(r);const l=new zr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function Br(t){ti(t instanceof Function,"Expected a class definition");let e=x0.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nT.type="NONE";const b0=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vo(Br(b0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Br(b0);const o=Yc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=zr._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Vo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(uT(e))return"Webos";if(iT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(aT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rT(t=Yt()){return/firefox\//i.test(t)}function iT(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(t=Yt()){return/crios\//i.test(t)}function oT(t=Yt()){return/iemobile/i.test(t)}function aT(t=Yt()){return/android/i.test(t)}function lT(t=Yt()){return/blackberry/i.test(t)}function uT(t=Yt()){return/webos/i.test(t)}function Ly(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function SL(t=Yt()){var e;return Ly(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IL(){return B2()&&document.documentMode===10}function cT(t=Yt()){return Ly(t)||aT(t)||uT(t)||lT(t)||/windows phone/i.test(t)||oT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e=[]){let n;switch(t){case"Browser":n=T0(Yt());break;case"Worker":n=`${T0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(t,e={}){return ua(t,"GET","/v2/passwordPolicy",Md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=6;class RL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:PL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new CL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await eT(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Qi(this));const n=e?xt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AL(this),n=new RL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yu(t){return xt(t)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=X2(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DL(t){My=t}function OL(t){return My.loadJS(t)}function LL(){return My.gapiScript}function ML(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e){const n=Ay(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zh(s,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function VL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jL(t,e,n){const r=yu(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=dT(e),{host:o,port:a}=$L(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),UL()}function dT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $L(t){const e=dT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:I0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:I0(o)}}}function I0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e){return J1(t,"POST","/v1/accounts:signInWithIdp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="http://localhost";class Hs extends fT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Py(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:zL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends Fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends vu{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ii.credential(e.oauthAccessToken)}catch{return null}}}Ii.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ii.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends vu{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends vu{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){return J1(t,"POST","/v1/accounts:signUp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zr._fromIdTokenResponse(e,r,i),o=C0(r);return new es({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=C0(r);return new es({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function C0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t){var e;if(yr(t.app))return Promise.reject(Qi(t));const n=yu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new es({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await BL(n,{returnSecureToken:!0}),i=await es._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends li{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qh(e,n,r,i)}}function pT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(t,s,e,r):s})}async function WL(t,e,n=!1){const r=await Wl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return es._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(Qi(r));const i="reauthenticate";try{const s=await Wl(t,pT(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=Oy(s.idToken);ye(o,r,"internal-error");const{sub:a}=o;return ye(t.uid===a,r,"user-mismatch"),es._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e,n=!1){if(yr(t.app))return Promise.reject(Qi(t));const r="signIn",i=await pT(t,r,e),s=await es._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function KL(t,e,n,r){return xt(t).onIdTokenChanged(e,n,r)}function QL(t,e,n){return xt(t).beforeAuthStateChanged(e,n)}function YL(t,e,n,r){return xt(t).onAuthStateChanged(e,n,r)}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=1e3,JL=10;class gT extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,JL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gT.type="LOCAL";const ZL=gT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yT.type="SESSION";const vT=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await eM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Vy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function nM(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function rM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sM(){return _T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",oM=1,Kh="firebaseLocalStorage",ET="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function aM(){const t=indexedDB.deleteDatabase(wT);return new _u(t).toPromise()}function qm(){const t=indexedDB.open(wT,oM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kh,{keyPath:ET})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await aM(),e(await qm()))})})}async function A0(t,e,n){const r=Vd(t,!0).put({[ET]:e,value:n});return new _u(r).toPromise()}async function lM(t,e){const n=Vd(t,!1).get(e),r=await new _u(n).toPromise();return r===void 0?null:r.value}function P0(t,e){const n=Vd(t,!0).delete(e);return new _u(n).toPromise()}const uM=800,cM=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(sM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rM(),!this.activeServiceWorker)return;this.sender=new tM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await A0(e,Gh,"1"),await P0(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>A0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vd(i,!1).getAll();return new _u(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const hM=kT;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t,e){return e?Br(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends fT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dM(t){return GL(t.auth,new jy(t),t.bypassAuthState)}function fM(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),qL(n,new jy(t),t.bypassAuthState)}async function pM(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),WL(n,new jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dM;case"linkViaPopup":case"linkViaRedirect":return pM;case"reauthViaPopup":case"reauthViaRedirect":return fM;default:Ir(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new gu(2e3,1e4);async function gM(t,e,n){if(yr(t.app))return Promise.reject(lr(t,"operation-not-supported-in-this-environment"));const r=yu(t);hL(t,e,Fy);const i=xT(r,n);return new Ps(r,"signInViaPopup",e,i).executeNotNull()}class Ps extends bT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mM.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="pendingRedirect",Xc=new Map;class vM extends bT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xc.get(this.auth._key());if(!e){try{const r=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xc.set(this.auth._key(),e)}return this.bypassAuthState||Xc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(t,e){const n=kM(e),r=EM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wM(t,e){Xc.set(t._key(),e)}function EM(t){return Br(t._redirectPersistence)}function kM(t){return Yc(yM,t.config.apiKey,t.name)}async function xM(t,e,n=!1){if(yr(t.app))return Promise.reject(Qi(t));const r=yu(t),i=xT(r,e),o=await new vM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=10*60*1e3;class TM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bM&&this.cachedEventUids.clear(),this.cachedEventUids.has(R0(e))}saveEventToCache(e){this.cachedEventUids.add(R0(e)),this.lastProcessedEventTime=Date.now()}}function R0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e={}){return ua(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AM=/^https?/;async function PM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IM(t);for(const n of e)try{if(RM(n))return}catch{}Ir(t,"unauthorized-domain")}function RM(t){const e=Hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!AM.test(n))return!1;if(CM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new gu(3e4,6e4);function N0(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DM(t){return new Promise((e,n)=>{var r,i,s;function o(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),n(lr(t,"network-request-failed"))},timeout:NM.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xr().gapi)===null||s===void 0)&&s.load)o();else{const a=ML("iframefcb");return xr()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},OL(`${LL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function OM(t){return Jc=Jc||DM(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new gu(5e3,15e3),MM="__/auth/iframe",FM="emulator/auth/iframe",VM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $M(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dy(e,FM):`https://${t.config.authDomain}/${MM}`,r={apiKey:e.apiKey,appName:t.name,v:la},i=jM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${mu(r).slice(1)}`}async function UM(t){const e=await OM(t),n=xr().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:$M(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=xr().setTimeout(()=>{s(o)},LM.get());function l(){xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BM=500,HM=600,WM="_blank",qM="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GM(t,e,n,r=BM,i=HM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Yt().toLowerCase();n&&(a=sT(u)?WM:n),rT(u)&&(e=e||qM,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,y])=>`${f}${p}=${y},`,"");if(SL(u)&&a!=="_self")return KM(e||"",a),new D0(null);const d=window.open(e||"",a,h);ye(d,t,"popup-blocked");try{d.focus()}catch{}return new D0(d)}function KM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="__/auth/handler",YM="emulator/auth/handler",XM=encodeURIComponent("fac");async function O0(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:i};if(e instanceof Fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Y2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof vu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${XM}=${encodeURIComponent(l)}`:"";return`${JM(t)}?${mu(a).slice(1)}${u}`}function JM({config:t}){return t.emulator?Dy(t,YM):`https://${t.authDomain}/${QM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="webStorageSupport";class ZM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=xM,this._overrideRedirectResult=wM}async _openPopup(e,n,r,i){var s;ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await O0(e,n,r,Hm(),i);return GM(e,o,Vy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await O0(e,n,r,Hm(),i);return nM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UM(e),r=new TM(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fp,{type:fp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fp];o!==void 0&&n(!!o),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cT()||iT()||Ly()}}const eF=ZM;var L0="@firebase/auth",M0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rF(t){Yo(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(t)},u=new NL(r,i,s,l);return VL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Bs("auth-internal",e=>{const n=yu(e.getProvider("auth").getImmediate());return(r=>new tF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(L0,M0,nF(t)),Ki(L0,M0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=5*60,sF=U1("authIdTokenMaxAge")||iF;let F0=null;const oF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sF)return;const i=n==null?void 0:n.token;F0!==i&&(F0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aF(t=W1()){const e=Ay(t,"auth");if(e.isInitialized())return e.getImmediate();const n=FL(t,{popupRedirectResolver:eF,persistence:[hM,ZL,vT]}),r=U1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=oF(s.toString());QL(n,o,()=>o(n.currentUser)),KL(n,a=>o(a))}}const i=j1("auth");return i&&jL(n,`http://${i}`),n}function lF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}DL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rF("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,ST;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,x){function A(){}A.prototype=x.prototype,S.D=x.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(w,R,I){for(var T=Array(arguments.length-2),H=2;H<arguments.length;H++)T[H-2]=arguments[H];return x.prototype[R].apply(w,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,x,A){A||(A=0);var w=Array(16);if(typeof x=="string")for(var R=0;16>R;++R)w[R]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(R=0;16>R;++R)w[R]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=S.g[0],A=S.g[1],R=S.g[2];var I=S.g[3],T=x+(I^A&(R^I))+w[0]+3614090360&4294967295;x=A+(T<<7&4294967295|T>>>25),T=I+(R^x&(A^R))+w[1]+3905402710&4294967295,I=x+(T<<12&4294967295|T>>>20),T=R+(A^I&(x^A))+w[2]+606105819&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(x^R&(I^x))+w[3]+3250441966&4294967295,A=R+(T<<22&4294967295|T>>>10),T=x+(I^A&(R^I))+w[4]+4118548399&4294967295,x=A+(T<<7&4294967295|T>>>25),T=I+(R^x&(A^R))+w[5]+1200080426&4294967295,I=x+(T<<12&4294967295|T>>>20),T=R+(A^I&(x^A))+w[6]+2821735955&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(x^R&(I^x))+w[7]+4249261313&4294967295,A=R+(T<<22&4294967295|T>>>10),T=x+(I^A&(R^I))+w[8]+1770035416&4294967295,x=A+(T<<7&4294967295|T>>>25),T=I+(R^x&(A^R))+w[9]+2336552879&4294967295,I=x+(T<<12&4294967295|T>>>20),T=R+(A^I&(x^A))+w[10]+4294925233&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(x^R&(I^x))+w[11]+2304563134&4294967295,A=R+(T<<22&4294967295|T>>>10),T=x+(I^A&(R^I))+w[12]+1804603682&4294967295,x=A+(T<<7&4294967295|T>>>25),T=I+(R^x&(A^R))+w[13]+4254626195&4294967295,I=x+(T<<12&4294967295|T>>>20),T=R+(A^I&(x^A))+w[14]+2792965006&4294967295,R=I+(T<<17&4294967295|T>>>15),T=A+(x^R&(I^x))+w[15]+1236535329&4294967295,A=R+(T<<22&4294967295|T>>>10),T=x+(R^I&(A^R))+w[1]+4129170786&4294967295,x=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(x^A))+w[6]+3225465664&4294967295,I=x+(T<<9&4294967295|T>>>23),T=R+(x^A&(I^x))+w[11]+643717713&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^x&(R^I))+w[0]+3921069994&4294967295,A=R+(T<<20&4294967295|T>>>12),T=x+(R^I&(A^R))+w[5]+3593408605&4294967295,x=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(x^A))+w[10]+38016083&4294967295,I=x+(T<<9&4294967295|T>>>23),T=R+(x^A&(I^x))+w[15]+3634488961&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^x&(R^I))+w[4]+3889429448&4294967295,A=R+(T<<20&4294967295|T>>>12),T=x+(R^I&(A^R))+w[9]+568446438&4294967295,x=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(x^A))+w[14]+3275163606&4294967295,I=x+(T<<9&4294967295|T>>>23),T=R+(x^A&(I^x))+w[3]+4107603335&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^x&(R^I))+w[8]+1163531501&4294967295,A=R+(T<<20&4294967295|T>>>12),T=x+(R^I&(A^R))+w[13]+2850285829&4294967295,x=A+(T<<5&4294967295|T>>>27),T=I+(A^R&(x^A))+w[2]+4243563512&4294967295,I=x+(T<<9&4294967295|T>>>23),T=R+(x^A&(I^x))+w[7]+1735328473&4294967295,R=I+(T<<14&4294967295|T>>>18),T=A+(I^x&(R^I))+w[12]+2368359562&4294967295,A=R+(T<<20&4294967295|T>>>12),T=x+(A^R^I)+w[5]+4294588738&4294967295,x=A+(T<<4&4294967295|T>>>28),T=I+(x^A^R)+w[8]+2272392833&4294967295,I=x+(T<<11&4294967295|T>>>21),T=R+(I^x^A)+w[11]+1839030562&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^x)+w[14]+4259657740&4294967295,A=R+(T<<23&4294967295|T>>>9),T=x+(A^R^I)+w[1]+2763975236&4294967295,x=A+(T<<4&4294967295|T>>>28),T=I+(x^A^R)+w[4]+1272893353&4294967295,I=x+(T<<11&4294967295|T>>>21),T=R+(I^x^A)+w[7]+4139469664&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^x)+w[10]+3200236656&4294967295,A=R+(T<<23&4294967295|T>>>9),T=x+(A^R^I)+w[13]+681279174&4294967295,x=A+(T<<4&4294967295|T>>>28),T=I+(x^A^R)+w[0]+3936430074&4294967295,I=x+(T<<11&4294967295|T>>>21),T=R+(I^x^A)+w[3]+3572445317&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^x)+w[6]+76029189&4294967295,A=R+(T<<23&4294967295|T>>>9),T=x+(A^R^I)+w[9]+3654602809&4294967295,x=A+(T<<4&4294967295|T>>>28),T=I+(x^A^R)+w[12]+3873151461&4294967295,I=x+(T<<11&4294967295|T>>>21),T=R+(I^x^A)+w[15]+530742520&4294967295,R=I+(T<<16&4294967295|T>>>16),T=A+(R^I^x)+w[2]+3299628645&4294967295,A=R+(T<<23&4294967295|T>>>9),T=x+(R^(A|~I))+w[0]+4096336452&4294967295,x=A+(T<<6&4294967295|T>>>26),T=I+(A^(x|~R))+w[7]+1126891415&4294967295,I=x+(T<<10&4294967295|T>>>22),T=R+(x^(I|~A))+w[14]+2878612391&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~x))+w[5]+4237533241&4294967295,A=R+(T<<21&4294967295|T>>>11),T=x+(R^(A|~I))+w[12]+1700485571&4294967295,x=A+(T<<6&4294967295|T>>>26),T=I+(A^(x|~R))+w[3]+2399980690&4294967295,I=x+(T<<10&4294967295|T>>>22),T=R+(x^(I|~A))+w[10]+4293915773&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~x))+w[1]+2240044497&4294967295,A=R+(T<<21&4294967295|T>>>11),T=x+(R^(A|~I))+w[8]+1873313359&4294967295,x=A+(T<<6&4294967295|T>>>26),T=I+(A^(x|~R))+w[15]+4264355552&4294967295,I=x+(T<<10&4294967295|T>>>22),T=R+(x^(I|~A))+w[6]+2734768916&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~x))+w[13]+1309151649&4294967295,A=R+(T<<21&4294967295|T>>>11),T=x+(R^(A|~I))+w[4]+4149444226&4294967295,x=A+(T<<6&4294967295|T>>>26),T=I+(A^(x|~R))+w[11]+3174756917&4294967295,I=x+(T<<10&4294967295|T>>>22),T=R+(x^(I|~A))+w[2]+718787259&4294967295,R=I+(T<<15&4294967295|T>>>17),T=A+(I^(R|~x))+w[9]+3951481745&4294967295,S.g[0]=S.g[0]+x&4294967295,S.g[1]=S.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+I&4294967295}r.prototype.u=function(S,x){x===void 0&&(x=S.length);for(var A=x-this.blockSize,w=this.B,R=this.h,I=0;I<x;){if(R==0)for(;I<=A;)i(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<x;)if(w[R++]=S.charCodeAt(I++),R==this.blockSize){i(this,w),R=0;break}}else for(;I<x;)if(w[R++]=S[I++],R==this.blockSize){i(this,w),R=0;break}}this.h=R,this.o+=x},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var x=1;x<S.length-8;++x)S[x]=0;var A=8*this.o;for(x=S.length-8;x<S.length;++x)S[x]=A&255,A/=256;for(this.u(S),S=Array(16),x=A=0;4>x;++x)for(var w=0;32>w;w+=8)S[A++]=this.g[x]>>>w&255;return S};function s(S,x){var A=a;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=x(S)}function o(S,x){this.h=x;for(var A=[],w=!0,R=S.length-1;0<=R;R--){var I=S[R]|0;w&&I==x||(A[R]=I,w=!1)}this.g=A}var a={};function l(S){return-128<=S&&128>S?s(S,function(x){return new o([x|0],0>x?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return D(u(-S));for(var x=[],A=1,w=0;S>=A;w++)x[w]=S/A|0,A*=4294967296;return new o(x,0)}function h(S,x){if(S.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S.charAt(0)=="-")return D(h(S.substring(1),x));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(x,8)),w=d,R=0;R<S.length;R+=8){var I=Math.min(8,S.length-R),T=parseInt(S.substring(R,R+I),x);8>I?(I=u(Math.pow(x,I)),w=w.j(I).add(u(T))):(w=w.j(A),w=w.add(u(T)))}return w}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-D(this).m();for(var S=0,x=1,A=0;A<this.g.length;A++){var w=this.i(A);S+=(0<=w?w:4294967296+w)*x,x*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(b(this))return"-"+D(this).toString(S);for(var x=u(Math.pow(S,6)),A=this,w="";;){var R=O(A,x).g;A=g(A,R.j(x));var I=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=R,y(A))return I+w;for(;6>I.length;)I="0"+I;w=I+w}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(var x=0;x<S.g.length;x++)if(S.g[x]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=g(this,S),b(S)?-1:y(S)?0:1};function D(S){for(var x=S.g.length,A=[],w=0;w<x;w++)A[w]=~S.g[w];return new o(A,~S.h).add(f)}t.abs=function(){return b(this)?D(this):this},t.add=function(S){for(var x=Math.max(this.g.length,S.g.length),A=[],w=0,R=0;R<=x;R++){var I=w+(this.i(R)&65535)+(S.i(R)&65535),T=(I>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);w=T>>>16,I&=65535,T&=65535,A[R]=T<<16|I}return new o(A,A[A.length-1]&-2147483648?-1:0)};function g(S,x){return S.add(D(x))}t.j=function(S){if(y(this)||y(S))return d;if(b(this))return b(S)?D(this).j(D(S)):D(D(this).j(S));if(b(S))return D(this.j(D(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var x=this.g.length+S.g.length,A=[],w=0;w<2*x;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var R=0;R<S.g.length;R++){var I=this.i(w)>>>16,T=this.i(w)&65535,H=S.i(R)>>>16,F=S.i(R)&65535;A[2*w+2*R]+=T*F,_(A,2*w+2*R),A[2*w+2*R+1]+=I*F,_(A,2*w+2*R+1),A[2*w+2*R+1]+=T*H,_(A,2*w+2*R+1),A[2*w+2*R+2]+=I*H,_(A,2*w+2*R+2)}for(w=0;w<x;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=x;w<2*x;w++)A[w]=0;return new o(A,0)};function _(S,x){for(;(S[x]&65535)!=S[x];)S[x+1]+=S[x]>>>16,S[x]&=65535,x++}function k(S,x){this.g=S,this.h=x}function O(S,x){if(y(x))throw Error("division by zero");if(y(S))return new k(d,d);if(b(S))return x=O(D(S),x),new k(D(x.g),D(x.h));if(b(x))return x=O(S,D(x)),new k(D(x.g),x.h);if(30<S.g.length){if(b(S)||b(x))throw Error("slowDivide_ only works with positive integers.");for(var A=f,w=x;0>=w.l(S);)A=V(A),w=V(w);var R=L(A,1),I=L(w,1);for(w=L(w,2),A=L(A,2);!y(w);){var T=I.add(w);0>=T.l(S)&&(R=R.add(A),I=T),w=L(w,1),A=L(A,1)}return x=g(S,R.j(x)),new k(R,x)}for(R=d;0<=S.l(x);){for(A=Math.max(1,Math.floor(S.m()/x.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),I=u(A),T=I.j(x);b(T)||0<T.l(S);)A-=w,I=u(A),T=I.j(x);y(I)&&(I=f),R=R.add(I),S=g(S,T)}return new k(R,S)}t.A=function(S){return O(this,S).h},t.and=function(S){for(var x=Math.max(this.g.length,S.g.length),A=[],w=0;w<x;w++)A[w]=this.i(w)&S.i(w);return new o(A,this.h&S.h)},t.or=function(S){for(var x=Math.max(this.g.length,S.g.length),A=[],w=0;w<x;w++)A[w]=this.i(w)|S.i(w);return new o(A,this.h|S.h)},t.xor=function(S){for(var x=Math.max(this.g.length,S.g.length),A=[],w=0;w<x;w++)A[w]=this.i(w)^S.i(w);return new o(A,this.h^S.h)};function V(S){for(var x=S.g.length+1,A=[],w=0;w<x;w++)A[w]=S.i(w)<<1|S.i(w-1)>>>31;return new o(A,S.h)}function L(S,x){var A=x>>5;x%=32;for(var w=S.g.length-A,R=[],I=0;I<w;I++)R[I]=0<x?S.i(I+A)>>>x|S.i(I+A+1)<<32-x:S.i(I+A);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ST=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ms=o}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Ya,CT,Zc,Gm,AT,PT,RT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,v){return c==Array.prototype||c==Object.prototype||(c[m]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var v=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var j=c[C];if(!(j in v))break e;v=v[j]}c=c[c.length-1],C=v[c],m=m(C),m!=C&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var v=0,C=!1,j={next:function(){if(!C&&v<c.length){var U=v++;return{value:m(U,c[U]),done:!1}}return C=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,v){return c.call.apply(c.bind,arguments)}function d(c,m,v){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,C),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function f(c,m,v){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function p(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function y(c,m){function v(){}v.prototype=m.prototype,c.aa=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(C,j,U){for(var te=Array(arguments.length-2),We=2;We<arguments.length;We++)te[We-2]=arguments[We];return m.prototype[j].apply(C,te)}}function b(c){const m=c.length;if(0<m){const v=Array(m);for(let C=0;C<m;C++)v[C]=c[C];return v}return[]}function D(c,m){for(let v=1;v<arguments.length;v++){const C=arguments[v];if(l(C)){const j=c.length||0,U=C.length||0;c.length=j+U;for(let te=0;te<U;te++)c[j+te]=C[te]}else c.push(C)}}class g{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function O(c){return O[" "](c),c}O[" "]=function(){};var V=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function L(c,m,v){for(const C in c)m.call(v,c[C],C,c)}function S(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function x(c){const m={};for(const v in c)m[v]=c[v];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,m){let v,C;for(let j=1;j<arguments.length;j++){C=arguments[j];for(v in C)c[v]=C[v];for(let U=0;U<A.length;U++)v=A[U],Object.prototype.hasOwnProperty.call(C,v)&&(c[v]=C[v])}}function R(c){var m=1;c=c.split(":");const v=[];for(;0<m&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function I(c){a.setTimeout(()=>{throw c},0)}function T(){var c=G;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class H{constructor(){this.h=this.g=null}add(m,v){const C=F.get();C.set(m,v),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new g(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,$=!1,G=new H,N=()=>{const c=a.Promise.resolve(void 0);Z=()=>{c.then(X)}};var X=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(v){I(v)}var m=F;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};a.addEventListener("test",v,m),a.removeEventListener("test",v,m)}catch{}return c}();function Te(c,m){if(P.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(V){e:{try{O(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:J[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Te.aa.h.call(this)}}y(Te,P);var J={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function we(c,m,v,C,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!C,this.ha=j,this.key=++ie,this.da=this.fa=!1}function Me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,v,C,j){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var te=ze(c,m,C,j);return-1<te?(m=c[te],v||(m.fa=!1)):(m=new we(m,this.src,U,!!C,j),m.fa=v,c.push(m)),m};function ue(c,m){var v=m.type;if(v in c.g){var C=c.g[v],j=Array.prototype.indexOf.call(C,m,void 0),U;(U=0<=j)&&Array.prototype.splice.call(C,j,1),U&&(Me(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ze(c,m,v,C){for(var j=0;j<c.length;++j){var U=c[j];if(!U.da&&U.listener==m&&U.capture==!!v&&U.ha==C)return j}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),Ye={};function bt(c,m,v,C,j){if(Array.isArray(m)){for(var U=0;U<m.length;U++)bt(c,m[U],v,C,j);return null}return v=Lu(v),c&&c[re]?c.K(m,v,u(C)?!!C.capture:!1,j):bn(c,m,v,!1,C,j)}function bn(c,m,v,C,j,U){if(!m)throw Error("Invalid event type");var te=u(j)?!!j.capture:!!j,We=ma(c);if(We||(c[Ae]=We=new ae(c)),v=We.add(m,v,C,te,U),v.proxy)return v;if(C=Ft(),v.proxy=C,C.src=c,C.listener=v,c.addEventListener)ge||(j=te),j===void 0&&(j=!1),c.addEventListener(m.toString(),C,j);else if(c.attachEvent)c.attachEvent(Ou(m.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ft(){function c(v){return m.call(c.src,c.listener,v)}const m=af;return c}function Jt(c,m,v,C,j){if(Array.isArray(m))for(var U=0;U<m.length;U++)Jt(c,m[U],v,C,j);else C=u(C)?!!C.capture:!!C,v=Lu(v),c&&c[re]?(c=c.i,m=String(m).toString(),m in c.g&&(U=c.g[m],v=ze(U,v,C,j),-1<v&&(Me(U[v]),Array.prototype.splice.call(U,v,1),U.length==0&&(delete c.g[m],c.h--)))):c&&(c=ma(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ze(m,v,C,j)),(v=-1<c?m[c]:null)&&ci(v))}function ci(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[re])ue(m.i,c);else{var v=c.type,C=c.proxy;m.removeEventListener?m.removeEventListener(v,C,c.capture):m.detachEvent?m.detachEvent(Ou(v),C):m.addListener&&m.removeListener&&m.removeListener(C),(v=ma(m))?(ue(v,c),v.h==0&&(v.src=null,m[Ae]=null)):Me(c)}}}function Ou(c){return c in Ye?Ye[c]:Ye[c]="on"+c}function af(c,m){if(c.da)c=!0;else{m=new Te(m,this);var v=c.listener,C=c.ha||c.src;c.fa&&ci(c),c=v.call(C,m)}return c}function ma(c){return c=c[Ae],c instanceof ae?c:null}var ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(c){return typeof c=="function"?c:(c[ga]||(c[ga]=function(m){return c.handleEvent(m)}),c[ga])}function z(){ne.call(this),this.i=new ae(this),this.M=this,this.F=null}y(z,ne),z.prototype[re]=!0,z.prototype.removeEventListener=function(c,m,v,C){Jt(this,c,m,v,C)};function K(c,m){var v,C=c.F;if(C)for(v=[];C;C=C.F)v.push(C);if(c=c.M,C=m.type||m,typeof m=="string")m=new P(m,c);else if(m instanceof P)m.target=m.target||c;else{var j=m;m=new P(C,c),w(m,j)}if(j=!0,v)for(var U=v.length-1;0<=U;U--){var te=m.g=v[U];j=fe(te,C,!0,m)&&j}if(te=m.g=c,j=fe(te,C,!0,m)&&j,j=fe(te,C,!1,m)&&j,v)for(U=0;U<v.length;U++)te=m.g=v[U],j=fe(te,C,!1,m)&&j}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var v=c.g[m],C=0;C<v.length;C++)Me(v[C]);delete c.g[m],c.h--}}this.F=null},z.prototype.K=function(c,m,v,C){return this.i.add(String(c),m,!1,v,C)},z.prototype.L=function(c,m,v,C){return this.i.add(String(c),m,!0,v,C)};function fe(c,m,v,C){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,U=0;U<m.length;++U){var te=m[U];if(te&&!te.da&&te.capture==v){var We=te.listener,Ct=te.ha||te.src;te.fa&&ue(c.i,te),j=We.call(Ct,C)!==!1&&j}}return j&&!C.defaultPrevented}function Se(c,m,v){if(typeof c=="function")v&&(c=f(c,v));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function $e(c){c.g=Se(()=>{c.g=null,c.i&&(c.i=!1,$e(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Tn extends ne{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$e(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(c){ne.call(this),this.h=c,this.g={}}y(Sn,ne);var Un=[];function hi(c){L(c.g,function(m,v){this.g.hasOwnProperty(v)&&ci(m)},c),c.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),hi(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=a.JSON.stringify,Zt=a.JSON.parse,di=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function In(){}In.prototype.h=null;function $v(c){return c.h||(c.h=c.i())}function Uv(){}var ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){P.call(this,"d")}y(lf,P);function uf(){P.call(this,"c")}y(uf,P);var cs={},zv=null;function Mu(){return zv=zv||new z}cs.La="serverreachability";function Bv(c){P.call(this,cs.La,c)}y(Bv,P);function va(c){const m=Mu();K(m,new Bv(m))}cs.STAT_EVENT="statevent";function Hv(c,m){P.call(this,cs.STAT_EVENT,c),this.stat=m}y(Hv,P);function en(c){const m=Mu();K(m,new Hv(m,c))}cs.Ma="timingevent";function Wv(c,m){P.call(this,cs.Ma,c),this.size=m}y(Wv,P);function _a(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function wa(){this.g=!0}wa.prototype.xa=function(){this.g=!1};function tC(c,m,v,C,j,U){c.info(function(){if(c.g)if(U)for(var te="",We=U.split("&"),Ct=0;Ct<We.length;Ct++){var Ve=We[Ct].split("=");if(1<Ve.length){var Vt=Ve[0];Ve=Ve[1];var jt=Vt.split("_");te=2<=jt.length&&jt[1]=="type"?te+(Vt+"="+Ve+"&"):te+(Vt+"=redacted&")}}else te=null;else te=U;return"XMLHTTP REQ ("+C+") [attempt "+j+"]: "+m+`
`+v+`
`+te})}function nC(c,m,v,C,j,U,te){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+j+"]: "+m+`
`+v+`
`+U+" "+te})}function ro(c,m,v,C){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+iC(c,v)+(C?" "+C:"")})}function rC(c,m){c.info(function(){return"TIMEOUT: "+m})}wa.prototype.info=function(){};function iC(c,m){if(!c.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var C=v[c];if(!(2>C.length)){var j=C[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var te=1;te<j.length;te++)j[te]=""}}}}return Rr(v)}catch{return m}}var Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cf;function Vu(){}y(Vu,In),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},cf=new Vu;function fi(c,m,v,C){this.j=c,this.i=m,this.l=v,this.R=C||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gv}function Gv(){this.i=null,this.g="",this.h=!1}var Kv={},hf={};function df(c,m,v){c.L=1,c.v=zu(Nr(m)),c.m=v,c.P=!0,Qv(c,null)}function Qv(c,m){c.F=Date.now(),ju(c),c.A=Nr(c.v);var v=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),u_(v.i,"t",C),c.C=0,v=c.j.J,c.h=new Gv,c.g=I_(c.j,v?m:null,!c.m),0<c.O&&(c.M=new Tn(f(c.Y,c,c.g),c.O)),m=c.U,v=c.g,C=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Un[0]=j.toString()),j=Un);for(var U=0;U<j.length;U++){var te=bt(v,j[U],C||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),va(),tC(c.i,c.u,c.A,c.l,c.R,c.m)}fi.prototype.ca=function(c){c=c.target;const m=this.M;m&&Dr(c)==3?m.j():this.Y(c)},fi.prototype.Y=function(c){try{if(c==this.g)e:{const jt=Dr(this.g);var m=this.g.Ba();const oo=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||g_(this.g)))){this.J||jt!=4||m==7||(m==8||0>=oo?va(3):va(2)),ff(this);var v=this.g.Z();this.X=v;t:if(Yv(this)){var C=g_(this.g);c="";var j=C.length,U=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),Ea(this);var te="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(C[m],{stream:!(U&&m==j-1)});C.length=0,this.h.g+=c,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=v==200,nC(this.i,this.u,this.A,this.l,this.R,jt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Ct=this.g;if((We=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(We)){var Ve=We;break t}}Ve=null}if(v=Ve)ro(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,v);else{this.o=!1,this.s=3,en(12),hs(this),Ea(this);break e}}if(this.P){v=!0;let Jn;for(;!this.J&&this.C<te.length;)if(Jn=sC(this,te),Jn==hf){jt==4&&(this.s=4,en(14),v=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Kv){this.s=4,en(15),ro(this.i,this.l,te,"[Invalid Chunk]"),v=!1;break}else ro(this.i,this.l,Jn,null),pf(this,Jn);if(Yv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||te.length!=0||this.h.h||(this.s=1,en(16),v=!1),this.o=this.o&&v,!v)ro(this.i,this.l,te,"[Invalid Chunked Response]"),hs(this),Ea(this);else if(0<te.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),wf(Vt),Vt.M=!0,en(11))}}else ro(this.i,this.l,te,null),pf(this,te);jt==4&&hs(this),this.o&&!this.J&&(jt==4?x_(this.j,this):(this.o=!1,ju(this)))}else kC(this.g),v==400&&0<te.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),hs(this),Ea(this)}}}catch{}finally{}};function Yv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sC(c,m){var v=c.C,C=m.indexOf(`
`,v);return C==-1?hf:(v=Number(m.substring(v,C)),isNaN(v)?Kv:(C+=1,C+v>m.length?hf:(m=m.slice(C,C+v),c.C=C+v,m)))}fi.prototype.cancel=function(){this.J=!0,hs(this)};function ju(c){c.S=Date.now()+c.I,Xv(c,c.I)}function Xv(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_a(f(c.ba,c),m)}function ff(c){c.B&&(a.clearTimeout(c.B),c.B=null)}fi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rC(this.i,this.A),this.L!=2&&(va(),en(17)),hs(this),this.s=2,Ea(this)):Xv(this,this.S-c)};function Ea(c){c.j.G==0||c.J||x_(c.j,c)}function hs(c){ff(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,hi(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function pf(c,m){try{var v=c.j;if(v.G!=0&&(v.g==c||mf(v.h,c))){if(!c.K&&mf(v.h,c)&&v.G==3){try{var C=v.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var j=C;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ku(v),qu(v);else break e;_f(v),en(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=_a(f(v.Za,v),6e3));if(1>=e_(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else fs(v,11)}else if((c.K||v.g==c)&&Ku(v),!_(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Ve=j[m];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Vt=Ve[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const jt=Ve[4];jt!=null&&(v.Aa=jt,v.j.info("SVER="+v.Aa));const oo=Ve[5];oo!=null&&typeof oo=="number"&&0<oo&&(C=1.5*oo,v.L=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Jn=c.g;if(Jn){const Yu=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var U=C.h;U.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(gf(U,U.h),U.h=null))}if(C.D){const Ef=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(C.ya=Ef,Xe(C.I,C.D,Ef))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),C=v;var te=c;if(C.qa=S_(C,C.J?C.ia:null,C.W),te.K){t_(C.h,te);var We=te,Ct=C.L;Ct&&(We.I=Ct),We.B&&(ff(We),ju(We)),C.g=te}else E_(C);0<v.i.length&&Gu(v)}else Ve[0]!="stop"&&Ve[0]!="close"||fs(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?fs(v,7):vf(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}va(4)}catch{}}var oC=class{constructor(c,m){this.g=c,this.map=m}};function Jv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function e_(c){return c.h?1:c.g?c.g.size:0}function mf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function gf(c,m){c.g?c.g.add(m):c.h=m}function t_(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Jv.prototype.cancel=function(){if(this.i=n_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function n_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.D);return m}return b(c.i)}function aC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],v=c.length,C=0;C<v;C++)m.push(c[C]);return m}m=[],v=0;for(C in c)m[v++]=c[C];return m}function lC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var v=0;v<c;v++)m.push(v);return m}m=[],v=0;for(const C in c)m[v++]=C;return m}}}function r_(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var v=lC(c),C=aC(c),j=C.length,U=0;U<j;U++)m.call(void 0,C[U],v&&v[U],c)}var i_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uC(c,m){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var C=c[v].indexOf("="),j=null;if(0<=C){var U=c[v].substring(0,C);j=c[v].substring(C+1)}else U=c[v];m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ds(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ds){this.h=c.h,$u(this,c.j),this.o=c.o,this.g=c.g,Uu(this,c.s),this.l=c.l;var m=c.i,v=new ba;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),s_(this,v),this.m=c.m}else c&&(m=String(c).match(i_))?(this.h=!1,$u(this,m[1]||"",!0),this.o=ka(m[2]||""),this.g=ka(m[3]||"",!0),Uu(this,m[4]),this.l=ka(m[5]||"",!0),s_(this,m[6]||"",!0),this.m=ka(m[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}ds.prototype.toString=function(){var c=[],m=this.j;m&&c.push(xa(m,o_,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(xa(m,o_,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xa(v,v.charAt(0)=="/"?dC:hC,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xa(v,pC)),c.join("")};function Nr(c){return new ds(c)}function $u(c,m,v){c.j=v?ka(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Uu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function s_(c,m,v){m instanceof ba?(c.i=m,mC(c.i,c.h)):(v||(m=xa(m,fC)),c.i=new ba(m,c.h))}function Xe(c,m,v){c.i.set(m,v)}function zu(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ka(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xa(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,cC),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var o_=/[#\/\?@]/g,hC=/[#\?:]/g,dC=/[#\?]/g,fC=/[#\?@]/g,pC=/#/g;function ba(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function pi(c){c.g||(c.g=new Map,c.h=0,c.i&&uC(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}t=ba.prototype,t.add=function(c,m){pi(this),this.i=null,c=io(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function a_(c,m){pi(c),m=io(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function l_(c,m){return pi(c),m=io(c,m),c.g.has(m)}t.forEach=function(c,m){pi(this),this.g.forEach(function(v,C){v.forEach(function(j){c.call(m,j,C,this)},this)},this)},t.na=function(){pi(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let C=0;C<m.length;C++){const j=c[C];for(let U=0;U<j.length;U++)v.push(m[C])}return v},t.V=function(c){pi(this);let m=[];if(typeof c=="string")l_(this,c)&&(m=m.concat(this.g.get(io(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)m=m.concat(c[v])}return m},t.set=function(c,m){return pi(this),this.i=null,c=io(this,c),l_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function u_(c,m,v){a_(c,m),0<v.length&&(c.i=null,c.g.set(io(c,m),b(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var C=m[v];const U=encodeURIComponent(String(C)),te=this.V(C);for(C=0;C<te.length;C++){var j=U;te[C]!==""&&(j+="="+encodeURIComponent(String(te[C]))),c.push(j)}}return this.i=c.join("&")};function io(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function mC(c,m){m&&!c.j&&(pi(c),c.i=null,c.g.forEach(function(v,C){var j=C.toLowerCase();C!=j&&(a_(this,C),u_(this,j,v))},c)),c.j=m}function gC(c,m){const v=new wa;if(a.Image){const C=new Image;C.onload=p(mi,v,"TestLoadImage: loaded",!0,m,C),C.onerror=p(mi,v,"TestLoadImage: error",!1,m,C),C.onabort=p(mi,v,"TestLoadImage: abort",!1,m,C),C.ontimeout=p(mi,v,"TestLoadImage: timeout",!1,m,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else m(!1)}function yC(c,m){const v=new wa,C=new AbortController,j=setTimeout(()=>{C.abort(),mi(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:C.signal}).then(U=>{clearTimeout(j),U.ok?mi(v,"TestPingServer: ok",!0,m):mi(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),mi(v,"TestPingServer: error",!1,m)})}function mi(c,m,v,C,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),C(v)}catch{}}function vC(){this.g=new di}function _C(c,m,v){const C=v||"";try{r_(c,function(j,U){let te=j;u(j)&&(te=Rr(j)),m.push(C+U+"="+encodeURIComponent(te))})}catch(j){throw m.push(C+"type="+encodeURIComponent("_badmap")),j}}function Bu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Bu,In),Bu.prototype.g=function(){return new Hu(this.l,this.j)},Bu.prototype.i=function(c){return function(){return c}}({});function Hu(c,m){z.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Hu,z),t=Hu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Sa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;c_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function c_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ta(this):Sa(this),this.readyState==3&&c_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ta(this))},t.Qa=function(c){this.g&&(this.response=c,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sa(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function h_(c){let m="";return L(c,function(v,C){m+=C,m+=":",m+=v,m+=`\r
`}),m}function yf(c,m,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=h_(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,m,v))}function lt(c){z.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(lt,z);var wC=/^https?$/i,EC=["POST","PUT"];t=lt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cf.g(),this.v=this.o?$v(this.o):$v(cf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(U){d_(this,U);return}if(c=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var j in C)v.set(j,C[j]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const U of C.keys())v.set(U,C.get(U));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(EC,m,void 0))||C||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,te]of v)this.g.setRequestHeader(U,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{m_(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){d_(this,U)}};function d_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,f_(c),Wu(c)}function f_(c){c.A||(c.A=!0,K(c,"complete"),K(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,K(this,"complete"),K(this,"abort"),Wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wu(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?p_(this):this.bb())},t.bb=function(){p_(this)};function p_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Dr(c)!=4||c.Z()!=2)){if(c.u&&Dr(c)==4)Se(c.Ea,0,c);else if(K(c,"readystatechange"),Dr(c)==4){c.h=!1;try{const te=c.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var C;if(C=te===0){var j=String(c.D).match(i_)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),C=!wC.test(j?j.toLowerCase():"")}v=C}if(v)K(c,"complete"),K(c,"success");else{c.m=6;try{var U=2<Dr(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",f_(c)}}finally{Wu(c)}}}}function Wu(c,m){if(c.g){m_(c);const v=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||K(c,"ready");try{v.onreadystatechange=C}catch{}}}function m_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Dr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Zt(m)}};function g_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kC(c){const m={};c=(c.g&&2<=Dr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(_(c[C]))continue;var v=R(c[C]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const U=m[j]||[];m[j]=U,U.push(v)}S(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function y_(c){this.Aa=0,this.i=[],this.j=new wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Jv(c&&c.concurrentRequestLimit),this.Da=new vC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=y_.prototype,t.la=8,t.G=1,t.connect=function(c,m,v,C){en(0),this.W=c,this.H=m||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.I=S_(this,null,this.W),Gu(this)};function vf(c){if(v_(c),c.G==3){var m=c.U++,v=Nr(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",m),Xe(v,"TYPE","terminate"),Ca(c,v),m=new fi(c,c.j,m),m.L=2,m.v=zu(Nr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=m.v,v=!0),v||(m.g=I_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ju(m)}T_(c)}function qu(c){c.g&&(wf(c),c.g.cancel(),c.g=null)}function v_(c){qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ku(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!Zv(c.h)&&!c.s){c.s=!0;var m=c.Ga;Z||N(),$||(Z(),$=!0),G.add(m,c),c.B=0}}function xC(c,m){return e_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_a(f(c.Ga,c,m),b_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new fi(this,this.j,c);let U=this.o;if(this.S&&(U?(U=x(U),w(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=w_(this,j,m),v=Nr(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Ca(this,v),U&&(this.O?m="headers="+encodeURIComponent(String(h_(U)))+"&"+m:this.m&&yf(v,this.m,U)),gf(this.h,j),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",m),Xe(v,"SID","null"),j.T=!0,df(j,v,null)):df(j,v,m),this.G=2}}else this.G==3&&(c?__(this,c):this.i.length==0||Zv(this.h)||__(this))};function __(c,m){var v;m?v=m.l:v=c.U++;const C=Nr(c.I);Xe(C,"SID",c.K),Xe(C,"RID",v),Xe(C,"AID",c.T),Ca(c,C),c.m&&c.o&&yf(C,c.m,c.o),v=new fi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),m&&(c.i=m.D.concat(c.i)),m=w_(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gf(c.h,v),df(v,C,m)}function Ca(c,m){c.H&&L(c.H,function(v,C){Xe(m,C,v)}),c.l&&r_({},function(v,C){Xe(m,C,v)})}function w_(c,m,v){v=Math.min(c.i.length,v);var C=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let U=-1;for(;;){const te=["count="+v];U==-1?0<v?(U=j[0].g,te.push("ofs="+U)):U=0:te.push("ofs="+U);let We=!0;for(let Ct=0;Ct<v;Ct++){let Ve=j[Ct].g;const Vt=j[Ct].map;if(Ve-=U,0>Ve)U=Math.max(0,j[Ct].g-100),We=!1;else try{_C(Vt,te,"req"+Ve+"_")}catch{C&&C(Vt)}}if(We){C=te.join("&");break e}}}return c=c.i.splice(0,v),m.D=c,C}function E_(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Z||N(),$||(Z(),$=!0),G.add(m,c),c.v=0}}function _f(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_a(f(c.Fa,c),b_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,k_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_a(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),qu(this),k_(this))};function wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function k_(c){c.g=new fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Nr(c.qa);Xe(m,"RID","rpc"),Xe(m,"SID",c.K),Xe(m,"AID",c.T),Xe(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(m,"TO",c.ja),Xe(m,"TYPE","xmlhttp"),Ca(c,m),c.m&&c.o&&yf(m,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=zu(Nr(m)),v.m=null,v.P=!0,Qv(v,c)}t.Za=function(){this.C!=null&&(this.C=null,qu(this),_f(this),en(19))};function Ku(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function x_(c,m){var v=null;if(c.g==m){Ku(c),wf(c),c.g=null;var C=2}else if(mf(c.h,m))v=m.D,t_(c.h,m),C=1;else return;if(c.G!=0){if(m.o)if(C==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;C=Mu(),K(C,new Wv(C,v)),Gu(c)}else E_(c);else if(j=m.s,j==3||j==0&&0<m.X||!(C==1&&xC(c,m)||C==2&&_f(c)))switch(v&&0<v.length&&(m=c.h,m.i=m.i.concat(v)),j){case 1:fs(c,5);break;case 4:fs(c,10);break;case 3:fs(c,6);break;default:fs(c,2)}}}function b_(c,m){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*m}function fs(c,m){if(c.j.info("Error code "+m),m==2){var v=f(c.fb,c),C=c.Xa;const j=!C;C=new ds(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(C,"https"),zu(C),j?gC(C.toString(),v):yC(C.toString(),v)}else en(2);c.G=0,c.l&&c.l.sa(m),T_(c),v_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function T_(c){if(c.G=0,c.ka=[],c.l){const m=n_(c.h);(m.length!=0||c.i.length!=0)&&(D(c.ka,m),D(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function S_(c,m,v){var C=v instanceof ds?Nr(v):new ds(v);if(C.g!="")m&&(C.g=m+"."+C.g),Uu(C,C.s);else{var j=a.location;C=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var U=new ds(null);C&&$u(U,C),m&&(U.g=m),j&&Uu(U,j),v&&(U.l=v),C=U}return v=c.D,m=c.ya,v&&m&&Xe(C,v,m),Xe(C,"VER",c.la),Ca(c,C),C}function I_(c,m,v){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new lt(new Bu({eb:v})):new lt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C_(){}t=C_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,m){return new Cn(c,m)};function Cn(c,m){z.call(this),this.g=new y_(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new so(this)}y(Cn,z),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){vf(this.g)},Cn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Rr(c),c=v);m.i.push(new oC(m.Ya++,c)),m.G==3&&Gu(m)},Cn.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,Cn.aa.N.call(this)};function A_(c){lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}y(A_,lf);function P_(){uf.call(this),this.status=1}y(P_,uf);function so(c){this.g=c}y(so,C_),so.prototype.ua=function(){K(this.g,"a")},so.prototype.ta=function(c){K(this.g,new A_(c))},so.prototype.sa=function(c){K(this.g,new P_)},so.prototype.ra=function(){K(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,RT=function(){return new Qu},PT=function(){return Mu()},AT=cs,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,Zc=Fu,qv.COMPLETE="complete",CT=qv,Uv.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",z.prototype.listen=z.prototype.K,Ya=Uv,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,IT=lt}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const j0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Iy("@firebase/firestore");function Fa(){return Ws.logLevel}function le(t,...e){if(Ws.logLevel<=De.DEBUG){const n=e.map($y);Ws.debug(`Firestore (${ca}): ${t}`,...n)}}function ni(t,...e){if(Ws.logLevel<=De.ERROR){const n=e.map($y);Ws.error(`Firestore (${ca}): ${t}`,...n)}}function Xo(t,...e){if(Ws.logLevel<=De.WARN){const n=e.map($y);Ws.warn(`Firestore (${ca}): ${t}`,...n)}}function $y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(t="Unexpected state"){const e=`FIRESTORE (${ca}) INTERNAL ASSERTION FAILED: `+t;throw ni(e),new Error(e)}function He(t,e){t||ve()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class cF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hF{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new NT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ht(e)}}class dF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new dF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){He(this.o===void 0);const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new pF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new pt(0,0))}static max(){return new ke(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(),r===void 0?r=e.length-n:r>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ze extends ql{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const yF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends ql{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return yF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ze.fromString(e))}static fromName(e){return new ce(Ze.fromString(e).popFirst(5))}static empty(){return new ce(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ze(e.slice()))}}function vF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new ts(i,ce.empty(),e)}function _F(t){return new ts(t.readTime,t.key,-1)}class ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ts(ke.min(),ce.empty(),-1)}static max(){return new ts(ke.max(),ce.empty(),-1)}}function wF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==EF)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function xF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uy.oe=-1;function jd(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function bF(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=i??Rt.EMPTY,this.right=s??Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1;Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new On([])}unionWith(e){let n=new Ot(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LT("Invalid base64 string: "+s):s}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const TF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(He(!!t),typeof t=="string"){let e=0;const n=TF.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function By(t){const e=t.mapValue.fields.__previous_value__;return zy(e)?By(e):e}function Gl(t){const e=ns(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Kl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc={mapValue:{}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zy(t)?4:CF(t)?9007199254740991:IF(t)?10:11:ve()}function Cr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gl(t).isEqual(Gl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ns(i.timestampValue),a=ns(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?Qh(o)===Qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($0(o)!==$0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return ve()}}function Ql(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dt(s.integerValue||s.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return z0(t.timestampValue,e.timestampValue);case 4:return z0(Gl(t),Gl(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qs(s),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=je(a[u],l[u]);if(h!==0)return h}return je(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=je(dt(s.latitude),dt(o.latitude));return a!==0?a:je(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return B0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},f=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=je(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:B0(p,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===bc.mapValue&&o===bc.mapValue)return 0;if(s===bc.mapValue)return 1;if(o===bc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=je(l[d],h[d]);if(f!==0)return f;const p=Zo(a[l[d]],u[h[d]]);if(p!==0)return p}return je(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ve()}}function z0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=ns(t),r=ns(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function B0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zo(n[i],r[i]);if(s)return s}return je(n.length,r.length)}function ea(t){return Km(t)}function Km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Km(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Km(n.fields[o])}`;return i+"}"}(t.mapValue):ve()}function H0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qm(t){return!!t&&"integerValue"in t}function Hy(t){return!!t&&"arrayValue"in t}function W0(t){return!!t&&"nullValue"in t}function q0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eh(t){return!!t&&"mapValue"in t}function IF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yn(vl(this.value))}}function MT(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new Nt([n]);if(eh(r)){const s=MT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,ke.min(),ke.min(),ke.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new qt(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new qt(e,2,n,ke.min(),ke.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,ke.min(),ke.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function G0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function K0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function AF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class wt extends FT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RF(e,n,r):n==="array-contains"?new OF(e,r):n==="in"?new LF(e,r):n==="not-in"?new MF(e,r):n==="array-contains-any"?new FF(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new NF(e,r):new DF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends FT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hr(e,n)}matches(e){return VT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VT(t){return t.op==="and"}function jT(t){return PF(t)&&VT(t)}function PF(t){for(const e of t.filters)if(e instanceof hr)return!1;return!0}function Ym(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(jT(t))return t.filters.map(e=>Ym(e)).join(",");{const e=t.filters.map(n=>Ym(n)).join(",");return`${t.op}(${e})`}}function $T(t,e){return t instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&Cr(r.value,i.value)}(t,e):t instanceof hr?function(r,i){return i instanceof hr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$T(o,i.filters[a]),!0):!1}(t,e):void ve()}function UT(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof hr?function(n){return n.op.toString()+" {"+n.getFilters().map(UT).join(" ,")+"}"}(t):"Filter"}class RF extends wt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class NF extends wt{constructor(e,n){super(e,"in",n),this.keys=zT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DF extends wt{constructor(e,n){super(e,"not-in",n),this.keys=zT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class OF extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hy(n)&&Ql(n.arrayValue,this.value)}}class LF extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class MF extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ql(this.value.arrayValue,n)}}class FF extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ql(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Q0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new VF(t,e,n,r,i,s,o)}function Wy(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ue=n}return e.ue}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$T(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K0(t.startAt,e.startAt)&&K0(t.endAt,e.endAt)}function Xm(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jF(t,e,n,r,i,s,o,a){return new ku(t,e,n,r,i,s,o,a)}function Gy(t){return new ku(t)}function Y0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BT(t){return t.collectionGroup!==null}function _l(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(Nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xh(s,r))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new Xh(Nt.keyField(),r))}return e.ce}function br(t){const e=xe(t);return e.le||(e.le=$F(e,_l(t))),e.le}function $F(t,e){if(t.limitType==="F")return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xh(i.field,s)});const n=t.endAt?new Yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yh(t.startAt.position,t.startAt.inclusive):null;return Q0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jm(t,e){const n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zm(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return qy(br(t),br(e))&&t.limitType===e.limitType}function HT(t){return`${Wy(br(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UT(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of _l(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=G0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,_l(r),i)||r.endAt&&!function(o,a,l){const u=G0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,_l(r),i))}(t,e)}function UF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WT(t){return(e,n)=>{let r=!1;for(const i of _l(t)){const s=zF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zF(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Zo(l,u):ve()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=new at(ce.comparator);function ri(){return BF}const qT=new at(ce.comparator);function Xa(...t){let e=qT;for(const n of t)e=e.insert(n.key,n);return e}function GT(t){let e=qT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return wl()}function KT(){return wl()}function wl(){return new ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const HF=new at(ce.comparator),WF=new Ot(ce.comparator);function Re(...t){let e=WF;for(const n of t)e=e.add(n);return e}const qF=new Ot(je);function GF(){return qF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function QT(t){return{integerValue:""+t}}function KF(t,e){return bF(e)?QT(e):Ky(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function QF(t,e,n){return t instanceof Jh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zy(s)&&(s=By(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yl?XT(t,e):t instanceof Xl?JT(t,e):function(i,s){const o=YT(i,s),a=X0(o)+X0(i.Pe);return Qm(o)&&Qm(i.Pe)?QT(a):Ky(i.serializer,a)}(t,e)}function YF(t,e,n){return t instanceof Yl?XT(t,e):t instanceof Xl?JT(t,e):n}function YT(t,e){return t instanceof Zh?function(r){return Qm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jh extends zd{}class Yl extends zd{constructor(e){super(),this.elements=e}}function XT(t,e){const n=ZT(e);for(const r of t.elements)n.some(i=>Cr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xl extends zd{constructor(e){super(),this.elements=e}}function JT(t,e){let n=ZT(e);for(const r of t.elements)n=n.filter(i=>!Cr(i,r));return{arrayValue:{values:n}}}class Zh extends zd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function X0(t){return dt(t.integerValue||t.doubleValue)}function ZT(t){return Hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yl&&i instanceof Yl||r instanceof Xl&&i instanceof Xl?Jo(r.elements,i.elements,Cr):r instanceof Zh&&i instanceof Zh?Cr(r.Pe,i.Pe):r instanceof Jh&&i instanceof Jh}(t.transform,e.transform)}class JF{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function eS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,un.none()):new xu(t.key,t.data,un.none());{const n=t.data,r=yn.empty();let i=new Ot(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ls(t.key,r,new On(i.toArray()),un.none())}}function ZF(t,e,n){t instanceof xu?function(i,s,o){const a=i.value.clone(),l=Z0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ls?function(i,s,o){if(!th(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Z0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(tS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof xu?function(s,o,a,l){if(!th(s.precondition,o))return a;const u=s.value.clone(),h=eE(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ls?function(s,o,a,l){if(!th(s.precondition,o))return a;const u=eE(s.fieldTransforms,l,o),h=o.data;return h.setAll(tS(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return th(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=YT(r.transform,i||null);s!=null&&(n===null&&(n=yn.empty()),n.set(r.field,s))}return n||null}function J0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(s,o)=>XF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Bd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ls extends Bd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z0(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,YF(o,a,n[i]))}return r}function eE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QF(s,o,e))}return r}class Hd extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tV extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=eS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>J0(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>J0(n,r))}}class Qy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return HF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Qy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Oe;function sV(t){switch(t){default:return ve();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function nS(t){if(t===void 0)return ni("GRPC error has no .code"),B.UNKNOWN;switch(t){case gt.OK:return B.OK;case gt.CANCELLED:return B.CANCELLED;case gt.UNKNOWN:return B.UNKNOWN;case gt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case gt.INTERNAL:return B.INTERNAL;case gt.UNAVAILABLE:return B.UNAVAILABLE;case gt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case gt.NOT_FOUND:return B.NOT_FOUND;case gt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case gt.ABORTED:return B.ABORTED;case gt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case gt.DATA_LOSS:return B.DATA_LOSS;default:return ve()}}(Oe=gt||(gt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=new Ms([4294967295,4294967295],0);function tE(t){const e=oV().encode(t),n=new ST;return n.update(e),new Uint8Array(n.digest())}function nE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([i,s],0)]}class Yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ms.fromNumber(r)));return i.compare(aV)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tE(e),[r,i]=nE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Yy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=tE(e),[r,i]=nE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(ke.min(),i,new at(je),ri(),Re())}}class bu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class rS{constructor(e,n){this.targetId=e,this.me=n}}class iS{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rE{constructor(){this.fe=0,this.ge=sE(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=sE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lV{constructor(e){this.Le=e,this.Be=new Map,this.ke=ri(),this.qe=iE(),this.Qe=new at(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Xm(s))if(r===0){const o=new ce(s.path);this.Ue(n,o,qt.newNoDocument(o,ke.min()))}else He(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof LT)return Xo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Yy(o,i,s)}catch(l){return Xo(l instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Xm(a.target)){const l=new ce(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,qt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Re();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wd(e,n,this.Qe,this.ke,r);return this.ke=ri(),this.qe=iE(),this.Qe=new at(je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iE(){return new at(ce.comparator)}function sE(){return new at(ce.comparator)}const uV={asc:"ASCENDING",desc:"DESCENDING"},cV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hV={and:"AND",or:"OR"};class dV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eg(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fV(t,e){return ed(t,e.toTimestamp())}function Tr(t){return He(!!t),ke.fromTimestamp(function(n){const r=ns(n);return new pt(r.seconds,r.nanos)}(t))}function Xy(t,e){return tg(t,e).canonicalString()}function tg(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oS(t){const e=Ze.fromString(t);return He(hS(e)),e}function ng(t,e){return Xy(t.databaseId,e.path)}function pp(t,e){const n=oS(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(lS(n))}function aS(t,e){return Xy(t.databaseId,e)}function pV(t){const e=oS(t);return e.length===4?Ze.emptyPath():lS(e)}function rg(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lS(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oE(t,e,n){return{name:ng(t,e),fields:n.value.mapValue.fields}}function mV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(He(h===void 0||typeof h=="string"),Mt.fromBase64String(h||"")):(He(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:nS(u.code);return new oe(h,u.message||"")}(o);n=new iS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pp(t,r.document.name),s=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):ke.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new nh(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pp(t,r.document),s=r.readTime?Tr(r.readTime):ke.min(),o=qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pp(t,r.document),s=r.removedTargetIds||[];n=new nh([],s,i,null)}else{if(!("filter"in e))return ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new iV(i,s),a=r.targetId;n=new rS(a,o)}}return n}function gV(t,e){let n;if(e instanceof xu)n={update:oE(t,e.key,e.value)};else if(e instanceof Hd)n={delete:ng(t,e.key)};else if(e instanceof ls)n={update:oE(t,e.key,e.data),updateMask:TV(e.fieldMask)};else{if(!(e instanceof tV))return ve();n={verify:ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Xl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ve()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:fV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ve()}(t,e.precondition)),n}function yV(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Tr(i.updateTime):Tr(s);return o.isEqual(ke.min())&&(o=Tr(s)),new JF(o,i.transformResults||[])}(n,e))):[]}function vV(t,e){return{documents:[aS(t,e.path)]}}function _V(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aS(t,i);const s=function(u){if(u.length!==0)return cS(hr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:po(f.field),direction:kV(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=eg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function wV(t){let e=pV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=uS(d);return f instanceof hr&&jT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new Xh(mo(y.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,jd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Yh(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Yh(p,f)}(n.endAt)),jF(e,i,o,s,a,"F",l,u)}function EV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mo(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mo(n.unaryFilter.field);return wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mo(n.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(t):t.fieldFilter!==void 0?function(n){return wt.create(mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hr.create(n.compositeFilter.filters.map(r=>uS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(t):ve()}function kV(t){return uV[t]}function xV(t){return cV[t]}function bV(t){return hV[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return Nt.fromServerFormat(t.fieldPath)}function cS(t){return t instanceof wt?function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(W0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(W0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:xV(n.op),value:n.value}}}(t):t instanceof hr?function(n){const r=n.getFilters().map(i=>cS(i));return r.length===1?r[0]:{compositeFilter:{op:bV(n.op),filters:r}}}(t):ve()}function TV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=Mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e){this.ct=e}}function IV(t){const e=wV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.un=new AV}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ts.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class AV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Ze.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&El(r.mutation,i,On.empty(),pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ri();const o=wl(),a=function(){return wl()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof ls)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),El(h.mutation,u,h.mutation.getFieldMask(),pt.now())):o.set(u.key,On.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new RV(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wl();let i=new at((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||On.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=KT();h.forEach(f=>{if(!s.has(f)){const p=eS(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):BT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Rs());let a=-1,l=s;return o.next(u=>q.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?q.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Re())).next(h=>({batchId:a,changes:GT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const u=function(d,f){return new ku(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,qt.newInvalidDocument(h)))});let a=Xa();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&El(h.mutation,u,On.empty(),pt.now()),Ud(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Tr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IV(i.bundledQuery),readTime:Tr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.overlays=new at(ce.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Rs(),s=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new at((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Rs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Rs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rV(n,r));let s=this.Ir.get(n);s===void 0&&(s=Re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Tr=new Ot(Tt.Er),this.dr=new Ot(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new Ze([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new Ze([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=Re();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(Tt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(je);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ce.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new ce(s),0);let a=new Ot(je);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tt(n,0),i=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.Mr=e,this.docs=function(){return new at(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=ri();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ri();const o=n.path,a=new ce(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||wF(_F(h),r)<=0||(i.has(h.key)||Ud(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ve()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VV(this)}getSize(e){return q.resolve(this.size)}}class VV extends PV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.persistence=e,this.Nr=new ha(n=>Wy(n),qy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jy,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Uy(0),this.Kr=!1,this.Kr=!0,this.$r=new LV,this.referenceDelegate=e(this),this.Ur=new jV(this),this.indexManager=new CV,this.remoteDocumentCache=function(i){return new FV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new SV(n),this.Gr=new DV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new MV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new UV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class UV extends kF{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Jr=new Jy,this.Yr=null}static Zr(e){return new Zy(e)}get Xr(){if(this.Yr)return this.Yr;throw ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const i=ce.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ev(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return H2()?8:xF(Yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new zV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Fa()<=De.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Fa()<=De.DEBUG&&le("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Fa()<=De.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):q.resolve())}Yi(e,n){if(Y0(n))return q.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zm(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Zm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Y0(n)||i.isEqual(ke.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?q.resolve(null):(Fa()<=De.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fo(n)),this.rs(e,o,n,vF(i,-1)).next(a=>a))})}ts(e,n){let r=new Ot(WT(e));return n.forEach((i,s)=>{Ud(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Fa()<=De.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ts.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new at(je),this._s=new ha(s=>Wy(s),qy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function WV(t,e,n,r){return new HV(t,e,n,r)}async function dS(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function qV(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=q.resolve();return f.forEach(y=>{p=p.next(()=>h.getEntry(l,y)).next(b=>{const D=u.docVersions.get(y);He(D!==null),b.version.compareTo(D)<0&&(d.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),h.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fS(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function GV(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Mt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(b,D,g){return b.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,p,h)&&a.push(n.Ur.updateTargetData(s,p))});let l=ri(),u=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(KV(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(ke.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function KV(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ri();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function QV(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YV(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ig(t,e,n){const r=xe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Eu(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function aE(t,e,n){const r=xe(t);let i=ke.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=xe(l),f=d._s.get(h);return f!==void 0?q.resolve(d.os.get(f)):d.Ur.getTargetData(u,h)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:Re())).next(a=>(XV(r,UF(e),a),{documents:a,Ts:s})))}function XV(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class lE{constructor(){this.activeTargetIds=GF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JV{constructor(){this.so=new lE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new lE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function mp(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class n4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=mp(),l=this.xo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(h=>(le("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Xo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ca}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=e4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=mp();return new Promise((o,a)=>{const l=new IT;l.setWithCredentials(!0),l.listenOnce(CT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zc.NO_ERROR:const h=l.getResponseJson();le(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Zc.TIMEOUT:le(Bt,`RPC '${e}' ${s} timed out`),a(new oe(B.DEADLINE_EXCEEDED,"Request time out"));break;case Zc.HTTP_ERROR:const d=l.getStatus();if(le(Bt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const y=function(D){const g=D.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(g)>=0?g:B.UNKNOWN}(p.status);a(new oe(y,p.message))}else a(new oe(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(B.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{le(Bt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);le(Bt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=mp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=RT(),a=PT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");le(Bt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,p=!1;const y=new t4({Io:D=>{p?le(Bt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(f||(le(Bt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),le(Bt,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},To:()=>d.close()}),b=(D,g,_)=>{D.listen(g,k=>{try{_(k)}catch(O){setTimeout(()=>{throw O},0)}})};return b(d,Ya.EventType.OPEN,()=>{p||(le(Bt,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),b(d,Ya.EventType.CLOSE,()=>{p||(p=!0,le(Bt,`RPC '${e}' stream ${i} transport closed`),y.So())}),b(d,Ya.EventType.ERROR,D=>{p||(p=!0,Xo(Bt,`RPC '${e}' stream ${i} transport errored:`,D),y.So(new oe(B.UNAVAILABLE,"The operation could not be completed")))}),b(d,Ya.EventType.MESSAGE,D=>{var g;if(!p){const _=D.data[0];He(!!_);const k=_,O=k.error||((g=k[0])===null||g===void 0?void 0:g.error);if(O){le(Bt,`RPC '${e}' stream ${i} received error:`,O);const V=O.status;let L=function(A){const w=gt[A];if(w!==void 0)return nS(w)}(V),S=O.message;L===void 0&&(L=B.INTERNAL,S="Unknown error status: "+V+" with message "+O.message),p=!0,y.So(new oe(L,S)),d.close()}else le(Bt,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),b(a,AT.STAT_EVENT,D=>{D.stat===Gm.PROXY?le(Bt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Gm.NOPROXY&&le(Bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return new dV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new oe(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class r4 extends mS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Tr(o.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=rg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xm(l)?{documents:vV(s,l)}:{query:_V(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sS(s,o.resumeToken);const u=eg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=ed(s,o.snapshotVersion.toTimestamp());const u=eg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=EV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=rg(this.serializer),n.removeTarget=e,this.a_(n)}}class i4 extends mS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=yV(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=rg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,tg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,tg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class o4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ni(n),this.D_=!1):le("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{eo(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Tu(u),u.q_.set("Unknown"),u.L_.delete(4),await Gd(u)}(this))})}),this.q_=new o4(r,i)}}async function Gd(t){if(eo(t))for(const e of t.B_)await e(!0)}async function Tu(t){for(const e of t.B_)await e(!1)}function gS(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),iv(n)?rv(n):da(n).r_()&&nv(n,e))}function tv(t,e){const n=xe(t),r=da(n);n.N_.delete(e),r.r_()&&yS(n,e),n.N_.size===0&&(r.r_()?r.o_():eo(n)&&n.q_.set("Unknown"))}function nv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).A_(e)}function yS(t,e){t.Q_.xe(e),da(t).R_(e)}function rv(t){t.Q_=new lV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),da(t).start(),t.q_.v_()}function iv(t){return eo(t)&&!da(t).n_()&&t.N_.size>0}function eo(t){return xe(t).L_.size===0}function vS(t){t.Q_=void 0}async function l4(t){t.q_.set("Online")}async function u4(t){t.N_.forEach((e,n)=>{nv(t,e)})}async function c4(t,e){vS(t),iv(t)?(t.q_.M_(e),rv(t)):t.q_.set("Unknown")}async function h4(t,e,n){if(t.q_.set("Online"),e instanceof iS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(t,r)}else if(e instanceof nh?t.Q_.Ke(e):e instanceof rS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await fS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),yS(s,l);const d=new Mi(h.target,l,u,h.sequenceNumber);nv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await td(t,r)}}async function td(t,e,n){if(!Eu(e))throw e;t.L_.add(1),await Tu(t),t.q_.set("Offline"),n||(n=()=>fS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gd(t)})}function _S(t,e){return e().catch(n=>td(t,n,e))}async function Kd(t){const e=xe(t),n=rs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;d4(e);)try{const i=await QV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,f4(e,i)}catch(i){await td(e,i)}wS(e)&&ES(e)}function d4(t){return eo(t)&&t.O_.length<10}function f4(t,e){t.O_.push(e);const n=rs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function wS(t){return eo(t)&&!rs(t).n_()&&t.O_.length>0}function ES(t){rs(t).start()}async function p4(t){rs(t).p_()}async function m4(t){const e=rs(t);for(const n of t.O_)e.m_(n.mutations)}async function g4(t,e,n){const r=t.O_.shift(),i=Qy.from(r,e,n);await _S(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kd(t)}async function y4(t,e){e&&rs(t).V_&&await async function(r,i){if(function(o){return sV(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();rs(r).s_(),await _S(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kd(r)}}(t,e),wS(t)&&ES(t)}async function cE(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=eo(n);n.L_.add(3),await Tu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gd(n)}async function v4(t,e){const n=xe(t);e?(n.L_.delete(2),await Gd(n)):e||(n.L_.add(2),await Tu(n),n.q_.set("Unknown"))}function da(t){return t.K_||(t.K_=function(n,r,i){const s=xe(n);return s.w_(),new r4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:l4.bind(null,t),Ro:u4.bind(null,t),mo:c4.bind(null,t),d_:h4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),iv(t)?rv(t):t.q_.set("Unknown")):(await t.K_.stop(),vS(t))})),t.K_}function rs(t){return t.U_||(t.U_=function(n,r,i){const s=xe(n);return s.w_(),new i4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:p4.bind(null,t),mo:y4.bind(null,t),f_:m4.bind(null,t),g_:g4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kd(t)):(await t.U_.stop(),t.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new sv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(t,e){if(ni("AsyncQueue",`${e}: ${t}`),Eu(t))return new oe(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new at(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.W_=new at(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class na{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new na(e,n,$o.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class w4{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),s=i.queries;i.queries=dE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new oe(B.ABORTED,"Firestore shutting down"))}}function dE(){return new ha(t=>HT(t),$d)}async function kS(t,e){const n=xe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new _4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ov(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&av(n)}async function xS(t,e){const n=xe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E4(t,e){const n=xe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&av(n)}function k4(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function av(t){t.Y_.forEach(e=>{e.next()})}var sg,fE;(fE=sg||(sg={})).ea="default",fE.Cache="cache";class bS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class x4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=WT(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new hE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=Ud(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;f&&p?f.data.isEqual(p.data)?y!==b&&(r.track({type:3,doc:p}),D=!0):this.ga(f,p)||(r.track({type:2,doc:p}),D=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),D=!0):f&&!p&&(r.track({type:1,doc:f}),D=!0,(l||u)&&(a=!0)),D&&(p?(o=o.add(p),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(p,y){const b=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return b(p)-b(y)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new na(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new SS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new TS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class b4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T4{constructor(e){this.key=e,this.va=!1}}class S4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ha(a=>HT(a),$d),this.Ma=new Map,this.xa=new Set,this.Oa=new at(ce.comparator),this.Na=new Map,this.La=new Jy,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function I4(t,e,n=!0){const r=NS(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await IS(r,e,n,!0),i}async function C4(t,e){const n=NS(t);await IS(n,e,!0,!1)}async function IS(t,e,n,r){const i=await YV(t.localStore,br(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await A4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&gS(t.remoteStore,i),a}async function A4(t,e,n,r,i){t.Ka=(d,f,p)=>async function(b,D,g,_){let k=D.view.ma(g);k.ns&&(k=await aE(b.localStore,D.query,!1).then(({documents:S})=>D.view.ma(S,k)));const O=_&&_.targetChanges.get(D.targetId),V=_&&_.targetMismatches.get(D.targetId)!=null,L=D.view.applyChanges(k,b.isPrimaryClient,O,V);return mE(b,D.targetId,L.wa),L.snapshot}(t,d,f,p);const s=await aE(t.localStore,e,!0),o=new x4(e,s.Ts),a=o.ma(s.documents),l=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);mE(t,n,u.wa);const h=new b4(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function P4(t,e,n){const r=xe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ig(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tv(r.remoteStore,i.targetId),og(r,i.targetId)}).catch(wu)):(og(r,i.targetId),await ig(r.localStore,i.targetId,!0))}async function R4(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tv(n.remoteStore,r.targetId))}async function N4(t,e,n){const r=j4(t);try{const i=await function(o,a){const l=xe(o),u=pt.now(),h=a.reduce((p,y)=>p.add(y.key),Re());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=ri(),b=Re();return l.cs.getEntries(p,h).next(D=>{y=D,y.forEach((g,_)=>{_.isValidDocument()||(b=b.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(D=>{d=D;const g=[];for(const _ of a){const k=eV(_,d.get(_.key).overlayedDocument);k!=null&&g.push(new ls(_.key,k,MT(k.value.mapValue),un.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,g,a)}).next(D=>{f=D;const g=D.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(p,D.batchId,g)})}).then(()=>({batchId:f.batchId,changes:GT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new at(je)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Su(r,i.changes),await Kd(r.remoteStore)}catch(i){const s=ov(i,"Failed to persist write");n.reject(s)}}async function CS(t,e){const n=xe(t);try{const r=await GV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?He(o.va):i.removedDocuments.size>0&&(He(o.va),o.va=!1))}),await Su(n,r,e)}catch(r){await wu(r)}}function pE(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=xe(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&av(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D4(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new at(ce.comparator);o=o.insert(s,qt.newNoDocument(s,ke.min()));const a=Re().add(s),l=new Wd(ke.min(),new Map,new at(je),o,a);await CS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),lv(r)}else await ig(r.localStore,e,!1).then(()=>og(r,e,n)).catch(wu)}async function O4(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await qV(n.localStore,e);PS(n,r,null),AS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Su(n,i)}catch(i){await wu(i)}}async function L4(t,e,n){const r=xe(t);try{const i=await function(o,a){const l=xe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(He(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);PS(r,e,n),AS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Su(r,i)}catch(i){await wu(i)}}function AS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PS(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function og(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||RS(t,r)})}function RS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(tv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),lv(t))}function mE(t,e,n){for(const r of n)r instanceof TS?(t.La.addReference(r.key,e),M4(t,r)):r instanceof SS?(le("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||RS(t,r.key)):ve()}function M4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(le("SyncEngine","New document in limbo: "+n),t.xa.add(r),lv(t))}function lv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(Ze.fromString(e)),r=t.qa.next();t.Na.set(r,new T4(n)),t.Oa=t.Oa.insert(n,r),gS(t.remoteStore,new Mi(br(Gy(n.path)),r,"TargetPurposeLimboResolution",Uy.oe))}}async function Su(t,e,n){const r=xe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=ev.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const h=xe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>q.forEach(u,f=>q.forEach(f.$i,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>q.forEach(f.Ui,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Eu(d))throw d;le("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.os.get(f),y=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(y);h.os=h.os.insert(f,b)}}}(r.localStore,s))}async function F4(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await dS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new oe(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(n,r.hs)}}function V4(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function NS(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D4.bind(null,e),e.Ca.d_=E4.bind(null,e.eventManager),e.Ca.$a=k4.bind(null,e.eventManager),e}function j4(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L4.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return WV(this.persistence,new BV,e.initialUser,this.serializer)}Ga(e){return new $V(Zy.Zr,this.serializer)}Wa(e){return new JV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new w4}()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),r=function(s){return new n4(s)}(e.databaseInfo);return function(s,o,a,l){return new s4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new a4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pE(this.syncEngine,n,0),function(){return uE.D()?new uE:new ZV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new S4(i,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=xe(i);le("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Tu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ag.provider={build:()=>new ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=DT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ov(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yp(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await U4(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>cE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>cE(e.remoteStore,i)),t._onlineComponents=e}async function U4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await yp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await yp(t,new nd)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await yp(t,new nd);return t._offlineComponents}async function OS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await gE(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await gE(t,new ag))),t._onlineComponents}function z4(t){return OS(t).then(e=>e.syncEngine)}async function lg(t){const e=await OS(t),n=e.eventManager;return n.onListen=I4.bind(null,e.syncEngine),n.onUnlisten=P4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R4.bind(null,e.syncEngine),n}function B4(t,e,n={}){const r=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new DS({next:f=>{h.Za(),o.enqueueAndForget(()=>xS(s,d)),f.fromCache&&l.source==="server"?u.reject(new oe(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new bS(a,h,{includeMetadataChanges:!0,_a:!0});return kS(s,d)}(await lg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e,n){if(!n)throw new oe(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H4(t,e,n,r){if(e===!0&&r===!0)throw new oe(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vE(t){if(!ce.isDocumentKey(t))throw new oe(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _E(t){if(ce.isDocumentKey(t))throw new oe(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ve()}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qd(t);throw new oe(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uF;switch(r.type){case"firstParty":return new fF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yE.get(n);r&&(le("ComponentProvider","Removing Datastore"),yE.delete(n),r.terminate())}(this),Promise.resolve()}}function W4(t,e,n,r={}){var i;const s=(t=Mn(t,Yd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=F2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(u)}t._authCredentials=new cF(new NT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class Xi extends to{constructor(e,n,r){super(e,n,Gy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ce(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function sn(t,e,...n){if(t=xt(t),MS("collection","path",e),t instanceof Yd){const r=Ze.fromString(e,...n);return _E(r),new Xi(t,null,r)}{if(!(t instanceof cn||t instanceof Xi))throw new oe(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return _E(r),new Xi(t.firestore,null,r)}}function ht(t,e,...n){if(t=xt(t),arguments.length===1&&(e=DT.newId()),MS("doc","path",e),t instanceof Yd){const r=Ze.fromString(e,...n);return vE(r),new cn(t,null,new ce(r))}{if(!(t instanceof cn||t instanceof Xi))throw new oe(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return vE(r),new cn(t.firestore,t instanceof Xi?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pS(this,"async_queue_retry"),this.Vu=()=>{const r=gp();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Yi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Eu(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=sv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function kE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ii extends Yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new EE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function q4(t,e){const n=typeof t=="object"?t:W1(),r=typeof t=="string"?t:"(default)",i=Ay(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=L2("firestore");s&&W4(i,...s)}return i}function Xd(t){if(t._terminated)throw new oe(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||G4(t),t._firestoreClient}function G4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new SF(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new $4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Mt.fromBase64String(e))}catch(n){throw new oe(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^__.*__$/;class Q4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class FS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class dv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(VS(this.Cu)&&K4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Y4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qd(e)}Qu(e,n,r,i=!1){return new dv({Cu:e,methodName:n,qu:r,path:Nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cu(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new Y4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);pv("Data must be an object, but it was:",o,r);const a=US(r,o);let l,u;if(s.merge)l=new On(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=ug(e,d,n);if(!o.contains(f))throw new oe(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BS(h,f)||h.push(f)}l=new On(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Q4(new yn(a),l,u)}class Jd extends uv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function jS(t,e,n,r){const i=t.Qu(1,e,n);pv("Data must be an object, but it was:",i,r);const s=[],o=yn.empty();Zs(r,(l,u)=>{const h=mv(e,l,n);u=xt(u);const d=i.Nu(h);if(u instanceof Jd)s.push(h);else{const f=Au(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new On(s);return new FS(o,a,i.fieldTransforms)}function $S(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ug(e,r,n)],l=[i];if(s.length%2!=0)throw new oe(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ug(e,s[f])),l.push(s[f+1]);const u=[],h=yn.empty();for(let f=a.length-1;f>=0;--f)if(!BS(u,a[f])){const p=a[f];let y=l[f];y=xt(y);const b=o.Nu(p);if(y instanceof Jd)u.push(p);else{const D=Au(y,b);D!=null&&(u.push(p),h.set(p,D))}}const d=new On(u);return new FS(h,d,o.fieldTransforms)}function X4(t,e,n,r=!1){return Au(n,t.Qu(r?4:3,e))}function Au(t,e){if(zS(t=xt(t)))return pv("Unsupported field value:",e,t),US(t,e);if(t instanceof uv)return function(r,i){if(!VS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Au(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=pt.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof pt){const s=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof cv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:sS(i.serializer,r._byteString)};if(r instanceof cn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ky(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qd(r)}`)}(t,e)}function US(t,e){const n={};return OT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const s=Au(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof cv||t instanceof ra||t instanceof cn||t instanceof uv||t instanceof hv)}function pv(t,e,n){if(!zS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ug(t,e,n){if((e=xt(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return mv(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const J4=new RegExp("[~\\*/\\[\\]]");function mv(t,e,n){if(e.search(J4)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(B.INVALID_ARGUMENT,a+t+l)}function BS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z4 extends HS{data(){return super.data()}}function gv(t,e){return typeof e=="string"?mv(t,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yv{}class ej extends yv{}function Jl(t,e,...n){let r=[];e instanceof yv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof vv).length,a=s.filter(l=>l instanceof Zd).length;if(o>1||o>0&&a>0)throw new oe(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zd extends ej{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zd(e,n,r)}_apply(e){const n=this._parse(e);return qS(e._query,n),new to(e.firestore,e.converter,Jm(e._query,n))}_parse(e){const n=Cu(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new oe(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bE(d,h);const p=[];for(const y of d)p.push(xE(l,s,y));f={arrayValue:{values:p}}}else f=xE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bE(d,h),f=X4(a,o,d,h==="in"||h==="not-in");return wt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zl(t,e,n){const r=e,i=gv("where",t);return Zd._create(i,r,n)}class vv extends yv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)qS(o,l),o=Jm(o,l)}(e._query,n),new to(e.firestore,e.converter,Jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xE(t,e,n){if(typeof(n=xt(n))=="string"){if(n==="")throw new oe(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(e)&&n.indexOf("/")!==-1)throw new oe(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ze.fromString(n));if(!ce.isDocumentKey(r))throw new oe(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return H0(t,new ce(r))}if(n instanceof cn)return H0(t,n._key);throw new oe(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tj{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>dt(o.doubleValue));return new hv(s)}convertGeoPoint(e){return new cv(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=By(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=ns(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);He(hS(r));const i=new Kl(r.get(1),r.get(3)),s=new ce(r.popFirst(5));return i.isEqual(n)||ni(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GS extends HS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rh extends GS{data(e={}){return super.data(e)}}class KS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new Za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:nj(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class wv extends tj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function TE(t){t=Mn(t,to);const e=Mn(t.firestore,ii),n=Xd(e),r=new wv(e);return WS(t._query),B4(n,t._query).then(i=>new KS(e,r,t,i))}function ih(t,e,n){t=Mn(t,cn);const r=Mn(t.firestore,ii),i=_v(t.converter,e,n);return Pu(r,[fv(Cu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,un.none())])}function eu(t,e,n,...r){t=Mn(t,cn);const i=Mn(t.firestore,ii),s=Cu(i);let o;return o=typeof(e=xt(e))=="string"||e instanceof Iu?$S(s,"updateDoc",t._key,e,n,r):jS(s,"updateDoc",t._key,e),Pu(i,[o.toMutation(t._key,un.exists(!0))])}function rj(t){return Pu(Mn(t.firestore,ii),[new Hd(t._key,un.none())])}function cg(t,e){const n=Mn(t.firestore,ii),r=ht(t),i=_v(t.converter,e);return Pu(n,[fv(Cu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,un.exists(!1))]).then(()=>r)}function vr(t,...e){var n,r,i;t=xt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||kE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(t instanceof cn)u=Mn(t.firestore,ii),h=Gy(t._key.path),l={next:d=>{e[o]&&e[o](ij(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Mn(t,to);u=Mn(d.firestore,ii),h=d._query;const f=new wv(u);l={next:p=>{e[o]&&e[o](new KS(u,f,d,p))},error:e[o+1],complete:e[o+2]},WS(t._query)}return function(f,p,y,b){const D=new DS(b),g=new bS(p,D,y);return f.asyncQueue.enqueueAndForget(async()=>kS(await lg(f),g)),()=>{D.Za(),f.asyncQueue.enqueueAndForget(async()=>xS(await lg(f),g))}}(Xd(u),h,a,l)}function Pu(t,e){return function(r,i){const s=new Yi;return r.asyncQueue.enqueueAndForget(async()=>N4(await z4(r),i,s)),s.promise}(Xd(t),e)}function ij(t,e,n){const r=n.docs.get(e._key),i=new wv(t);return new GS(t,i,e._key,r,new Za(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cu(e)}set(e,n,r){this._verifyNotCommitted();const i=vp(e,this._firestore),s=_v(i.converter,n,r),o=fv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,un.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=vp(e,this._firestore);let o;return o=typeof(n=xt(n))=="string"||n instanceof Iu?$S(this._dataReader,"WriteBatch.update",s._key,n,r,i):jS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vp(e,this._firestore);return this._mutations=this._mutations.concat(new Hd(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vp(t,e){if((t=xt(t)).firestore!==e)throw new oe(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t){return Xd(t=Mn(t,ii)),new sj(t,e=>Pu(t,e))}(function(e,n=!0){(function(i){ca=i})(la),Yo(new Bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ii(new hF(r.getProvider("auth-internal")),new mF(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ki(j0,"4.7.3",e),Ki(j0,"4.7.3","esm2017")})();const QS=H1(YP),gs=aF(QS),de=q4(QS),Ns=({label:t,id:e,children:n,...r})=>E.jsxs("div",{children:[E.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),E.jsx("select",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...r,children:n})]});function oj({toast:t,confirm:e,allMeets:n}){const[r,i]=M.useState(""),[s,o]=M.useState(""),[a,l]=M.useState(null),[u,h]=M.useState(8),d=g=>g.toISOString().split("T")[0],f=g=>{l(g),i(g.name),o(d(g.date)),h(g.lanesAvailable||8)},p=()=>{i(""),o(""),l(null),h(8)},y=async(g,_)=>{if(await e({title:"Are you sure?",message:`This will permanently delete "${_}" and all of its scheduled events. This action cannot be undone.`,confirmText:"Delete"}))try{const O=Jl(sn(de,"meet_events"),Zl("meetId","==",g)),V=await TE(O),L=Pi(de);V.forEach(S=>L.delete(S.ref)),L.delete(ht(de,"meets",g)),await L.commit(),t.success(`"${_}" and all its events were deleted.`)}catch(O){t.error("Failed to delete meet and its events."),console.error("Error deleting meet:",O)}},b=async g=>{g.preventDefault();const _={name:r,date:pt.fromDate(new Date(s+"T00:00:00")),lanesAvailable:parseInt(u,10)||8};try{a?(await eu(ht(de,"meets",a.id),_),t.success("Meet updated successfully!")):(await cg(sn(de,"meets"),_),t.success("Meet successfully added!")),p()}catch{t.error("Failed to save meet.")}},D=async g=>{const _=await e({mode:"form",title:`Copy Meet: ${g.name}`,confirmText:"Copy Meet",inputs:[{name:"newName",label:"New Meet Name",defaultValue:`Copy of ${g.name}`},{name:"newDate",label:"New Meet Date",type:"date",defaultValue:d(new Date)},{name:"lanesAvailable",label:"Lanes Available",type:"number",defaultValue:g.lanesAvailable||8}]});if(_){const{newName:k,newDate:O,lanesAvailable:V}=_;if(!k||!O){t.error("New meet name and date are required.");return}try{const L=await cg(sn(de,"meets"),{name:k,date:pt.fromDate(new Date(O+"T00:00:00")),lanesAvailable:parseInt(V,10)||8}),S=Jl(sn(de,"meet_events"),Zl("meetId","==",g.id)),A=(await TE(S)).docs.map(R=>({...R.data(),id:R.id})),w=Pi(de);A.forEach(R=>{const I=ht(sn(de,"meet_events")),T={...R,meetId:L.id,heats:[]};delete T.id,w.set(I,T)}),await w.commit(),t.success("Successfully copied meet and its schedule.")}catch{t.error("Failed to copy meet.")}}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:a?"Edit Meet":"Create New Meet"}),E.jsxs("form",{onSubmit:b,className:"space-y-4 mt-2",children:[E.jsx(kr,{label:"Meet Name",id:"meetName",type:"text",value:r,onChange:g=>i(g.target.value)}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(kr,{label:"Meet Date",id:"meetDate",type:"date",value:s,onChange:g=>o(g.target.value)}),E.jsx(kr,{label:"Lanes Available",id:"lanesAvailable",type:"number",min:"1",max:"12",value:u,onChange:g=>h(g.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[E.jsx(an,{type:"submit",children:a?"Update Meet":"Add Meet"}),a&&E.jsx(an,{type:"button",variant:"secondary",onClick:p,children:"Cancel"})]})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Meets"}),E.jsx("ul",{className:"mt-2 space-y-2",children:n.map(g=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("span",{className:"font-medium",children:[g.name," ",E.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",g.date.toLocaleDateString(),")"]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>D(g),title:"Copy",children:E.jsx(Ue,{name:"copy"})}),E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>f(g),title:"Edit",children:E.jsx(Ue,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>y(g.id,g.name),title:"Delete",children:E.jsx(Ue,{name:"trash"})})]})]},g.id))})]})}function aj({toast:t,confirm:e,adminRole:n}){const[r,i]=M.useState(""),[s,o]=M.useState([]),[a,l]=M.useState(null);M.useEffect(()=>{const y=sn(de,"event_library"),b=vr(y,D=>{const g=D.docs.map(_=>({id:_.id,..._.data()})).sort((_,k)=>_.name.localeCompare(k.name));o(g)});return()=>b()},[]);const u=()=>{i(""),l(null)},h=y=>{l(y),i(y.name)},d=async(y,b)=>{if(await e({title:"Are you sure?",message:`This will permanently delete "${b}" from the Event Library.`}))try{await rj(ht(de,"event_library",y)),t.success("Library event deleted successfully.")}catch{t.error("Error deleting library event.")}},f=async y=>{if(y.preventDefault(),!r.trim()){t.error("Event name cannot be empty.");return}try{a?(await eu(ht(de,"event_library",a.id),{name:r}),t.success("Library event updated successfully.")):(await cg(sn(de,"event_library"),{name:r}),t.error("Library event created successfully.")),u()}catch{t.error("Error saving library event.")}},p=async()=>{if(!await e({title:"Bulk Load Events?",message:"This will add any missing standard events to the library. It will not create duplicates."}))return;if(typeof zc>"u"||!Array.isArray(zc)){t.error("Standard event library is not defined in config.js.");return}const b=new Set(s.map(_=>_.name)),D=zc.filter(_=>!b.has(_));if(D.length===0){t.error("All standard library events already exist.");return}t.success(`Adding ${D.length} new library events...`);const g=Pi(de);D.forEach(_=>{const k=ht(sn(de,"event_library"));g.set(k,{name:_})});try{await g.commit(),t.success("Bulk load complete!")}catch(_){t.error("An error occurred during bulk load."),console.error("Bulk load error:",_)}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Event Library"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a master list of reusable event types."}),n==="SUPERADMIN"&&E.jsxs("div",{className:"my-4 space-y-4",children:[E.jsxs("form",{onSubmit:f,className:"space-y-4",children:[E.jsx(kr,{label:a?"Edit Event Name":"New Event Name",id:"libraryEventName",type:"text",value:r,onChange:y=>i(y.target.value),placeholder:"e.g., Girls 9-10 50m Freestyle"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[E.jsx(an,{type:"submit",children:a?"Update Event":"Create Event"}),a&&E.jsx(an,{type:"button",variant:"secondary",onClick:u,children:"Cancel"})]})]}),E.jsx(an,{variant:"outline",onClick:p,children:"Bulk Load Standard Events"})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Library Events"}),E.jsx("ul",{className:"mt-2 space-y-2",children:s.map(y=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsx("span",{className:"font-medium",children:y.name}),n==="SUPERADMIN"&&E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>h(y),title:"Edit",children:E.jsx(Ue,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>d(y.id,y.name),title:"Delete",children:E.jsx(Ue,{name:"trash"})})]})]},y.id))})]})}function lj({toast:t,confirm:e,allMeets:n}){const[r,i]=M.useState(""),[s,o]=M.useState([]),[a,l]=M.useState([]),[u,h]=M.useState(new Set),[d,f]=M.useState(new Set),[p,y]=M.useState(null),[b,D]=M.useState(""),g=M.useRef(null),_=M.useRef(null);M.useEffect(()=>{const I=vr(sn(de,"event_library"),T=>{const H=T.docs.map(F=>({id:F.id,...F.data()})).sort((F,W)=>F.name.localeCompare(W.name));o(H)});return()=>I()},[]),M.useEffect(()=>{if(!r){l([]);return}const I=Jl(sn(de,"meet_events"),Zl("meetId","==",r)),T=vr(I,H=>{const F=H.docs.map(W=>({id:W.id,...W.data()})).sort((W,Z)=>W.eventNumber-Z.eventNumber);l(F)},H=>{showNotification("Could not load schedule.","danger")});return()=>T()},[r]),M.useEffect(()=>{g.current&&(_.current&&_.current.destroy(),_.current=new me(g.current,{animation:150,disabled:!!p,onEnd:async I=>{const{oldIndex:T,newIndex:H}=I;if(T===H)return;const F=[...a],[W]=F.splice(T,1);F.splice(H,0,W);const Z=Pi(de);F.forEach(($,G)=>{Z.update(ht(de,"meet_events",$.id),{eventNumber:G+1})});try{await Z.commit(),t.success("Event order updated.")}catch{t.error("Failed to update event order.")}}}))},[a,p]);const k=(I,T)=>{(T==="library"?h:f)(F=>{const W=new Set(F);return W.has(I)?W.delete(I):W.add(I),W})},O=M.useMemo(()=>{const I=new Set(a.map(T=>T.name));return s.filter(T=>!I.has(T.name))},[s,a]),V=async I=>{if(!r||I.length===0)return;const T=I.map((F,W)=>{const Z=s.find($=>$.id===F);return{meetId:r,libraryEventId:Z.id,name:Z.name,eventNumber:a.length+1+W,heats:[]}}),H=Pi(de);T.forEach(F=>H.set(ht(sn(de,"meet_events")),F));try{await H.commit(),t.success(`${T.length} event(s) added successfully.`),h(new Set)}catch{t.error("Error adding events.")}},L=async I=>{if(!r||I.length===0)return;if(await e({title:"Are you sure?",message:`This will remove ${I.length} event(s) from this meet's schedule.`})){const H=Pi(de);I.forEach(W=>H.delete(ht(de,"meet_events",W))),a.filter(W=>!I.includes(W.id)).sort((W,Z)=>W.eventNumber-Z.eventNumber).forEach((W,Z)=>H.update(ht(de,"meet_events",W.id),{eventNumber:Z+1}));try{await H.commit(),t.success("Selected events removed."),f(new Set)}catch{t.error("Failed to remove events.")}}},S=()=>{const I=new Set(a.map(F=>F.name)),H=zc.map(F=>s.find(W=>W.name===F)).filter(F=>F&&!I.has(F.name)).map(F=>F.id);V(H)},x=async()=>{if(a.length===0)return;if(await e({title:"Are you sure?",message:"This will remove ALL events from this meet's schedule. This action cannot be undone."})){const T=Pi(de);a.forEach(H=>T.delete(ht(de,"meet_events",H.id)));try{await T.commit(),t.success("Complete schedule has been cleared."),f(new Set)}catch{t.error("Failed to clear schedule.")}}},A=I=>{y(I.id),D(I.eventNumber)},w=()=>{y(null),D("")},R=async()=>{const I=p,T=parseInt(b,10);if(isNaN(T)||T<1||T>a.length){t.error(`Please enter a valid event number between 1 and ${a.length}.`);return}const H=[...a],F=H.find($=>$.id===I);if(!F)return;const W=H.findIndex($=>$.id===I);H.splice(W,1),H.splice(T-1,0,F);const Z=Pi(de);H.forEach(($,G)=>{Z.update(ht(de,"meet_events",$.id),{eventNumber:G+1})});try{await Z.commit(),t.success("Event number updated successfully."),w()}catch{t.error("Failed to update event number.")}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Manage a Meet's Schedule"}),E.jsx("div",{className:"my-4",children:E.jsxs(Ns,{label:"1. Select Meet to Manage",id:"meetSelectForSchedule",value:r,onChange:I=>i(I.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),n.map(I=>E.jsx("option",{value:I.id,children:I.name},I.id))]})}),r&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center mt-4",children:[E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[E.jsxs("h6",{className:"font-semibold mb-2",children:["Event Library (",O.length,")"]}),E.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",children:O.map(I=>E.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[E.jsx("input",{type:"checkbox",id:`lib-${I.id}`,checked:u.has(I.id),onChange:()=>k(I.id,"library")}),E.jsx("label",{htmlFor:`lib-${I.id}`,className:"flex-grow cursor-pointer",children:I.name})]},I.id))})]}),E.jsxs("div",{className:"flex flex-row md:flex-col gap-2 justify-center",children:[E.jsx(an,{onClick:S,title:"Add All",children:E.jsx(Ue,{name:"angle-double-right"})}),E.jsx(an,{onClick:()=>V(Array.from(u)),title:"Add Selected",children:E.jsx(Ue,{name:"angle-right"})}),E.jsx(an,{onClick:()=>L(Array.from(d)),title:"Remove Selected",children:E.jsx(Ue,{name:"angle-left"})}),E.jsx(an,{onClick:x,title:"Remove All",children:E.jsx(Ue,{name:"angle-double-left"})})]}),E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[E.jsxs("h6",{className:"font-semibold mb-2",children:["Scheduled Events (",a.length,")"]}),E.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",ref:g,children:a.map(I=>E.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2","data-id":I.id,children:[E.jsx("input",{type:"checkbox",id:`sch-${I.id}`,checked:d.has(I.id),onChange:()=>k(I.id,"schedule"),disabled:!!p}),p===I.id?E.jsxs(E.Fragment,{children:[" ",E.jsx("input",{type:"number",className:"w-16 p-1 text-center rounded-md border border-primary bg-surface-light dark:bg-surface-dark",value:b,onChange:T=>D(T.target.value),onKeyDown:T=>{T.key==="Enter"&&R(),T.key==="Escape"&&w()},autoFocus:!0}),E.jsx("span",{className:"flex-grow",children:I.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:R,title:"Save",className:"text-green-500 hover:text-green-700",children:E.jsx(Ue,{name:"check"})}),E.jsx("button",{onClick:w,title:"Cancel",className:"text-red-500 hover:text-red-700",children:E.jsx(Ue,{name:"times"})})]})]}):E.jsxs(E.Fragment,{children:[" ",E.jsxs("label",{htmlFor:`sch-${I.id}`,className:"flex-grow cursor-grab",children:[E.jsxs("strong",{className:"mr-2 w-8 inline-block text-center",children:["E",I.eventNumber,":"]}),I.name]}),E.jsx("div",{className:"ml-auto",children:E.jsx("button",{onClick:()=>A(I),title:"Edit Number",className:"text-gray-500 hover:text-gray-700",children:E.jsx(Ue,{name:"pencil-alt"})})})]})]},I.id))})]})]})]})}function uj({toast:t,confirm:e,adminRole:n}){const r=n==="SUPERADMIN",[i,s]=M.useState(r?"":n),[o,a]=M.useState([]),[l,u]=M.useState({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),h=M.useMemo(()=>Object.values(Rh).filter(g=>g!=="SUPERADMIN").sort(),[]),d=M.useRef(null);M.useEffect(()=>{if(i){const g=vr(ht(de,"rosters",i),_=>{a(_.exists()?_.data().swimmers||[]:[])});return()=>g()}else a([])},[i]);const f=()=>u({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),p=async g=>{g.preventDefault();const{id:_,firstName:k,lastName:O,age:V,gender:L}=l;if(!k.trim()||!O.trim()||!V||!i){t.error("Please select a team and fill out all swimmer fields.");return}let S=_?o.map(x=>x.id===_?{...x,firstName:k,lastName:O,age:parseInt(V),gender:L}:x):[...o,{id:crypto.randomUUID(),firstName:k,lastName:O,age:parseInt(V),gender:L}];await ih(ht(de,"rosters",i),{swimmers:S},{merge:!0}),t.success(`Swimmer ${_?"updated":"added"} successfully!`),f()},y=g=>u(g),b=async g=>{if(await e({title:"Are you sure?",message:`This removes ${g.firstName} from the team roster. It does NOT remove them from any events they are already entered in.`,confirmText:"Yes, remove from roster"}))try{const k=o.filter(O=>O.id!==g.id);await ih(ht(de,"rosters",i),{swimmers:k}),t.success("Swimmer removed from roster.")}catch(k){t.error("Failed to remove swimmer from roster."),console.error("Error removing swimmer:",k)}},D=g=>{const _=g.target.files[0];if(!_)return;const k=new FileReader;k.onload=async O=>{const L=O.target.result.split(`
`).filter(w=>w.trim()!==""),S=L.shift().toLowerCase().split(",").map(w=>w.trim());if(S[0]!=="firstname"||S[1]!=="lastname"||S[2]!=="age"||S[3]!=="gender"){t.error("Invalid CSV headers. Must be: firstName,lastName,age,gender");return}const x=L.map(w=>{const[R,I,T,H]=w.split(",");return{id:crypto.randomUUID(),firstName:R.trim(),lastName:I.trim(),age:parseInt(T),gender:H.trim()}}),A=[...o,...x];await ih(ht(de,"rosters",i),{swimmers:A},{merge:!0}),t.success(`Bulk upload successful! Added ${x.length} swimmers.`),d.current.value=""},k.readAsText(_)};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Manage Team Rosters"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add or view swimmers for a specific team."}),E.jsx("div",{className:"my-4 space-y-4",children:r&&E.jsxs(Ns,{label:"1. Select Team",id:"teamSelectRoster",value:i||"",onChange:g=>s(g.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),h.map(g=>E.jsx("option",{value:g,children:g},g))]})}),i&&E.jsxs(E.Fragment,{children:[E.jsxs("h6",{className:"font-semibold mt-6",children:[l.id?"Edit Swimmer":"Add Swimmer"," to ",i]}),E.jsxs("form",{onSubmit:p,className:"my-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:flex lg:items-end gap-3",children:[E.jsx("div",{className:"lg:flex-grow",children:E.jsx(kr,{label:"First Name",id:"swimmerFirstName",type:"text",value:l.firstName,onChange:g=>u({...l,firstName:g.target.value})})}),E.jsx("div",{className:"lg:flex-grow",children:E.jsx(kr,{label:"Last Name",id:"swimmerLastName",type:"text",value:l.lastName,onChange:g=>u({...l,lastName:g.target.value})})}),E.jsx("div",{className:"lg:w-20",children:E.jsx(kr,{label:"Age",id:"swimmerAge",type:"number",value:l.age,onChange:g=>u({...l,age:g.target.value})})}),E.jsx("div",{className:"lg:w-28",children:E.jsxs(Ns,{label:"Gender",id:"swimmerGender",value:l.gender,onChange:g=>u({...l,gender:g.target.value}),children:[E.jsx("option",{value:"Boy",children:"Boy"}),E.jsx("option",{value:"Girl",children:"Girl"})]})}),E.jsxs("div",{className:"flex space-x-2 pt-5 lg:pt-0",children:[E.jsx(an,{type:"submit",className:"flex-1",children:l.id?"Update":"Add"}),l.id&&E.jsx(an,{type:"button",variant:"secondary",onClick:f,className:"flex-1",children:"Cancel"})]})]}),E.jsxs("div",{className:"mt-6",children:[E.jsx("label",{htmlFor:"csvUpload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bulk Upload Roster (CSV)"}),E.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20",id:"csvUpload",accept:".csv",ref:d,onChange:D}),E.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: firstName,lastName,age,gender (with header row)"})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Team Roster for ",i]}),E.jsx("ul",{className:"mt-2 space-y-2",children:o.length>0?o.map(g=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("span",{className:"font-medium",children:[g.firstName," ",g.lastName," (Age: ",g.age,", ",g.gender,")"]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>y(g),title:"Edit",children:E.jsx(Ue,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>b(g),title:"Delete",children:E.jsx(Ue,{name:"trash"})})]})]},g.id)):E.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No swimmers on this roster yet."})})]})]})}function cj({toast:t,confirm:e,adminRole:n,allMeets:r,selectedMeet:i}){const s=n==="SUPERADMIN",[o,a]=M.useState(""),[l,u]=M.useState(s?"":n),[h,d]=M.useState([]),[f,p]=M.useState(""),[y,b]=M.useState(""),[D,g]=M.useState({heat:"",lane:""}),[_,k]=M.useState([]),[O,V]=M.useState([]),[L,S]=M.useState(null),x=h.find(F=>F.id===f),A=M.useMemo(()=>Object.values(Rh).filter(F=>F!=="SUPERADMIN").sort(),[]),w=M.useMemo(()=>{if(!x||!_)return[];const F=W=>{const Z=W.toLowerCase(),$=Z.startsWith("girls")?"Girl":Z.startsWith("boys")?"Boy":"Mixed",G=W.match(/(\d+)(-(\d+))?(\s*&\s*Under)?/);return G?G[4]?{minAge:0,maxAge:parseInt(G[1]),gender:$}:G[3]?{minAge:parseInt(G[1]),maxAge:parseInt(G[3]),gender:$}:{minAge:parseInt(G[1]),maxAge:parseInt(G[1]),gender:$}:{minAge:0,maxAge:100,gender:$}};return _.filter(W=>{const{minAge:Z,maxAge:$,gender:G}=F(W.name),N=x.age>=Z&&x.age<=$,X=G==="Mixed"||G===x.gender;return N&&X})},[x,_]);M.useEffect(()=>{if(!de||!o){k([]);return}const F=Jl(sn(de,"meet_events"),Zl("meetId","==",o)),W=vr(F,Z=>{k(Z.docs.map($=>({id:$.id,...$.data()})).sort(($,G)=>$.eventNumber-G.eventNumber))});return()=>W()},[o]),M.useEffect(()=>{if(l){const F=vr(ht(de,"rosters",l),W=>{d(W.exists()?W.data().swimmers||[]:[])});return()=>F()}else d([])},[l]),M.useEffect(()=>{if(!_||_.length===0){V([]);return}let F=[];_.forEach(W=>{W.heats&&W.heats.forEach(Z=>{Z.lanes.forEach($=>{F.push({swimmerId:$.id,swimmerName:`${$.firstName} ${$.lastName}`,team:$.team,eventId:W.id,eventName:W.name,eventNumber:W.eventNumber,heatNumber:Z.heatNumber,laneNumber:$.lane})})})}),s||(F=F.filter(W=>W.team===n)),F.sort((W,Z)=>W.eventNumber!==Z.eventNumber?W.eventNumber-Z.eventNumber:W.swimmerName.localeCompare(Z.swimmerName)),V(F)},[_,n,s]);const R=()=>{S(null),p(""),b(""),g({heat:"",lane:""})},I=F=>{S(F),s||u(F.team),p(F.swimmerId),b(F.eventId),g({heat:F.heatNumber,lane:F.laneNumber});const W=document.querySelector(".admin-view");W&&W.scrollIntoView({behavior:"smooth"})},T=async F=>{if(!await e({title:"Are you sure?",message:`Remove ${F.swimmerName} from E${F.eventNumber}: ${F.eventName}?`,confirmText:"Yes, remove them!"}))return;const Z=ht(de,"meet_events",F.eventId);try{const $=_.find(N=>N.id===F.eventId);if(!$)throw new Error("Event not found");const G=$.heats.map(N=>({...N,lanes:N.lanes.filter(X=>X.id!==F.swimmerId)})).filter(N=>N.lanes.length>0);await eu(Z,{heats:G}),t.success("Entry deleted successfully.")}catch($){t.error("Failed to delete entry."),console.error("Error deleting entry:",$)}},H=async()=>{const F=h.find(ne=>ne.id===f);if(!F||!y||!l||!o){t.error("Please select a meet, team, swimmer, and event.");return}const W=ht(de,"meet_events",y),Z=_.find(ne=>ne.id===y);if(!Z)return;let $=JSON.parse(JSON.stringify(Z.heats||[]));L&&($=$.map(ne=>({...ne,lanes:ne.lanes.filter(P=>P.id!==L.swimmerId)})).filter(ne=>ne.lanes.length>0));const G=(i==null?void 0:i.lanesAvailable)||8,N=parseInt(D.heat,10),X=parseInt(D.lane,10);if(N&&X){if(X>G){t.error(`Invalid lane. Only ${G} lanes are available for this meet.`);return}let ne=$.find(ge=>ge.heatNumber===N);if(ne||(ne={heatNumber:N,lanes:[]},$.push(ne)),ne.lanes.some(ge=>ge.lane===X)){t.error(`Lane ${X} in Heat ${N} is already occupied.`);return}ne.lanes.push({...F,team:l,seedTime:"NT",lane:X})}else{let ne=!1;for(const P of $)if(P.lanes.length<G){const ge=new Set(P.lanes.map(Te=>Te.lane));for(let Te=1;Te<=G;Te++)if(!ge.has(Te)){P.lanes.push({...F,team:l,seedTime:"NT",lane:Te}),ne=!0;break}if(ne)break}ne||$.push({heatNumber:$.length+1,lanes:[{...F,team:l,seedTime:"NT",lane:1}]})}$.sort((ne,P)=>ne.heatNumber-P.heatNumber),$.forEach(ne=>ne.lanes.sort((P,ge)=>P.lane-ge.lane));try{await eu(W,{heats:$}),t.success(`${F.firstName} was ${L?"updated":"entered"} successfully.`),R()}catch(ne){t.error(`Failed to ${L?"update":"add"} entry.`),console.error("Error in entry transaction:",ne)}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:L?"Edit Entry":"Enter Swimmers into Events"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Assign swimmers to events for the selected meet."}),E.jsxs("div",{className:"my-4 space-y-4",children:[E.jsxs(Ns,{label:"1. Select Meet",id:"meetSelectEntries",value:o,onChange:F=>a(F.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),r.map(F=>E.jsx("option",{value:F.id,children:F.name},F.id))]}),s&&o&&E.jsxs(Ns,{label:"2. Select Team",id:"teamSelectManage",value:l||"",onChange:F=>u(F.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),A.map(F=>E.jsx("option",{value:F,children:F},F))]})]}),l&&o&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs(Ns,{label:"3. Select Swimmer",id:"swimmerSelect",value:f,onChange:F=>p(F.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose from roster --"}),h.map(F=>E.jsxs("option",{value:F.id,children:[F.firstName," ",F.lastName," (Age: ",F.age,")"]},F.id))]}),E.jsxs(Ns,{label:"4. Select Event",id:"eventSelect",value:y,onChange:F=>b(F.target.value),disabled:!f,children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose an event --"}),w.map(F=>E.jsxs("option",{value:F.id,children:["E",F.eventNumber," - ",F.name]},F.id))]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(kr,{label:"Heat (Optional)",id:"heatNumber",type:"number",min:"1",placeholder:"Auto",value:D.heat,onChange:F=>g({...D,heat:F.target.value})}),E.jsx(kr,{label:"Lane (Optional)",id:"laneNumber",type:"number",min:"1",placeholder:"Auto",value:D.lane,onChange:F=>g({...D,lane:F.target.value})})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(an,{onClick:H,disabled:!f||!y,variant:"primary",children:L?"Update Entry":"Add Entry"}),L&&E.jsx(an,{onClick:R,variant:"secondary",children:"Cancel Edit"})]})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Current Entries for ",s?"All Teams":l]}),E.jsx("ul",{className:"mt-2 space-y-2",children:O.length>0?O.map(F=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:F.swimmerName})," (",F.team,")",E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["E",F.eventNumber,": ",F.eventName]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",onClick:()=>I(F),title:"Edit",children:E.jsx(Ue,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>T(F),title:"Delete",children:E.jsx(Ue,{name:"trash"})})]})]},`${F.swimmerId}-${F.eventId}`)):E.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No entries found for the selected team."})})]})]})}function hj({toast:t,adminRole:e,allMeets:n}){var d;const{confirm:r,ConfirmationModal:i}=I2(),[s,o]=M.useState("meets"),[a,l]=M.useState(((d=n[0])==null?void 0:d.id)||""),u=M.useMemo(()=>n.find(f=>f.id===a),[n,a]);if(!e)return E.jsx("div",{className:"p-4 text-yellow-800 bg-yellow-100 border border-yellow-200 rounded-md",children:"You are not authorized to view this page."});const h=()=>{const f={toast:t,confirm:r,adminRole:e,allMeets:n,activeMeetId:a,setActiveMeetId:l,selectedMeet:u};switch(s){case"meets":return E.jsx(oj,{...f});case"library":return E.jsx(aj,{...f});case"schedule":return E.jsx(lj,{...f});case"rosters":return E.jsx(uj,{...f});case"entries":return E.jsx(cj,{...f});default:return null}};return E.jsxs("div",{className:"admin-view",children:[E.jsx("h2",{className:"text-xl font-bold mb-3",children:"Admin Panel"}),E.jsx(i,{}),E.jsxs("ul",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 mb-4",children:[E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="meets"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("meets"),children:"Meets"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="library"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("library"),children:"Library"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="schedule"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("schedule"),children:"Schedule"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="rosters"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("rosters"),children:"Rosters"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="entries"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("entries"),children:"Entries"})})]}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsx("div",{className:"p-4",children:h()})})]})}function dj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const fj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mj={};function SE(t,e){return(mj.jsx?pj:fj).test(t)}const gj=/[ \t\n\f\r]/g;function yj(t){return typeof t=="object"?t.type==="text"?IE(t.value):!1:IE(t)}function IE(t){return t.replace(gj,"")===""}class Ru{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ru.prototype.normal={};Ru.prototype.property={};Ru.prototype.space=void 0;function YS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ru(n,r,e)}function hg(t){return t.toLowerCase()}class xn{constructor(e,n){this.attribute=n,this.property=e}}xn.prototype.attribute="";xn.prototype.booleanish=!1;xn.prototype.boolean=!1;xn.prototype.commaOrSpaceSeparated=!1;xn.prototype.commaSeparated=!1;xn.prototype.defined=!1;xn.prototype.mustUseProperty=!1;xn.prototype.number=!1;xn.prototype.overloadedBoolean=!1;xn.prototype.property="";xn.prototype.spaceSeparated=!1;xn.prototype.space=void 0;let vj=0;const be=no(),yt=no(),dg=no(),Y=no(),Ke=no(),Uo=no(),Pn=no();function no(){return 2**++vj}const fg=Object.freeze(Object.defineProperty({__proto__:null,boolean:be,booleanish:yt,commaOrSpaceSeparated:Pn,commaSeparated:Uo,number:Y,overloadedBoolean:dg,spaceSeparated:Ke},Symbol.toStringTag,{value:"Module"})),_p=Object.keys(fg);class Ev extends xn{constructor(e,n,r,i){let s=-1;if(super(e,n),CE(this,"space",i),typeof r=="number")for(;++s<_p.length;){const o=_p[s];CE(this,_p[s],(r&fg[o])===fg[o])}}}Ev.prototype.defined=!0;function CE(t,e,n){n&&(t[e]=n)}function fa(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new Ev(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[hg(r)]=r,n[hg(s.attribute)]=r}return new Ru(e,n,t.space)}const XS=fa({properties:{ariaActiveDescendant:null,ariaAtomic:yt,ariaAutoComplete:null,ariaBusy:yt,ariaChecked:yt,ariaColCount:Y,ariaColIndex:Y,ariaColSpan:Y,ariaControls:Ke,ariaCurrent:null,ariaDescribedBy:Ke,ariaDetails:null,ariaDisabled:yt,ariaDropEffect:Ke,ariaErrorMessage:null,ariaExpanded:yt,ariaFlowTo:Ke,ariaGrabbed:yt,ariaHasPopup:null,ariaHidden:yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ke,ariaLevel:Y,ariaLive:null,ariaModal:yt,ariaMultiLine:yt,ariaMultiSelectable:yt,ariaOrientation:null,ariaOwns:Ke,ariaPlaceholder:null,ariaPosInSet:Y,ariaPressed:yt,ariaReadOnly:yt,ariaRelevant:null,ariaRequired:yt,ariaRoleDescription:Ke,ariaRowCount:Y,ariaRowIndex:Y,ariaRowSpan:Y,ariaSelected:yt,ariaSetSize:Y,ariaSort:null,ariaValueMax:Y,ariaValueMin:Y,ariaValueNow:Y,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function JS(t,e){return e in t?t[e]:e}function ZS(t,e){return JS(t,e.toLowerCase())}const _j=fa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Uo,acceptCharset:Ke,accessKey:Ke,action:null,allow:null,allowFullScreen:be,allowPaymentRequest:be,allowUserMedia:be,alt:null,as:null,async:be,autoCapitalize:null,autoComplete:Ke,autoFocus:be,autoPlay:be,blocking:Ke,capture:null,charSet:null,checked:be,cite:null,className:Ke,cols:Y,colSpan:null,content:null,contentEditable:yt,controls:be,controlsList:Ke,coords:Y|Uo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:be,defer:be,dir:null,dirName:null,disabled:be,download:dg,draggable:yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:be,formTarget:null,headers:Ke,height:Y,hidden:dg,high:Y,href:null,hrefLang:null,htmlFor:Ke,httpEquiv:Ke,id:null,imageSizes:null,imageSrcSet:null,inert:be,inputMode:null,integrity:null,is:null,isMap:be,itemId:null,itemProp:Ke,itemRef:Ke,itemScope:be,itemType:Ke,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:be,low:Y,manifest:null,max:null,maxLength:Y,media:null,method:null,min:null,minLength:Y,multiple:be,muted:be,name:null,nonce:null,noModule:be,noValidate:be,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:be,optimum:Y,pattern:null,ping:Ke,placeholder:null,playsInline:be,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:be,referrerPolicy:null,rel:Ke,required:be,reversed:be,rows:Y,rowSpan:Y,sandbox:Ke,scope:null,scoped:be,seamless:be,selected:be,shadowRootClonable:be,shadowRootDelegatesFocus:be,shadowRootMode:null,shape:null,size:Y,sizes:null,slot:null,span:Y,spellCheck:yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Y,step:null,style:null,tabIndex:Y,target:null,title:null,translate:null,type:null,typeMustMatch:be,useMap:null,value:yt,width:Y,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ke,axis:null,background:null,bgColor:null,border:Y,borderColor:null,bottomMargin:Y,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:be,declare:be,event:null,face:null,frame:null,frameBorder:null,hSpace:Y,leftMargin:Y,link:null,longDesc:null,lowSrc:null,marginHeight:Y,marginWidth:Y,noResize:be,noHref:be,noShade:be,noWrap:be,object:null,profile:null,prompt:null,rev:null,rightMargin:Y,rules:null,scheme:null,scrolling:yt,standby:null,summary:null,text:null,topMargin:Y,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Y,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:be,disableRemotePlayback:be,prefix:null,property:null,results:Y,security:null,unselectable:null},space:"html",transform:ZS}),wj=fa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Pn,accentHeight:Y,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Y,amplitude:Y,arabicForm:null,ascent:Y,attributeName:null,attributeType:null,azimuth:Y,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Y,by:null,calcMode:null,capHeight:Y,className:Ke,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Y,diffuseConstant:Y,direction:null,display:null,dur:null,divisor:Y,dominantBaseline:null,download:be,dx:null,dy:null,edgeMode:null,editable:null,elevation:Y,enableBackground:null,end:null,event:null,exponent:Y,externalResourcesRequired:null,fill:null,fillOpacity:Y,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Uo,g2:Uo,glyphName:Uo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Y,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Y,horizOriginX:Y,horizOriginY:Y,id:null,ideographic:Y,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Y,k:Y,k1:Y,k2:Y,k3:Y,k4:Y,kernelMatrix:Pn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Y,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Y,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Y,overlineThickness:Y,paintOrder:null,panose1:null,path:null,pathLength:Y,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ke,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Y,pointsAtY:Y,pointsAtZ:Y,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pn,rev:Pn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pn,requiredFeatures:Pn,requiredFonts:Pn,requiredFormats:Pn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Y,specularExponent:Y,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Y,strikethroughThickness:Y,string:null,stroke:null,strokeDashArray:Pn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Y,strokeOpacity:Y,strokeWidth:null,style:null,surfaceScale:Y,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pn,tabIndex:Y,tableValues:null,target:null,targetX:Y,targetY:Y,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Y,underlineThickness:Y,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Y,values:null,vAlphabetic:Y,vMathematical:Y,vectorEffect:null,vHanging:Y,vIdeographic:Y,version:null,vertAdvY:Y,vertOriginX:Y,vertOriginY:Y,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Y,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:JS}),eI=fa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tI=fa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ZS}),nI=fa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),Ej={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},kj=/[A-Z]/g,AE=/-[a-z]/g,xj=/^data[-\w.:]+$/i;function bj(t,e){const n=hg(e);let r=e,i=xn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&xj.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(AE,Sj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!AE.test(s)){let o=s.replace(kj,Tj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=Ev}return new i(r,e)}function Tj(t){return"-"+t.toLowerCase()}function Sj(t){return t.charAt(1).toUpperCase()}const Ij=YS([XS,_j,eI,tI,nI],"html"),kv=YS([XS,wj,eI,tI,nI],"svg");function Cj(t){return t.join(" ").trim()}var xv={},PE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Aj=/\n/g,Pj=/^\s*/,Rj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Nj=/^:\s*/,Dj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Oj=/^[;\s]*/,Lj=/^\s+|\s+$/g,Mj=`
`,RE="/",NE="*",bs="",Fj="comment",Vj="declaration",jj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(y){var b=y.match(Aj);b&&(n+=b.length);var D=y.lastIndexOf(Mj);r=~D?y.length-D:r+y.length}function s(){var y={line:n,column:r};return function(b){return b.position=new o(y),u(),b}}function o(y){this.start=y,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(y){var b=new Error(e.source+":"+n+":"+r+": "+y);if(b.reason=y,b.filename=e.source,b.line=n,b.column=r,b.source=t,!e.silent)throw b}function l(y){var b=y.exec(t);if(b){var D=b[0];return i(D),t=t.slice(D.length),b}}function u(){l(Pj)}function h(y){var b;for(y=y||[];b=d();)b!==!1&&y.push(b);return y}function d(){var y=s();if(!(RE!=t.charAt(0)||NE!=t.charAt(1))){for(var b=2;bs!=t.charAt(b)&&(NE!=t.charAt(b)||RE!=t.charAt(b+1));)++b;if(b+=2,bs===t.charAt(b-1))return a("End of comment missing");var D=t.slice(2,b-2);return r+=2,i(D),t=t.slice(b),r+=2,y({type:Fj,comment:D})}}function f(){var y=s(),b=l(Rj);if(b){if(d(),!l(Nj))return a("property missing ':'");var D=l(Dj),g=y({type:Vj,property:DE(b[0].replace(PE,bs)),value:D?DE(D[0].replace(PE,bs)):bs});return l(Oj),g}}function p(){var y=[];h(y);for(var b;b=f();)b!==!1&&(y.push(b),h(y));return y}return u(),p()};function DE(t){return t?t.replace(Lj,bs):bs}var $j=Tl&&Tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xv,"__esModule",{value:!0});xv.default=zj;var Uj=$j(jj);function zj(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Uj.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.camelCase=void 0;var Bj=/^--[a-zA-Z0-9_-]+$/,Hj=/-([a-z])/g,Wj=/^[^-]+$/,qj=/^-(webkit|moz|ms|o|khtml)-/,Gj=/^-(ms)-/,Kj=function(t){return!t||Wj.test(t)||Bj.test(t)},Qj=function(t,e){return e.toUpperCase()},OE=function(t,e){return"".concat(e,"-")},Yj=function(t,e){return e===void 0&&(e={}),Kj(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Gj,OE):t=t.replace(qj,OE),t.replace(Hj,Qj))};ef.camelCase=Yj;var Xj=Tl&&Tl.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Jj=Xj(xv),Zj=ef;function pg(t,e){var n={};return!t||typeof t!="string"||(0,Jj.default)(t,function(r,i){r&&i&&(n[(0,Zj.camelCase)(r,e)]=i)}),n}pg.default=pg;var e$=pg;const t$=xg(e$),rI=iI("end"),bv=iI("start");function iI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function n$(t){const e=bv(t),n=rI(t);if(e&&n)return{start:e,end:n}}function kl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?LE(t.position):"start"in t||"end"in t?LE(t):"line"in t||"column"in t?mg(t):""}function mg(t){return ME(t&&t.line)+":"+ME(t&&t.column)}function LE(t){return mg(t&&t.start)+"-"+mg(t&&t.end)}function ME(t){return t&&typeof t=="number"?t:1}class Xt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=kl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const Tv={}.hasOwnProperty,r$=new Map,i$=/[A-Z]/g,s$=new Set(["table","tbody","thead","tfoot","tr"]),o$=new Set(["td","th"]),sI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function a$(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=m$(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=p$(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?kv:Ij,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=oI(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function oI(t,e,n){if(e.type==="element")return l$(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return u$(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return h$(t,e,n);if(e.type==="mdxjsEsm")return c$(t,e);if(e.type==="root")return d$(t,e,n);if(e.type==="text")return f$(t,e)}function l$(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=kv,t.schema=i),t.ancestors.push(e);const s=lI(t,e.tagName,!1),o=g$(t,e);let a=Iv(t,e);return s$.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!yj(l):!0})),aI(t,o,s,e),Sv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function u$(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}tu(t,e.position)}function c$(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);tu(t,e.position)}function h$(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=kv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:lI(t,e.name,!0),o=y$(t,e),a=Iv(t,e);return aI(t,o,s,e),Sv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function d$(t,e,n){const r={};return Sv(r,Iv(t,e)),t.create(e,t.Fragment,r,n)}function f$(t,e){return e.value}function aI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Sv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function p$(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function m$(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=bv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function g$(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Tv.call(e.properties,i)){const s=v$(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&o$.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function y$(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else tu(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else tu(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Iv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:r$;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=oI(t,s,o);a!==void 0&&n.push(a)}return n}function v$(t,e,n){const r=bj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?dj(n):Cj(n)),r.property==="style"){let i=typeof n=="object"?n:_$(t,String(n));return t.stylePropertyNameCase==="css"&&(i=w$(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?Ej[r.property]||r.property:r.attribute,n]}}function _$(t,e){try{return t$(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=sI+"#cannot-parse-style-attribute",i}}function lI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=SE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=SE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Tv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);tu(t)}function tu(t,e){const n=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=sI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function w$(t){const e={};let n;for(n in t)Tv.call(t,n)&&(e[E$(n)]=t[n]);return e}function E$(t){let e=t.replace(i$,k$);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function k$(t){return"-"+t.toLowerCase()}const wp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},x$={};function Cv(t,e){const n=x$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uI(t,r,i)}function uI(t,e,n){if(b$(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return FE(t.children,e,n)}return Array.isArray(t)?FE(t,e,n):""}function FE(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=uI(t[i],e,n);return r.join("")}function b$(t){return!!(t&&typeof t=="object")}const VE=document.createElement("i");function Av(t){const e="&"+t+";";VE.innerHTML=e;const n=VE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Fn(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function qn(t,e){return t.length>0?(Fn(t,t.length,0,e),t):e}const jE={}.hasOwnProperty;function cI(t){const e={};let n=-1;for(;++n<t.length;)T$(e,t[n]);return e}function T$(t,e){let n;for(n in e){const i=(jE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){jE.call(i,o)||(i[o]=[]);const a=s[o];S$(i[o],Array.isArray(a)?a:a?[a]:[])}}}function S$(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Fn(t,0,0,r)}function hI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ur(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const on=us(/[A-Za-z]/),Gt=us(/[\dA-Za-z]/),I$=us(/[#-'*+\--9=?A-Z^-~]/);function id(t){return t!==null&&(t<32||t===127)}const gg=us(/\d/),C$=us(/[\dA-Fa-f]/),A$=us(/[!-/:-@[-`{-~]/);function he(t){return t!==null&&t<-2}function Ge(t){return t!==null&&(t<0||t===32)}function Ie(t){return t===-2||t===-1||t===32}const tf=us(new RegExp("\\p{P}|\\p{S}","u")),Ks=us(/\s/);function us(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function pa(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Gt(t.charCodeAt(n+1))&&Gt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Le(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ie(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ie(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const P$={tokenize:R$};function R$(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Le(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return he(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const N$={tokenize:D$},$E={tokenize:O$};function D$(t){const e=this,n=[];let r=0,i,s,o;return a;function a(k){if(r<n.length){const O=n[r];return e.containerState=O[1],t.attempt(O[0].continuation,l,u)(k)}return u(k)}function l(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const O=e.events.length;let V=O,L;for(;V--;)if(e.events[V][0]==="exit"&&e.events[V][1].type==="chunkFlow"){L=e.events[V][1].end;break}g(r);let S=O;for(;S<e.events.length;)e.events[S][1].end={...L},S++;return Fn(e.events,V+1,0,e.events.slice(O)),e.events.length=S,u(k)}return a(k)}function u(k){if(r===n.length){if(!i)return f(k);if(i.currentConstruct&&i.currentConstruct.concrete)return y(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check($E,h,d)(k)}function h(k){return i&&_(),g(r),f(k)}function d(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(k)}function f(k){return e.containerState={},t.attempt($E,p,y)(k)}function p(k){return r++,n.push([e.currentConstruct,e.containerState]),f(k)}function y(k){if(k===null){i&&_(),g(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(k)}function b(k){if(k===null){D(t.exit("chunkFlow"),!0),g(0),t.consume(k);return}return he(k)?(t.consume(k),D(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(k),b)}function D(k,O){const V=e.sliceStream(k);if(O&&V.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(V),e.parser.lazy[k.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<o&&(!i.events[L][1].end||i.events[L][1].end.offset>o))return;const S=e.events.length;let x=S,A,w;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(A){w=e.events[x][1].end;break}A=!0}for(g(r),L=S;L<e.events.length;)e.events[L][1].end={...w},L++;Fn(e.events,x+1,0,e.events.slice(S)),e.events.length=L}}function g(k){let O=n.length;for(;O-- >k;){const V=n[O];e.containerState=V[1],V[0].exit.call(e,t)}n.length=k}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function O$(t,e,n){return Le(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ia(t){if(t===null||Ge(t)||Ks(t))return 1;if(tf(t))return 2}function nf(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const yg={name:"attention",resolveAll:L$,tokenize:M$};function L$(t,e){let n=-1,r,i,s,o,a,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};UE(d,-l),UE(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=qn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=qn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=qn(u,nf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=qn(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=qn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Fn(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function M$(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ia(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),h=ia(l),d=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(h||!d)),e(l)}}function UE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const F$={name:"autolink",tokenize:V$};function V$(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return on(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Gt(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Gt(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||id(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),h):I$(p)?(t.consume(p),u):n(p)}function h(p){return Gt(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Gt(p))&&r++<63){const y=p===45?f:d;return t.consume(p),y}return n(p)}}const Nu={partial:!0,tokenize:j$};function j$(t,e,n){return r;function r(s){return Ie(s)?Le(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||he(s)?e(s):n(s)}}const dI={continuation:{tokenize:U$},exit:z$,name:"blockQuote",tokenize:$$};function $$(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ie(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function U$(t,e,n){const r=this;return i;function i(o){return Ie(o)?Le(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(dI,e,n)(o)}}function z$(t){t.exit("blockQuote")}const fI={name:"characterEscape",tokenize:B$};function B$(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return A$(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const pI={name:"characterReference",tokenize:H$};function H$(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Gt,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=C$,h):(t.enter("characterReferenceValue"),s=7,o=gg,h(d))}function h(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===Gt&&!Av(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),h):n(d)}}const zE={partial:!0,tokenize:q$},BE={concrete:!0,name:"codeFenced",tokenize:W$};function W$(t,e,n){const r=this,i={partial:!0,tokenize:V};let s=0,o=0,a;return l;function l(L){return u(L)}function u(L){const S=r.events[r.events.length-1];return s=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,a=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===a?(o++,t.consume(L),h):o<3?n(L):(t.exit("codeFencedFenceSequence"),Ie(L)?Le(t,d,"whitespace")(L):d(L))}function d(L){return L===null||he(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(zE,b,O)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(L))}function f(L){return L===null||he(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(L)):Ie(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Le(t,p,"whitespace")(L)):L===96&&L===a?n(L):(t.consume(L),f)}function p(L){return L===null||he(L)?d(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(L))}function y(L){return L===null||he(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(L)):L===96&&L===a?n(L):(t.consume(L),y)}function b(L){return t.attempt(i,O,D)(L)}function D(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),g}function g(L){return s>0&&Ie(L)?Le(t,_,"linePrefix",s+1)(L):_(L)}function _(L){return L===null||he(L)?t.check(zE,b,O)(L):(t.enter("codeFlowValue"),k(L))}function k(L){return L===null||he(L)?(t.exit("codeFlowValue"),_(L)):(t.consume(L),k)}function O(L){return t.exit("codeFenced"),e(L)}function V(L,S,x){let A=0;return w;function w(F){return L.enter("lineEnding"),L.consume(F),L.exit("lineEnding"),R}function R(F){return L.enter("codeFencedFence"),Ie(F)?Le(L,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):I(F)}function I(F){return F===a?(L.enter("codeFencedFenceSequence"),T(F)):x(F)}function T(F){return F===a?(A++,L.consume(F),T):A>=o?(L.exit("codeFencedFenceSequence"),Ie(F)?Le(L,H,"whitespace")(F):H(F)):x(F)}function H(F){return F===null||he(F)?(L.exit("codeFencedFence"),S(F)):x(F)}}}function q$(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Ep={name:"codeIndented",tokenize:K$},G$={partial:!0,tokenize:Q$};function K$(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Le(t,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):he(u)?t.attempt(G$,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||he(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function Q$(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):he(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Le(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):he(o)?i(o):n(o)}}const Y$={name:"codeText",previous:J$,resolve:X$,tokenize:Z$};function X$(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function J$(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Z$(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):he(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||he(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class e3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Va(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Va(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Va(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Va(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Va(this.left,n.reverse())}}}function Va(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function mI(t){const e={};let n=-1,r,i,s,o,a,l,u;const h=new e3(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,t3(h,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return Fn(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function t3(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let h,d,f=-1,p=n,y=0,b=0;const D=[b];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(b=f+1,D.push(b),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):D.pop(),f=D.length;f--;){const g=a.slice(D[f],D[f+1]),_=s.pop();l.push([_,_+g.length-1]),t.splice(_,2,g)}for(l.reverse(),f=-1;++f<l.length;)u[y+l[f][0]]=y+l[f][1],y+=l[f][1]-l[f][0]-1;return u}const n3={resolve:i3,tokenize:s3},r3={partial:!0,tokenize:o3};function i3(t){return mI(t),t}function s3(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):he(a)?t.check(r3,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function o3(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Le(t,s,"linePrefix")}function s(o){if(o===null||he(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function gI(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(g){return g===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(g),t.exit(s),f):g===null||g===32||g===41||id(g)?n(g):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),b(g))}function f(g){return g===62?(t.enter(s),t.consume(g),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(g))}function p(g){return g===62?(t.exit("chunkString"),t.exit(a),f(g)):g===null||g===60||he(g)?n(g):(t.consume(g),g===92?y:p)}function y(g){return g===60||g===62||g===92?(t.consume(g),p):p(g)}function b(g){return!h&&(g===null||g===41||Ge(g))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(g)):h<u&&g===40?(t.consume(g),h++,b):g===41?(t.consume(g),h--,b):g===null||g===32||g===40||id(g)?n(g):(t.consume(g),g===92?D:b)}function D(g){return g===40||g===41||g===92?(t.consume(g),b):b(g)}}function yI(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),h}function h(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):he(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||he(p)||a++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!Ie(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function vI(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):he(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Le(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||he(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===o||f===92?(t.consume(f),h):h(f)}}function xl(t,e){let n;return r;function r(i){return he(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ie(i)?Le(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const a3={name:"definition",tokenize:u3},l3={partial:!0,tokenize:c3};function u3(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return yI.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ge(p)?xl(t,u)(p):u(p)}function u(p){return gI(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(l3,d,d)(p)}function d(p){return Ie(p)?Le(t,f,"whitespace")(p):f(p)}function f(p){return p===null||he(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function c3(t,e,n){return r;function r(a){return Ge(a)?xl(t,i)(a):n(a)}function i(a){return vI(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ie(a)?Le(t,o,"whitespace")(a):o(a)}function o(a){return a===null||he(a)?e(a):n(a)}}const h3={name:"hardBreakEscape",tokenize:d3};function d3(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return he(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const f3={name:"headingAtx",resolve:p3,tokenize:m3};function p3(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Fn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function m3(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||Ge(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||he(h)?(t.exit("atxHeading"),e(h)):Ie(h)?Le(t,a,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||Ge(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),u)}}const g3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],HE=["pre","script","style","textarea"],y3={concrete:!0,name:"htmlFlow",resolveTo:w3,tokenize:E3},v3={partial:!0,tokenize:x3},_3={partial:!0,tokenize:k3};function w3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function E3(t,e,n){const r=this;let i,s,o,a,l;return u;function u(P){return h(P)}function h(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),d}function d(P){return P===33?(t.consume(P),f):P===47?(t.consume(P),s=!0,b):P===63?(t.consume(P),i=3,r.interrupt?e:N):on(P)?(t.consume(P),o=String.fromCharCode(P),D):n(P)}function f(P){return P===45?(t.consume(P),i=2,p):P===91?(t.consume(P),i=5,a=0,y):on(P)?(t.consume(P),i=4,r.interrupt?e:N):n(P)}function p(P){return P===45?(t.consume(P),r.interrupt?e:N):n(P)}function y(P){const ge="CDATA[";return P===ge.charCodeAt(a++)?(t.consume(P),a===ge.length?r.interrupt?e:I:y):n(P)}function b(P){return on(P)?(t.consume(P),o=String.fromCharCode(P),D):n(P)}function D(P){if(P===null||P===47||P===62||Ge(P)){const ge=P===47,Te=o.toLowerCase();return!ge&&!s&&HE.includes(Te)?(i=1,r.interrupt?e(P):I(P)):g3.includes(o.toLowerCase())?(i=6,ge?(t.consume(P),g):r.interrupt?e(P):I(P)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(P):s?_(P):k(P))}return P===45||Gt(P)?(t.consume(P),o+=String.fromCharCode(P),D):n(P)}function g(P){return P===62?(t.consume(P),r.interrupt?e:I):n(P)}function _(P){return Ie(P)?(t.consume(P),_):w(P)}function k(P){return P===47?(t.consume(P),w):P===58||P===95||on(P)?(t.consume(P),O):Ie(P)?(t.consume(P),k):w(P)}function O(P){return P===45||P===46||P===58||P===95||Gt(P)?(t.consume(P),O):V(P)}function V(P){return P===61?(t.consume(P),L):Ie(P)?(t.consume(P),V):k(P)}function L(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),l=P,S):Ie(P)?(t.consume(P),L):x(P)}function S(P){return P===l?(t.consume(P),l=null,A):P===null||he(P)?n(P):(t.consume(P),S)}function x(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||Ge(P)?V(P):(t.consume(P),x)}function A(P){return P===47||P===62||Ie(P)?k(P):n(P)}function w(P){return P===62?(t.consume(P),R):n(P)}function R(P){return P===null||he(P)?I(P):Ie(P)?(t.consume(P),R):n(P)}function I(P){return P===45&&i===2?(t.consume(P),W):P===60&&i===1?(t.consume(P),Z):P===62&&i===4?(t.consume(P),X):P===63&&i===3?(t.consume(P),N):P===93&&i===5?(t.consume(P),G):he(P)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(v3,ne,T)(P)):P===null||he(P)?(t.exit("htmlFlowData"),T(P)):(t.consume(P),I)}function T(P){return t.check(_3,H,ne)(P)}function H(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),F}function F(P){return P===null||he(P)?T(P):(t.enter("htmlFlowData"),I(P))}function W(P){return P===45?(t.consume(P),N):I(P)}function Z(P){return P===47?(t.consume(P),o="",$):I(P)}function $(P){if(P===62){const ge=o.toLowerCase();return HE.includes(ge)?(t.consume(P),X):I(P)}return on(P)&&o.length<8?(t.consume(P),o+=String.fromCharCode(P),$):I(P)}function G(P){return P===93?(t.consume(P),N):I(P)}function N(P){return P===62?(t.consume(P),X):P===45&&i===2?(t.consume(P),N):I(P)}function X(P){return P===null||he(P)?(t.exit("htmlFlowData"),ne(P)):(t.consume(P),X)}function ne(P){return t.exit("htmlFlow"),e(P)}}function k3(t,e,n){const r=this;return i;function i(o){return he(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function x3(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Nu,e,n)}}const b3={name:"htmlText",tokenize:T3};function T3(t,e,n){const r=this;let i,s,o;return a;function a(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),u):N===47?(t.consume(N),V):N===63?(t.consume(N),k):on(N)?(t.consume(N),x):n(N)}function u(N){return N===45?(t.consume(N),h):N===91?(t.consume(N),s=0,y):on(N)?(t.consume(N),_):n(N)}function h(N){return N===45?(t.consume(N),p):n(N)}function d(N){return N===null?n(N):N===45?(t.consume(N),f):he(N)?(o=d,Z(N)):(t.consume(N),d)}function f(N){return N===45?(t.consume(N),p):d(N)}function p(N){return N===62?W(N):N===45?f(N):d(N)}function y(N){const X="CDATA[";return N===X.charCodeAt(s++)?(t.consume(N),s===X.length?b:y):n(N)}function b(N){return N===null?n(N):N===93?(t.consume(N),D):he(N)?(o=b,Z(N)):(t.consume(N),b)}function D(N){return N===93?(t.consume(N),g):b(N)}function g(N){return N===62?W(N):N===93?(t.consume(N),g):b(N)}function _(N){return N===null||N===62?W(N):he(N)?(o=_,Z(N)):(t.consume(N),_)}function k(N){return N===null?n(N):N===63?(t.consume(N),O):he(N)?(o=k,Z(N)):(t.consume(N),k)}function O(N){return N===62?W(N):k(N)}function V(N){return on(N)?(t.consume(N),L):n(N)}function L(N){return N===45||Gt(N)?(t.consume(N),L):S(N)}function S(N){return he(N)?(o=S,Z(N)):Ie(N)?(t.consume(N),S):W(N)}function x(N){return N===45||Gt(N)?(t.consume(N),x):N===47||N===62||Ge(N)?A(N):n(N)}function A(N){return N===47?(t.consume(N),W):N===58||N===95||on(N)?(t.consume(N),w):he(N)?(o=A,Z(N)):Ie(N)?(t.consume(N),A):W(N)}function w(N){return N===45||N===46||N===58||N===95||Gt(N)?(t.consume(N),w):R(N)}function R(N){return N===61?(t.consume(N),I):he(N)?(o=R,Z(N)):Ie(N)?(t.consume(N),R):A(N)}function I(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),i=N,T):he(N)?(o=I,Z(N)):Ie(N)?(t.consume(N),I):(t.consume(N),H)}function T(N){return N===i?(t.consume(N),i=void 0,F):N===null?n(N):he(N)?(o=T,Z(N)):(t.consume(N),T)}function H(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Ge(N)?A(N):(t.consume(N),H)}function F(N){return N===47||N===62||Ge(N)?A(N):n(N)}function W(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function Z(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),$}function $(N){return Ie(N)?Le(t,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):G(N)}function G(N){return t.enter("htmlTextData"),o(N)}}const Pv={name:"labelEnd",resolveAll:A3,resolveTo:P3,tokenize:R3},S3={tokenize:N3},I3={tokenize:D3},C3={tokenize:O3};function A3(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Fn(t,0,t.length,n),t}function P3(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=qn(a,t.slice(s+1,s+r+3)),a=qn(a,[["enter",h,e]]),a=qn(a,nf(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=qn(a,[["exit",h,e],t[o-2],t[o-1],["exit",u,e]]),a=qn(a,t.slice(o+1)),a=qn(a,[["exit",l,e]]),Fn(t,s,t.length,a),t}function R3(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(ur(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(S3,h,o?h:d)(f):f===91?t.attempt(I3,h,o?u:d)(f):o?h(f):d(f)}function u(f){return t.attempt(C3,h,d)(f)}function h(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function N3(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Ge(d)?xl(t,s)(d):s(d)}function s(d){return d===41?h(d):gI(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Ge(d)?xl(t,l)(d):h(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?vI(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return Ge(d)?xl(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function D3(t,e,n){const r=this;return i;function i(a){return yI.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(ur(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function O3(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const L3={name:"labelStartImage",resolveAll:Pv.resolveAll,tokenize:M3};function M3(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const F3={name:"labelStartLink",resolveAll:Pv.resolveAll,tokenize:V3};function V3(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const kp={name:"lineEnding",tokenize:j3};function j3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Le(t,e,"linePrefix")}}const sh={name:"thematicBreak",tokenize:$3};function $3(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||he(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Ie(u)?Le(t,a,"whitespace")(u):a(u))}}const pn={continuation:{tokenize:H3},exit:q3,name:"list",tokenize:B3},U3={partial:!0,tokenize:G3},z3={partial:!0,tokenize:W3};function B3(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const y=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:gg(p)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(sh,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return gg(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Nu,r.interrupt?n:h,t.attempt(U3,f,d))}function h(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Ie(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function H3(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Nu,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Le(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ie(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(z3,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Le(t,t.attempt(pn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function W3(t,e,n){const r=this;return Le(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function q3(t){t.exit(this.containerState.type)}function G3(t,e,n){const r=this;return Le(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ie(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const WE={name:"setextUnderline",resolveTo:K3,tokenize:Q3};function K3(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Q3(t,e,n){const r=this;let i;return s;function s(u){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Ie(u)?Le(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||he(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Y3={tokenize:X3};function X3(t){const e=this,n=t.attempt(Nu,r,t.attempt(this.parser.constructs.flowInitial,i,Le(t,t.attempt(this.parser.constructs.flow,i,t.attempt(n3,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const J3={resolveAll:wI()},Z3=_I("string"),eU=_I("text");function _I(t){return{resolveAll:wI(t==="text"?tU:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function wI(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function tU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const nU={42:pn,43:pn,45:pn,48:pn,49:pn,50:pn,51:pn,52:pn,53:pn,54:pn,55:pn,56:pn,57:pn,62:dI},rU={91:a3},iU={[-2]:Ep,[-1]:Ep,32:Ep},sU={35:f3,42:sh,45:[WE,sh],60:y3,61:WE,95:sh,96:BE,126:BE},oU={38:pI,92:fI},aU={[-5]:kp,[-4]:kp,[-3]:kp,33:L3,38:pI,42:yg,60:[F$,b3],91:F3,92:[h3,fI],93:Pv,95:yg,96:Y$},lU={null:[yg,J3]},uU={null:[42,95]},cU={null:[]},hU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uU,contentInitial:rU,disable:cU,document:nU,flow:sU,flowInitial:iU,insideSpan:lU,string:oU,text:aU},Symbol.toStringTag,{value:"Module"}));function dU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:S(V),check:S(L),consume:_,enter:k,exit:O,interrupt:S(L,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:y,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(R){return o=qn(o,R),D(),o[o.length-1]!==null?[]:(x(e,0),u.events=nf(s,u.events,u),u.events)}function f(R,I){return pU(p(R),I)}function p(R){return fU(o,R)}function y(){const{_bufferIndex:R,_index:I,line:T,column:H,offset:F}=r;return{_bufferIndex:R,_index:I,line:T,column:H,offset:F}}function b(R){i[R.line]=R.column,w()}function D(){let R;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<I.length;)g(I.charCodeAt(r._bufferIndex));else g(I)}}function g(R){h=h(R)}function _(R){he(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,w()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=R}function k(R,I){const T=I||{};return T.type=R,T.start=y(),u.events.push(["enter",T,u]),a.push(T),T}function O(R){const I=a.pop();return I.end=y(),u.events.push(["exit",I,u]),I}function V(R,I){x(R,I.from)}function L(R,I){I.restore()}function S(R,I){return T;function T(H,F,W){let Z,$,G,N;return Array.isArray(H)?ne(H):"tokenize"in H?ne([H]):X(H);function X(J){return re;function re(ie){const we=ie!==null&&J[ie],Me=ie!==null&&J.null,ae=[...Array.isArray(we)?we:we?[we]:[],...Array.isArray(Me)?Me:Me?[Me]:[]];return ne(ae)(ie)}}function ne(J){return Z=J,$=0,J.length===0?W:P(J[$])}function P(J){return re;function re(ie){return N=A(),G=J,J.partial||(u.currentConstruct=J),J.name&&u.parser.constructs.disable.null.includes(J.name)?Te():J.tokenize.call(I?Object.assign(Object.create(u),I):u,l,ge,Te)(ie)}}function ge(J){return R(G,N),F}function Te(J){return N.restore(),++$<Z.length?P(Z[$]):W}}}function x(R,I){R.resolveAll&&!s.includes(R)&&s.push(R),R.resolve&&Fn(u.events,I,u.events.length-I,R.resolve(u.events.slice(I),u)),R.resolveTo&&(u.events=R.resolveTo(u.events,u))}function A(){const R=y(),I=u.previous,T=u.currentConstruct,H=u.events.length,F=Array.from(a);return{from:H,restore:W};function W(){r=R,u.previous=I,u.currentConstruct=T,u.events.length=H,a=F,w()}}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function fU(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function pU(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function mU(t){const r={constructs:cI([hU,...(t||{}).extensions||[]]),content:i(P$),defined:[],document:i(N$),flow:i(Y3),lazy:{},string:i(Z3),text:i(eU)};return r;function i(s){return o;function o(a){return dU(r,s,a)}}}function gU(t){for(;!mI(t););return t}const qE=/[\0\t\n\r]/g;function yU(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(qE.lastIndex=d,u=qE.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const vU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function _U(t){return t.replace(vU,wU)}function wU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return hI(n.slice(s?2:1),s?16:10)}return Av(n)||t}const EI={}.hasOwnProperty;function EU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),kU(n)(gU(mU(n).document().write(yU()(t,e,!0))))}function kU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Jt),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(Ye),blockQuote:s(Me),characterEscape:A,characterReference:A,codeFenced:s(ae),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ae,o),codeText:s(ue,o),codeTextData:A,data:A,codeFlowValue:A,definition:s(ze),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ae),hardBreakEscape:s(bt),hardBreakTrailing:s(bt),htmlFlow:s(bn,o),htmlFlowData:A,htmlText:s(bn,o),htmlTextData:A,image:s(Ft),label:o,link:s(Jt),listItem:s(Ou),listItemValue:f,listOrdered:s(ci,d),listUnordered:s(ci),paragraph:s(af),reference:P,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ye),strong:s(ma),thematicBreak:s(Lu)},exit:{atxHeading:l(),atxHeadingSequence:V,autolink:l(),autolinkEmail:we,autolinkProtocol:ie,blockQuote:l(),characterEscapeValue:w,characterReferenceMarkerHexadecimal:Te,characterReferenceMarkerNumeric:Te,characterReferenceValue:J,characterReference:re,codeFenced:l(D),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:y,codeFlowValue:w,codeIndented:l(g),codeText:l(F),codeTextData:w,data:w,definition:l(),definitionDestinationString:O,definitionLabelString:_,definitionTitleString:k,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(T),htmlFlowData:w,htmlText:l(H),htmlTextData:w,image:l(Z),label:G,labelText:$,lineEnding:R,link:l(W),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ge,resourceDestinationString:N,resourceTitleString:X,resource:ne,setextHeading:l(x),setextHeadingLineSequence:S,setextHeadingText:L,strong:l(),thematicBreak:l()}};kI(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(z){let K={type:"root",children:[]};const fe={stack:[K],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:h,data:n},Se=[];let $e=-1;for(;++$e<z.length;)if(z[$e][1].type==="listOrdered"||z[$e][1].type==="listUnordered")if(z[$e][0]==="enter")Se.push($e);else{const Tn=Se.pop();$e=i(z,Tn,$e)}for($e=-1;++$e<z.length;){const Tn=e[z[$e][0]];EI.call(Tn,z[$e][1].type)&&Tn[z[$e][1].type].call(Object.assign({sliceSerialize:z[$e][2].sliceSerialize},fe),z[$e][1])}if(fe.tokenStack.length>0){const Tn=fe.tokenStack[fe.tokenStack.length-1];(Tn[1]||GE).call(fe,void 0,Tn[0])}for(K.position={start:vi(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:vi(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)K=e.transforms[$e](K)||K;return K}function i(z,K,fe){let Se=K-1,$e=-1,Tn=!1,Sn,Un,hi,Rr;for(;++Se<=fe;){const Zt=z[Se];switch(Zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Zt[0]==="enter"?$e++:$e--,Rr=void 0;break}case"lineEndingBlank":{Zt[0]==="enter"&&(Sn&&!Rr&&!$e&&!hi&&(hi=Se),Rr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rr=void 0}if(!$e&&Zt[0]==="enter"&&Zt[1].type==="listItemPrefix"||$e===-1&&Zt[0]==="exit"&&(Zt[1].type==="listUnordered"||Zt[1].type==="listOrdered")){if(Sn){let di=Se;for(Un=void 0;di--;){const In=z[di];if(In[1].type==="lineEnding"||In[1].type==="lineEndingBlank"){if(In[0]==="exit")continue;Un&&(z[Un][1].type="lineEndingBlank",Tn=!0),In[1].type="lineEnding",Un=di}else if(!(In[1].type==="linePrefix"||In[1].type==="blockQuotePrefix"||In[1].type==="blockQuotePrefixWhitespace"||In[1].type==="blockQuoteMarker"||In[1].type==="listItemIndent"))break}hi&&(!Un||hi<Un)&&(Sn._spread=!0),Sn.end=Object.assign({},Un?z[Un][1].start:Zt[1].end),z.splice(Un||Se,0,["exit",Sn,Zt[2]]),Se++,fe++}if(Zt[1].type==="listItemPrefix"){const di={type:"listItem",_spread:!1,start:Object.assign({},Zt[1].start),end:void 0};Sn=di,z.splice(Se,0,["enter",di,Zt[2]]),Se++,fe++,hi=void 0,Rr=!0}}}return z[K][1]._spread=Tn,fe}function s(z,K){return fe;function fe(Se){a.call(this,z(Se),Se),K&&K.call(this,Se)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(z,K,fe){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([K,fe||void 0]),z.position={start:vi(K.start),end:void 0}}function l(z){return K;function K(fe){z&&z.call(this,fe),u.call(this,fe)}}function u(z,K){const fe=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==z.type&&(K?K.call(this,z,Se[0]):(Se[1]||GE).call(this,z,Se[0]));else throw new Error("Cannot close `"+z.type+"` ("+kl({start:z.start,end:z.end})+"): its not open");fe.position.end=vi(z.end)}function h(){return Cv(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(z){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function p(){const z=this.resume(),K=this.stack[this.stack.length-1];K.lang=z}function y(){const z=this.resume(),K=this.stack[this.stack.length-1];K.meta=z}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const z=this.resume(),K=this.stack[this.stack.length-1];K.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const z=this.resume(),K=this.stack[this.stack.length-1];K.value=z.replace(/(\r?\n|\r)$/g,"")}function _(z){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.label=K,fe.identifier=ur(this.sliceSerialize(z)).toLowerCase()}function k(){const z=this.resume(),K=this.stack[this.stack.length-1];K.title=z}function O(){const z=this.resume(),K=this.stack[this.stack.length-1];K.url=z}function V(z){const K=this.stack[this.stack.length-1];if(!K.depth){const fe=this.sliceSerialize(z).length;K.depth=fe}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function S(z){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function A(z){const fe=this.stack[this.stack.length-1].children;let Se=fe[fe.length-1];(!Se||Se.type!=="text")&&(Se=ga(),Se.position={start:vi(z.start),end:void 0},fe.push(Se)),this.stack.push(Se)}function w(z){const K=this.stack.pop();K.value+=this.sliceSerialize(z),K.position.end=vi(z.end)}function R(z){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=K.children[K.children.length-1];fe.position.end=vi(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(K.type)&&(A.call(this,z),w.call(this,z))}function I(){this.data.atHardBreak=!0}function T(){const z=this.resume(),K=this.stack[this.stack.length-1];K.value=z}function H(){const z=this.resume(),K=this.stack[this.stack.length-1];K.value=z}function F(){const z=this.resume(),K=this.stack[this.stack.length-1];K.value=z}function W(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=K,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function Z(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=K,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function $(z){const K=this.sliceSerialize(z),fe=this.stack[this.stack.length-2];fe.label=_U(K),fe.identifier=ur(K).toLowerCase()}function G(){const z=this.stack[this.stack.length-1],K=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const Se=z.children;fe.children=Se}else fe.alt=K}function N(){const z=this.resume(),K=this.stack[this.stack.length-1];K.url=z}function X(){const z=this.resume(),K=this.stack[this.stack.length-1];K.title=z}function ne(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function ge(z){const K=this.resume(),fe=this.stack[this.stack.length-1];fe.label=K,fe.identifier=ur(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function Te(z){this.data.characterReferenceType=z.type}function J(z){const K=this.sliceSerialize(z),fe=this.data.characterReferenceType;let Se;fe?(Se=hI(K,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=Av(K);const $e=this.stack[this.stack.length-1];$e.value+=Se}function re(z){const K=this.stack.pop();K.position.end=vi(z.end)}function ie(z){w.call(this,z);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(z)}function we(z){w.call(this,z);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(z)}function Me(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function ue(){return{type:"inlineCode",value:""}}function ze(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ae(){return{type:"emphasis",children:[]}}function Ye(){return{type:"heading",depth:0,children:[]}}function bt(){return{type:"break"}}function bn(){return{type:"html",value:""}}function Ft(){return{type:"image",title:null,url:"",alt:null}}function Jt(){return{type:"link",title:null,url:"",children:[]}}function ci(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function Ou(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function af(){return{type:"paragraph",children:[]}}function ma(){return{type:"strong",children:[]}}function ga(){return{type:"text",value:""}}function Lu(){return{type:"thematicBreak"}}}function vi(t){return{line:t.line,column:t.column,offset:t.offset}}function kI(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?kI(t,r):xU(t,r)}}function xU(t,e){let n;for(n in e)if(EI.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function GE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+kl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+kl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+kl({start:e.start,end:e.end})+") is still open")}function bU(t){const e=this;e.parser=n;function n(r){return EU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function TU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function SU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function IU(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function CU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function AU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=pa(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function RU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function NU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function xI(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function DU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xI(t,e);const i={src:pa(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function OU(t,e){const n={src:pa(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function LU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function MU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return xI(t,e);const i={href:pa(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function FU(t,e){const n={href:pa(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function VU(t,e,n){const r=t.all(e),i=n?jU(n):bI(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function jU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=bI(n[r])}return e}function bI(t){const e=t.spread;return e??t.children.length>1}function $U(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function UU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function BU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HU(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=bv(e.children[1]),l=rI(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function WU(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let y={type:"element",tagName:s,properties:f,children:[]};d&&(y.children=t.all(d),t.patch(d,y),y=t.applyData(d,y)),u.push(y)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function qU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const KE=9,QE=32;function GU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(YE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(YE(e.slice(i),i>0,!1)),s.join("")}function YE(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===KE||s===QE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===KE||s===QE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function KU(t,e){const n={type:"text",value:GU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function QU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const YU={blockquote:TU,break:SU,code:IU,delete:CU,emphasis:AU,footnoteReference:PU,heading:RU,html:NU,imageReference:DU,image:OU,inlineCode:LU,linkReference:MU,link:FU,listItem:VU,list:$U,paragraph:UU,root:zU,strong:BU,table:HU,tableCell:qU,tableRow:WU,text:KU,thematicBreak:QU,toml:Sc,yaml:Sc,definition:Sc,footnoteDefinition:Sc};function Sc(){}const TI=-1,rf=0,bl=1,sd=2,Rv=3,Nv=4,Dv=5,Ov=6,SI=7,II=8,XE=typeof self=="object"?self:globalThis,XU=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case rf:case TI:return n(o,i);case bl:{const a=n([],i);for(const l of o)a.push(r(l));return a}case sd:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case Rv:return n(new Date(o),i);case Nv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Dv:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Ov:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case SI:{const{name:a,message:l}=o;return n(new XE[a](l),i)}case II:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new XE[s](o),i)};return r},JE=t=>XU(new Map,t)(0),co="",{toString:JU}={},{keys:ZU}=Object,ja=t=>{const e=typeof t;if(e!=="object"||!t)return[rf,e];const n=JU.call(t).slice(8,-1);switch(n){case"Array":return[bl,co];case"Object":return[sd,co];case"Date":return[Rv,co];case"RegExp":return[Nv,co];case"Map":return[Dv,co];case"Set":return[Ov,co];case"DataView":return[bl,n]}return n.includes("Array")?[bl,n]:n.includes("Error")?[SI,n]:[sd,n]},Ic=([t,e])=>t===rf&&(e==="function"||e==="symbol"),ez=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=ja(o);switch(a){case rf:{let h=o;switch(l){case"bigint":a=II,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([TI],o)}return i([a,h],o)}case bl:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const h=[],d=i([a,h],o);for(const f of o)h.push(s(f));return d}case sd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],d=i([a,h],o);for(const f of ZU(o))(t||!Ic(ja(o[f])))&&h.push([s(f),s(o[f])]);return d}case Rv:return i([a,o.toISOString()],o);case Nv:{const{source:h,flags:d}=o;return i([a,{source:h,flags:d}],o)}case Dv:{const h=[],d=i([a,h],o);for(const[f,p]of o)(t||!(Ic(ja(f))||Ic(ja(p))))&&h.push([s(f),s(p)]);return d}case Ov:{const h=[],d=i([a,h],o);for(const f of o)(t||!Ic(ja(f)))&&h.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},ZE=(t,{json:e,lossy:n}={})=>{const r=[];return ez(!(e||n),!!e,new Map,r)(t),r},od=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?JE(ZE(t,e)):structuredClone(t):(t,e)=>JE(ZE(t,e));function tz(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function nz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function rz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||tz,r=t.options.footnoteBackLabel||nz,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),d=String(u.identifier).toUpperCase(),f=pa(d.toLowerCase());let p=0;const y=[],b=t.footnoteCounts.get(d);for(;b!==void 0&&++p<=b;){y.length>0&&y.push({type:"text",value:" "});let _=typeof n=="string"?n:n(l,p);typeof _=="string"&&(_={type:"text",value:_}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const D=h[h.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const _=D.children[D.children.length-1];_&&_.type==="text"?_.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...y)}else h.push(...y);const g={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(u,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...od(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const sf=function(t){if(t==null)return az;if(typeof t=="function")return of(t);if(typeof t=="object")return Array.isArray(t)?iz(t):sz(t);if(typeof t=="string")return oz(t);throw new Error("Expected function, string, or object as test")};function iz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sf(t[n]);return of(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function sz(t){const e=t;return of(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function oz(t){return of(e);function e(n){return n&&n.type===t}}function of(t){return e;function e(n,r,i){return!!(lz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function az(){return!0}function lz(t){return t!==null&&typeof t=="object"&&"type"in t}const CI=[],uz=!0,vg=!1,cz="skip";function AI(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=sf(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=CI,y,b,D;if((!e||s(l,u,h[h.length-1]||void 0))&&(p=hz(n(l,h)),p[0]===vg))return p;if("children"in l&&l.children){const g=l;if(g.children&&p[0]!==cz)for(b=(r?g.children.length:-1)+o,D=h.concat(g);b>-1&&b<g.children.length;){const _=g.children[b];if(y=a(_,b,D)(),y[0]===vg)return y;b=typeof y[1]=="number"?y[1]:b+o}}return p}}}function hz(t){return Array.isArray(t)?t:typeof t=="number"?[uz,t]:t==null?CI:[t]}function Lv(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),AI(t,s,a,i);function a(l,u){const h=u[u.length-1],d=h?h.children.indexOf(l):void 0;return o(l,d,h)}}const _g={}.hasOwnProperty,dz={};function fz(t,e){const n=e||dz,r=new Map,i=new Map,s=new Map,o={...YU,...n.handlers},a={all:u,applyData:mz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:pz,wrap:yz};return Lv(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,f=String(h.identifier).toUpperCase();d.has(f)||d.set(f,h)}}),a;function l(h,d){const f=h.type,p=a.handlers[f];if(_g.call(a.handlers,f)&&p)return p(a,h,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in h){const{children:b,...D}=h,g=od(D);return g.children=a.all(h),g}return od(h)}return(a.options.unknownHandler||gz)(a,h,d)}function u(h){const d=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const y=a.one(f[p],h);if(y){if(p&&f[p-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=ek(y.value)),!Array.isArray(y)&&y.type==="element")){const b=y.children[0];b&&b.type==="text"&&(b.value=ek(b.value))}Array.isArray(y)?d.push(...y):d.push(y)}}}return d}}function pz(t,e){t.position&&(e.position=n$(t))}function mz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,od(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function gz(t,e){const n=e.data||{},r="value"in e&&!(_g.call(n,"hProperties")||_g.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function yz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ek(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function tk(t,e){const n=fz(t,e),r=n.one(t,void 0),i=rz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function vz(t,e){return t&&"run"in t?async function(n,r){const i=tk(n,{file:r,...e});await t.run(i,r)}:function(n,r){return tk(n,{file:r,...t||e})}}function nk(t){if(t)throw t}var oh=Object.prototype.hasOwnProperty,PI=Object.prototype.toString,rk=Object.defineProperty,ik=Object.getOwnPropertyDescriptor,sk=function(e){return typeof Array.isArray=="function"?Array.isArray(e):PI.call(e)==="[object Array]"},ok=function(e){if(!e||PI.call(e)!=="[object Object]")return!1;var n=oh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&oh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||oh.call(e,i)},ak=function(e,n){rk&&n.name==="__proto__"?rk(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},lk=function(e,n){if(n==="__proto__")if(oh.call(e,n)){if(ik)return ik(e,n).value}else return;return e[n]},_z=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=lk(a,n),i=lk(e,n),a!==i&&(h&&i&&(ok(i)||(s=sk(i)))?(s?(s=!1,o=r&&sk(r)?r:[]):o=r&&ok(r)?r:{},ak(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&ak(a,{name:n,newValue:i}));return a};const xp=xg(_z);function wg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?Ez(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Ez(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const mr={basename:kz,dirname:xz,extname:bz,join:Tz,sep:"/"};function kz(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Du(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function xz(t){if(Du(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function bz(t){Du(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Tz(...t){let e=-1,n;for(;++e<t.length;)Du(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Sz(n)}function Sz(t){Du(t);const e=t.codePointAt(0)===47;let n=Iz(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Iz(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Du(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Cz={cwd:Az};function Az(){return"/"}function Eg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Pz(t){if(typeof t=="string")t=new URL(t);else if(!Eg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Rz(t)}function Rz(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const bp=["history","path","basename","stem","extname","dirname"];class RI{constructor(e){let n;e?Eg(e)?n={path:e}:typeof e=="string"||Nz(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Cz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bp.length;){const s=bp[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?mr.basename(this.path):void 0}set basename(e){Sp(e,"basename"),Tp(e,"basename"),this.path=mr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?mr.dirname(this.path):void 0}set dirname(e){uk(this.basename,"dirname"),this.path=mr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?mr.extname(this.path):void 0}set extname(e){if(Tp(e,"extname"),uk(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Eg(e)&&(e=Pz(e)),Sp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?mr.basename(this.path,this.extname):void 0}set stem(e){Sp(e,"stem"),Tp(e,"stem"),this.path=mr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Xt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Tp(t,e){if(t&&t.includes(mr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+mr.sep+"`")}function Sp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function uk(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Nz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Dz=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Oz={}.hasOwnProperty;class Mv extends Dz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=wz()}copy(){const e=new Mv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(xp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ap("data",this.frozen),this.namespace[e]=n,this):Oz.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ap("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Cc(e),r=this.parser||this.Parser;return Ip("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ip("process",this.parser||this.Parser),Cp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Cc(e),l=r.parse(a);r.run(l,a,function(h,d,f){if(h||!d||!f)return u(h);const p=d,y=r.stringify(p,f);Fz(y)?f.value=y:f.result=y,u(h,f)});function u(h,d){h||!d?o(h):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Ip("processSync",this.parser||this.Parser),Cp("processSync",this.compiler||this.Compiler),this.process(e,i),hk("processSync","process",n),r;function i(s,o){n=!0,nk(s),r=o}}run(e,n,r){ck(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Cc(n);i.run(e,l,u);function u(h,d,f){const p=d||e;h?a(h):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),hk("runSync","run",r),i;function s(o,a){nk(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Cc(n),i=this.compiler||this.Compiler;return Cp("stringify",i),ck(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Ap("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;l(h,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=xp(!0,i.settings,u.settings))}function a(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...h]);else if(h.length>0){let[p,...y]=h;const b=r[f][1];wg(b)&&wg(p)&&(p=xp(!0,b,p)),r[f]=[u,p,...y]}}}}const Lz=new Mv().freeze();function Ip(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Cp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ap(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ck(t){if(!wg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function hk(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Cc(t){return Mz(t)?t:new RI(t)}function Mz(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Fz(t){return typeof t=="string"||Vz(t)}function Vz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",dk=[],fk={allowDangerousHtml:!0},$z=/^(https?|ircs?|mailto|xmpp)$/i,Uz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zz(t){const e=Bz(t),n=Hz(t);return Wz(e.runSync(e.parse(n),n),t)}function Bz(t){const e=t.rehypePlugins||dk,n=t.remarkPlugins||dk,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...fk}:fk;return Lz().use(bU).use(n).use(vz,r).use(e)}function Hz(t){const e=t.children||"",n=new RI;return typeof e=="string"&&(n.value=e),n}function Wz(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||qz;for(const h of Uz)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+jz+h.id,void 0);return Lv(t,u),a$(t,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function u(h,d,f){if(h.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let p;for(p in wp)if(Object.hasOwn(wp,p)&&Object.hasOwn(h.properties,p)){const y=h.properties[p],b=wp[p];(b===null||b.includes(h.tagName))&&(h.properties[p]=l(String(y||""),p,h))}}if(h.type==="element"){let p=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(h,d,f)),p&&f&&typeof d=="number")return a&&h.children?f.children.splice(d,1,...h.children):f.children.splice(d,1),d}}}function qz(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||$z.test(t.slice(0,e))?t:""}function pk(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Gz(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Kz(t,e,n){const i=sf((n||{}).ignore||[]),s=Qz(e);let o=-1;for(;++o<s.length;)AI(t,"text",a);function a(u,h){let d=-1,f;for(;++d<h.length;){const p=h[d],y=f?f.children:void 0;if(i(p,y?y.indexOf(p):void 0,f))return;f=p}if(f)return l(u,h)}function l(u,h){const d=h[h.length-1],f=s[o][0],p=s[o][1];let y=0;const D=d.children.indexOf(u);let g=!1,_=[];f.lastIndex=0;let k=f.exec(u.value);for(;k;){const O=k.index,V={index:k.index,input:k.input,stack:[...h,u]};let L=p(...k,V);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?f.lastIndex=O+1:(y!==O&&_.push({type:"text",value:u.value.slice(y,O)}),Array.isArray(L)?_.push(...L):L&&_.push(L),y=O+k[0].length,g=!0),!f.global)break;k=f.exec(u.value)}return g?(y<u.value.length&&_.push({type:"text",value:u.value.slice(y)}),d.children.splice(D,1,..._)):_=[u],D+_.length}}function Qz(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Yz(i[0]),Xz(i[1])])}return e}function Yz(t){return typeof t=="string"?new RegExp(Gz(t),"g"):t}function Xz(t){return typeof t=="function"?t:function(){return t}}const Pp="phrasing",Rp=["autolink","link","image","label"];function Jz(){return{transforms:[s9],enter:{literalAutolink:e9,literalAutolinkEmail:Np,literalAutolinkHttp:Np,literalAutolinkWww:Np},exit:{literalAutolink:i9,literalAutolinkEmail:r9,literalAutolinkHttp:t9,literalAutolinkWww:n9}}}function Zz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Pp,notInConstruct:Rp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Pp,notInConstruct:Rp},{character:":",before:"[ps]",after:"\\/",inConstruct:Pp,notInConstruct:Rp}]}}function e9(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Np(t){this.config.enter.autolinkProtocol.call(this,t)}function t9(t){this.config.exit.autolinkProtocol.call(this,t)}function n9(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function r9(t){this.config.exit.autolinkEmail.call(this,t)}function i9(t){this.exit(t)}function s9(t){Kz(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,o9],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),a9]],{ignore:["link","linkReference"]})}function o9(t,e,n,r,i){let s="";if(!NI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!l9(n)))return!1;const o=u9(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function a9(t,e,n,r){return!NI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function l9(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function u9(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=pk(t,"(");let s=pk(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function NI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ks(n)||tf(n))&&(!e||n!==47)}DI.peek=v9;function c9(){this.buffer()}function h9(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function d9(){this.buffer()}function f9(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function p9(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ur(this.sliceSerialize(t)).toLowerCase(),n.label=e}function m9(t){this.exit(t)}function g9(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ur(this.sliceSerialize(t)).toLowerCase(),n.label=e}function y9(t){this.exit(t)}function v9(){return"["}function DI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function _9(){return{enter:{gfmFootnoteCallString:c9,gfmFootnoteCall:h9,gfmFootnoteDefinitionLabelString:d9,gfmFootnoteDefinition:f9},exit:{gfmFootnoteCallString:p9,gfmFootnoteCall:m9,gfmFootnoteDefinitionLabelString:g9,gfmFootnoteDefinition:y9}}}function w9(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:DI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),h(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?OI:E9))),u(),l}}function E9(t,e,n){return e===0?t:OI(t,e,n)}function OI(t,e,n){return(n?"":"    ")+t}const k9=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];LI.peek=I9;function x9(){return{canContainEols:["delete"],enter:{strikethrough:T9},exit:{strikethrough:S9}}}function b9(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:k9}],handlers:{delete:LI}}}function T9(t){this.enter({type:"delete",children:[]},t)}function S9(t){this.exit(t)}function LI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function I9(){return"~"}function C9(t){return t.length}function A9(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||C9,s=[],o=[],a=[],l=[];let u=0,h=-1;for(;++h<t.length;){const b=[],D=[];let g=-1;for(t[h].length>u&&(u=t[h].length);++g<t[h].length;){const _=P9(t[h][g]);if(n.alignDelimiters!==!1){const k=i(_);D[g]=k,(l[g]===void 0||k>l[g])&&(l[g]=k)}b.push(_)}o[h]=b,a[h]=D}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=mk(r[d]);else{const b=mk(r);for(;++d<u;)s[d]=b}d=-1;const f=[],p=[];for(;++d<u;){const b=s[d];let D="",g="";b===99?(D=":",g=":"):b===108?D=":":b===114&&(g=":");let _=n.alignDelimiters===!1?1:Math.max(1,l[d]-D.length-g.length);const k=D+"-".repeat(_)+g;n.alignDelimiters!==!1&&(_=D.length+_+g.length,_>l[d]&&(l[d]=_),p[d]=_),f[d]=k}o.splice(1,0,f),a.splice(1,0,p),h=-1;const y=[];for(;++h<o.length;){const b=o[h],D=a[h];d=-1;const g=[];for(;++d<u;){const _=b[d]||"";let k="",O="";if(n.alignDelimiters!==!1){const V=l[d]-(D[d]||0),L=s[d];L===114?k=" ".repeat(V):L===99?V%2?(k=" ".repeat(V/2+.5),O=" ".repeat(V/2-.5)):(k=" ".repeat(V/2),O=k):O=" ".repeat(V)}n.delimiterStart!==!1&&!d&&g.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||d)&&g.push(" "),n.alignDelimiters!==!1&&g.push(k),g.push(_),n.alignDelimiters!==!1&&g.push(O),n.padding!==!1&&g.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&g.push("|")}y.push(n.delimiterEnd===!1?g.join("").replace(/ +$/,""):g.join(""))}return y.join(`
`)}function P9(t){return t==null?"":String(t)}function mk(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function R9(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),N9);return i(),o}function N9(t,e,n){return">"+(n?"":" ")+t}function D9(t,e){return gk(t,e.inConstruct,!0)&&!gk(t,e.notInConstruct,!1)}function gk(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function yk(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&D9(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function O9(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function L9(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function M9(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function F9(t,e,n,r){const i=M9(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(L9(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,V9);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(O9(s,i)+1,3)),u=n.enter("codeFenced");let h=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),d()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(l),u(),h}function V9(t,e,n){return(n?"":"    ")+t}function Fv(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function j9(t,e,n,r){const i=Fv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function $9(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function nu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ad(t,e,n){const r=ia(t),i=ia(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}MI.peek=U9;function MI(t,e,n,r){const i=$9(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=ad(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=nu(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=ad(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+nu(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},a+l+p}function U9(t,e,n){return n.options.emphasis||"*"}function z9(t,e){let n=!1;return Lv(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,vg}),!!((!t.depth||t.depth<3)&&Cv(t)&&(e.options.setext||n))}function B9(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(z9(t,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=nu(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}FI.peek=H9;function FI(t){return t.value||""}function H9(){return"<"}VI.peek=W9;function VI(t,e,n,r){const i=Fv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function W9(){return"!"}jI.peek=q9;function jI(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function q9(){return"!"}$I.peek=G9;function $I(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function G9(){return"`"}function UI(t,e){const n=Cv(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}zI.peek=K9;function zI(t,e,n,r){const i=Fv(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(UI(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=h,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function K9(t,e,n){return UI(t,n)?"<":"["}BI.peek=Q9;function BI(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Q9(){return"["}function Vv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Y9(t){const e=Vv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function X9(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function HI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function J9(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?X9(n):Vv(n);const a=t.ordered?o==="."?")":".":Y9(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),HI(n)===o&&h){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function Z9(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function eB(t,e,n,r){const i=Z9(n);let s=n.bulletCurrent||Vv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),h);return l(),u;function h(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function tB(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const nB=sf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function rB(t,e,n,r){return(t.children.some(function(o){return nB(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function iB(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}WI.peek=sB;function WI(t,e,n,r){const i=iB(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=ad(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=nu(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=ad(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+nu(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},a+l+p}function sB(t,e,n){return n.options.strong||"*"}function oB(t,e,n,r){return n.safe(t.value,r)}function aB(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function lB(t,e,n){const r=(HI(n)+(n.options.ruleSpaces?" ":"")).repeat(aB(n));return n.options.ruleSpaces?r.slice(0,-1):r}const qI={blockquote:R9,break:yk,code:F9,definition:j9,emphasis:MI,hardBreak:yk,heading:B9,html:FI,image:VI,imageReference:jI,inlineCode:$I,link:zI,linkReference:BI,list:J9,listItem:eB,paragraph:tB,root:rB,strong:WI,text:oB,thematicBreak:lB};function uB(){return{enter:{table:cB,tableData:vk,tableHeader:vk,tableRow:dB},exit:{codeText:fB,table:hB,tableData:Dp,tableHeader:Dp,tableRow:Dp}}}function cB(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function hB(t){this.exit(t),this.data.inTable=void 0}function dB(t){this.enter({type:"tableRow",children:[]},t)}function Dp(t){this.exit(t)}function vk(t){this.enter({type:"tableCell",children:[]},t)}function fB(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,pB));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function pB(t,e){return e==="|"?e:t}function mB(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,y,b,D){return u(h(p,b,D),p.align)}function a(p,y,b,D){const g=d(p,b,D),_=u([g]);return _.slice(0,_.indexOf(`
`))}function l(p,y,b,D){const g=b.enter("tableCell"),_=b.enter("phrasing"),k=b.containerPhrasing(p,{...D,before:s,after:s});return _(),g(),k}function u(p,y){return A9(p,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function h(p,y,b){const D=p.children;let g=-1;const _=[],k=y.enter("table");for(;++g<D.length;)_[g]=d(D[g],y,b);return k(),_}function d(p,y,b){const D=p.children;let g=-1;const _=[],k=y.enter("tableRow");for(;++g<D.length;)_[g]=l(D[g],p,y,b);return k(),_}function f(p,y,b){let D=qI.inlineCode(p,y,b);return b.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function gB(){return{exit:{taskListCheckValueChecked:_k,taskListCheckValueUnchecked:_k,paragraph:vB}}}function yB(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:_B}}}function _k(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function vB(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function _B(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=qI.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+o}}function wB(){return[Jz(),_9(),x9(),uB(),gB()]}function EB(t){return{extensions:[Zz(),w9(t),b9(),mB(t),yB()]}}const kB={tokenize:CB,partial:!0},GI={tokenize:AB,partial:!0},KI={tokenize:PB,partial:!0},QI={tokenize:RB,partial:!0},xB={tokenize:NB,partial:!0},YI={name:"wwwAutolink",tokenize:SB,previous:JI},XI={name:"protocolAutolink",tokenize:IB,previous:ZI},ui={name:"emailAutolink",tokenize:TB,previous:eC},Pr={};function bB(){return{text:Pr}}let ys=48;for(;ys<123;)Pr[ys]=ui,ys++,ys===58?ys=65:ys===91&&(ys=97);Pr[43]=ui;Pr[45]=ui;Pr[46]=ui;Pr[95]=ui;Pr[72]=[ui,XI];Pr[104]=[ui,XI];Pr[87]=[ui,YI];Pr[119]=[ui,YI];function TB(t,e,n){const r=this;let i,s;return o;function o(d){return!kg(d)||!eC.call(r,r.previous)||jv(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return kg(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(xB,h,u)(d):d===45||d===95||Gt(d)?(s=!0,t.consume(d),l):h(d)}function u(d){return t.consume(d),i=!0,l}function h(d){return s&&i&&on(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function SB(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!JI.call(r,r.previous)||jv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(kB,t.attempt(GI,t.attempt(KI,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function IB(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&ZI.call(r,r.previous)&&!jv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(on(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||id(d)||Ge(d)||Ks(d)||tf(d)?n(d):t.attempt(GI,t.attempt(KI,h),n)(d)}function h(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function CB(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function AB(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(QI,l,a)(u):u===null||Ge(u)||Ks(u)||u!==45&&tf(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function PB(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(QI,e,s)(o):o===null||Ge(o)||Ks(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function RB(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Ge(a)||Ks(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Ge(a)||Ks(a)?e(a):r(a)}function s(a){return on(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):on(a)?(t.consume(a),o):n(a)}}function NB(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Gt(s)?n(s):e(s)}}function JI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ge(t)}function ZI(t){return!on(t)}function eC(t){return!(t===47||kg(t))}function kg(t){return t===43||t===45||t===46||t===95||Gt(t)}function jv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const DB={tokenize:UB,partial:!0};function OB(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:VB,continuation:{tokenize:jB},exit:$B}},text:{91:{name:"gfmFootnoteCall",tokenize:FB},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:LB,resolveTo:MB}}}}function LB(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=ur(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function MB(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function FB(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||Ge(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(ur(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Ge(d)||(o=!0),s++,t.consume(d),d===92?h:u}function h(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function VB(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(y){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(y){return y===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(y)}function h(y){if(o>999||y===93&&!a||y===null||y===91||Ge(y))return n(y);if(y===93){t.exit("chunkString");const b=t.exit("gfmFootnoteDefinitionLabelString");return s=ur(r.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ge(y)||(a=!0),o++,t.consume(y),y===92?d:h}function d(y){return y===91||y===92||y===93?(t.consume(y),o++,h):h(y)}function f(y){return y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),i.includes(s)||i.push(s),Le(t,p,"gfmFootnoteDefinitionWhitespace")):n(y)}function p(y){return e(y)}}function jB(t,e,n){return t.check(Nu,e,t.attempt(DB,e,n))}function $B(t){t.exit("gfmFootnoteDefinition")}function UB(t,e,n){const r=this;return Le(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function zB(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",h,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&Fn(f,f.length,0,nf(p,o.slice(u+1,l),a)),Fn(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",h,a]]),Fn(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,h=this.events;let d=0;return f;function f(y){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(y):(o.enter("strikethroughSequenceTemporary"),p(y))}function p(y){const b=ia(u);if(y===126)return d>1?l(y):(o.consume(y),d++,p);if(d<2&&!n)return l(y);const D=o.exit("strikethroughSequenceTemporary"),g=ia(y);return D._open=!g||g===2&&!!b,D._close=!b||b===2&&!!g,a(y)}}}class BB{constructor(){this.map=[]}add(e,n,r){HB(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function HB(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function WB(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function qB(){return{flow:{null:{name:"table",tokenize:GB,resolveAll:KB}}}}function GB(t,e,n){const r=this;let i=0,s=0,o;return a;function a(w){let R=r.events.length-1;for(;R>-1;){const H=r.events[R][1].type;if(H==="lineEnding"||H==="linePrefix")R--;else break}const I=R>-1?r.events[R][1].type:null,T=I==="tableHead"||I==="tableRow"?L:l;return T===L&&r.parser.lazy[r.now().line]?n(w):T(w)}function l(w){return t.enter("tableHead"),t.enter("tableRow"),u(w)}function u(w){return w===124||(o=!0,s+=1),h(w)}function h(w){return w===null?n(w):he(w)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),p):n(w):Ie(w)?Le(t,h,"whitespace")(w):(s+=1,o&&(o=!1,i+=1),w===124?(t.enter("tableCellDivider"),t.consume(w),t.exit("tableCellDivider"),o=!0,h):(t.enter("data"),d(w)))}function d(w){return w===null||w===124||Ge(w)?(t.exit("data"),h(w)):(t.consume(w),w===92?f:d)}function f(w){return w===92||w===124?(t.consume(w),d):d(w)}function p(w){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(w):(t.enter("tableDelimiterRow"),o=!1,Ie(w)?Le(t,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):y(w))}function y(w){return w===45||w===58?D(w):w===124?(o=!0,t.enter("tableCellDivider"),t.consume(w),t.exit("tableCellDivider"),b):V(w)}function b(w){return Ie(w)?Le(t,D,"whitespace")(w):D(w)}function D(w){return w===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(w),t.exit("tableDelimiterMarker"),g):w===45?(s+=1,g(w)):w===null||he(w)?O(w):V(w)}function g(w){return w===45?(t.enter("tableDelimiterFiller"),_(w)):V(w)}function _(w){return w===45?(t.consume(w),_):w===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(w),t.exit("tableDelimiterMarker"),k):(t.exit("tableDelimiterFiller"),k(w))}function k(w){return Ie(w)?Le(t,O,"whitespace")(w):O(w)}function O(w){return w===124?y(w):w===null||he(w)?!o||i!==s?V(w):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(w)):V(w)}function V(w){return n(w)}function L(w){return t.enter("tableRow"),S(w)}function S(w){return w===124?(t.enter("tableCellDivider"),t.consume(w),t.exit("tableCellDivider"),S):w===null||he(w)?(t.exit("tableRow"),e(w)):Ie(w)?Le(t,S,"whitespace")(w):(t.enter("data"),x(w))}function x(w){return w===null||w===124||Ge(w)?(t.exit("data"),S(w)):(t.consume(w),w===92?A:x)}function A(w){return w===92||w===124?(t.consume(w),x):x(w)}}function KB(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,h,d;const f=new BB;for(;++n<t.length;){const p=t[n],y=p[1];p[0]==="enter"?y.type==="tableHead"?(a=!1,l!==0&&(wk(f,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},f.add(n,0,[["enter",u,e]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},f.add(n,0,[["enter",h,e]])),i=y.type==="tableDelimiterRow"?2:h?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Ac(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=Ac(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):y.type==="tableHead"?(a=!0,l=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=Ac(f,e,s,i,n,d)):o[1]!==0&&(d=Ac(f,e,o,i,n,d)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&wk(f,e,l,u,h),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=WB(e.events,n))}return t}function Ac(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},go(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=go(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=go(e.events,n[2]),h=go(e.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,b=n[3]-n[2]-1;t.add(y,b,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},go(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function wk(t,e,n,r,i){const s=[],o=go(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function go(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const QB={name:"tasklistCheck",tokenize:XB};function YB(){return{text:{91:QB}}}function XB(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Ge(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return he(l)?e(l):Ie(l)?t.check({tokenize:JB},e,n)(l):n(l)}}function JB(t,e,n){return Le(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function ZB(t){return cI([bB(),OB(),zB(t),qB(),YB()])}const e5={};function t5(t){const e=this,n=t||e5,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(ZB(n)),s.push(wB()),o.push(EB(n))}function n5({theme:t,setTheme:e,user:n,isAuthorized:r,handleSignIn:i,handleSignOut:s}){const[o,a]=M.useState(!1),[l,u]=M.useState("Loading...");M.useEffect(()=>{o&&l==="Loading..."&&fetch("CHANGELOG.md").then(d=>{if(d.ok)return d.text();throw new Error("Could not load changelog.")}).then(d=>u(d)).catch(d=>u(d.message))},[o]);const h=()=>n?n.isAnonymous?E.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 rounded-md font-semibold text-sm bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:[E.jsx(Ue,{name:"google",type:"fab",className:"mr-2"})," Admin Sign-In"]}):E.jsxs("div",{className:"space-y-3 text-center",children:[E.jsxs("p",{children:["Signed in as ",E.jsx("span",{className:"font-semibold",children:n.email})]}),r&&E.jsx("p",{className:"text-green-600 dark:text-green-400 font-bold",children:"You have admin privileges."}),E.jsx("button",{className:"w-full px-4 py-2 rounded-md font-semibold text-sm bg-gray-500 text-white hover:bg-gray-600",onClick:s,children:"Sign Out"})]}):null;return E.jsxs("div",{className:"settings-view space-y-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold mb-2",children:"Theme"}),E.jsxs("div",{className:"flex w-full rounded-md shadow-sm",children:[E.jsx("button",{onClick:()=>e("light"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-l-md border ${t==="light"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Light"}),E.jsx("button",{onClick:()=>e("dark"),className:`flex-1 px-4 py-2 text-sm font-medium border-t border-b ${t==="dark"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Dark"}),E.jsx("button",{onClick:()=>e("system"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-r-md border ${t==="system"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"System"})]})]})}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsxs("button",{className:"flex justify-between items-center w-full font-semibold",onClick:()=>a(!o),"aria-expanded":o,children:[E.jsx("span",{children:"Version History & Changelog"}),E.jsx(Ue,{name:o?"chevron-up":"chevron-down"})]}),o&&E.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none mt-4 pt-4 border-t border-border-light dark:border-border-dark",children:E.jsx(zz,{remarkPlugins:[t5],children:l})})]})}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold mb-2 text-center",children:"Account"}),h()]})})]})}const r5=M.forwardRef(({meetData:t},e)=>!t||!t.events||t.events.length===0?null:E.jsxs("div",{ref:e,className:"printable-container",children:[E.jsx("style",{children:`
        @media screen {
          .printable-container {
            display: none;
          }
        }
        @media print {
          @page {
            size: A4;
            margin: 0.75in;
          }
          body {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          .heat-sheet-header {
            text-align: center;
            margin-bottom: 24px;
          }
          .heat-sheet-content {
            column-count: 2;
            column-gap: 2rem;
          }
          .event-block {
            break-inside: avoid;
            margin-bottom: 1rem;
            border: 1px solid #ccc;
            padding: 0.5rem;
            border-radius: 4px;
          }
          .event-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 0.25rem;
            background-color: #eee;
            padding: 0.25rem;
            border-radius: 2px;
          }
          .heat-title {
            font-weight: bold;
            margin-top: 0.5rem;
            padding-left: 0.25rem;
          }
          .swimmer-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
          }
          .swimmer-table th, .swimmer-table td {
            text-align: left;
            padding: 2px 4px;
          }
          .swimmer-table th {
            border-bottom: 1px solid #999;
          }
          .swimmer-table .lane { width: 10%; }
          .swimmer-table .name { width: 45%; }
          .swimmer-table .age-team { width: 25%; }
          .swimmer-table .seed { width: 20%; text-align: right; }
        }
      `}),E.jsxs("div",{className:"heat-sheet-header",children:[E.jsxs("h1",{children:[t.name," - Heat Sheet"]}),E.jsx("p",{children:new Date(t.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),E.jsx("div",{className:"heat-sheet-content",children:t.events.map(n=>E.jsxs("div",{className:"event-block",children:[E.jsxs("div",{className:"event-title",children:["#",n.eventNumber," ",n.name]}),n.heats&&n.heats.length>0?n.heats.map(r=>E.jsxs("div",{children:[E.jsxs("div",{className:"heat-title",children:["Heat ",r.heatNumber," of ",n.heats.length]}),E.jsxs("table",{className:"swimmer-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{className:"lane",children:"Lane"}),E.jsx("th",{className:"name",children:"Name"}),E.jsx("th",{className:"age-team",children:"Age Team"}),E.jsx("th",{className:"seed",children:"Seed"})]})}),E.jsx("tbody",{children:r.lanes.sort((i,s)=>i.lane-s.lane).map(i=>E.jsxs("tr",{children:[E.jsx("td",{className:"lane",children:i.lane}),E.jsx("td",{className:"name",children:`${i.lastName}, ${i.firstName}`}),E.jsxs("td",{className:"age-team",children:[i.age," ",i.team]}),E.jsx("td",{className:"seed",children:i.seedTime||"NT"})]},i.id))})]})]},r.heatNumber)):E.jsx("p",{children:"No entries for this event."})]},n.id))})]})),Ek=new Vr,i5=t=>{try{localStorage.setItem("swimMeetFavorites",JSON.stringify(Array.from(t)))}catch(e){console.error("Error saving favorites:",e)}},s5=()=>{try{const t=localStorage.getItem("swimMeetFavorites");return t?new Set(JSON.parse(t)):new Set}catch(t){return console.error("Error loading favorites:",t),new Set}};function o5(){const[t,e]=M.useState(localStorage.getItem("theme")||"system"),[n,r]=M.useState(null),[i,s]=M.useState(null),[o,a]=M.useState(s5),[l,u]=M.useState("schedule"),[h,d]=M.useState({eventNumber:1,heatNumber:1,isTracking:!1}),[f,p]=M.useState(""),[y,b]=M.useState(""),[D,g]=M.useState({show:!1,message:"",type:""}),[_,k]=M.useState(!1),[O,V]=M.useState(null),[L,S]=M.useState(!0),[x,A]=M.useState(null),[w,R]=M.useState([]),[I,T]=M.useState(null),[H,F]=M.useState({}),W=M.useRef(),Z=UR.useReactToPrint({content:()=>W.current,documentTitle:`${(O==null?void 0:O.name)||"Swim Meet"} - Heat Sheet`});M.useEffect(()=>{const J=we=>{const Me=we==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":we,ae=document.documentElement;Me==="dark"?ae.classList.add("dark"):ae.classList.remove("dark")};J(t),localStorage.setItem("theme",t);const re=window.matchMedia("(prefers-color-scheme: dark)"),ie=()=>J(t);return re.addEventListener("change",ie),()=>re.removeEventListener("change",ie)},[t]),M.useEffect(()=>{if(!gs){A("Authentication service is not available.");return}const J=YL(gs,re=>{re?(r(re),re.email&&typeof Rh<"u"?s(Rh[re.email]||null):s(null)):HL(gs).catch(ie=>{console.error("Anonymous sign-in failed:",ie)})});return()=>J()},[]),M.useEffect(()=>{if(!de)return;const J=sn(de,"rosters"),re=vr(J,ie=>{const we={};ie.forEach(Me=>{const ae=Me.id;(Me.data().swimmers||[]).forEach(ze=>{we[ze.id]={...ze,team:ae}})}),F(we)});return()=>re()},[]),M.useEffect(()=>{if(!de)return;const J=sn(de,"meets"),re=vr(J,ie=>{const we=ie.docs.map(Me=>({id:Me.id,...Me.data(),date:Me.data().date.toDate()})).sort((Me,ae)=>Me.date-ae.date);if(R(we),!I&&we.length>0){const Me=new Date,ae=we.find(ue=>ue.date>=Me);T(ae?ae.id:we[we.length-1].id)}S(!1)},ie=>{console.error("Error fetching meets:",ie),A("Could not load meets from the database."),S(!1)});return()=>re()},[]),M.useEffect(()=>{if(!de||!I){V(null);return}const J=w.find(we=>we.id===I);if(!J)return;const re=Jl(sn(de,"meet_events"),Zl("meetId","==",I)),ie=vr(re,we=>{const Me=we.docs.map(ae=>({id:ae.id,...ae.data()})).sort((ae,ue)=>ae.eventNumber-ue.eventNumber);V({...J,events:Me})},we=>{console.error(`Error fetching events for meet ${I}:`,we),A("Could not load events for the selected meet.")});return()=>ie()},[de,I,w]);const $=()=>{!gs||!Ek||gM(gs,Ek).catch(J=>console.error("Sign-in failed:",J))},G=()=>gs&&gs.signOut();M.useEffect(()=>{if(!de||!I)return;const J=ht(de,"meet_status",I),re=vr(J,ie=>{ie.exists()?d(ie.data()):ih(J,{eventNumber:1,heatNumber:1,isTracking:!1})});return()=>re()},[de,I]);const N=async J=>{if(!de||!i||!I)return;const re=ht(de,"meet_status",I);await eu(re,J)};M.useEffect(()=>i5(o),[o]);const X=J=>{a(re=>{const ie=new Set(re);return ie.has(J)?ie.delete(J):ie.add(J),ie})};M.useEffect(()=>{if(Object.keys(H).length===0)return;let J=!1;const re=new Set(o);for(const ie of re)H[ie]||(re.delete(ie),J=!0);J&&(console.log("Cleaned stale swimmer IDs from favorites."),a(re))},[H,o]);const ne=M.useMemo(()=>Array.from(o).map(re=>{const ie=H[re];if(!ie)return{id:re,name:"Loading swimmer...",team:"",events:[]};const we=[];if(O&&O.events){const Me=ae=>(ae||"").replace("Freestyle","Free").replace("Backstroke","Back").replace("Breaststroke","Breast").replace("Butterfly","Fly");O.events.forEach(ae=>{ae.heats&&ae.heats.forEach(ue=>{ue.lanes.forEach(ze=>{ze.id===re&&we.push(`E${ae.eventNumber} H${ue.heatNumber} L${ze.lane}: ${Me(ae.name)}`)})})})}return{id:re,name:`${ie.firstName} ${ie.lastName}`,team:ie.team,events:we,isInCurrentMeet:we.length>0}}).sort((re,ie)=>re.name.localeCompare(ie.name)),[o,H,O]),P=M.useMemo(()=>{if(!y.trim()||Object.keys(H).length===0)return[];const J=y.toLowerCase();return Object.values(H).filter(ie=>`${ie.firstName} ${ie.lastName}`.toLowerCase().includes(J)).map(ie=>({id:ie.id,name:`${ie.firstName} ${ie.lastName}`,team:ie.team})).sort((ie,we)=>ie.name.localeCompare(we.name))},[y,H]),ge=M.useMemo(()=>{if(!f.trim()||!O||!O.events)return[];const J=f.toLowerCase();return O.events.filter(re=>re.name.toLowerCase().includes(J)||String(re.eventNumber).includes(J))},[f,O]);if(L)return E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h4",{className:"text-lg font-semibold",children:"Loading Meet Data..."})});if(x)return E.jsx("div",{className:"container mx-auto mt-4",children:E.jsx("div",{className:"p-4 text-red-800 bg-red-100 border border-red-200 rounded-md",children:x})});const Te=()=>{switch(l){case"schedule":return O?E.jsx(Bw,{events:O.events,favorites:o,currentEvent:h,toggleFavorite:X,adminRole:i,updateMeetStatus:N}):E.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."});case"searchEvents":return O?E.jsx(GR,{search:f,setSearch:p,results:ge,favorites:o,currentEvent:h,toggleFavorite:X}):E.jsx("p",{className:"text-center",children:"Select a meet to search events."});case"searchSwimmers":return O?E.jsx(KR,{search:y,setSearch:b,results:P,favorites:o,toggleFavorite:X}):E.jsx("p",{className:"text-center",children:"Select a meet to search swimmers."});case"admin":return E.jsx(hj,{adminRole:i,allMeets:w,toast:rn});case"settings":return E.jsx(n5,{theme:t,setTheme:e,user:n,isAuthorized:!!i,handleSignIn:$,handleSignOut:G});default:return O?E.jsx(Bw,{events:O.events,favorites:o,currentEvent:h,toggleFavorite:X,adminRole:i,updateMeetStatus:N}):E.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."})}};return E.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark text-text-dark dark:text-text-light transition-colors duration-300 pb-20 min-h-screen",children:[E.jsx($R,{position:"top-center",reverseOrder:!1,toastOptions:{className:"dark:bg-surface-dark dark:text-text-light"}}),E.jsx(qR,{}),E.jsx(r5,{ref:W,meetData:O}),E.jsxs("div",{className:"container mx-auto px-4 py-4",children:[E.jsxs("header",{className:"text-center mb-4",children:[l!=="admin"&&O?E.jsx("h1",{className:"font-bold text-3xl text-primary",children:O.name}):E.jsx("h1",{className:"font-bold text-3xl text-primary",children:"Swim Meet Live"}),O&&O.events&&O.events.length>0&&E.jsx("button",{onClick:Z,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",title:"Print Heat Sheet",children:E.jsx(Ue,{name:"print"})}),w.length>0&&l!=="admin"&&E.jsx("div",{className:"mt-2 max-w-md mx-auto",children:E.jsx("select",{className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md text-sm bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",value:I||"",onChange:J=>T(J.target.value),children:w.map(J=>E.jsxs("option",{value:J.id,children:[J.name," - ",J.date.toLocaleDateString()]},J.id))})})]}),l!=="settings"&&l!=="admin"&&O&&E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden mb-3",children:[E.jsx("h2",{className:"accordion-header",id:"favorites-header",children:E.jsxs("button",{className:"flex justify-between items-center w-full p-4 font-semibold text-left bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",onClick:()=>k(!_),"aria-expanded":_,"aria-controls":"favorites-content",children:[E.jsxs("span",{children:["My Favorites (",o.size,")"]}),E.jsx(Ue,{name:_?"chevron-up":"chevron-down",className:`transition-transform duration-200 ${_?"rotate-180":""}`})]})}),_&&E.jsx("div",{id:"favorites-content",className:"p-4 bg-white dark:bg-surface-dark border-t border-border-light dark:border-border-dark",role:"region","aria-labelledby":"favorites-header",children:ne.length>0?E.jsx("div",{className:"divide-y divide-border-light dark:divide-border-dark -mx-4",children:ne.map(J=>E.jsxs("div",{className:"px-4 py-3 flex justify-between items-start",children:[E.jsxs("div",{className:"mr-auto",children:[E.jsxs("div",{className:"font-bold flex items-center",children:[E.jsx("span",{children:J.name}),J.isInCurrentMeet&&E.jsx("span",{className:"ml-2 h-2.5 w-2.5 bg-green-500 rounded-full",title:"Swimming in this meet"})]}),E.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:J.events.length>0?J.events.map((re,ie)=>E.jsx("div",{children:re},ie)):E.jsx("p",{className:"italic text-gray-400 dark:text-gray-500 mt-1",children:"Not in this meet"})})]}),l==="searchSwimmers"&&E.jsx("button",{className:"p-2 -m-2",onClick:()=>X(J.id),"aria-label":`Toggle favorite for ${J.name}`,children:E.jsx("div",{className:"text-secondary",children:E.jsx(Ue,{name:"star",type:"fas"})})})]},J.id))}):E.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-0",children:"No favorites added yet. Tap the star next to a swimmer's name to add them."})})]}),E.jsx("main",{children:Te()})]}),E.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark z-30",children:E.jsxs("div",{className:"flex justify-around items-center",children:[E.jsxs("button",{onClick:()=>u("schedule"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="schedule"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Ue,{name:"list-ol"})}),E.jsx("div",{className:"text-xs",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>u("searchEvents"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="searchEvents"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Ue,{name:"magnifying-glass"})}),E.jsx("div",{className:"text-xs",children:"Events"})]}),E.jsxs("button",{onClick:()=>u("searchSwimmers"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="searchSwimmers"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Ue,{name:"user"})}),E.jsx("div",{className:"text-xs",children:"Swimmers"})]}),i&&E.jsxs("button",{onClick:()=>u("admin"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="admin"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Ue,{name:"user-shield"})}),E.jsx("div",{className:"text-xs",children:"Admin"})]}),E.jsxs("button",{onClick:()=>u("settings"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="settings"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Ue,{name:"gear"})}),E.jsx("div",{className:"text-xs",children:"Settings"})]})]})})]})}Op.createRoot(document.getElementById("root")).render(E.jsx(_e.StrictMode,{children:E.jsx(o5,{})}));
