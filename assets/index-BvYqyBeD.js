function TC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tk={exports:{}},ld={},Sk={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iu=Symbol.for("react.element"),SC=Symbol.for("react.portal"),IC=Symbol.for("react.fragment"),CC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),PC=Symbol.for("react.provider"),RC=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),O_=Symbol.iterator;function MC(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var Ik={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ck=Object.assign,Ak={};function aa(t,e,n){this.props=t,this.context=e,this.refs=Ak,this.updater=n||Ik}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pk(){}Pk.prototype=aa.prototype;function bg(t,e,n){this.props=t,this.context=e,this.refs=Ak,this.updater=n||Ik}var Tg=bg.prototype=new Pk;Tg.constructor=bg;Ck(Tg,aa.prototype);Tg.isPureReactComponent=!0;var L_=Array.isArray,Rk=Object.prototype.hasOwnProperty,Sg={current:null},Nk={key:!0,ref:!0,__self:!0,__source:!0};function Dk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Rk.call(e,r)&&!Nk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:iu,type:t,key:s,ref:o,props:i,_owner:Sg.current}}function FC(t,e){return{$$typeof:iu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===iu}function VC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M_=/\/+/g;function kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VC(""+t.key):e.toString(36)}function Nc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case iu:case SC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kf(o,0):r,L_(i)?(n="",t!=null&&(n=t.replace(M_,"$&/")+"/"),Nc(i,e,n,"",function(u){return u})):i!=null&&(Ig(i)&&(i=FC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(M_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",L_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kf(s,a);o+=Nc(s,e,n,l,i)}else if(l=MC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kf(s,a++),o+=Nc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zu(t,e,n){if(t==null)return t;var r=[],i=0;return Nc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var pn={current:null},Dc={transition:null},$C={ReactCurrentDispatcher:pn,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:Sg};function Ok(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Zu,forEach:function(t,e,n){Zu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zu(t,function(){e++}),e},toArray:function(t){return Zu(t,function(e){return e})||[]},only:function(t){if(!Ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=aa;Ae.Fragment=IC;Ae.Profiler=AC;Ae.PureComponent=bg;Ae.StrictMode=CC;Ae.Suspense=DC;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$C;Ae.act=Ok;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ck({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Rk.call(e,l)&&!Nk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:iu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:RC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PC,_context:t},t.Consumer=t};Ae.createElement=Dk;Ae.createFactory=function(t){var e=Dk.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:NC,render:t}};Ae.isValidElement=Ig;Ae.lazy=function(t){return{$$typeof:LC,_payload:{_status:-1,_result:t},_init:jC}};Ae.memo=function(t,e){return{$$typeof:OC,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Dc.transition;Dc.transition={};try{t()}finally{Dc.transition=e}};Ae.unstable_act=Ok;Ae.useCallback=function(t,e){return pn.current.useCallback(t,e)};Ae.useContext=function(t){return pn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return pn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return pn.current.useEffect(t,e)};Ae.useId=function(){return pn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return pn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return pn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return pn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return pn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return pn.current.useReducer(t,e,n)};Ae.useRef=function(t){return pn.current.useRef(t)};Ae.useState=function(t){return pn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return pn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return pn.current.useTransition()};Ae.version="18.3.1";Sk.exports=Ae;var O=Sk.exports;const Ee=xg(O),F_=TC({__proto__:null,default:Ee},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=O,zC=Symbol.for("react.element"),BC=Symbol.for("react.fragment"),HC=Object.prototype.hasOwnProperty,WC=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qC={key:!0,ref:!0,__self:!0,__source:!0};function Lk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HC.call(e,r)&&!qC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zC,type:t,key:s,ref:o,props:i,_owner:WC.current}}ld.Fragment=BC;ld.jsx=Lk;ld.jsxs=Lk;Tk.exports=ld;var w=Tk.exports,Op={},Mk={exports:{}},Un={},Fk={exports:{}},Vk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,W){var P=j.length;j.push(W);e:for(;0<P;){var q=P-1>>>1,le=j[q];if(0<i(le,W))j[q]=W,j[P]=le,P=q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var W=j[0],P=j.pop();if(P!==W){j[0]=P;e:for(var q=0,le=j.length,D=le>>>1;q<D;){var oe=2*(q+1)-1,me=j[oe],Y=oe+1,te=j[Y];if(0>i(me,P))Y<le&&0>i(te,me)?(j[q]=te,j[Y]=P,q=Y):(j[q]=me,j[oe]=P,q=oe);else if(Y<le&&0>i(te,P))j[q]=te,j[Y]=P,q=Y;else break e}}return W}function i(j,W){var P=j.sortIndex-W.sortIndex;return P!==0?P:j.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,v=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=j)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(u)}}function L(j){if(b=!1,x(j),!v)if(n(l)!==null)v=!0,ne(F);else{var W=n(u);W!==null&&$(L,W.startTime-j)}}function F(j,W){v=!1,b&&(b=!1,y(k),k=-1),p=!0;var P=f;try{for(x(W),d=n(l);d!==null&&(!(d.expirationTime>W)||j&&!N());){var q=d.callback;if(typeof q=="function"){d.callback=null,f=d.priorityLevel;var le=q(d.expirationTime<=W);W=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),x(W)}else r(l);d=n(l)}if(d!==null)var D=!0;else{var oe=n(u);oe!==null&&$(L,oe.startTime-W),D=!1}return D}finally{d=null,f=P,p=!1}}var M=!1,C=null,k=-1,T=5,E=-1;function N(){return!(t.unstable_now()-E<T)}function I(){if(C!==null){var j=t.unstable_now();E=j;var W=!0;try{W=C(!0,j)}finally{W?S():(M=!1,C=null)}}else M=!1}var S;if(typeof _=="function")S=function(){_(I)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,H=G.port2;G.port1.onmessage=I,S=function(){H.postMessage(null)}}else S=function(){R(I,0)};function ne(j){C=j,M||(M=!0,S())}function $(j,W){k=R(function(){j(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,ne(F))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var P=f;f=W;try{return j()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,W){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var P=f;f=j;try{return W()}finally{f=P}},t.unstable_scheduleCallback=function(j,W,P){var q=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?q+P:q):P=q,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=P+le,j={id:h++,callback:W,priorityLevel:j,startTime:P,expirationTime:le,sortIndex:-1},P>q?(j.sortIndex=P,e(u,j),n(l)===null&&j===n(u)&&(b?(y(k),k=-1):b=!0,$(L,P-q))):(j.sortIndex=le,e(l,j),v||p||(v=!0,ne(F))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var W=f;return function(){var P=f;f=W;try{return j.apply(this,arguments)}finally{f=P}}}})(Vk);Fk.exports=Vk;var GC=Fk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC=O,$n=GC;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jk=new Set,Cl={};function Qs(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Cl[t]=e,t=0;t<e.length;t++)jk.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,QC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V_={},j_={};function YC(t){return Lp.call(j_,t)?!0:Lp.call(V_,t)?!1:QC.test(t)?j_[t]=!0:(V_[t]=!0,!1)}function XC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JC(t,e,n,r){if(e===null||typeof e>"u"||XC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new mn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new mn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new mn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new mn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new mn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new mn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new mn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new mn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new mn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cg=/[\-:]([a-z])/g;function Ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);Vt[e]=new mn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);Vt[e]=new mn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cg,Ag);Vt[e]=new mn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new mn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new mn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pg(t,e,n,r){var i=Vt.hasOwnProperty(e)?Vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JC(e,n,i,r)&&(n=null),r||i===null?YC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ai=KC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ec=Symbol.for("react.element"),yo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),Ei=Symbol.for("react.lazy"),zk=Symbol.for("react.offscreen"),$_=Symbol.iterator;function Ra(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,xf;function za(t){if(xf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xf=e&&e[1]||""}return`
`+xf+t}var bf=!1;function Tf(t,e){if(!t||bf)return"";bf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function ZC(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case yo:return"Portal";case Mp:return"Profiler";case Rg:return"StrictMode";case Fp:return"Suspense";case Vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uk:return(t.displayName||"Context")+".Consumer";case $k:return(t._context.displayName||"Context")+".Provider";case Ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dg:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case Ei:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function eA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===Rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tA(t){var e=Bk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tc(t){t._valueTracker||(t._valueTracker=tA(t))}function Hk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $p(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function U_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wk(t,e){e=e.checked,e!=null&&Pg(t,"checked",e,!1)}function Up(t,e){Wk(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,n):e.hasOwnProperty("defaultValue")&&zp(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function z_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zp(t,e,n){(e!=="number"||ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function Po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function B_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(X(92));if(Ba(n)){if(1<n.length)throw Error(X(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function qk(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function H_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nc,Kk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nA=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){nA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function Qk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function Yk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rA=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(rA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function Og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kp=null,Ro=null,No=null;function W_(t){if(t=au(t)){if(typeof Kp!="function")throw Error(X(280));var e=t.stateNode;e&&(e=fd(e),Kp(t.stateNode,t.type,e))}}function Xk(t){Ro?No?No.push(t):No=[t]:Ro=t}function Jk(){if(Ro){var t=Ro,e=No;if(No=Ro=null,W_(t),e)for(t=0;t<e.length;t++)W_(e[t])}}function Zk(t,e){return t(e)}function ex(){}var Sf=!1;function tx(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return Zk(t,e,n)}finally{Sf=!1,(Ro!==null||No!==null)&&(ex(),Jk())}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var r=fd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(X(231,e,typeof n));return n}var Qp=!1;if(Yr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{Qp=!1}function iA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var rl=!1,lh=null,uh=!1,Yp=null,sA={onError:function(t){rl=!0,lh=t}};function oA(t,e,n,r,i,s,o,a,l){rl=!1,lh=null,iA.apply(sA,arguments)}function aA(t,e,n,r,i,s,o,a,l){if(oA.apply(this,arguments),rl){if(rl){var u=lh;rl=!1,lh=null}else throw Error(X(198));uh||(uh=!0,Yp=u)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q_(t){if(Ys(t)!==t)throw Error(X(188))}function lA(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(X(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return q_(i),t;if(s===r)return q_(i),e;s=s.sibling}throw Error(X(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?t:e}function rx(t){return t=lA(t),t!==null?ix(t):null}function ix(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ix(t);if(e!==null)return e;t=t.sibling}return null}var sx=$n.unstable_scheduleCallback,G_=$n.unstable_cancelCallback,uA=$n.unstable_shouldYield,cA=$n.unstable_requestPaint,pt=$n.unstable_now,hA=$n.unstable_getCurrentPriorityLevel,Lg=$n.unstable_ImmediatePriority,ox=$n.unstable_UserBlockingPriority,ch=$n.unstable_NormalPriority,dA=$n.unstable_LowPriority,ax=$n.unstable_IdlePriority,ud=null,wr=null;function fA(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(ud,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:gA,pA=Math.log,mA=Math.LN2;function gA(t){return t>>>=0,t===0?32:31-(pA(t)/mA|0)|0}var rc=64,ic=4194304;function Ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ha(a):(s&=o,s!==0&&(r=Ha(s)))}else o=n&~i,o!==0?r=Ha(o):s!==0&&(r=Ha(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),i=1<<n,r|=t[n],e&=~i;return r}function yA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-lr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lx(){var t=rc;return rc<<=1,!(rc&4194240)&&(rc=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function su(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function _A(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-lr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var He=0;function ux(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cx,Fg,hx,dx,fx,Jp=!1,sc=[],ji=null,$i=null,Ui=null,Rl=new Map,Nl=new Map,bi=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K_(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Rl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=au(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EA(t,e,n,r,i){switch(e){case"focusin":return ji=Da(ji,t,e,n,r,i),!0;case"dragenter":return $i=Da($i,t,e,n,r,i),!0;case"mouseover":return Ui=Da(Ui,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rl.set(s,Da(Rl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,Da(Nl.get(s)||null,t,e,n,r,i)),!0}return!1}function px(t){var e=Ss(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=nx(n),e!==null){t.blockedOn=e,fx(t.priority,function(){hx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=au(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function Q_(t,e,n){Oc(t)&&n.delete(e)}function kA(){Jp=!1,ji!==null&&Oc(ji)&&(ji=null),$i!==null&&Oc($i)&&($i=null),Ui!==null&&Oc(Ui)&&(Ui=null),Rl.forEach(Q_),Nl.forEach(Q_)}function Oa(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,kA)))}function Dl(t){function e(i){return Oa(i,t)}if(0<sc.length){Oa(sc[0],t);for(var n=1;n<sc.length;n++){var r=sc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&Oa(ji,t),$i!==null&&Oa($i,t),Ui!==null&&Oa(Ui,t),Rl.forEach(e),Nl.forEach(e),n=0;n<bi.length;n++)r=bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bi.length&&(n=bi[0],n.blockedOn===null);)px(n),n.blockedOn===null&&bi.shift()}var Do=ai.ReactCurrentBatchConfig,dh=!0;function xA(t,e,n,r){var i=He,s=Do.transition;Do.transition=null;try{He=1,Vg(t,e,n,r)}finally{He=i,Do.transition=s}}function bA(t,e,n,r){var i=He,s=Do.transition;Do.transition=null;try{He=4,Vg(t,e,n,r)}finally{He=i,Do.transition=s}}function Vg(t,e,n,r){if(dh){var i=Zp(t,e,n,r);if(i===null)Ff(t,e,r,fh,n),K_(t,r);else if(EA(i,t,e,n,r))r.stopPropagation();else if(K_(t,r),e&4&&-1<wA.indexOf(t)){for(;i!==null;){var s=au(i);if(s!==null&&cx(s),s=Zp(t,e,n,r),s===null&&Ff(t,e,r,fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ff(t,e,r,null,n)}}var fh=null;function Zp(t,e,n,r){if(fh=null,t=Og(r),t=Ss(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fh=t,null}function mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hA()){case Lg:return 1;case ox:return 4;case ch:case dA:return 16;case ax:return 536870912;default:return 16}default:return 16}}var Di=null,jg=null,Lc=null;function gx(){if(Lc)return Lc;var t,e=jg,n=e.length,r,i="value"in Di?Di.value:Di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Lc=i.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oc(){return!0}function Y_(){return!1}function zn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?oc:Y_,this.isPropagationStopped=Y_,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=zn(la),ou=lt({},la,{view:0,detail:0}),TA=zn(ou),Cf,Af,La,cd=lt({},ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(Cf=t.screenX-La.screenX,Af=t.screenY-La.screenY):Af=Cf=0,La=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),X_=zn(cd),SA=lt({},cd,{dataTransfer:0}),IA=zn(SA),CA=lt({},ou,{relatedTarget:0}),Pf=zn(CA),AA=lt({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=zn(AA),RA=lt({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NA=zn(RA),DA=lt({},la,{data:0}),J_=zn(DA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MA[t])?!!e[t]:!1}function Ug(){return FA}var VA=lt({},ou,{key:function(t){if(t.key){var e=OA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jA=zn(VA),$A=lt({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z_=zn($A),UA=lt({},ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),zA=zn(UA),BA=lt({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=zn(BA),WA=lt({},cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=zn(WA),GA=[9,13,27,32],zg=Yr&&"CompositionEvent"in window,il=null;Yr&&"documentMode"in document&&(il=document.documentMode);var KA=Yr&&"TextEvent"in window&&!il,yx=Yr&&(!zg||il&&8<il&&11>=il),ew=" ",tw=!1;function vx(t,e){switch(t){case"keyup":return GA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function QA(t,e){switch(t){case"compositionend":return _x(e);case"keypress":return e.which!==32?null:(tw=!0,ew);case"textInput":return t=e.data,t===ew&&tw?null:t;default:return null}}function YA(t,e){if(_o)return t==="compositionend"||!zg&&vx(t,e)?(t=gx(),Lc=jg=Di=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yx&&e.locale!=="ko"?null:e.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XA[t.type]:e==="textarea"}function wx(t,e,n,r){Xk(r),e=ph(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sl=null,Ol=null;function JA(t){Rx(t,0)}function hd(t){var e=ko(t);if(Hk(e))return t}function ZA(t,e){if(t==="change")return e}var Ex=!1;if(Yr){var Rf;if(Yr){var Nf="oninput"in document;if(!Nf){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),Nf=typeof rw.oninput=="function"}Rf=Nf}else Rf=!1;Ex=Rf&&(!document.documentMode||9<document.documentMode)}function iw(){sl&&(sl.detachEvent("onpropertychange",kx),Ol=sl=null)}function kx(t){if(t.propertyName==="value"&&hd(Ol)){var e=[];wx(e,Ol,t,Og(t)),tx(JA,e)}}function eP(t,e,n){t==="focusin"?(iw(),sl=e,Ol=n,sl.attachEvent("onpropertychange",kx)):t==="focusout"&&iw()}function tP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hd(Ol)}function nP(t,e){if(t==="click")return hd(e)}function rP(t,e){if(t==="input"||t==="change")return hd(e)}function iP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:iP;function Ll(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lp.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function sw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ow(t,e){var n=sw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sw(n)}}function xx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bx(){for(var t=window,e=ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ah(t.document)}return e}function Bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sP(t){var e=bx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xx(n.ownerDocument.documentElement,n)){if(r!==null&&Bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ow(n,s);var o=ow(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oP=Yr&&"documentMode"in document&&11>=document.documentMode,wo=null,em=null,ol=null,tm=!1;function aw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||wo==null||wo!==ah(r)||(r=wo,"selectionStart"in r&&Bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&Ll(ol,r)||(ol=r,r=ph(em,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Df={},Tx={};Yr&&(Tx=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function dd(t){if(Df[t])return Df[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tx)return Df[t]=e[n];return t}var Sx=dd("animationend"),Ix=dd("animationiteration"),Cx=dd("animationstart"),Ax=dd("transitionend"),Px=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){Px.set(t,e),Qs(e,[t])}for(var Of=0;Of<lw.length;Of++){var Lf=lw[Of],aP=Lf.toLowerCase(),lP=Lf[0].toUpperCase()+Lf.slice(1);ss(aP,"on"+lP)}ss(Sx,"onAnimationEnd");ss(Ix,"onAnimationIteration");ss(Cx,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Ax,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function uw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aA(r,e,void 0,t),t.currentTarget=null}function Rx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;uw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;uw(i,a,u),s=l}}}if(uh)throw t=Yp,uh=!1,Yp=null,t}function et(t,e){var n=e[om];n===void 0&&(n=e[om]=new Set);var r=t+"__bubble";n.has(r)||(Nx(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),Nx(n,t,r,e)}var lc="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[lc]){t[lc]=!0,jk.forEach(function(n){n!=="selectionchange"&&(uP.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lc]||(e[lc]=!0,Mf("selectionchange",!1,e))}}function Nx(t,e,n,r){switch(mx(e)){case 1:var i=xA;break;case 4:i=bA;break;default:i=Vg}n=i.bind(null,e,n,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ff(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tx(function(){var u=s,h=Og(n),d=[];e:{var f=Px.get(t);if(f!==void 0){var p=$g,v=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":p=jA;break;case"focusin":v="focus",p=Pf;break;case"focusout":v="blur",p=Pf;break;case"beforeblur":case"afterblur":p=Pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=X_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zA;break;case Sx:case Ix:case Cx:p=PA;break;case Ax:p=HA;break;case"scroll":p=TA;break;case"wheel":p=qA;break;case"copy":case"cut":case"paste":p=NA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Z_}var b=(e&4)!==0,R=!b&&t==="scroll",y=b?f!==null?f+"Capture":null:f;b=[];for(var _=u,x;_!==null;){x=_;var L=x.stateNode;if(x.tag===5&&L!==null&&(x=L,y!==null&&(L=Pl(_,y),L!=null&&b.push(Fl(_,L,x)))),R)break;_=_.return}0<b.length&&(f=new p(f,v,null,n,h),d.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Gp&&(v=n.relatedTarget||n.fromElement)&&(Ss(v)||v[Xr]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Ss(v):null,v!==null&&(R=Ys(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=X_,L="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=Z_,L="onPointerLeave",y="onPointerEnter",_="pointer"),R=p==null?f:ko(p),x=v==null?f:ko(v),f=new b(L,_+"leave",p,n,h),f.target=R,f.relatedTarget=x,L=null,Ss(h)===u&&(b=new b(y,_+"enter",v,n,h),b.target=x,b.relatedTarget=R,L=b),R=L,p&&v)t:{for(b=p,y=v,_=0,x=b;x;x=ao(x))_++;for(x=0,L=y;L;L=ao(L))x++;for(;0<_-x;)b=ao(b),_--;for(;0<x-_;)y=ao(y),x--;for(;_--;){if(b===y||y!==null&&b===y.alternate)break t;b=ao(b),y=ao(y)}b=null}else b=null;p!==null&&cw(d,f,p,b,!1),v!==null&&R!==null&&cw(d,R,v,b,!0)}}e:{if(f=u?ko(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var F=ZA;else if(nw(f))if(Ex)F=rP;else{F=tP;var M=eP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=nP);if(F&&(F=F(t,u))){wx(d,F,n,h);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&zp(f,"number",f.value)}switch(M=u?ko(u):window,t){case"focusin":(nw(M)||M.contentEditable==="true")&&(wo=M,em=u,ol=null);break;case"focusout":ol=em=wo=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,aw(d,n,h);break;case"selectionchange":if(oP)break;case"keydown":case"keyup":aw(d,n,h)}var C;if(zg)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _o?vx(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(yx&&n.locale!=="ko"&&(_o||k!=="onCompositionStart"?k==="onCompositionEnd"&&_o&&(C=gx()):(Di=h,jg="value"in Di?Di.value:Di.textContent,_o=!0)),M=ph(u,k),0<M.length&&(k=new J_(k,t,null,n,h),d.push({event:k,listeners:M}),C?k.data=C:(C=_x(n),C!==null&&(k.data=C)))),(C=KA?QA(t,n):YA(t,n))&&(u=ph(u,"onBeforeInput"),0<u.length&&(h=new J_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}Rx(d,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pl(t,n),s!=null&&r.unshift(Fl(t,s,i)),s=Pl(t,e),s!=null&&r.push(Fl(t,s,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pl(n,s),l!=null&&o.unshift(Fl(n,l,a))):i||(l=Pl(n,s),l!=null&&o.push(Fl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cP=/\r\n?/g,hP=/\u0000|\uFFFD/g;function hw(t){return(typeof t=="string"?t:""+t).replace(cP,`
`).replace(hP,"")}function uc(t,e,n){if(e=hw(e),hw(t)!==e&&n)throw Error(X(425))}function mh(){}var nm=null,rm=null;function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,dP=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,fP=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(t){return dw.resolve(null).then(t).catch(pP)}:sm;function pP(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),vr="__reactFiber$"+ua,Vl="__reactProps$"+ua,Xr="__reactContainer$"+ua,om="__reactEvents$"+ua,mP="__reactListeners$"+ua,gP="__reactHandles$"+ua;function Ss(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fw(t);t!==null;){if(n=t[vr])return n;t=fw(t)}return e}t=n,n=t.parentNode}return null}function au(t){return t=t[vr]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function fd(t){return t[Vl]||null}var am=[],xo=-1;function os(t){return{current:t}}function nt(t){0>xo||(t.current=am[xo],am[xo]=null,xo--)}function Xe(t,e){xo++,am[xo]=t.current,t.current=e}var es={},Zt=os(es),kn=os(!1),Fs=es;function Ho(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function gh(){nt(kn),nt(Zt)}function pw(t,e,n){if(Zt.current!==es)throw Error(X(168));Xe(Zt,e),Xe(kn,n)}function Dx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(X(108,eA(t)||"Unknown",i));return lt({},n,r)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,Fs=Zt.current,Xe(Zt,t),Xe(kn,kn.current),!0}function mw(t,e,n){var r=t.stateNode;if(!r)throw Error(X(169));n?(t=Dx(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,nt(kn),nt(Zt),Xe(Zt,t)):nt(kn),Xe(kn,n)}var Fr=null,pd=!1,jf=!1;function Ox(t){Fr===null?Fr=[t]:Fr.push(t)}function yP(t){pd=!0,Ox(t)}function as(){if(!jf&&Fr!==null){jf=!0;var t=0,e=He;try{var n=Fr;for(He=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,pd=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),sx(Lg,as),i}finally{He=e,jf=!1}}return null}var bo=[],To=0,vh=null,_h=0,qn=[],Gn=0,Vs=null,$r=1,Ur="";function _s(t,e){bo[To++]=_h,bo[To++]=vh,vh=t,_h=e}function Lx(t,e,n){qn[Gn++]=$r,qn[Gn++]=Ur,qn[Gn++]=Vs,Vs=t;var r=$r;t=Ur;var i=32-lr(r)-1;r&=~(1<<i),n+=1;var s=32-lr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-lr(e)+i|n<<i|r,Ur=s+t}else $r=1<<s|n<<i|r,Ur=t}function Hg(t){t.return!==null&&(_s(t,1),Lx(t,1,0))}function Wg(t){for(;t===vh;)vh=bo[--To],bo[To]=null,_h=bo[--To],bo[To]=null;for(;t===Vs;)Vs=qn[--Gn],qn[Gn]=null,Ur=qn[--Gn],qn[Gn]=null,$r=qn[--Gn],qn[Gn]=null}var Vn=null,Mn=null,it=!1,or=null;function Mx(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vn=t,Mn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:$r,overflow:Ur}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vn=t,Mn=null,!0):!1;default:return!1}}function lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function um(t){if(it){var e=Mn;if(e){var n=e;if(!gw(t,e)){if(lm(t))throw Error(X(418));e=zi(n.nextSibling);var r=Vn;e&&gw(t,e)?Mx(r,n):(t.flags=t.flags&-4097|2,it=!1,Vn=t)}}else{if(lm(t))throw Error(X(418));t.flags=t.flags&-4097|2,it=!1,Vn=t}}}function yw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vn=t}function cc(t){if(t!==Vn)return!1;if(!it)return yw(t),it=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!im(t.type,t.memoizedProps)),e&&(e=Mn)){if(lm(t))throw Fx(),Error(X(418));for(;e;)Mx(t,e),e=zi(e.nextSibling)}if(yw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Vn?zi(t.stateNode.nextSibling):null;return!0}function Fx(){for(var t=Mn;t;)t=zi(t.nextSibling)}function Wo(){Mn=Vn=null,it=!1}function qg(t){or===null?or=[t]:or.push(t)}var vP=ai.ReactCurrentBatchConfig;function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,t))}return t}function hc(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vw(t){var e=t._init;return e(t._payload)}function Vx(t){function e(y,_){if(t){var x=y.deletions;x===null?(y.deletions=[_],y.flags|=16):x.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=qi(y,_),y.index=0,y.sibling=null,y}function s(y,_,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<_?(y.flags|=2,_):x):(y.flags|=2,_)):(y.flags|=1048576,_)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,x,L){return _===null||_.tag!==6?(_=qf(x,y.mode,L),_.return=y,_):(_=i(_,x),_.return=y,_)}function l(y,_,x,L){var F=x.type;return F===vo?h(y,_,x.props.children,L,x.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ei&&vw(F)===_.type)?(L=i(_,x.props),L.ref=Ma(y,_,x),L.return=y,L):(L=Bc(x.type,x.key,x.props,null,y.mode,L),L.ref=Ma(y,_,x),L.return=y,L)}function u(y,_,x,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Gf(x,y.mode,L),_.return=y,_):(_=i(_,x.children||[]),_.return=y,_)}function h(y,_,x,L,F){return _===null||_.tag!==7?(_=Os(x,y.mode,L,F),_.return=y,_):(_=i(_,x),_.return=y,_)}function d(y,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=qf(""+_,y.mode,x),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ec:return x=Bc(_.type,_.key,_.props,null,y.mode,x),x.ref=Ma(y,null,_),x.return=y,x;case yo:return _=Gf(_,y.mode,x),_.return=y,_;case Ei:var L=_._init;return d(y,L(_._payload),x)}if(Ba(_)||Ra(_))return _=Os(_,y.mode,x,null),_.return=y,_;hc(y,_)}return null}function f(y,_,x,L){var F=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return F!==null?null:a(y,_,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:return x.key===F?l(y,_,x,L):null;case yo:return x.key===F?u(y,_,x,L):null;case Ei:return F=x._init,f(y,_,F(x._payload),L)}if(Ba(x)||Ra(x))return F!==null?null:h(y,_,x,L,null);hc(y,x)}return null}function p(y,_,x,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return y=y.get(x)||null,a(_,y,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ec:return y=y.get(L.key===null?x:L.key)||null,l(_,y,L,F);case yo:return y=y.get(L.key===null?x:L.key)||null,u(_,y,L,F);case Ei:var M=L._init;return p(y,_,x,M(L._payload),F)}if(Ba(L)||Ra(L))return y=y.get(x)||null,h(_,y,L,F,null);hc(_,L)}return null}function v(y,_,x,L){for(var F=null,M=null,C=_,k=_=0,T=null;C!==null&&k<x.length;k++){C.index>k?(T=C,C=null):T=C.sibling;var E=f(y,C,x[k],L);if(E===null){C===null&&(C=T);break}t&&C&&E.alternate===null&&e(y,C),_=s(E,_,k),M===null?F=E:M.sibling=E,M=E,C=T}if(k===x.length)return n(y,C),it&&_s(y,k),F;if(C===null){for(;k<x.length;k++)C=d(y,x[k],L),C!==null&&(_=s(C,_,k),M===null?F=C:M.sibling=C,M=C);return it&&_s(y,k),F}for(C=r(y,C);k<x.length;k++)T=p(C,y,k,x[k],L),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?k:T.key),_=s(T,_,k),M===null?F=T:M.sibling=T,M=T);return t&&C.forEach(function(N){return e(y,N)}),it&&_s(y,k),F}function b(y,_,x,L){var F=Ra(x);if(typeof F!="function")throw Error(X(150));if(x=F.call(x),x==null)throw Error(X(151));for(var M=F=null,C=_,k=_=0,T=null,E=x.next();C!==null&&!E.done;k++,E=x.next()){C.index>k?(T=C,C=null):T=C.sibling;var N=f(y,C,E.value,L);if(N===null){C===null&&(C=T);break}t&&C&&N.alternate===null&&e(y,C),_=s(N,_,k),M===null?F=N:M.sibling=N,M=N,C=T}if(E.done)return n(y,C),it&&_s(y,k),F;if(C===null){for(;!E.done;k++,E=x.next())E=d(y,E.value,L),E!==null&&(_=s(E,_,k),M===null?F=E:M.sibling=E,M=E);return it&&_s(y,k),F}for(C=r(y,C);!E.done;k++,E=x.next())E=p(C,y,k,E.value,L),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?k:E.key),_=s(E,_,k),M===null?F=E:M.sibling=E,M=E);return t&&C.forEach(function(I){return e(y,I)}),it&&_s(y,k),F}function R(y,_,x,L){if(typeof x=="object"&&x!==null&&x.type===vo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ec:e:{for(var F=x.key,M=_;M!==null;){if(M.key===F){if(F=x.type,F===vo){if(M.tag===7){n(y,M.sibling),_=i(M,x.props.children),_.return=y,y=_;break e}}else if(M.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ei&&vw(F)===M.type){n(y,M.sibling),_=i(M,x.props),_.ref=Ma(y,M,x),_.return=y,y=_;break e}n(y,M);break}else e(y,M);M=M.sibling}x.type===vo?(_=Os(x.props.children,y.mode,L,x.key),_.return=y,y=_):(L=Bc(x.type,x.key,x.props,null,y.mode,L),L.ref=Ma(y,_,x),L.return=y,y=L)}return o(y);case yo:e:{for(M=x.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(y,_.sibling),_=i(_,x.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=Gf(x,y.mode,L),_.return=y,y=_}return o(y);case Ei:return M=x._init,R(y,_,M(x._payload),L)}if(Ba(x))return v(y,_,x,L);if(Ra(x))return b(y,_,x,L);hc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,x),_.return=y,y=_):(n(y,_),_=qf(x,y.mode,L),_.return=y,y=_),o(y)):n(y,_)}return R}var qo=Vx(!0),jx=Vx(!1),wh=os(null),Eh=null,So=null,Gg=null;function Kg(){Gg=So=Eh=null}function Qg(t){var e=wh.current;nt(wh),t._currentValue=e}function cm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Eh=t,Gg=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(Eh===null)throw Error(X(308));So=t,Eh.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var Is=null;function Yg(t){Is===null?Is=[t]:Is.push(t)}function $x(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ux(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jr(t,n)}return i=r.interleaved,i===null?(e.next=e,Yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jr(t,n)}function Fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}function _w(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kh(t,e,n,r){var i=t.updateQueue;ki=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(f=e,p=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=lt({},d,f);break e;case 2:ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=d}}function ww(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(X(191,i));i.call(r)}}}var lu={},Er=os(lu),jl=os(lu),$l=os(lu);function Cs(t){if(t===lu)throw Error(X(174));return t}function Jg(t,e){switch(Xe($l,e),Xe(jl,t),Xe(Er,lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}nt(Er),Xe(Er,e)}function Go(){nt(Er),nt(jl),nt($l)}function zx(t){Cs($l.current);var e=Cs(Er.current),n=Hp(e,t.type);e!==n&&(Xe(jl,t),Xe(Er,n))}function Zg(t){jl.current===t&&(nt(Er),nt(jl))}var ot=os(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function ey(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Vc=ai.ReactCurrentDispatcher,Uf=ai.ReactCurrentBatchConfig,js=0,at=null,xt=null,At=null,bh=!1,al=!1,Ul=0,_P=0;function Bt(){throw Error(X(321))}function ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function ny(t,e,n,r,i,s){if(js=s,at=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?xP:bP,t=n(r,i),al){s=0;do{if(al=!1,Ul=0,25<=s)throw Error(X(301));s+=1,At=xt=null,e.updateQueue=null,Vc.current=TP,t=n(r,i)}while(al)}if(Vc.current=Th,e=xt!==null&&xt.next!==null,js=0,At=xt=at=null,bh=!1,e)throw Error(X(300));return t}function ry(){var t=Ul!==0;return Ul=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?at.memoizedState=At=t:At=At.next=t,At}function Jn(){if(xt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=At===null?at.memoizedState:At.next;if(e!==null)At=e,xt=t;else{if(t===null)throw Error(X(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},At===null?at.memoizedState=At=t:At=At.next=t}return At}function zl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=Jn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((js&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,at.lanes|=h,$s|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,dr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,at.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Jn(),n=e.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dr(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bx(){}function Hx(t,e){var n=at,r=Jn(),i=e(),s=!dr(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,iy(Gx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Bl(9,qx.bind(null,n,r,i,e),void 0,null),Pt===null)throw Error(X(349));js&30||Wx(n,e,i)}return i}function Wx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qx(t,e,n,r){e.value=n,e.getSnapshot=r,Kx(e)&&Qx(t)}function Gx(t,e,n){return n(function(){Kx(e)&&Qx(t)})}function Kx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function Qx(t){var e=Jr(t,1);e!==null&&ur(e,t,1,-1)}function Ew(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=kP.bind(null,at,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=at.updateQueue,e===null?(e={lastEffect:null,stores:null},at.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yx(){return Jn().memoizedState}function jc(t,e,n,r){var i=gr();at.flags|=t,i.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function md(t,e,n,r){var i=Jn();r=r===void 0?null:r;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,r!==null&&ty(r,o.deps)){i.memoizedState=Bl(e,n,s,r);return}}at.flags|=t,i.memoizedState=Bl(1|e,n,s,r)}function kw(t,e){return jc(8390656,8,t,e)}function iy(t,e){return md(2048,8,t,e)}function Xx(t,e){return md(4,2,t,e)}function Jx(t,e){return md(4,4,t,e)}function Zx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eb(t,e,n){return n=n!=null?n.concat([t]):null,md(4,4,Zx.bind(null,e,t),n)}function sy(){}function tb(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nb(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rb(t,e,n){return js&21?(dr(n,e)||(n=lx(),at.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function wP(t,e){var n=He;He=n!==0&&4>n?n:4,t(!0);var r=Uf.transition;Uf.transition={};try{t(!1),e()}finally{He=n,Uf.transition=r}}function ib(){return Jn().memoizedState}function EP(t,e,n){var r=Wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sb(t))ob(e,n);else if(n=$x(t,e,n,r),n!==null){var i=hn();ur(n,t,r,i),ab(n,e,r)}}function kP(t,e,n){var r=Wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sb(t))ob(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dr(a,o)){var l=e.interleaved;l===null?(i.next=i,Yg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$x(t,e,i,r),n!==null&&(i=hn(),ur(n,t,r,i),ab(n,e,r))}}function sb(t){var e=t.alternate;return t===at||e!==null&&e===at}function ob(t,e){al=bh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ab(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}var Th={readContext:Xn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},xP={readContext:Xn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:kw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jc(4194308,4,Zx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return jc(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EP.bind(null,at,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:Ew,useDebugValue:sy,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=Ew(!1),e=t[0];return t=wP.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=at,i=gr();if(it){if(n===void 0)throw Error(X(407));n=n()}else{if(n=e(),Pt===null)throw Error(X(349));js&30||Wx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,kw(Gx.bind(null,r,s,t),[t]),r.flags|=2048,Bl(9,qx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gr(),e=Pt.identifierPrefix;if(it){var n=Ur,r=$r;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_P++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bP={readContext:Xn,useCallback:tb,useContext:Xn,useEffect:iy,useImperativeHandle:eb,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:nb,useReducer:zf,useRef:Yx,useState:function(){return zf(zl)},useDebugValue:sy,useDeferredValue:function(t){var e=Jn();return rb(e,xt.memoizedState,t)},useTransition:function(){var t=zf(zl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:Hx,useId:ib,unstable_isNewReconciler:!1},TP={readContext:Xn,useCallback:tb,useContext:Xn,useEffect:iy,useImperativeHandle:eb,useInsertionEffect:Xx,useLayoutEffect:Jx,useMemo:nb,useReducer:Bf,useRef:Yx,useState:function(){return Bf(zl)},useDebugValue:sy,useDeferredValue:function(t){var e=Jn();return xt===null?e.memoizedState=t:rb(e,xt.memoizedState,t)},useTransition:function(){var t=Bf(zl)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:Hx,useId:ib,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gd={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Wi(t),s=qr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(ur(e,t,i,r),Fc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Wi(t),s=qr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(ur(e,t,i,r),Fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=Wi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(ur(e,t,r,n),Fc(e,t,r))}};function xw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,r)||!Ll(i,s):!0}function lb(t,e,n){var r=!1,i=es,s=e.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(i=xn(e)?Fs:Zt.current,r=e.contextTypes,s=(r=r!=null)?Ho(t,i):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gd.enqueueReplaceState(e,e.state,null)}function dm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xn(s):(s=xn(e)?Fs:Zt.current,i.context=Ho(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gd.enqueueReplaceState(i,i.state,null),kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e){try{var n="",r=e;do n+=ZC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function ub(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,xm=r),fm(t,e)},n}function cb(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fm(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$P.bind(null,t,e,n),e.then(t,t))}function Sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var IP=ai.ReactCurrentOwner,En=!1;function an(t,e,n,r){e.child=t===null?jx(e,null,n,r):qo(e,t.child,n,r)}function Cw(t,e,n,r,i){n=n.render;var s=e.ref;return Oo(e,i),r=ny(t,e,n,r,s,i),n=ry(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(it&&n&&Hg(e),e.flags|=1,an(t,e,r,i),e.child)}function Aw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!fy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hb(t,e,s,r,i)):(t=Bc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(o,r)&&t.ref===e.ref)return Zr(t,e,i)}return e.flags|=1,t=qi(s,r),t.ref=e.ref,t.return=e,e.child=t}function hb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ll(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Zr(t,e,i)}return pm(t,e,n,r,i)}function db(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Co,Ln),Ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xe(Co,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Xe(Co,Ln),Ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Xe(Co,Ln),Ln|=r;return an(t,e,i,n),e.child}function fb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,n,r,i){var s=xn(n)?Fs:Zt.current;return s=Ho(e,s),Oo(e,i),n=ny(t,e,n,r,s,i),r=ry(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zr(t,e,i)):(it&&r&&Hg(e),e.flags|=1,an(t,e,n,i),e.child)}function Pw(t,e,n,r,i){if(xn(n)){var s=!0;yh(e)}else s=!1;if(Oo(e,i),e.stateNode===null)$c(t,e),lb(e,n,r),dm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=xn(n)?Fs:Zt.current,u=Ho(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&bw(e,o,r,u),ki=!1;var f=e.memoizedState;o.state=f,kh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||kn.current||ki?(typeof h=="function"&&(hm(e,n,h,r),l=e.memoizedState),(a=ki||xw(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ux(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:rr(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=xn(n)?Fs:Zt.current,l=Ho(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&bw(e,o,r,l),ki=!1,f=e.memoizedState,o.state=f,kh(e,r,o,i);var v=e.memoizedState;a!==d||f!==v||kn.current||ki?(typeof p=="function"&&(hm(e,n,p,r),v=e.memoizedState),(u=ki||xw(e,n,u,r,f,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mm(t,e,n,r,s,i)}function mm(t,e,n,r,i,s){fb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mw(e,n,!1),Zr(t,e,s);r=e.stateNode,IP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,a,s)):an(t,e,a,s),e.memoizedState=r.state,i&&mw(e,n,!0),e.child}function pb(t){var e=t.stateNode;e.pendingContext?pw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pw(t,e.context,!1),Jg(t,e.containerInfo)}function Rw(t,e,n,r,i){return Wo(),qg(i),e.flags|=256,an(t,e,n,r),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function mb(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xe(ot,i&1),t===null)return um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_d(o,r,0,null),t=Os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ym(n),e.memoizedState=gm,t):oy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qi(a,s):(s=Os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gm,r}return s=t.child,t=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oy(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dc(t,e,n,r){return r!==null&&qg(r),qo(e,t.child,null,n),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(X(422))),dc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_d({mode:"visible",children:r.children},i,0,null),s=Os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=ym(o),e.memoizedState=gm,s);if(!(e.mode&1))return dc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(X(419)),r=Hf(s,r,void 0),dc(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=Pt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jr(t,i),ur(r,t,i,-1))}return dy(),r=Hf(Error(X(421))),dc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=zi(i.nextSibling),Vn=e,it=!0,or=null,t!==null&&(qn[Gn++]=$r,qn[Gn++]=Ur,qn[Gn++]=Vs,$r=t.id,Ur=t.overflow,Vs=e),e=oy(e,r.children),e.flags|=4096,e)}function Nw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cm(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(an(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nw(t,n,e);else if(t.tag===19)Nw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Xe(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AP(t,e,n){switch(e.tag){case 3:pb(e),Wo();break;case 5:zx(e);break;case 1:xn(e.type)&&yh(e);break;case 4:Jg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Xe(wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Xe(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?mb(t,e,n):(Xe(ot,ot.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);Xe(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,db(t,e,n)}return Zr(t,e,n)}var yb,vm,vb,_b;yb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vm=function(){};vb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cs(Er.current);var s=null;switch(n){case"input":i=$p(t,i),r=$p(t,r),s=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),s=[];break;case"textarea":i=Bp(t,i),r=Bp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mh)}Wp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};_b=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!it)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PP(t,e,n){var r=e.pendingProps;switch(Wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return xn(e.type)&&gh(),Ht(e),null;case 3:return r=e.stateNode,Go(),nt(kn),nt(Zt),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(Sm(or),or=null))),vm(t,e),Ht(e),null;case 5:Zg(e);var i=Cs($l.current);if(n=e.type,t!==null&&e.stateNode!=null)vb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return Ht(e),null}if(t=Cs(Er.current),cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vr]=e,r[Vl]=s,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Wa.length;i++)et(Wa[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":U_(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":B_(r,s),et("invalid",r)}Wp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&uc(r.textContent,a,t),i=["children",""+a]):Cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":tc(r),z_(r,s,!0);break;case"textarea":tc(r),H_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[Vl]=r,yb(t,e,!1,!1),e.stateNode=t;e:{switch(o=qp(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wa.length;i++)et(Wa[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":U_(t,r),i=$p(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),et("invalid",t);break;case"textarea":B_(t,r),i=Bp(t,r),et("invalid",t);break;default:i=r}Wp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Yk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&Pg(t,s,l,o))}switch(n){case"input":tc(t),z_(t,r,!1);break;case"textarea":tc(t),H_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Po(t,!!r.multiple,s,!1):r.defaultValue!=null&&Po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)_b(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(n=Cs($l.current),Cs(Er.current),cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(s=r.nodeValue!==n)&&(t=Vn,t!==null))switch(t.tag){case 3:uc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Ht(e),null;case 13:if(nt(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(it&&Mn!==null&&e.mode&1&&!(e.flags&128))Fx(),Wo(),e.flags|=98560,s=!1;else if(s=cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[vr]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else or!==null&&(Sm(or),or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?bt===0&&(bt=3):dy())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return Go(),vm(t,e),t===null&&Ml(e.stateNode.containerInfo),Ht(e),null;case 10:return Qg(e.type._context),Ht(e),null;case 17:return xn(e.type)&&gh(),Ht(e),null;case 19:if(nt(ot),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fa(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,Fa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Xe(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&pt()>Qo&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!it)return Ht(e),null}else 2*pt()-s.renderingStartTime>Qo&&n!==1073741824&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,n=ot.current,Xe(ot,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return hy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function RP(t,e){switch(Wg(e),e.tag){case 1:return xn(e.type)&&gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),nt(kn),nt(Zt),ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if(nt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ot),null;case 4:return Go(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var fc=!1,Kt=!1,NP=typeof WeakSet=="function"?WeakSet:Set,se=null;function Io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function _m(t,e,n){try{n()}catch(r){dt(t,e,r)}}var Dw=!1;function DP(t,e){if(nm=dh,t=bx(),Bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:t,selectionRange:n},dh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,R=v.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:rr(e.type,b),R);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(L){dt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return v=Dw,Dw=!1,v}function ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_m(e,n,s)}i=i.next}while(i!==r)}}function yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wb(t){var e=t.alternate;e!==null&&(t.alternate=null,wb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[Vl],delete e[om],delete e[mP],delete e[gP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eb(t){return t.tag===5||t.tag===3||t.tag===4}function Ow(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(r!==4&&(t=t.child,t!==null))for(Em(t,e,n),t=t.sibling;t!==null;)Em(t,e,n),t=t.sibling}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}var Dt=null,ir=!1;function vi(t,e,n){for(n=n.child;n!==null;)kb(t,e,n),n=n.sibling}function kb(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(ud,n)}catch{}switch(n.tag){case 5:Kt||Io(n,e);case 6:var r=Dt,i=ir;Dt=null,vi(t,e,n),Dt=r,ir=i,Dt!==null&&(ir?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(ir?(t=Dt,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),Dl(t)):Vf(Dt,n.stateNode));break;case 4:r=Dt,i=ir,Dt=n.stateNode.containerInfo,ir=!0,vi(t,e,n),Dt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_m(n,e,o),i=i.next}while(i!==r)}vi(t,e,n);break;case 1:if(!Kt&&(Io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}vi(t,e,n);break;case 21:vi(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,vi(t,e,n),Kt=r):vi(t,e,n);break;default:vi(t,e,n)}}function Lw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NP),e.forEach(function(r){var i=zP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,ir=!1;break e;case 3:Dt=a.stateNode.containerInfo,ir=!0;break e;case 4:Dt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(Dt===null)throw Error(X(160));kb(s,o,i),Dt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xb(e,t),e=e.sibling}function xb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),pr(t),r&4){try{ll(3,t,t.return),yd(3,t)}catch(b){dt(t,t.return,b)}try{ll(5,t,t.return)}catch(b){dt(t,t.return,b)}}break;case 1:tr(e,t),pr(t),r&512&&n!==null&&Io(n,n.return);break;case 5:if(tr(e,t),pr(t),r&512&&n!==null&&Io(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(b){dt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Wk(i,s),qp(a,o);var u=qp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Yk(i,d):h==="dangerouslySetInnerHTML"?Kk(i,d):h==="children"?Al(i,d):Pg(i,h,d,u)}switch(a){case"input":Up(i,s);break;case"textarea":qk(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Po(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Po(i,!!s.multiple,s.defaultValue,!0):Po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(b){dt(t,t.return,b)}}break;case 6:if(tr(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){dt(t,t.return,b)}}break;case 3:if(tr(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(b){dt(t,t.return,b)}break;case 4:tr(e,t),pr(t);break;case 13:tr(e,t),pr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=pt())),r&4&&Lw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(u=Kt)||h,tr(e,t),Kt=u):tr(e,t),pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(d=se=h;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:Io(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){dt(r,n,b)}}break;case 5:Io(f,f.return);break;case 22:if(f.memoizedState!==null){Fw(d);continue}}p!==null?(p.return=f,se=p):Fw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qk("display",o))}catch(b){dt(t,t.return,b)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){dt(t,t.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:tr(e,t),pr(t),r&4&&Lw(t);break;case 21:break;default:tr(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Eb(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var s=Ow(t);km(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ow(t);Em(t,a,o);break;default:throw Error(X(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OP(t,e,n){se=t,bb(t)}function bb(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||fc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=fc;var u=Kt;if(fc=o,(Kt=l)&&!u)for(se=i;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?Vw(i):l!==null?(l.return=o,se=l):Vw(i);for(;s!==null;)se=s,bb(s),s=s.sibling;se=i,fc=a,Kt=u}Mw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Mw(t)}}function Mw(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||yd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ww(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ww(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Dl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Kt||e.flags&512&&wm(e)}catch(f){dt(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function Fw(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Vw(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yd(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var s=e.return;try{wm(e)}catch(l){dt(e,s,l)}break;case 5:var o=e.return;try{wm(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var LP=Math.ceil,Sh=ai.ReactCurrentDispatcher,ay=ai.ReactCurrentOwner,Yn=ai.ReactCurrentBatchConfig,Ve=0,Pt=null,Et=null,Mt=0,Ln=0,Co=os(0),bt=0,Hl=null,$s=0,vd=0,ly=0,ul=null,vn=null,uy=0,Qo=1/0,Mr=null,Ih=!1,xm=null,Hi=null,pc=!1,Oi=null,Ch=0,cl=0,bm=null,Uc=-1,zc=0;function hn(){return Ve&6?pt():Uc!==-1?Uc:Uc=pt()}function Wi(t){return t.mode&1?Ve&2&&Mt!==0?Mt&-Mt:vP.transition!==null?(zc===0&&(zc=lx()),zc):(t=He,t!==0||(t=window.event,t=t===void 0?16:mx(t.type)),t):1}function ur(t,e,n,r){if(50<cl)throw cl=0,bm=null,Error(X(185));su(t,n,r),(!(Ve&2)||t!==Pt)&&(t===Pt&&(!(Ve&2)&&(vd|=n),bt===4&&Ti(t,Mt)),bn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Qo=pt()+500,pd&&as()))}function bn(t,e){var n=t.callbackNode;vA(t,e);var r=hh(t,t===Pt?Mt:0);if(r===0)n!==null&&G_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&G_(n),e===1)t.tag===0?yP(jw.bind(null,t)):Ox(jw.bind(null,t)),fP(function(){!(Ve&6)&&as()}),n=null;else{switch(ux(r)){case 1:n=Lg;break;case 4:n=ox;break;case 16:n=ch;break;case 536870912:n=ax;break;default:n=ch}n=Nb(n,Tb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tb(t,e){if(Uc=-1,zc=0,Ve&6)throw Error(X(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=hh(t,t===Pt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ah(t,r);else{e=r;var i=Ve;Ve|=2;var s=Ib();(Pt!==t||Mt!==e)&&(Mr=null,Qo=pt()+500,Ds(t,e));do try{VP();break}catch(a){Sb(t,a)}while(!0);Kg(),Sh.current=s,Ve=i,Et!==null?e=0:(Pt=null,Mt=0,e=bt)}if(e!==0){if(e===2&&(i=Xp(t),i!==0&&(r=i,e=Tm(t,i))),e===1)throw n=Hl,Ds(t,0),Ti(t,r),bn(t,pt()),n;if(e===6)Ti(t,r);else{if(i=t.current.alternate,!(r&30)&&!MP(i)&&(e=Ah(t,r),e===2&&(s=Xp(t),s!==0&&(r=s,e=Tm(t,s))),e===1))throw n=Hl,Ds(t,0),Ti(t,r),bn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ws(t,vn,Mr);break;case 3:if(Ti(t,r),(r&130023424)===r&&(e=uy+500-pt(),10<e)){if(hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sm(ws.bind(null,t,vn,Mr),e);break}ws(t,vn,Mr);break;case 4:if(Ti(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-lr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LP(r/1960))-r,10<r){t.timeoutHandle=sm(ws.bind(null,t,vn,Mr),r);break}ws(t,vn,Mr);break;case 5:ws(t,vn,Mr);break;default:throw Error(X(329))}}}return bn(t,pt()),t.callbackNode===n?Tb.bind(null,t):null}function Tm(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=vn,vn=n,e!==null&&Sm(e)),t}function Sm(t){vn===null?vn=t:vn.push.apply(vn,t)}function MP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ti(t,e){for(e&=~ly,e&=~vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function jw(t){if(Ve&6)throw Error(X(327));Lo();var e=hh(t,0);if(!(e&1))return bn(t,pt()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Xp(t);r!==0&&(e=r,n=Tm(t,r))}if(n===1)throw n=Hl,Ds(t,0),Ti(t,e),bn(t,pt()),n;if(n===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,vn,Mr),bn(t,pt()),null}function cy(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Qo=pt()+500,pd&&as())}}function Us(t){Oi!==null&&Oi.tag===0&&!(Ve&6)&&Lo();var e=Ve;Ve|=1;var n=Yn.transition,r=He;try{if(Yn.transition=null,He=1,t)return t()}finally{He=r,Yn.transition=n,Ve=e,!(Ve&6)&&as()}}function hy(){Ln=Co.current,nt(Co)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dP(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gh();break;case 3:Go(),nt(kn),nt(Zt),ey();break;case 5:Zg(r);break;case 4:Go();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:Qg(r.type._context);break;case 22:case 23:hy()}n=n.return}if(Pt=t,Et=t=qi(t.current,null),Mt=Ln=e,bt=0,Hl=null,ly=vd=$s=0,vn=ul=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function Sb(t,e){do{var n=Et;try{if(Kg(),Vc.current=Th,bh){for(var r=at.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bh=!1}if(js=0,At=xt=at=null,al=!1,Ul=0,ay.current=null,n===null||n.return===null){bt=1,Hl=e,Et=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Sw(o);if(p!==null){p.flags&=-257,Iw(p,o,a,s,e),p.mode&1&&Tw(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){Tw(s,u,e),dy();break e}l=Error(X(426))}}else if(it&&a.mode&1){var R=Sw(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Iw(R,o,a,s,e),qg(Ko(l,a));break e}}s=l=Ko(l,a),bt!==4&&(bt=2),ul===null?ul=[s]:ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=ub(s,l,e);_w(s,y);break e;case 1:a=l;var _=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Hi===null||!Hi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=cb(s,a,e);_w(s,L);break e}}s=s.return}while(s!==null)}Ab(n)}catch(F){e=F,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function Ib(){var t=Sh.current;return Sh.current=Th,t===null?Th:t}function dy(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||!($s&268435455)&&!(vd&268435455)||Ti(Pt,Mt)}function Ah(t,e){var n=Ve;Ve|=2;var r=Ib();(Pt!==t||Mt!==e)&&(Mr=null,Ds(t,e));do try{FP();break}catch(i){Sb(t,i)}while(!0);if(Kg(),Ve=n,Sh.current=r,Et!==null)throw Error(X(261));return Pt=null,Mt=0,bt}function FP(){for(;Et!==null;)Cb(Et)}function VP(){for(;Et!==null&&!uA();)Cb(Et)}function Cb(t){var e=Rb(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?Ab(t):Et=e,ay.current=null}function Ab(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=RP(n,e),n!==null){n.flags&=32767,Et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,Et=null;return}}else if(n=PP(n,e,Ln),n!==null){Et=n;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);bt===0&&(bt=5)}function ws(t,e,n){var r=He,i=Yn.transition;try{Yn.transition=null,He=1,jP(t,e,n,r)}finally{Yn.transition=i,He=r}return null}function jP(t,e,n,r){do Lo();while(Oi!==null);if(Ve&6)throw Error(X(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_A(t,s),t===Pt&&(Et=Pt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pc||(pc=!0,Nb(ch,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=He;He=1;var a=Ve;Ve|=4,ay.current=null,DP(t,n),xb(n,t),sP(rm),dh=!!nm,rm=nm=null,t.current=n,OP(n),cA(),Ve=a,He=o,Yn.transition=s}else t.current=n;if(pc&&(pc=!1,Oi=t,Ch=i),s=t.pendingLanes,s===0&&(Hi=null),fA(n.stateNode),bn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ih)throw Ih=!1,t=xm,xm=null,t;return Ch&1&&t.tag!==0&&Lo(),s=t.pendingLanes,s&1?t===bm?cl++:(cl=0,bm=t):cl=0,as(),null}function Lo(){if(Oi!==null){var t=ux(Ch),e=Yn.transition,n=He;try{if(Yn.transition=null,He=16>t?16:t,Oi===null)var r=!1;else{if(t=Oi,Oi=null,Ch=0,Ve&6)throw Error(X(331));var i=Ve;for(Ve|=4,se=t.current;se!==null;){var s=se,o=s.child;if(se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(se=u;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:ll(8,h,s)}var d=h.child;if(d!==null)d.return=h,se=d;else for(;se!==null;){h=se;var f=h.sibling,p=h.return;if(wb(h),h===u){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var R=b.sibling;b.sibling=null,b=R}while(b!==null)}}se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,se=o;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,se=y;break e}se=s.return}}var _=t.current;for(se=_;se!==null;){o=se;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,se=x;else e:for(o=_;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yd(9,a)}}catch(F){dt(a,a.return,F)}if(a===o){se=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,se=L;break e}se=a.return}}if(Ve=i,as(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(ud,t)}catch{}r=!0}return r}finally{He=n,Yn.transition=e}}return!1}function $w(t,e,n){e=Ko(n,e),e=ub(t,e,1),t=Bi(t,e,1),e=hn(),t!==null&&(su(t,1,e),bn(t,e))}function dt(t,e,n){if(t.tag===3)$w(t,t,n);else for(;e!==null;){if(e.tag===3){$w(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=Ko(n,t),t=cb(e,t,1),e=Bi(e,t,1),t=hn(),e!==null&&(su(e,1,t),bn(e,t));break}}e=e.return}}function $P(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Mt&n)===n&&(bt===4||bt===3&&(Mt&130023424)===Mt&&500>pt()-uy?Ds(t,0):ly|=n),bn(t,e)}function Pb(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=hn();t=Jr(t,e),t!==null&&(su(t,e,n),bn(t,n))}function UP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pb(t,n)}function zP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),Pb(t,n)}var Rb;Rb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,AP(t,e,n);En=!!(t.flags&131072)}else En=!1,it&&e.flags&1048576&&Lx(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$c(t,e),t=e.pendingProps;var i=Ho(e,Zt.current);Oo(e,n),i=ny(null,e,r,t,i,n);var s=ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(s=!0,yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(e),i.updater=gd,e.stateNode=i,i._reactInternals=e,dm(e,r,t,n),e=mm(null,e,r,!0,s,n)):(e.tag=0,it&&s&&Hg(e),an(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($c(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HP(r),t=rr(r,t),i){case 0:e=pm(null,e,r,t,n);break e;case 1:e=Pw(null,e,r,t,n);break e;case 11:e=Cw(null,e,r,t,n);break e;case 14:e=Aw(null,e,r,rr(r.type,t),n);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Pw(t,e,r,i,n);case 3:e:{if(pb(e),t===null)throw Error(X(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ux(t,e),kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ko(Error(X(423)),e),e=Rw(t,e,r,n,i);break e}else if(r!==i){i=Ko(Error(X(424)),e),e=Rw(t,e,r,n,i);break e}else for(Mn=zi(e.stateNode.containerInfo.firstChild),Vn=e,it=!0,or=null,n=jx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===i){e=Zr(t,e,n);break e}an(t,e,r,n)}e=e.child}return e;case 5:return zx(e),t===null&&um(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,im(r,i)?o=null:s!==null&&im(r,s)&&(e.flags|=32),fb(t,e),an(t,e,o,n),e.child;case 6:return t===null&&um(e),null;case 13:return mb(t,e,n);case 4:return Jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):an(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Cw(t,e,r,i,n);case 7:return an(t,e,e.pendingProps,n),e.child;case 8:return an(t,e,e.pendingProps.children,n),e.child;case 12:return an(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Xe(wh,r._currentValue),r._currentValue=o,s!==null)if(dr(s.value,o)){if(s.children===i.children&&!kn.current){e=Zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(X(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}an(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Oo(e,n),i=Xn(i),r=r(i),e.flags|=1,an(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),Aw(t,e,r,i,n);case 15:return hb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),$c(t,e),e.tag=1,xn(r)?(t=!0,yh(e)):t=!1,Oo(e,n),lb(e,r,i),dm(e,r,i,n),mm(null,e,r,!0,t,n);case 19:return gb(t,e,n);case 22:return db(t,e,n)}throw Error(X(156,e.tag))};function Nb(t,e){return sx(t,e)}function BP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new BP(t,e,n,r)}function fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HP(t){if(typeof t=="function")return fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ng)return 11;if(t===Dg)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return Os(n.children,i,s,e);case Rg:o=8,i|=8;break;case Mp:return t=Qn(12,n,e,i|2),t.elementType=Mp,t.lanes=s,t;case Fp:return t=Qn(13,n,e,i),t.elementType=Fp,t.lanes=s,t;case Vp:return t=Qn(19,n,e,i),t.elementType=Vp,t.lanes=s,t;case zk:return _d(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $k:o=10;break e;case Uk:o=9;break e;case Ng:o=11;break e;case Dg:o=14;break e;case Ei:o=16,r=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Os(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function _d(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=zk,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Gf(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function py(t,e,n,r,i,s,o,a,l){return t=new WP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(s),t}function qP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Db(t){if(!t)return es;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var n=t.type;if(xn(n))return Dx(t,n,e)}return e}function Ob(t,e,n,r,i,s,o,a,l){return t=py(n,r,!0,t,i,s,o,a,l),t.context=Db(null),n=t.current,r=hn(),i=Wi(n),s=qr(r,i),s.callback=e??null,Bi(n,s,i),t.current.lanes=i,su(t,i,r),bn(t,r),t}function wd(t,e,n,r){var i=e.current,s=hn(),o=Wi(i);return n=Db(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,o),t!==null&&(ur(t,i,o,s),Fc(t,i,o)),o}function Ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function my(t,e){Uw(t,e),(t=t.alternate)&&Uw(t,e)}function GP(){return null}var Lb=typeof reportError=="function"?reportError:function(t){console.error(t)};function gy(t){this._internalRoot=t}Ed.prototype.render=gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));wd(t,e,null,null)};Ed.prototype.unmount=gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){wd(null,t,null,null)}),e[Xr]=null}};function Ed(t){this._internalRoot=t}Ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=dx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bi.length&&e!==0&&e<bi[n].priority;n++);bi.splice(n,0,t),n===0&&px(t)}};function yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zw(){}function KP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ph(o);s.call(u)}}var o=Ob(e,r,t,0,null,!1,!1,"",zw);return t._reactRootContainer=o,t[Xr]=o.current,Ml(t.nodeType===8?t.parentNode:t),Us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ph(l);a.call(u)}}var l=py(t,0,!1,null,null,!1,!1,"",zw);return t._reactRootContainer=l,t[Xr]=l.current,Ml(t.nodeType===8?t.parentNode:t),Us(function(){wd(e,l,n,r)}),l}function xd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ph(o);a.call(l)}}wd(e,o,t,i)}else o=KP(n,e,t,i,r);return Ph(o)}cx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ha(e.pendingLanes);n!==0&&(Mg(e,n|1),bn(e,pt()),!(Ve&6)&&(Qo=pt()+500,as()))}break;case 13:Us(function(){var r=Jr(t,1);if(r!==null){var i=hn();ur(r,t,1,i)}}),my(t,1)}};Fg=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=hn();ur(e,t,134217728,n)}my(t,134217728)}};hx=function(t){if(t.tag===13){var e=Wi(t),n=Jr(t,e);if(n!==null){var r=hn();ur(n,t,e,r)}my(t,e)}};dx=function(){return He};fx=function(t,e){var n=He;try{return He=t,e()}finally{He=n}};Kp=function(t,e,n){switch(e){case"input":if(Up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fd(r);if(!i)throw Error(X(90));Hk(r),Up(r,i)}}}break;case"textarea":qk(t,n);break;case"select":e=n.value,e!=null&&Po(t,!!n.multiple,e,!1)}};Zk=cy;ex=Us;var QP={usingClientEntryPoint:!1,Events:[au,ko,fd,Xk,Jk,cy]},Va={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YP={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rx(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||GP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{ud=mc.inject(YP),wr=mc}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(e))throw Error(X(200));return qP(t,e,null,n)};Un.createRoot=function(t,e){if(!yy(t))throw Error(X(299));var n=!1,r="",i=Lb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=py(t,1,!1,null,null,n,!1,r,i),t[Xr]=e.current,Ml(t.nodeType===8?t.parentNode:t),new gy(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=rx(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return Us(t)};Un.hydrate=function(t,e,n){if(!kd(e))throw Error(X(200));return xd(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!yy(t))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Lb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ob(e,null,t,1,n??null,i,!1,s,o),t[Xr]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ed(e)};Un.render=function(t,e,n){if(!kd(e))throw Error(X(200));return xd(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!kd(t))throw Error(X(40));return t._reactRootContainer?(Us(function(){xd(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};Un.unstable_batchedUpdates=cy;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kd(n))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return xd(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function Mb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mb)}catch(t){console.error(t)}}Mb(),Mk.exports=Un;var Fb=Mk.exports,Bw=Fb;Op.createRoot=Bw.createRoot,Op.hydrateRoot=Bw.hydrateRoot;const XP={apiKey:"AIzaSyDMge0ZVBwCHb6tzmdIv5dD_BMrtfu_P_I",authDomain:"swim-meet-app.firebaseapp.com",projectId:"swim-meet-app",storageBucket:"swim-meet-app.firebasestorage.app",messagingSenderId:"869827349699",appId:"1:869827349699:web:26b08aeece866760cbe676"},Vb=["Girls 6 & Under 25m Freestyle","Boys 6 & Under 25m Freestyle","Girls 7-8 25m Freestyle","Boys 7-8 25m Freestyle","Girls 9-10 50m Freestyle","Boys 9-10 50m Freestyle","Girls 11-12 50m Freestyle","Boys 11-12 50m Freestyle","Girls 13-14 50m Freestyle","Boys 13-14 50m Freestyle","Girls 15-17 50m Freestyle","Boys 15-17 50m Freestyle","Girls 9-10 100m Freestyle","Boys 9-10 100m Freestyle","Girls 11-12 100m Freestyle","Boys 11-12 100m Freestyle","Girls 13-14 100m Freestyle","Boys 13-14 100m Freestyle","Girls 15-17 100m Freestyle","Boys 15-17 100m Freestyle","Girls 11-12 200m Freestyle","Boys 11-12 200m Freestyle","Girls 13-14 200m Freestyle","Boys 13-14 200m Freestyle","Girls 15-17 200m Freestyle","Boys 15-17 200m Freestyle","Girls 6 & Under 25m Backstroke","Boys 6 & Under 25m Backstroke","Girls 7-8 25m Backstroke","Boys 7-8 25m Backstroke","Girls 9-10 50m Backstroke","Boys 9-10 50m Backstroke","Girls 11-12 50m Backstroke","Boys 11-12 50m Backstroke","Girls 13-14 100m Backstroke","Boys 13-14 100m Backstroke","Girls 15-17 100m Backstroke","Boys 15-17 100m Backstroke","Girls 7-8 25m Breaststroke","Boys 7-8 25m Breaststroke","Girls 9-10 50m Breaststroke","Boys 9-10 50m Breaststroke","Girls 11-12 50m Breaststroke","Boys 11-12 50m Breaststroke","Girls 13-14 100m Breaststroke","Boys 13-14 100m Breaststroke","Girls 15-17 100m Breaststroke","Boys 15-17 100m Breaststroke","Girls 7-8 25m Butterfly","Boys 7-8 25m Butterfly","Girls 9-10 50m Butterfly","Boys 9-10 50m Butterfly","Girls 11-12 50m Butterfly","Boys 11-12 50m Butterfly","Girls 13-14 100m Butterfly","Boys 13-14 100m Butterfly","Girls 15-17 100m Butterfly","Boys 15-17 100m Butterfly","Girls 9-10 100m IM","Boys 9-10 100m IM","Girls 11-12 100m IM","Boys 11-12 100m IM","Girls 13-14 200m IM","Boys 13-14 200m IM","Girls 15-17 200m IM","Boys 15-17 200m IM"];let JP={data:""},ZP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||JP,eR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tR=/\/\*[^]*?\*\/|  +/g,Hw=/\n+/g,Si=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Si(o,s):s+"{"+Si(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Si(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Si.p?Si.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Lr={},jb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+jb(t[n]);return e}return t},nR=(t,e,n,r,i)=>{let s=jb(t),o=Lr[s]||(Lr[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!Lr[o]){let l=s!==t?t:(u=>{let h,d,f=[{}];for(;h=eR.exec(u.replace(tR,""));)h[4]?f.shift():h[3]?(d=h[3].replace(Hw," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(Hw," ").trim();return f[0]})(t);Lr[o]=Si(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Lr.g?Lr.g:null;return n&&(Lr.g=Lr[o]),((l,u,h,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(Lr[o],e,r,a),o},rR=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Si(a,""):a===!1?"":a}return r+i+(o??"")},"");function bd(t){let e=this||{},n=t.call?t(e.p):t;return nR(n.unshift?n.raw?rR(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,ZP(e.target),e.g,e.o,e.k)}let $b,Im,Cm;bd.bind({g:1});let ei=bd.bind({k:1});function iR(t,e,n,r){Si.p=e,$b=t,Im=n,Cm=r}function ls(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Im&&Im()},a),n.o=/ *go\d+/.test(l),a.className=bd.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Cm&&u[0]&&Cm(a),$b(u,a)}return i}}var sR=t=>typeof t=="function",Rh=(t,e)=>sR(t)?t(e):t,oR=(()=>{let t=0;return()=>(++t).toString()})(),Ub=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),aR=20,zb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,aR)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return zb(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Hc=[],As={toasts:[],pausedAt:void 0},Xs=t=>{As=zb(As,t),Hc.forEach(e=>{e(As)})},lR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uR=(t={})=>{let[e,n]=O.useState(As),r=O.useRef(As);O.useEffect(()=>(r.current!==As&&n(As),Hc.push(n),()=>{let s=Hc.indexOf(n);s>-1&&Hc.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||lR[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},cR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||oR()}),uu=t=>(e,n)=>{let r=cR(e,t,n);return Xs({type:2,toast:r}),r.id},$e=(t,e)=>uu("blank")(t,e);$e.error=uu("error");$e.success=uu("success");$e.loading=uu("loading");$e.custom=uu("custom");$e.dismiss=t=>{Xs({type:3,toastId:t})};$e.remove=t=>Xs({type:4,toastId:t});$e.promise=(t,e,n)=>{let r=$e.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Rh(e.success,i):void 0;return s?$e.success(s,{id:r,...n,...n==null?void 0:n.success}):$e.dismiss(r),i}).catch(i=>{let s=e.error?Rh(e.error,i):void 0;s?$e.error(s,{id:r,...n,...n==null?void 0:n.error}):$e.dismiss(r)}),t};var hR=(t,e)=>{Xs({type:1,toast:{id:t,height:e}})},dR=()=>{Xs({type:5,time:Date.now()})},hl=new Map,fR=1e3,pR=(t,e=fR)=>{if(hl.has(t))return;let n=setTimeout(()=>{hl.delete(t),Xs({type:4,toastId:t})},e);hl.set(t,n)},mR=t=>{let{toasts:e,pausedAt:n}=uR(t);O.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&$e.dismiss(a.id);return}return setTimeout(()=>$e.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=O.useCallback(()=>{n&&Xs({type:6,time:Date.now()})},[n]),i=O.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},h=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),d=h.findIndex(p=>p.id===s.id),f=h.filter((p,v)=>v<d&&p.visible).length;return h.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,v)=>p+(v.height||0)+l,0)},[e]);return O.useEffect(()=>{e.forEach(s=>{if(s.dismissed)pR(s.id,s.removeDelay);else{let o=hl.get(s.id);o&&(clearTimeout(o),hl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:hR,startPause:dR,endPause:r,calculateOffset:i}}},gR=ei`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yR=ei`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vR=ei`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_R=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wR=ei`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ER=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wR} 1s linear infinite;
`,kR=ei`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xR=ei`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,bR=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,TR=ls("div")`
  position: absolute;
`,SR=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IR=ei`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CR=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AR=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?O.createElement(CR,null,e):e:n==="blank"?null:O.createElement(SR,null,O.createElement(ER,{...r}),n!=="loading"&&O.createElement(TR,null,n==="error"?O.createElement(_R,{...r}):O.createElement(bR,{...r})))},PR=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,NR="0%{opacity:0;} 100%{opacity:1;}",DR="0%{opacity:1;} 100%{opacity:0;}",OR=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LR=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MR=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Ub()?[NR,DR]:[PR(n),RR(n)];return{animation:e?`${ei(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ei(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},FR=O.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?MR(t.position||e||"top-center",t.visible):{opacity:0},s=O.createElement(AR,{toast:t}),o=O.createElement(LR,{...t.ariaProps},Rh(t.message,t));return O.createElement(OR,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):O.createElement(O.Fragment,null,s,o))});iR(O.createElement);var VR=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=O.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return O.createElement("div",{ref:s,className:e,style:n},i)},jR=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ub()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},$R=bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gc=16,UR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=mR(n);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:gc,left:gc,right:gc,bottom:gc,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let h=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),f=jR(h,d);return O.createElement(VR,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?$R:"",style:f},u.type==="custom"?Rh(u.message,u):i?i(u):O.createElement(FR,{toast:u,position:h}))}))},Bb={exports:{}};(function(t,e){(function(n,r){t.exports=r(O)})(typeof self<"u"?self:Il,function(n){return function(){var r={155:function(y){y.exports=n}},i={};function s(y){var _=i[y];if(_!==void 0)return _.exports;var x=i[y]={exports:{}};return r[y](x,x.exports,s),x.exports}s.d=function(y,_){for(var x in _)s.o(_,x)&&!s.o(y,x)&&Object.defineProperty(y,x,{enumerable:!0,get:_[x]})},s.o=function(y,_){return Object.prototype.hasOwnProperty.call(y,_)},s.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var o={};s.r(o),s.d(o,{useReactToPrint:function(){return R}});var a=s(155);function l({level:y="error",messages:_,suppressErrors:x=!1}){x||(y==="error"?console.error(_):y==="warning"?console.warn(_):console.debug(_))}function u(y,_){if(_||!y){const x=document.getElementById("printWindow");x&&document.body.removeChild(x)}}function h(y){return y instanceof Error?y:new Error("Unknown Error")}function d(y,_){const{documentTitle:x,onAfterPrint:L,onPrintError:F,preserveAfterPrint:M,print:C,suppressErrors:k}=_;setTimeout(()=>{var T,E;if(y.contentWindow){let I=function(){L==null||L(),u(M)};var N=I;if(y.contentWindow.focus(),C)C(y).then(I).catch(S=>{F?F("print",h(S)):l({messages:["An error was thrown by the specified `print` function"],suppressErrors:k})});else{if(y.contentWindow.print){const S=(E=(T=y.contentDocument)===null||T===void 0?void 0:T.title)!==null&&E!==void 0?E:"",G=y.ownerDocument.title;x&&(y.ownerDocument.title=x,y.contentDocument&&(y.contentDocument.title=x)),y.contentWindow.print(),x&&(y.ownerDocument.title=G,y.contentDocument&&(y.contentDocument.title=S))}else l({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:k});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(S=>{var G,H;return((H=(G=navigator.userAgent)!==null&&G!==void 0?G:navigator.vendor)!==null&&H!==void 0?H:"opera"in window&&window.opera).match(S)})?setTimeout(I,500):I()}}else l({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:k})},500)}function f(y){const _=[],x=document.createTreeWalker(y,NodeFilter.SHOW_ELEMENT,null);let L=x.nextNode();for(;L;)_.push(L),L=x.nextNode();return _}function p(y,_,x){const L=f(y),F=f(_);if(L.length===F.length)for(let M=0;M<L.length;M++){const C=L[M],k=F[M],T=C.shadowRoot;if(T!==null){const E=k.attachShadow({mode:T.mode});E.innerHTML=T.innerHTML,p(T,E,x)}}else l({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",y,_],suppressErrors:x})}const v=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(y,_,x,L){var F,M,C,k,T;const{contentNode:E,clonedContentNode:N,clonedImgNodes:I,clonedVideoNodes:S,numResourcesToLoad:G,originalCanvasNodes:H}=x,{bodyClass:ne,fonts:$,ignoreGlobalStyles:j,pageStyle:W,nonce:P,suppressErrors:q,copyShadowRoots:le}=L;y.onload=null;const D=(F=y.contentDocument)!==null&&F!==void 0?F:(M=y.contentWindow)===null||M===void 0?void 0:M.document;if(D){const oe=D.body.appendChild(N);le&&p(E,oe,!!q),$&&(!((C=y.contentDocument)===null||C===void 0)&&C.fonts&&(!((k=y.contentWindow)===null||k===void 0)&&k.FontFace)?$.forEach(ae=>{const ce=new FontFace(ae.family,ae.source,{weight:ae.weight,style:ae.style});y.contentDocument.fonts.add(ce),ce.loaded.then(()=>{_(ce)}).catch(Be=>{_(ce,["Failed loading the font:",ce,"Load error:",h(Be)])})}):($.forEach(ae=>{_(ae)}),l({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:q})));const me=W??v,Y=D.createElement("style");P&&(Y.setAttribute("nonce",P),D.head.setAttribute("nonce",P)),Y.appendChild(D.createTextNode(me)),D.head.appendChild(Y),ne&&D.body.classList.add(...ne.split(" "));const te=D.querySelectorAll("canvas");for(let ae=0;ae<H.length;++ae){const ce=H[ae],Be=te[ae];if(Be===void 0){l({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",ce],suppressErrors:q});continue}const Pe=Be.getContext("2d");Pe&&Pe.drawImage(ce,0,0)}for(let ae=0;ae<I.length;ae++){const ce=I[ae],Be=ce.getAttribute("src");if(Be){const Pe=new Image;Pe.onload=()=>{_(ce)},Pe.onerror=(Je,It,In,$t,nn)=>{_(ce,["Error loading <img>",ce,"Error",nn])},Pe.src=Be}else _(ce,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',ce])}for(let ae=0;ae<S.length;ae++){const ce=S[ae];ce.preload="auto";const Be=ce.getAttribute("poster");if(Be){const Pe=new Image;Pe.onload=()=>{_(ce)},Pe.onerror=(Je,It,In,$t,nn)=>{_(ce,["Error loading video poster",Be,"for video",ce,"Error:",nn])},Pe.src=Be}else ce.readyState>=2?_(ce):ce.src?(ce.onloadeddata=()=>{_(ce)},ce.onerror=(Pe,Je,It,In,$t)=>{_(ce,["Error loading video",ce,"Error",$t])},ce.onstalled=()=>{_(ce,["Loading video stalled, skipping",ce])}):_(ce,["Error loading video, `src` is empty",ce])}const re="select",fe=E.querySelectorAll(re),Ie=D.querySelectorAll(re);for(let ae=0;ae<fe.length;ae++)Ie[ae].value=fe[ae].value;if(!j){const ae=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let ce=0,Be=ae.length;ce<Be;++ce){const Pe=ae[ce];if(Pe.tagName.toLowerCase()==="style"){const Je=D.createElement(Pe.tagName),It=Pe.sheet;if(It){let In="";try{const $t=It.cssRules.length;for(let nn=0;nn<$t;++nn)typeof It.cssRules[nn].cssText=="string"&&(In+=`${It.cssRules[nn].cssText}\r
`)}catch($t){l({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Pe,`Original error: ${h($t).message}`],level:"warning"})}Je.setAttribute("id",`react-to-print-${ce}`),P&&Je.setAttribute("nonce",P),Je.appendChild(D.createTextNode(In)),D.head.appendChild(Je)}}else if(Pe.getAttribute("href"))if(Pe.hasAttribute("disabled"))l({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Pe],level:"warning"}),_(Pe);else{const Je=D.createElement(Pe.tagName);for(let It=0,In=Pe.attributes.length;It<In;++It){const $t=Pe.attributes[It];$t&&Je.setAttribute($t.nodeName,(T=$t.nodeValue)!==null&&T!==void 0?T:"")}Je.onload=()=>{_(Je)},Je.onerror=(It,In,$t,nn,di)=>{_(Je,["Failed to load",Je,"Error:",di])},P&&Je.setAttribute("nonce",P),D.head.appendChild(Je)}else l({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Pe],level:"warning"}),_(Pe)}}}G===0&&d(y,L)}function R({bodyClass:y,contentRef:_,copyShadowRoots:x,documentTitle:L,fonts:F,ignoreGlobalStyles:M,nonce:C,onAfterPrint:k,onBeforePrint:T,onPrintError:E,pageStyle:N,preserveAfterPrint:I,print:S,suppressErrors:G}){return(0,a.useCallback)(H=>{function ne(){const $={bodyClass:y,contentRef:_,copyShadowRoots:x,documentTitle:L,fonts:F,ignoreGlobalStyles:M,nonce:C,onAfterPrint:k,onPrintError:E,pageStyle:N,preserveAfterPrint:I,print:S,suppressErrors:G},j=function(){const q=document.createElement("iframe");return q.width=`${document.documentElement.clientWidth}px`,q.height=`${document.documentElement.clientHeight}px`,q.style.position="absolute",q.style.top=`-${document.documentElement.clientHeight+100}px`,q.style.left=`-${document.documentElement.clientWidth+100}px`,q.id="printWindow",q.srcdoc="<!DOCTYPE html>",q}(),W=function(q,le){const{contentRef:D,fonts:oe,ignoreGlobalStyles:me,suppressErrors:Y}=le,te=function({contentRef:Be,optionalContent:Pe,suppressErrors:Je}){return!Pe||Pe instanceof Event||(Be&&l({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof Pe!="function")?Be?Be.current:void l({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Je}):Pe()}({contentRef:D,optionalContent:q,suppressErrors:Y});if(!te)return;const re=te.cloneNode(!0),fe=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Ie=re.querySelectorAll("img"),ae=re.querySelectorAll("video"),ce=oe?oe.length:0;return{contentNode:te,clonedContentNode:re,clonedImgNodes:Ie,clonedVideoNodes:ae,numResourcesToLoad:(me?0:fe.length)+Ie.length+ae.length+ce,originalCanvasNodes:te.querySelectorAll("canvas")}}(H,$);if(!W)return void l({messages:["There is nothing to print"],suppressErrors:G});const P=function(q,le,D){const{suppressErrors:oe}=q,me=[],Y=[];return function(te,re){me.includes(te)?l({level:"debug",messages:["Tried to mark a resource that has already been handled",te],suppressErrors:oe}):(re?(l({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...re],suppressErrors:oe}),Y.push(te)):me.push(te),me.length+Y.length===le&&d(D,q))}}($,W.numResourcesToLoad,j);(function(q,le,D,oe){q.onload=()=>{b(q,le,D,oe)},document.body.appendChild(q)})(j,P,W,$)}u(I,!0),T?T().then(()=>{ne()}).catch($=>{E==null||E("onBeforePrint",h($))}):ne()},[y,_,x,L,F,M,C,k,T,E,N,I,S,G])}return o}()})})(Bb);var zR=Bb.exports;const Fe=({name:t,type:e="fas",...n})=>w.jsx("i",{className:`${e} fa-${t}`,"aria-hidden":"true",...n}),BR="modulepreload",HR=function(t){return"/swim-meet-app/"+t},Ww={},WR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=HR(l),l in Ww)return;Ww[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":BR,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function qR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(d=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(a=await WR(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/swim-meet-app/sw.js",{scope:"/swim-meet-app/",type:"classic"})).catch(d=>{o==null||o(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),a.register({immediate:e}).then(d=>{s?s("/swim-meet-app/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return l=h(),u}function GR(){return O.useEffect(()=>{const t=qR({onNeedRefresh(){confirm("New content is available, do you want to reload?")&&t(!0)},onOfflineReady(){console.log("App is ready to work offline")}})},[]),null}function Hb({event:t,favorites:e,currentEvent:n,toggleFavorite:r}){const i=(t.heats||[]).some(a=>a.lanes.some(l=>e.has(l.id))),s=n.isTracking&&t.eventNumber===n.eventNumber,o=["bg-surface-light dark:bg-surface-dark rounded-lg mb-3 border border-border-light dark:border-border-dark overflow-hidden transition-all",i?"border-l-4 border-l-secondary":"",s?"border-2 border-primary dark:border-primary-light scale-[1.02]":""].join(" ");return w.jsxs("div",{className:o,children:[w.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark font-bold",children:["Event ",t.eventNumber,": ",t.name]}),w.jsx("div",{className:"p-4 space-y-4",children:t.heats&&t.heats.length>0?t.heats.map(a=>w.jsxs("div",{className:`p-3 rounded-lg ${s&&a.heatNumber===n.heatNumber?"bg-primary/10 dark:bg-primary/20":""}`,children:[w.jsxs("h6",{className:"mb-2 font-semibold text-gray-600 dark:text-gray-400",children:["Heat ",a.heatNumber]}),w.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark -m-3",children:a.lanes.map(l=>w.jsxs("li",{className:"p-3 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsxs("strong",{className:"font-semibold",children:["Lane ",l.lane,":"]})," ",`${l.firstName} ${l.lastName}`," ",w.jsxs("span",{className:"text-gray-500",children:["(",l.team,")"]})]}),w.jsx("button",{className:"p-2 -m-2",onClick:()=>r(l.id),"aria-label":`Toggle favorite for ${l.firstName} ${l.lastName}`,children:w.jsx("div",{className:`${e.has(l.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:w.jsx(Fe,{name:"star",type:e.has(l.id)?"fas":"far"})})})]},l.id))})]},a.heatNumber)):w.jsx("p",{className:"text-center text-gray-500",children:"No heats or swimmers for this event yet."})})]})}function qw({events:t,favorites:e,currentEvent:n,toggleFavorite:r,adminRole:i,updateMeetStatus:s}){if(!t||t.length===0)return w.jsx("p",{className:"text-center text-gray-500",children:"No events found for this meet."});const o=()=>{const u=Math.min(t.length,n.eventNumber+1);s({eventNumber:u,heatNumber:1})},a=()=>{const u=Math.max(1,n.eventNumber-1);s({eventNumber:u,heatNumber:1})},l=()=>{s({isTracking:!n.isTracking})};return w.jsxs("div",{children:[i&&w.jsxs("div",{className:"sticky top-0 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-sm z-10 p-2 rounded-lg border border-border-light dark:border-border-dark mb-4 flex items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:a,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Previous Event",children:w.jsx(Fe,{name:"backward-step"})}),w.jsx("div",{className:"text-center",children:w.jsxs("div",{className:"font-semibold text-sm",children:["Event ",n.eventNumber]})}),w.jsx("button",{onClick:o,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Next Event",children:w.jsx(Fe,{name:"forward-step"})})]}),w.jsx("button",{onClick:l,className:`py-2 px-3 rounded-md font-semibold text-xs flex-shrink-0 ${n.isTracking?"bg-yellow-500 text-black":"bg-blue-600 text-white"}`,children:n.isTracking?"Stop Tracking":"Start Tracking"})]}),n.isTracking&&!i&&w.jsxs("div",{className:"bg-primary text-white p-3 rounded-lg mb-4 shadow-md text-center",children:[w.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Now Swimming"}),w.jsxs("div",{className:"text-lg mt-1 font-semibold",children:["Event #",n.eventNumber]})]}),t.map(u=>w.jsx(Hb,{event:u,favorites:e,currentEvent:n,toggleFavorite:r},u.id))]})}function KR({search:t,setSearch:e,results:n,favorites:r,currentEvent:i,toggleFavorite:s}){return w.jsxs("div",{children:[w.jsx("label",{htmlFor:"event-search-input",className:"sr-only",children:"Search by event name or number"}),w.jsx("input",{id:"event-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search by event name or number...",value:t,onChange:o=>e(o.target.value)}),t&&n.length===0&&w.jsx("p",{className:"text-center text-gray-500",children:"No events found."}),n.map(o=>w.jsx(Hb,{event:o,favorites:r,currentEvent:i,toggleFavorite:s},o.id))]})}function QR({search:t,setSearch:e,results:n,favorites:r,toggleFavorite:i}){return w.jsxs("div",{children:[w.jsx("label",{htmlFor:"swimmer-search-input",className:"sr-only",children:"Search for a swimmer"}),w.jsx("input",{id:"swimmer-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search for a swimmer...",value:t,onChange:s=>e(s.target.value)}),t&&n.length===0&&w.jsx("p",{className:"text-center text-gray-500",children:"No swimmers found."}),w.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md overflow-hidden border border-border-light dark:border-border-dark",children:w.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:n.map(s=>w.jsxs("li",{className:"p-4 flex justify-between items-center",children:[w.jsxs("div",{className:"mr-auto font-bold",children:[s.name," (",s.team,")"]}),w.jsx("button",{className:"p-2 -m-2",onClick:()=>i(s.id),"aria-label":`Toggle favorite for ${s.name}`,children:w.jsx("div",{className:`${r.has(s.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:w.jsx(Fe,{name:"star",type:r.has(s.id)?"fas":"far"})})})]},s.id))})})]})}var YR=Object.defineProperty,XR=(t,e,n)=>e in t?YR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kf=(t,e,n)=>(XR(t,typeof e!="symbol"?e+"":e,n),n);let JR=class{constructor(){Kf(this,"current",this.detect()),Kf(this,"handoffState","pending"),Kf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ls=new JR;function Td(t){var e,n;return Ls.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Sd(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function li(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Sd(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=li();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function vy(){let[t]=O.useState(li);return O.useEffect(()=>()=>t.dispose(),[t]),t}let Xt=(t,e)=>{Ls.isServer?O.useEffect(t,e):O.useLayoutEffect(t,e)};function Js(t){let e=O.useRef(t);return Xt(()=>{e.current=t},[t]),e}let Ke=function(t){let e=Js(t);return Ee.useCallback((...n)=>e.current(...n),[e])},ZR=O.createContext(void 0);function eN(){return O.useContext(ZR)}function Am(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ti(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ti),r}var Nh=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Nh||{}),Li=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Li||{});function Zn(){let t=nN();return O.useCallback(e=>tN({mergeRefs:t,...e}),[t])}function tN({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??rN;let l=Wb(e,t);if(s)return yc(l,n,r,o,a);let u=i??0;if(u&2){let{static:h=!1,...d}=l;if(h)return yc(d,n,r,o,a)}if(u&1){let{unmount:h=!0,...d}=l;return ti(h?0:1,{0(){return null},1(){return yc({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return yc(l,n,r,o,a)}function yc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Qf(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let f=!1,p=[];for(let[v,b]of Object.entries(e))typeof b=="boolean"&&(f=!0),b===!0&&p.push(v.replace(/([A-Z])/g,R=>`-${R.toLowerCase()}`));if(f){d["data-headlessui-state"]=p.join(" ");for(let v of p)d[`data-${v}`]=""}}if(s===O.Fragment&&(Object.keys(Es(l)).length>0||Object.keys(Es(d)).length>0))if(!O.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(Es(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Es(l)).concat(Object.keys(Es(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=h.props,p=f==null?void 0:f.className,v=typeof p=="function"?(...y)=>Am(p(...y),l.className):Am(p,l.className),b=v?{className:v}:{},R=Wb(h.props,Es(Qf(l,["ref"])));for(let y in d)y in R&&delete d[y];return O.cloneElement(h,Object.assign({},R,d,u,{ref:i(iN(h),u.ref)},b))}return O.createElement(s,Object.assign({},Qf(l,["ref"]),s!==O.Fragment&&u,s!==O.Fragment&&d),h)}function nN(){let t=O.useRef([]),e=O.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function rN(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Wb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function Tn(t){var e;return Object.assign(O.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Es(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Qf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function iN(t){return Ee.version.split(".")[0]>="19"?t.props.ref:t.ref}let sN="span";var Dh=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Dh||{});function oN(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Zn()({ourProps:s,theirProps:i,slot:{},defaultTag:sN,name:"Hidden"})}let Pm=Tn(oN);function qb(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Gi(t){return qb(t)&&"tagName"in t}function zs(t){return Gi(t)&&"accessKey"in t}function Mi(t){return Gi(t)&&"tabIndex"in t}function aN(t){return Gi(t)&&"style"in t}function lN(t){return zs(t)&&t.nodeName==="IFRAME"}function uN(t){return zs(t)&&t.nodeName==="INPUT"}let Gb=Symbol();function cN(t,e=!0){return Object.assign(t,{[Gb]:e})}function Pr(...t){let e=O.useRef(t);O.useEffect(()=>{e.current=t},[t]);let n=Ke(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Gb]))?void 0:n}let _y=O.createContext(null);_y.displayName="DescriptionContext";function Kb(){let t=O.useContext(_y);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Kb),e}return t}function hN(){let[t,e]=O.useState([]);return[t.length>0?t.join(" "):void 0,O.useMemo(()=>function(n){let r=Ke(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=O.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return Ee.createElement(_y.Provider,{value:i},n.children)},[e])]}let dN="p";function fN(t,e){let n=O.useId(),r=eN(),{id:i=`headlessui-description-${n}`,...s}=t,o=Kb(),a=Pr(e);Xt(()=>o.register(i),[i,o.register]);let l=r||!1,u=O.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),h={ref:a,...o.props,id:i};return Zn()({ourProps:h,theirProps:s,slot:u,defaultTag:dN,name:o.name||"Description"})}let pN=Tn(fN),Qb=Object.assign(pN,{});var Yb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Yb||{});let mN=O.createContext(()=>{});function gN({value:t,children:e}){return Ee.createElement(mN.Provider,{value:t},e)}let Xb=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var yN=Object.defineProperty,vN=(t,e,n)=>e in t?yN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_N=(t,e,n)=>(vN(t,e+"",n),n),Jb=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Hn=(t,e,n)=>(Jb(t,e,"read from private field"),n?n.call(t):e.get(t)),Yf=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Gw=(t,e,n,r)=>(Jb(t,e,"write to private field"),e.set(t,n),n),mr,qa,Ga;let wN=class{constructor(e){Yf(this,mr,{}),Yf(this,qa,new Xb(()=>new Set)),Yf(this,Ga,new Set),_N(this,"disposables",li()),Gw(this,mr,e)}dispose(){this.disposables.dispose()}get state(){return Hn(this,mr)}subscribe(e,n){let r={selector:e,callback:n,current:e(Hn(this,mr))};return Hn(this,Ga).add(r),this.disposables.add(()=>{Hn(this,Ga).delete(r)})}on(e,n){return Hn(this,qa).get(e).add(n),this.disposables.add(()=>{Hn(this,qa).get(e).delete(n)})}send(e){let n=this.reduce(Hn(this,mr),e);if(n!==Hn(this,mr)){Gw(this,mr,n);for(let r of Hn(this,Ga)){let i=r.selector(Hn(this,mr));Zb(r.current,i)||(r.current=i,r.callback(i))}for(let r of Hn(this,qa).get(e.type))r(Hn(this,mr),e)}}};mr=new WeakMap,qa=new WeakMap,Ga=new WeakMap;function Zb(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Xf(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Xf(t.entries(),e.entries()):Kw(t)&&Kw(e)?Xf(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Xf(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Kw(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var EN=Object.defineProperty,kN=(t,e,n)=>e in t?EN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qw=(t,e,n)=>(kN(t,typeof e!="symbol"?e+"":e,n),n),xN=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(xN||{});let bN={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},TN=class eT extends wN{constructor(){super(...arguments),Qw(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Qw(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new eT({stack:[]})}reduce(e,n){return ti(n.type,bN,e,n)}};const tT=new Xb(()=>TN.new());var nT={exports:{}},rT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=O;function SN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IN=typeof Object.is=="function"?Object.is:SN,CN=cu.useSyncExternalStore,AN=cu.useRef,PN=cu.useEffect,RN=cu.useMemo,NN=cu.useDebugValue;rT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=AN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=RN(function(){function l(p){if(!u){if(u=!0,h=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return d=v}return d=p}if(v=d,IN(h,p))return v;var b=r(p);return i!==void 0&&i(v,b)?(h=p,v):(h=p,d=b)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=CN(t,s[0],s[1]);return PN(function(){o.hasValue=!0,o.value=a},[a]),NN(a),a};nT.exports=rT;var DN=nT.exports;function iT(t,e,n=Zb){return DN.useSyncExternalStoreWithSelector(Ke(r=>t.subscribe(ON,r)),Ke(()=>t.state),Ke(()=>t.state),Ke(e),n)}function ON(t){return t}function hu(t,e){let n=O.useId(),r=tT.get(e),[i,s]=iT(r,O.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Xt(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Rm=new Map,dl=new Map;function Yw(t){var e;let n=(e=dl.get(t))!=null?e:0;return dl.set(t,n+1),n!==0?()=>Xw(t):(Rm.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>Xw(t))}function Xw(t){var e;let n=(e=dl.get(t))!=null?e:1;if(n===1?dl.delete(t):dl.set(t,n-1),n!==1)return;let r=Rm.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Rm.delete(t))}function LN(t,{allowed:e,disallowed:n}={}){let r=hu(t,"inert-others");Xt(()=>{var i,s;if(!r)return;let o=li();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(Yw(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=Td(l);if(!u)continue;let h=l.parentElement;for(;h&&h!==u.body;){for(let d of h.children)a.some(f=>d.contains(f))||o.add(Yw(d));h=h.parentElement}}return o.dispose},[r,e,n])}function MN(t,e,n){let r=Js(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});O.useEffect(()=>{if(!t)return;let i=e===null?null:zs(e)?e:e.current;if(!i)return;let s=li();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Oh=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),FN=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Vr=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Vr||{}),Nm=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Nm||{}),VN=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(VN||{});function jN(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Oh)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function $N(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(FN)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var sT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(sT||{});function UN(t,e=0){var n;return t===((n=Td(t))==null?void 0:n.body)?!1:ti(e,{0(){return t.matches(Oh)},1(){let r=t;for(;r!==null;){if(r.matches(Oh))return!0;r=r.parentElement}return!1}})}var zN=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(zN||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Gr(t){t==null||t.focus({preventScroll:!0})}let BN=["textarea","input"].join(",");function HN(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,BN))!=null?n:!1}function WN(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fl(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?WN(t):t:e&64?$N(t):jN(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===p:v===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,d=o.length,f;do{if(h>=d||h+d<=0)return 0;let p=l+h;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=o[p],f==null||f.focus(u),h+=a}while(f!==s.activeElement);return e&6&&HN(f)&&f.select(),2}function oT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function qN(){return/Android/gi.test(window.navigator.userAgent)}function Jw(){return oT()||qN()}function vc(t,e,n,r){let i=Js(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function aT(t,e,n,r){let i=Js(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Zw=30;function GN(t,e,n){let r=Js(n),i=O.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of h)if(d!==null&&(d.contains(u)||a.composed&&a.composedPath().includes(d)))return;return!UN(u,sT.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,e]),s=O.useRef(null);vc(t,"pointerdown",a=>{var l,u;Jw()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),vc(t,"pointerup",a=>{if(Jw()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=O.useRef({x:0,y:0});vc(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),vc(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=Zw||Math.abs(l.y-o.current.y)>=Zw))return i(a,()=>Mi(a.target)?a.target:null)},!0),aT(t,"blur",a=>i(a,()=>lN(window.document.activeElement)?window.document.activeElement:null),!0)}function Id(...t){return O.useMemo(()=>Td(...t),[...t])}function lT(t,e,n,r){let i=Js(n);O.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function KN(t){return O.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function QN(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function YN(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function XN(){return oT()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=li();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Mi(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),h=t.querySelector(u);Mi(h)&&!r(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(Mi(a.target)&&aN(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(Mi(a.target)){if(uN(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function JN(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function ZN(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ps=QN(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:li(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:ZN(n)},i=[XN(),YN(),JN()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ps.subscribe(()=>{let t=Ps.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Ps.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ps.dispatch("TEARDOWN",n)}});function eD(t,e,n=()=>({containers:[]})){let r=KN(Ps),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Xt(()=>{if(!(!e||!t))return Ps.dispatch("PUSH",e,n),()=>Ps.dispatch("POP",e,n)},[t,e]),s}function tD(t,e,n=()=>[document.body]){let r=hu(t,"scroll-lock");eD(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function nD(t=0){let[e,n]=O.useState(t),r=O.useCallback(l=>n(l),[e]),i=O.useCallback(l=>n(u=>u|l),[e]),s=O.useCallback(l=>(e&l)===l,[e]),o=O.useCallback(l=>n(u=>u&~l),[n]),a=O.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var rD={},e0,t0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((e0=process==null?void 0:rD)==null?void 0:e0.NODE_ENV)==="test"&&typeof((t0=Element==null?void 0:Element.prototype)==null?void 0:t0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var iD=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(iD||{});function sD(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function oD(t,e,n,r){let[i,s]=O.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=nD(t&&i?3:0),u=O.useRef(!1),h=O.useRef(!1),d=vy();return Xt(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),aD(e,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){h.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function aD(t,{prepare:e,run:n,done:r,inFlight:i}){let s=li();return uD(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(lD(t,r))})}),s.dispose}function lD(t,e){var n,r;let i=li();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function uD(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function wy(t,e){let n=O.useRef([]),r=Ke(t);O.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}let Cd=O.createContext(null);Cd.displayName="OpenClosedContext";var ar=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ar||{});function Ad(){return O.useContext(Cd)}function cD({value:t,children:e}){return Ee.createElement(Cd.Provider,{value:t},e)}function hD({children:t}){return Ee.createElement(Cd.Provider,{value:null},t)}function dD(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ii=[];dD(()=>{function t(e){if(!Mi(e.target)||e.target===document.body||Ii[0]===e.target)return;let n=e.target;n=n.closest(Oh),Ii.unshift(n??e.target),Ii=Ii.filter(r=>r!=null&&r.isConnected),Ii.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function uT(t){let e=Ke(t),n=O.useRef(!1);O.useEffect(()=>(n.current=!1,()=>{n.current=!0,Sd(()=>{n.current&&e()})}),[e])}function fD(){let t=typeof document>"u";return"useSyncExternalStore"in F_?(e=>e.useSyncExternalStore)(F_)(()=>()=>{},()=>!1,()=>!t):!1}function du(){let t=fD(),[e,n]=O.useState(Ls.isHandoffComplete);return e&&Ls.isHandoffComplete===!1&&n(!1),O.useEffect(()=>{e!==!0&&n(!0)},[e]),O.useEffect(()=>Ls.handoff(),[]),t?!1:e}let cT=O.createContext(!1);function pD(){return O.useContext(cT)}function n0(t){return Ee.createElement(cT.Provider,{value:t.force},t.children)}function mD(t){let e=pD(),n=O.useContext(dT),[r,i]=O.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Ls.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return O.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),O.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let hT=O.Fragment,gD=Tn(function(t,e){let{ownerDocument:n=null,...r}=t,i=O.useRef(null),s=Pr(cN(p=>{i.current=p}),e),o=Id(i),a=n??o,l=mD(a),[u]=O.useState(()=>{var p;return Ls.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),h=O.useContext(Dm),d=du();Xt(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),Xt(()=>{if(u&&h)return h.register(u)},[h,u]),uT(()=>{var p;!l||!u||(qb(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let f=Zn();return d?!l||!u?null:Fb.createPortal(f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:hT,name:"Portal"}),u):null});function yD(t,e){let n=Pr(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Zn();return r?Ee.createElement(gD,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:hT,name:"Portal"})}let vD=O.Fragment,dT=O.createContext(null);function _D(t,e){let{target:n,...r}=t,i={ref:Pr(e)},s=Zn();return Ee.createElement(dT.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:vD,name:"Popover.Group"}))}let Dm=O.createContext(null);function wD(){let t=O.useContext(Dm),e=O.useRef([]),n=Ke(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Ke(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=O.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,O.useMemo(()=>function({children:s}){return Ee.createElement(Dm.Provider,{value:i},s)},[i])]}let ED=Tn(yD),fT=Tn(_D),kD=Object.assign(ED,{Group:fT});function xD(t,e=typeof document<"u"?document.defaultView:null,n){let r=hu(t,"escape");lT(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Yb.Escape&&n(i))})}function bD(){var t;let[e]=O.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=O.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Xt(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function TD({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Id(n),i=Ke(()=>{var s,o;let a=[];for(let l of t)l!==null&&(Gi(l)?a.push(l):"current"in l&&Gi(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Gi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:Ke(s=>i().some(o=>o.contains(s)))}}let pT=O.createContext(null);function r0({children:t,node:e}){let[n,r]=O.useState(null),i=mT(e??n);return Ee.createElement(pT.Provider,{value:i},t,i===null&&Ee.createElement(Pm,{features:Dh.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Td(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Gi(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function mT(t=null){var e;return(e=O.useContext(pT))!=null?e:t}function Ey(){let t=O.useRef(!1);return Xt(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Ka=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Ka||{});function SD(){let t=O.useRef(0);return aT(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function gT(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Gi(n.current)&&e.add(n.current);return e}let ID="div";var bs=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(bs||{});function CD(t,e){let n=O.useRef(null),r=Pr(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;du()||(a=0);let u=Id(n);ND(a,{ownerDocument:u});let h=DD(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});OD(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:h});let d=SD(),f=Ke(_=>{if(!zs(n.current))return;let x=n.current;(L=>L())(()=>{ti(d.current,{[Ka.Forwards]:()=>{fl(x,Vr.First,{skipElements:[_.relatedTarget,s]})},[Ka.Backwards]:()=>{fl(x,Vr.Last,{skipElements:[_.relatedTarget,s]})}})})}),p=hu(!!(a&2),"focus-trap#tab-lock"),v=vy(),b=O.useRef(!1),R={ref:r,onKeyDown(_){_.key=="Tab"&&(b.current=!0,v.requestAnimationFrame(()=>{b.current=!1}))},onBlur(_){if(!(a&4))return;let x=gT(o);zs(n.current)&&x.add(n.current);let L=_.relatedTarget;Mi(L)&&L.dataset.headlessuiFocusGuard!=="true"&&(yT(x,L)||(b.current?fl(n.current,ti(d.current,{[Ka.Forwards]:()=>Vr.Next,[Ka.Backwards]:()=>Vr.Previous})|Vr.WrapAround,{relativeTo:_.target}):Mi(_.target)&&Gr(_.target)))}},y=Zn();return Ee.createElement(Ee.Fragment,null,p&&Ee.createElement(Pm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Dh.Focusable}),y({ourProps:R,theirProps:l,defaultTag:ID,name:"FocusTrap"}),p&&Ee.createElement(Pm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Dh.Focusable}))}let AD=Tn(CD),PD=Object.assign(AD,{features:bs});function RD(t=!0){let e=O.useRef(Ii.slice());return wy(([n],[r])=>{r===!0&&n===!1&&Sd(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Ii.slice())},[t,Ii,e]),Ke(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ND(t,{ownerDocument:e}){let n=!!(t&8),r=RD(n);wy(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Gr(r())},[n]),uT(()=>{n&&Gr(r())})}function DD(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=O.useRef(null),o=hu(!!(t&1),"focus-trap#initial-focus"),a=Ey();return wy(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Gr(i.current);return}let l=n.current;l&&Sd(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)Gr(r.current);else{if(t&16){if(fl(l,Vr.First|Vr.AutoFocus)!==Nm.Error)return}else if(fl(l,Vr.First)!==Nm.Error)return;if(i!=null&&i.current&&(Gr(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function OD(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Ey(),o=!!(t&4);lT(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=gT(r);zs(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let h=a.target;zs(h)?yT(l,h)?(i.current=h,Gr(h)):(a.preventDefault(),a.stopPropagation(),Gr(u)):Gr(i.current)},!0)}function yT(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function vT(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:wT)!==O.Fragment||Ee.Children.count(t.children)===1}let Pd=O.createContext(null);Pd.displayName="TransitionContext";var LD=(t=>(t.Visible="visible",t.Hidden="hidden",t))(LD||{});function MD(){let t=O.useContext(Pd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function FD(){let t=O.useContext(Rd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Rd=O.createContext(null);Rd.displayName="NestingContext";function Nd(t){return"children"in t?Nd(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function _T(t,e){let n=Js(t),r=O.useRef([]),i=Ey(),s=vy(),o=Ke((p,v=Li.Hidden)=>{let b=r.current.findIndex(({el:R})=>R===p);b!==-1&&(ti(v,{[Li.Unmount](){r.current.splice(b,1)},[Li.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var R;!Nd(r)&&i.current&&((R=n.current)==null||R.call(n))}))}),a=Ke(p=>{let v=r.current.find(({el:b})=>b===p);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Li.Unmount)}),l=O.useRef([]),u=O.useRef(Promise.resolve()),h=O.useRef({enter:[],leave:[]}),d=Ke((p,v,b)=>{l.current.splice(0),e&&(e.chains.current[v]=e.chains.current[v].filter(([R])=>R!==p)),e==null||e.chains.current[v].push([p,new Promise(R=>{l.current.push(R)})]),e==null||e.chains.current[v].push([p,new Promise(R=>{Promise.all(h.current[v].map(([y,_])=>_)).then(()=>R())})]),v==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(v)):b(v)}),f=Ke((p,v,b)=>{Promise.all(h.current[v].splice(0).map(([R,y])=>y)).then(()=>{var R;(R=l.current.shift())==null||R()}).then(()=>b(v))});return O.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:f,wait:u,chains:h}),[a,o,r,d,f,h,u])}let wT=O.Fragment,ET=Nh.RenderStrategy;function VD(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:h,enterTo:d,entered:f,leave:p,leaveFrom:v,leaveTo:b,...R}=t,[y,_]=O.useState(null),x=O.useRef(null),L=vT(t),F=Pr(...L?[x,e,_]:e===null?[]:[e]),M=(n=R.unmount)==null||n?Li.Unmount:Li.Hidden,{show:C,appear:k,initial:T}=MD(),[E,N]=O.useState(C?"visible":"hidden"),I=FD(),{register:S,unregister:G}=I;Xt(()=>S(x),[S,x]),Xt(()=>{if(M===Li.Hidden&&x.current){if(C&&E!=="visible"){N("visible");return}return ti(E,{hidden:()=>G(x),visible:()=>S(x)})}},[E,x,S,G,C,M]);let H=du();Xt(()=>{if(L&&H&&E==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,E,H,L]);let ne=T&&!k,$=k&&C&&T,j=O.useRef(!1),W=_T(()=>{j.current||(N("hidden"),G(x))},I),P=Ke(te=>{j.current=!0;let re=te?"enter":"leave";W.onStart(x,re,fe=>{fe==="enter"?s==null||s():fe==="leave"&&(a==null||a())})}),q=Ke(te=>{let re=te?"enter":"leave";j.current=!1,W.onStop(x,re,fe=>{fe==="enter"?o==null||o():fe==="leave"&&(l==null||l())}),re==="leave"&&!Nd(W)&&(N("hidden"),G(x))});O.useEffect(()=>{L&&i||(P(C),q(C))},[C,L,i]);let le=!(!i||!L||!H||ne),[,D]=oD(le,y,C,{start:P,end:q}),oe=Es({ref:F,className:((r=Am(R.className,$&&u,$&&h,D.enter&&u,D.enter&&D.closed&&h,D.enter&&!D.closed&&d,D.leave&&p,D.leave&&!D.closed&&v,D.leave&&D.closed&&b,!D.transition&&C&&f))==null?void 0:r.trim())||void 0,...sD(D)}),me=0;E==="visible"&&(me|=ar.Open),E==="hidden"&&(me|=ar.Closed),C&&E==="hidden"&&(me|=ar.Opening),!C&&E==="visible"&&(me|=ar.Closing);let Y=Zn();return Ee.createElement(Rd.Provider,{value:W},Ee.createElement(cD,{value:me},Y({ourProps:oe,theirProps:R,defaultTag:wT,features:ET,visible:E==="visible",name:"Transition.Child"})))}function jD(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=O.useRef(null),a=vT(t),l=Pr(...a?[o,e]:e===null?[]:[e]);du();let u=Ad();if(n===void 0&&u!==null&&(n=(u&ar.Open)===ar.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,d]=O.useState(n?"visible":"hidden"),f=_T(()=>{n||d("hidden")}),[p,v]=O.useState(!0),b=O.useRef([n]);Xt(()=>{p!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),v(!1))},[b,n]);let R=O.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);Xt(()=>{n?d("visible"):!Nd(f)&&o.current!==null&&d("hidden")},[n,f]);let y={unmount:i},_=Ke(()=>{var F;p&&v(!1),(F=t.beforeEnter)==null||F.call(t)}),x=Ke(()=>{var F;p&&v(!1),(F=t.beforeLeave)==null||F.call(t)}),L=Zn();return Ee.createElement(Rd.Provider,{value:f},Ee.createElement(Pd.Provider,{value:R},L({ourProps:{...y,as:O.Fragment,children:Ee.createElement(kT,{ref:l,...y,...s,beforeEnter:_,beforeLeave:x})},theirProps:{},defaultTag:O.Fragment,features:ET,visible:h==="visible",name:"Transition"})))}function $D(t,e){let n=O.useContext(Pd)!==null,r=Ad()!==null;return Ee.createElement(Ee.Fragment,null,!n&&r?Ee.createElement(Om,{ref:e,...t}):Ee.createElement(kT,{ref:e,...t}))}let Om=Tn(jD),kT=Tn(VD),Wl=Tn($D),xT=Object.assign(Om,{Child:Wl,Root:Om});var UD=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(UD||{}),zD=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(zD||{});let BD={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},ky=O.createContext(null);ky.displayName="DialogContext";function Dd(t){let e=O.useContext(ky);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dd),n}return e}function HD(t,e){return ti(e.type,BD,t,e)}let i0=Tn(function(t,e){let n=O.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:h=!1,...d}=t,f=O.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Ad();i===void 0&&p!==null&&(i=(p&ar.Open)===ar.Open);let v=O.useRef(null),b=Pr(v,e),R=Id(v),y=i?0:1,[_,x]=O.useReducer(HD,{titleId:null,descriptionId:null,panelRef:O.createRef()}),L=Ke(()=>s(!1)),F=Ke(D=>x({type:0,id:D})),M=du()?y===0:!1,[C,k]=wD(),T={get current(){var D;return(D=_.panelRef.current)!=null?D:v.current}},E=mT(),{resolveContainers:N}=TD({mainTreeNode:E,portals:C,defaultContainers:[T]}),I=p!==null?(p&ar.Closing)===ar.Closing:!1;LN(u||I?!1:M,{allowed:Ke(()=>{var D,oe;return[(oe=(D=v.current)==null?void 0:D.closest("[data-headlessui-portal]"))!=null?oe:null]}),disallowed:Ke(()=>{var D;return[(D=E==null?void 0:E.closest("body > *:not(#headlessui-portal-root)"))!=null?D:null]})});let S=tT.get(null);Xt(()=>{if(M)return S.actions.push(r),()=>S.actions.pop(r)},[S,r,M]);let G=iT(S,O.useCallback(D=>S.selectors.isTop(D,r),[S,r]));GN(G,N,D=>{D.preventDefault(),L()}),xD(G,R==null?void 0:R.defaultView,D=>{D.preventDefault(),D.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),L()}),tD(u||I?!1:M,R,N),MN(M,v,L);let[H,ne]=hN(),$=O.useMemo(()=>[{dialogState:y,close:L,setTitleId:F,unmount:h},_],[y,_,L,F,h]),j=O.useMemo(()=>({open:y===0}),[y]),W={ref:b,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:y===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":H,unmount:h},P=!bD(),q=bs.None;M&&!u&&(q|=bs.RestoreFocus,q|=bs.TabLock,l&&(q|=bs.AutoFocus),P&&(q|=bs.InitialFocus));let le=Zn();return Ee.createElement(hD,null,Ee.createElement(n0,{force:!0},Ee.createElement(kD,null,Ee.createElement(ky.Provider,{value:$},Ee.createElement(fT,{target:v},Ee.createElement(n0,{force:!1},Ee.createElement(ne,{slot:j},Ee.createElement(k,null,Ee.createElement(PD,{initialFocus:o,initialFocusFallback:v,containers:N,features:q},Ee.createElement(gN,{value:L},le({ourProps:W,theirProps:d,slot:j,defaultTag:WD,features:qD,visible:y===0,name:"Dialog"})))))))))))}),WD="div",qD=Nh.RenderStrategy|Nh.Static;function GD(t,e){let{transition:n=!1,open:r,...i}=t,s=Ad(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?Ee.createElement(r0,null,Ee.createElement(xT,{show:r,transition:n,unmount:i.unmount},Ee.createElement(i0,{ref:e,...i}))):Ee.createElement(r0,null,Ee.createElement(i0,{ref:e,open:r,...i}))}let KD="div";function QD(t,e){let n=O.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=Dd("Dialog.Panel"),u=Pr(e,l.panelRef),h=O.useMemo(()=>({open:o===0}),[o]),d=Ke(R=>{R.stopPropagation()}),f={ref:u,id:r,onClick:d},p=i?Wl:O.Fragment,v=i?{unmount:a}:{},b=Zn();return Ee.createElement(p,{...v},b({ourProps:f,theirProps:s,slot:h,defaultTag:KD,name:"Dialog.Panel"}))}let YD="div";function XD(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=Dd("Dialog.Backdrop"),o=O.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0},l=n?Wl:O.Fragment,u=n?{unmount:s}:{},h=Zn();return Ee.createElement(l,{...u},h({ourProps:a,theirProps:r,slot:o,defaultTag:YD,name:"Dialog.Backdrop"}))}let JD="h2";function ZD(t,e){let n=O.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Dd("Dialog.Title"),a=Pr(e);O.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=O.useMemo(()=>({open:s===0}),[s]),u={ref:a,id:r};return Zn()({ourProps:u,theirProps:i,slot:l,defaultTag:JD,name:"Dialog.Title"})}let e2=Tn(GD),bT=Tn(QD);Tn(XD);let TT=Tn(ZD),t2=Object.assign(e2,{Panel:bT,Title:TT,Description:Qb});function n2({isOpen:t,onClose:e,title:n,children:r,footer:i}){return w.jsx(xT,{appear:!0,show:t,as:O.Fragment,children:w.jsxs(t2,{as:"div",className:"relative z-50",onClose:e,children:[w.jsx(Wl,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50","aria-hidden":"true"})}),w.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:w.jsx(Wl,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:w.jsxs(bT,{className:"bg-surface-light dark:bg-surface-dark w-full max-w-md m-4 p-6 rounded-lg shadow-xl",role:"document",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx(TT,{as:"h2",className:"text-xl font-bold text-text-dark dark:text-text-light",children:n}),w.jsx("button",{onClick:e,"aria-label":"Close modal",className:"text-gray-500 hover:text-gray-800 dark:hover:text-gray-200",children:""})]}),w.jsx(Qb,{as:"div",className:"mb-6 text-text-dark dark:text-text-light",children:r}),w.jsx("div",{className:"flex justify-end gap-3",children:i})]})})})]})})}const Tt=({children:t,onClick:e,type:n="button",variant:r="primary",className:i="",...s})=>{const o="w-full text-center px-4 py-2 rounded-md font-semibold text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary text-white hover:bg-green-700",secondary:"bg-gray-500 dark:bg-gray-600 text-white hover:bg-gray-600 dark:hover:bg-gray-500",outline:"border border-current text-primary hover:bg-primary/10 dark:hover:bg-primary/20","outline-success":"border border-green-500 text-green-600 hover:bg-green-500/10"};return w.jsx("button",{type:n,onClick:e,className:`${o} ${a[r]} ${i}`,...s,children:t})},r2=()=>{const[t,e]=O.useState(null),n=O.useCallback(a=>new Promise(l=>{e({...a,resolve:l})}),[]),r=()=>{e(null)},i=()=>{t==null||t.resolve(!0),r()},s=()=>{t==null||t.resolve(!1),r()};return{confirm:n,ConfirmationModal:()=>w.jsx(n2,{isOpen:t!==null,onClose:s,title:(t==null?void 0:t.title)||"Confirmation",footer:w.jsxs(w.Fragment,{children:[w.jsx(Tt,{onClick:s,variant:"secondary",children:(t==null?void 0:t.cancelText)||"Cancel"}),w.jsx(Tt,{onClick:i,variant:"primary",children:(t==null?void 0:t.confirmText)||"Confirm"})]}),children:t==null?void 0:t.content})}};var s0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},i2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ST(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new s2;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(t){const e=ST(t);return IT.encodeByteArray(e,!0)},Lh=function(t){return o2(t).replace(/\./g,"")},CT=function(t){try{return IT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=()=>a2().__FIREBASE_DEFAULTS__,u2=()=>{if(typeof process>"u"||typeof s0>"u")return;const t=s0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CT(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return l2()||u2()||c2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AT=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},h2=t=>{const e=AT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PT=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},RT=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lh(JSON.stringify(n)),Lh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function m2(){var t;const e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _2(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w2(){return!m2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x2,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?b2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ui(i,a,r)}}function b2(t,e){return t.replace(T2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T2=/\{\$([^}]+)}/g;function S2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(o0(s)&&o0(o)){if(!Mh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function I2(t,e){const n=new C2(t,e);return n.subscribe.bind(n)}class C2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jf),i.error===void 0&&(i.error=Jf),i.complete===void 0&&(i.complete=Jf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new d2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N2(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(t){return t===ks?void 0:t}function N2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const O2={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},L2=Oe.INFO,M2={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},F2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=M2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xy{constructor(e){this.name=e,this._logLevel=L2,this._logHandler=F2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?O2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const V2=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function j2(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $2(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,Lm=new WeakMap,DT=new WeakMap,Zf=new WeakMap,by=new WeakMap;function U2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NT.set(n,t)}).catch(()=>{}),by.set(e,t),e}function z2(t){if(Lm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lm.set(t,e)}let Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B2(t){Mm=t(Mm)}function H2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return DT.set(r,e.sort?e.sort():[e]),Ki(r)}:$2().includes(t)?function(...e){return t.apply(ep(this),e),Ki(NT.get(this))}:function(...e){return Ki(t.apply(ep(this),e))}}function W2(t){return typeof t=="function"?H2(t):(t instanceof IDBTransaction&&z2(t),V2(t,j2())?new Proxy(t,Mm):t)}function Ki(t){if(t instanceof IDBRequest)return U2(t);if(Zf.has(t))return Zf.get(t);const e=W2(t);return e!==t&&(Zf.set(t,e),by.set(e,t)),e}const ep=t=>by.get(t);function q2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ki(o.result),l.oldVersion,l.newVersion,Ki(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const G2=["get","getKey","getAll","getAllKeys","count"],K2=["put","add","delete","clear"],tp=new Map;function u0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tp.set(e,s),s}B2(t=>({...t,get:(e,n,r)=>u0(e,n)||t.get(e,n,r),has:(e,n)=>!!u0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",c0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new xy("@firebase/app"),X2="@firebase/app-compat",J2="@firebase/analytics-compat",Z2="@firebase/analytics",eO="@firebase/app-check-compat",tO="@firebase/app-check",nO="@firebase/auth",rO="@firebase/auth-compat",iO="@firebase/database",sO="@firebase/data-connect",oO="@firebase/database-compat",aO="@firebase/functions",lO="@firebase/functions-compat",uO="@firebase/installations",cO="@firebase/installations-compat",hO="@firebase/messaging",dO="@firebase/messaging-compat",fO="@firebase/performance",pO="@firebase/performance-compat",mO="@firebase/remote-config",gO="@firebase/remote-config-compat",yO="@firebase/storage",vO="@firebase/storage-compat",_O="@firebase/firestore",wO="@firebase/vertexai-preview",EO="@firebase/firestore-compat",kO="firebase",xO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",bO={[Fm]:"fire-core",[X2]:"fire-core-compat",[Z2]:"fire-analytics",[J2]:"fire-analytics-compat",[tO]:"fire-app-check",[eO]:"fire-app-check-compat",[nO]:"fire-auth",[rO]:"fire-auth-compat",[iO]:"fire-rtdb",[sO]:"fire-data-connect",[oO]:"fire-rtdb-compat",[aO]:"fire-fn",[lO]:"fire-fn-compat",[uO]:"fire-iid",[cO]:"fire-iid-compat",[hO]:"fire-fcm",[dO]:"fire-fcm-compat",[fO]:"fire-perf",[pO]:"fire-perf-compat",[mO]:"fire-rc",[gO]:"fire-rc-compat",[yO]:"fire-gcs",[vO]:"fire-gcs-compat",[_O]:"fire-fst",[EO]:"fire-fst-compat",[wO]:"fire-vertex","fire-js":"fire-js",[kO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,TO=new Map,jm=new Map;function h0(t,e){try{t.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(jm.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of Fh.values())h0(n,t);for(const n of TO.values())h0(n,t);return!0}function Ty(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new fu("app","Firebase",SO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=xO;function OT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=PT()),!n)throw Qi.create("no-options");const s=Fh.get(i);if(s){if(Mh(n,s.options)&&Mh(r,s.config))return s;throw Qi.create("duplicate-app",{appName:i})}const o=new D2(i);for(const l of jm.values())o.addComponent(l);const a=new IO(n,r,o);return Fh.set(i,a),a}function LT(t=Vm){const e=Fh.get(t);if(!e&&t===Vm&&PT())return OT();if(!e)throw Qi.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let i=(r=bO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(a.join(" "));return}Yo(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="firebase-heartbeat-database",AO=1,ql="firebase-heartbeat-store";let np=null;function MT(){return np||(np=q2(CO,AO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),np}async function PO(t){try{const n=(await MT()).transaction(ql),r=await n.objectStore(ql).get(FT(t));return await n.done,r}catch(e){if(e instanceof ui)ni.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function d0(t,e){try{const r=(await MT()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,FT(t)),await r.done}catch(n){if(n instanceof ui)ni.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(r.message)}}}function FT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=1024,NO=30*24*60*60*1e3;class DO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=NO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:i}=OO(this._heartbeatsCache.heartbeats),s=Lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ni.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function OO(t,e=RO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),p0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return d0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p0(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){Yo(new Bs("platform-logger",e=>new Q2(e),"PRIVATE")),Yo(new Bs("heartbeat",e=>new DO(e),"PRIVATE")),Yi(Fm,c0,t),Yi(Fm,c0,"esm2017"),Yi("fire-js","")}MO("");var FO="firebase",VO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(FO,VO,"app");function Sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jO=VT,jT=new fu("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new xy("@firebase/auth");function $O(t,...e){Vh.logLevel<=Oe.WARN&&Vh.warn(`Auth (${ca}): ${t}`,...e)}function Wc(t,...e){Vh.logLevel<=Oe.ERROR&&Vh.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw Cy(t,...e)}function cr(t,...e){return Cy(t,...e)}function Iy(t,e,n){const r=Object.assign(Object.assign({},jO()),{[e]:n});return new fu("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return Iy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(t,"argument-error"),Iy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jT.create(t,...e)}function _e(t,e,...n){if(!t)throw Cy(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wc(e),new Error(e)}function ri(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zO(){return m0()==="http:"||m0()==="https:"}function m0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zO()||y2()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=p2()||v2()}get(){return BO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new mu(3e4,6e4);function Ld(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ha(t,e,n,r,i={}){return UT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=pu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return g2()||(u.referrerPolicy="no-referrer"),$T.fetch()(BT(t,t.config.apiHost,n,a),u)})}async function UT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},WO),e);try{const i=new GO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _c(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _c(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Iy(t,h,u);Sr(t,h)}}catch(i){if(i instanceof ui)throw i;Sr(t,"network-request-failed",{message:String(i)})}}async function zT(t,e,n,r,i={}){const s=await ha(t,e,n,r,i);return"mfaPendingCredential"in s&&Sr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function BT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ay(t.config,i):`${t.config.apiScheme}://${i}`}class GO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),qO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function HT(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QO(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=Py(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pl(rp(i.auth_time)),issuedAtTime:pl(rp(i.iat)),expirationTime:pl(rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function Py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const i=CT(n);return i?JSON.parse(i):(Wc("Failed to decode base64 JWT payload"),null)}catch(i){return Wc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g0(t){const e=Py(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&YO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gl(t,HT(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WT(s.providerUserInfo):[],a=ZO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Um(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function JO(t){const e=St(t);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WT(t){return t.map(e=>{var{providerId:n}=e,r=Sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){const n=await UT(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=BT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$T.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tL(t,e){return ha(t,"POST","/v2/accounts:revokeToken",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mo;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Br{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QO(this,e)}reload(){return JO(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Gl(this,KO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:L,isAnonymous:F,providerData:M,stsTokenManager:C}=n;_e(x&&C,e,"internal-error");const k=Mo.fromJSON(this.name,C);_e(typeof x=="string",e,"internal-error"),_i(d,e.name),_i(f,e.name),_e(typeof L=="boolean",e,"internal-error"),_e(typeof F=="boolean",e,"internal-error"),_i(p,e.name),_i(v,e.name),_i(b,e.name),_i(R,e.name),_i(y,e.name),_i(_,e.name);const T=new Br({uid:x,auth:e,email:f,emailVerified:L,displayName:d,isAnonymous:F,photoURL:v,phoneNumber:p,tenantId:b,stsTokenManager:k,createdAt:y,lastLoginAt:_});return M&&Array.isArray(M)&&(T.providerData=M.map(E=>Object.assign({},E))),R&&(T._redirectEventId=R),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mo;i.updateFromServerResponse(n);const s=new Br({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await jh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?WT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Mo;a.updateFromIdToken(r);const l=new Br({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function Hr(t){ri(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const v0=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fo(Hr(v0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Hr(v0);const o=qc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=Br._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Fo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Fo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(ZT(e))return"Webos";if(KT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(XT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GT(t=en()){return/firefox\//i.test(t)}function KT(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(t=en()){return/crios\//i.test(t)}function YT(t=en()){return/iemobile/i.test(t)}function XT(t=en()){return/android/i.test(t)}function JT(t=en()){return/blackberry/i.test(t)}function ZT(t=en()){return/webos/i.test(t)}function Ry(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nL(t=en()){var e;return Ry(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rL(){return _2()&&document.documentMode===10}function e1(t=en()){return Ry(t)||XT(t)||ZT(t)||JT(t)||/windows phone/i.test(t)||YT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e=[]){let n;switch(t){case"Browser":n=_0(en());break;case"Worker":n=`${_0(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e={}){return ha(t,"GET","/v2/passwordPolicy",Ld(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=6;class aL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:oL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new iL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await HT(this,{idToken:e}),r=await Br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(Xi(this));const n=e?St(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sL(this),n=new aL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$O(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gu(t){return St(t)}class w0{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ny={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uL(t){Ny=t}function cL(t){return Ny.loadJS(t)}function hL(){return Ny.gapiScript}function dL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t,e){const n=Ty(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mh(s,e??{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}function pL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mL(t,e,n){const r=gu(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=n1(e),{host:o,port:a}=gL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),yL()}function n1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gL(t){const e=n1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:E0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:E0(o)}}}function E0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return zT(t,"POST","/v1/accounts:signInWithIdp",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="http://localhost";class Hs extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Sy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Hs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:vL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends yu{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends yu{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends yu{constructor(){super("twitter.com")}static credential(e,n){return Hs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){return zT(t,"POST","/v1/accounts:signUp",Ld(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Br._fromIdTokenResponse(e,r,i),o=k0(r);return new ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=k0(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function k0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wL(t){var e;if(_r(t.app))return Promise.reject(Xi(t));const n=gu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ts({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await _L(n,{returnSecureToken:!0}),i=await ts._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $h(e,n,r,i)}}function i1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,s,e,r):s})}async function EL(t,e,n=!1){const r=await Gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const s=await Gl(t,i1(r,i,e,t),n);_e(s.idToken,r,"internal-error");const o=Py(s.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e,n=!1){if(_r(t.app))return Promise.reject(Xi(t));const r="signIn",i=await i1(t,r,e),s=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function bL(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function TL(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function SL(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=1e3,CL=10;class o1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const AL=o1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a1.type="SESSION";const l1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await PL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Oy("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function NL(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function DL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LL(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",ML=1,zh="firebaseLocalStorage",h1="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fd(t,e){return t.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function FL(){const t=indexedDB.deleteDatabase(c1);return new vu(t).toPromise()}function zm(){const t=indexedDB.open(c1,ML);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zh,{keyPath:h1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await FL(),e(await zm()))})})}async function x0(t,e,n){const r=Fd(t,!0).put({[h1]:e,value:n});return new vu(r).toPromise()}async function VL(t,e){const n=Fd(t,!1).get(e),r=await new vu(n).toPromise();return r===void 0?null:r.value}function b0(t,e){const n=Fd(t,!0).delete(e);return new vu(n).toPromise()}const jL=800,$L=3;class d1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(LL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DL(),!this.activeServiceWorker)return;this.sender=new RL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await x0(e,Uh,"1"),await b0(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fd(i,!1).getAll();return new vu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d1.type="LOCAL";const UL=d1;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e){return e?Hr(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zL(t){return xL(t.auth,new Ly(t),t.bypassAuthState)}function BL(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),kL(n,new Ly(t),t.bypassAuthState)}async function HL(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),EL(n,new Ly(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zL;case"linkViaPopup":case"linkViaRedirect":return HL;case"reauthViaPopup":case"reauthViaRedirect":return BL;default:Sr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new mu(2e3,1e4);async function qL(t,e,n){if(_r(t.app))return Promise.reject(cr(t,"operation-not-supported-in-this-environment"));const r=gu(t);UO(t,e,Dy);const i=f1(r,n);return new Rs(r,"signInViaPopup",e,i).executeNotNull()}class Rs extends p1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WL.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="pendingRedirect",Gc=new Map;class KL extends p1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await QL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QL(t,e){const n=JL(e),r=XL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function YL(t,e){Gc.set(t._key(),e)}function XL(t){return Hr(t._redirectPersistence)}function JL(t){return qc(GL,t.config.apiKey,t.name)}async function ZL(t,e,n=!1){if(_r(t.app))return Promise.reject(Xi(t));const r=gu(t),i=f1(r,e),o=await new KL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=10*60*1e3;class tM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!m1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eM&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e={}){return ha(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sM=/^https?/;async function oM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rM(t);for(const n of e)try{if(aM(n))return}catch{}Sr(t,"unauthorized-domain")}function aM(t){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sM.test(n))return!1;if(iM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=new mu(3e4,6e4);function S0(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uM(t){return new Promise((e,n)=>{var r,i,s;function o(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(cr(t,"network-request-failed"))},timeout:lM.get()})}if(!((i=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=kr().gapi)===null||s===void 0)&&s.load)o();else{const a=dL("iframefcb");return kr()[a]=()=>{gapi.load?o():n(cr(t,"network-request-failed"))},cL(`${hL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function cM(t){return Kc=Kc||uM(t),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new mu(5e3,15e3),dM="__/auth/iframe",fM="emulator/auth/iframe",pM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gM(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,fM):`https://${t.config.authDomain}/${dM}`,r={apiKey:e.apiKey,appName:t.name,v:ca},i=mM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${pu(r).slice(1)}`}async function yM(t){const e=await cM(t),n=kr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:gM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=cr(t,"network-request-failed"),a=kr().setTimeout(()=>{s(o)},hM.get());function l(){kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_M=500,wM=600,EM="_blank",kM="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xM(t,e,n,r=_M,i=wM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},vM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=en().toLowerCase();n&&(a=QT(u)?EM:n),GT(u)&&(e=e||kM,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(nL(u)&&a!=="_self")return bM(e||"",a),new I0(null);const d=window.open(e||"",a,h);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new I0(d)}function bM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="__/auth/handler",SM="emulator/auth/handler",IM=encodeURIComponent("fac");async function C0(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ca,eventId:i};if(e instanceof Dy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",S2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof yu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${IM}=${encodeURIComponent(l)}`:"";return`${CM(t)}?${pu(a).slice(1)}${u}`}function CM({config:t}){return t.emulator?Ay(t,SM):`https://${t.authDomain}/${TM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class AM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=ZL,this._overrideRedirectResult=YL}async _openPopup(e,n,r,i){var s;ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C0(e,n,r,$m(),i);return xM(e,o,Oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C0(e,n,r,$m(),i);return NL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ri(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yM(e),r=new tM(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ip];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e1()||KT()||Ry()}}const PM=AM;var A0="@firebase/auth",P0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DM(t){Yo(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(t)},u=new lL(r,i,s,l);return pL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Bs("auth-internal",e=>{const n=gu(e.getProvider("auth").getImmediate());return(r=>new RM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(A0,P0,NM(t)),Yi(A0,P0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=5*60,LM=RT("authIdTokenMaxAge")||OM;let R0=null;const MM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LM)return;const i=n==null?void 0:n.token;R0!==i&&(R0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FM(t=LT()){const e=Ty(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fL(t,{popupRedirectResolver:PM,persistence:[UL,AL,l1]}),r=RT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=MM(s.toString());TL(n,o,()=>o(n.currentUser)),bL(n,a=>o(a))}}const i=AT("auth");return i&&mL(n,`http://${i}`),n}function VM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",VM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DM("Browser");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,g1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,k){function T(){}T.prototype=k.prototype,C.D=k.prototype,C.prototype=new T,C.prototype.constructor=C,C.C=function(E,N,I){for(var S=Array(arguments.length-2),G=2;G<arguments.length;G++)S[G-2]=arguments[G];return k.prototype[N].apply(E,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,k,T){T||(T=0);var E=Array(16);if(typeof k=="string")for(var N=0;16>N;++N)E[N]=k.charCodeAt(T++)|k.charCodeAt(T++)<<8|k.charCodeAt(T++)<<16|k.charCodeAt(T++)<<24;else for(N=0;16>N;++N)E[N]=k[T++]|k[T++]<<8|k[T++]<<16|k[T++]<<24;k=C.g[0],T=C.g[1],N=C.g[2];var I=C.g[3],S=k+(I^T&(N^I))+E[0]+3614090360&4294967295;k=T+(S<<7&4294967295|S>>>25),S=I+(N^k&(T^N))+E[1]+3905402710&4294967295,I=k+(S<<12&4294967295|S>>>20),S=N+(T^I&(k^T))+E[2]+606105819&4294967295,N=I+(S<<17&4294967295|S>>>15),S=T+(k^N&(I^k))+E[3]+3250441966&4294967295,T=N+(S<<22&4294967295|S>>>10),S=k+(I^T&(N^I))+E[4]+4118548399&4294967295,k=T+(S<<7&4294967295|S>>>25),S=I+(N^k&(T^N))+E[5]+1200080426&4294967295,I=k+(S<<12&4294967295|S>>>20),S=N+(T^I&(k^T))+E[6]+2821735955&4294967295,N=I+(S<<17&4294967295|S>>>15),S=T+(k^N&(I^k))+E[7]+4249261313&4294967295,T=N+(S<<22&4294967295|S>>>10),S=k+(I^T&(N^I))+E[8]+1770035416&4294967295,k=T+(S<<7&4294967295|S>>>25),S=I+(N^k&(T^N))+E[9]+2336552879&4294967295,I=k+(S<<12&4294967295|S>>>20),S=N+(T^I&(k^T))+E[10]+4294925233&4294967295,N=I+(S<<17&4294967295|S>>>15),S=T+(k^N&(I^k))+E[11]+2304563134&4294967295,T=N+(S<<22&4294967295|S>>>10),S=k+(I^T&(N^I))+E[12]+1804603682&4294967295,k=T+(S<<7&4294967295|S>>>25),S=I+(N^k&(T^N))+E[13]+4254626195&4294967295,I=k+(S<<12&4294967295|S>>>20),S=N+(T^I&(k^T))+E[14]+2792965006&4294967295,N=I+(S<<17&4294967295|S>>>15),S=T+(k^N&(I^k))+E[15]+1236535329&4294967295,T=N+(S<<22&4294967295|S>>>10),S=k+(N^I&(T^N))+E[1]+4129170786&4294967295,k=T+(S<<5&4294967295|S>>>27),S=I+(T^N&(k^T))+E[6]+3225465664&4294967295,I=k+(S<<9&4294967295|S>>>23),S=N+(k^T&(I^k))+E[11]+643717713&4294967295,N=I+(S<<14&4294967295|S>>>18),S=T+(I^k&(N^I))+E[0]+3921069994&4294967295,T=N+(S<<20&4294967295|S>>>12),S=k+(N^I&(T^N))+E[5]+3593408605&4294967295,k=T+(S<<5&4294967295|S>>>27),S=I+(T^N&(k^T))+E[10]+38016083&4294967295,I=k+(S<<9&4294967295|S>>>23),S=N+(k^T&(I^k))+E[15]+3634488961&4294967295,N=I+(S<<14&4294967295|S>>>18),S=T+(I^k&(N^I))+E[4]+3889429448&4294967295,T=N+(S<<20&4294967295|S>>>12),S=k+(N^I&(T^N))+E[9]+568446438&4294967295,k=T+(S<<5&4294967295|S>>>27),S=I+(T^N&(k^T))+E[14]+3275163606&4294967295,I=k+(S<<9&4294967295|S>>>23),S=N+(k^T&(I^k))+E[3]+4107603335&4294967295,N=I+(S<<14&4294967295|S>>>18),S=T+(I^k&(N^I))+E[8]+1163531501&4294967295,T=N+(S<<20&4294967295|S>>>12),S=k+(N^I&(T^N))+E[13]+2850285829&4294967295,k=T+(S<<5&4294967295|S>>>27),S=I+(T^N&(k^T))+E[2]+4243563512&4294967295,I=k+(S<<9&4294967295|S>>>23),S=N+(k^T&(I^k))+E[7]+1735328473&4294967295,N=I+(S<<14&4294967295|S>>>18),S=T+(I^k&(N^I))+E[12]+2368359562&4294967295,T=N+(S<<20&4294967295|S>>>12),S=k+(T^N^I)+E[5]+4294588738&4294967295,k=T+(S<<4&4294967295|S>>>28),S=I+(k^T^N)+E[8]+2272392833&4294967295,I=k+(S<<11&4294967295|S>>>21),S=N+(I^k^T)+E[11]+1839030562&4294967295,N=I+(S<<16&4294967295|S>>>16),S=T+(N^I^k)+E[14]+4259657740&4294967295,T=N+(S<<23&4294967295|S>>>9),S=k+(T^N^I)+E[1]+2763975236&4294967295,k=T+(S<<4&4294967295|S>>>28),S=I+(k^T^N)+E[4]+1272893353&4294967295,I=k+(S<<11&4294967295|S>>>21),S=N+(I^k^T)+E[7]+4139469664&4294967295,N=I+(S<<16&4294967295|S>>>16),S=T+(N^I^k)+E[10]+3200236656&4294967295,T=N+(S<<23&4294967295|S>>>9),S=k+(T^N^I)+E[13]+681279174&4294967295,k=T+(S<<4&4294967295|S>>>28),S=I+(k^T^N)+E[0]+3936430074&4294967295,I=k+(S<<11&4294967295|S>>>21),S=N+(I^k^T)+E[3]+3572445317&4294967295,N=I+(S<<16&4294967295|S>>>16),S=T+(N^I^k)+E[6]+76029189&4294967295,T=N+(S<<23&4294967295|S>>>9),S=k+(T^N^I)+E[9]+3654602809&4294967295,k=T+(S<<4&4294967295|S>>>28),S=I+(k^T^N)+E[12]+3873151461&4294967295,I=k+(S<<11&4294967295|S>>>21),S=N+(I^k^T)+E[15]+530742520&4294967295,N=I+(S<<16&4294967295|S>>>16),S=T+(N^I^k)+E[2]+3299628645&4294967295,T=N+(S<<23&4294967295|S>>>9),S=k+(N^(T|~I))+E[0]+4096336452&4294967295,k=T+(S<<6&4294967295|S>>>26),S=I+(T^(k|~N))+E[7]+1126891415&4294967295,I=k+(S<<10&4294967295|S>>>22),S=N+(k^(I|~T))+E[14]+2878612391&4294967295,N=I+(S<<15&4294967295|S>>>17),S=T+(I^(N|~k))+E[5]+4237533241&4294967295,T=N+(S<<21&4294967295|S>>>11),S=k+(N^(T|~I))+E[12]+1700485571&4294967295,k=T+(S<<6&4294967295|S>>>26),S=I+(T^(k|~N))+E[3]+2399980690&4294967295,I=k+(S<<10&4294967295|S>>>22),S=N+(k^(I|~T))+E[10]+4293915773&4294967295,N=I+(S<<15&4294967295|S>>>17),S=T+(I^(N|~k))+E[1]+2240044497&4294967295,T=N+(S<<21&4294967295|S>>>11),S=k+(N^(T|~I))+E[8]+1873313359&4294967295,k=T+(S<<6&4294967295|S>>>26),S=I+(T^(k|~N))+E[15]+4264355552&4294967295,I=k+(S<<10&4294967295|S>>>22),S=N+(k^(I|~T))+E[6]+2734768916&4294967295,N=I+(S<<15&4294967295|S>>>17),S=T+(I^(N|~k))+E[13]+1309151649&4294967295,T=N+(S<<21&4294967295|S>>>11),S=k+(N^(T|~I))+E[4]+4149444226&4294967295,k=T+(S<<6&4294967295|S>>>26),S=I+(T^(k|~N))+E[11]+3174756917&4294967295,I=k+(S<<10&4294967295|S>>>22),S=N+(k^(I|~T))+E[2]+718787259&4294967295,N=I+(S<<15&4294967295|S>>>17),S=T+(I^(N|~k))+E[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(N+(S<<21&4294967295|S>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+I&4294967295}r.prototype.u=function(C,k){k===void 0&&(k=C.length);for(var T=k-this.blockSize,E=this.B,N=this.h,I=0;I<k;){if(N==0)for(;I<=T;)i(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<k;)if(E[N++]=C.charCodeAt(I++),N==this.blockSize){i(this,E),N=0;break}}else for(;I<k;)if(E[N++]=C[I++],N==this.blockSize){i(this,E),N=0;break}}this.h=N,this.o+=k},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;var T=8*this.o;for(k=C.length-8;k<C.length;++k)C[k]=T&255,T/=256;for(this.u(C),C=Array(16),k=T=0;4>k;++k)for(var E=0;32>E;E+=8)C[T++]=this.g[k]>>>E&255;return C};function s(C,k){var T=a;return Object.prototype.hasOwnProperty.call(T,C)?T[C]:T[C]=k(C)}function o(C,k){this.h=k;for(var T=[],E=!0,N=C.length-1;0<=N;N--){var I=C[N]|0;E&&I==k||(T[N]=I,E=!1)}this.g=T}var a={};function l(C){return-128<=C&&128>C?s(C,function(k){return new o([k|0],0>k?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return R(u(-C));for(var k=[],T=1,E=0;C>=T;E++)k[E]=C/T|0,T*=4294967296;return new o(k,0)}function h(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return R(h(C.substring(1),k));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(k,8)),E=d,N=0;N<C.length;N+=8){var I=Math.min(8,C.length-N),S=parseInt(C.substring(N,N+I),k);8>I?(I=u(Math.pow(k,I)),E=E.j(I).add(u(S))):(E=E.j(T),E=E.add(u(S)))}return E}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-R(this).m();for(var C=0,k=1,T=0;T<this.g.length;T++){var E=this.i(T);C+=(0<=E?E:4294967296+E)*k,k*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(b(this))return"-"+R(this).toString(C);for(var k=u(Math.pow(C,6)),T=this,E="";;){var N=L(T,k).g;T=y(T,N.j(k));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(C);if(T=N,v(T))return I+E;for(;6>I.length;)I="0"+I;E=I+E}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=y(this,C),b(C)?-1:v(C)?0:1};function R(C){for(var k=C.g.length,T=[],E=0;E<k;E++)T[E]=~C.g[E];return new o(T,~C.h).add(f)}t.abs=function(){return b(this)?R(this):this},t.add=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],E=0,N=0;N<=k;N++){var I=E+(this.i(N)&65535)+(C.i(N)&65535),S=(I>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);E=S>>>16,I&=65535,S&=65535,T[N]=S<<16|I}return new o(T,T[T.length-1]&-2147483648?-1:0)};function y(C,k){return C.add(R(k))}t.j=function(C){if(v(this)||v(C))return d;if(b(this))return b(C)?R(this).j(R(C)):R(R(this).j(C));if(b(C))return R(this.j(R(C)));if(0>this.l(p)&&0>C.l(p))return u(this.m()*C.m());for(var k=this.g.length+C.g.length,T=[],E=0;E<2*k;E++)T[E]=0;for(E=0;E<this.g.length;E++)for(var N=0;N<C.g.length;N++){var I=this.i(E)>>>16,S=this.i(E)&65535,G=C.i(N)>>>16,H=C.i(N)&65535;T[2*E+2*N]+=S*H,_(T,2*E+2*N),T[2*E+2*N+1]+=I*H,_(T,2*E+2*N+1),T[2*E+2*N+1]+=S*G,_(T,2*E+2*N+1),T[2*E+2*N+2]+=I*G,_(T,2*E+2*N+2)}for(E=0;E<k;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=k;E<2*k;E++)T[E]=0;return new o(T,0)};function _(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function x(C,k){this.g=C,this.h=k}function L(C,k){if(v(k))throw Error("division by zero");if(v(C))return new x(d,d);if(b(C))return k=L(R(C),k),new x(R(k.g),R(k.h));if(b(k))return k=L(C,R(k)),new x(R(k.g),k.h);if(30<C.g.length){if(b(C)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var T=f,E=k;0>=E.l(C);)T=F(T),E=F(E);var N=M(T,1),I=M(E,1);for(E=M(E,2),T=M(T,2);!v(E);){var S=I.add(E);0>=S.l(C)&&(N=N.add(T),I=S),E=M(E,1),T=M(T,1)}return k=y(C,N.j(k)),new x(N,k)}for(N=d;0<=C.l(k);){for(T=Math.max(1,Math.floor(C.m()/k.m())),E=Math.ceil(Math.log(T)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),I=u(T),S=I.j(k);b(S)||0<S.l(C);)T-=E,I=u(T),S=I.j(k);v(I)&&(I=f),N=N.add(I),C=y(C,S)}return new x(N,C)}t.A=function(C){return L(this,C).h},t.and=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],E=0;E<k;E++)T[E]=this.i(E)&C.i(E);return new o(T,this.h&C.h)},t.or=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],E=0;E<k;E++)T[E]=this.i(E)|C.i(E);return new o(T,this.h|C.h)},t.xor=function(C){for(var k=Math.max(this.g.length,C.g.length),T=[],E=0;E<k;E++)T[E]=this.i(E)^C.i(E);return new o(T,this.h^C.h)};function F(C){for(var k=C.g.length+1,T=[],E=0;E<k;E++)T[E]=C.i(E)<<1|C.i(E-1)>>>31;return new o(T,C.h)}function M(C,k){var T=k>>5;k%=32;for(var E=C.g.length-T,N=[],I=0;I<E;I++)N[I]=0<k?C.i(I+T)>>>k|C.i(I+T+1)<<32-k:C.i(I+T);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,g1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Ms=o}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y1,Qa,v1,Qc,Bm,_1,w1,E1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,g){return c==Array.prototype||c==Object.prototype||(c[m]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var g=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var V=c[A];if(!(V in g))break e;g=g[V]}c=c[c.length-1],A=g[c],m=m(A),m!=A&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var g=0,A=!1,V={next:function(){if(!A&&g<c.length){var U=g++;return{value:m(U,c[U]),done:!1}}return A=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,g){return c.call.apply(c.bind,arguments)}function d(c,m,g){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,A),c.apply(m,V)}}return function(){return c.apply(m,arguments)}}function f(c,m,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function p(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var A=g.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function v(c,m){function g(){}g.prototype=m.prototype,c.aa=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(A,V,U){for(var ee=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ee[Ge-2]=arguments[Ge];return m.prototype[V].apply(A,ee)}}function b(c){const m=c.length;if(0<m){const g=Array(m);for(let A=0;A<m;A++)g[A]=c[A];return g}return[]}function R(c,m){for(let g=1;g<arguments.length;g++){const A=arguments[g];if(l(A)){const V=c.length||0,U=A.length||0;c.length=V+U;for(let ee=0;ee<U;ee++)c[V+ee]=A[ee]}else c.push(A)}}class y{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var F=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(c,m,g){for(const A in c)m.call(g,c[A],A,c)}function C(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function k(c){const m={};for(const g in c)m[g]=c[g];return m}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,m){let g,A;for(let V=1;V<arguments.length;V++){A=arguments[V];for(g in A)c[g]=A[g];for(let U=0;U<T.length;U++)g=T[U],Object.prototype.hasOwnProperty.call(A,g)&&(c[g]=A[g])}}function N(c){var m=1;c=c.split(":");const g=[];for(;0<m&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function I(c){a.setTimeout(()=>{throw c},0)}function S(){var c=W;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,g){const A=H.get();A.set(m,g),this.h?this.h.next=A:this.g=A,this.h=A}}var H=new y(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,j=!1,W=new G,P=()=>{const c=a.Promise.resolve(void 0);$=()=>{c.then(q)}};var q=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(g){I(g)}var m=H;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}j=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return c}();function me(c,m){if(D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(F){e:{try{L(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Y[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&me.aa.h.call(this)}}v(me,D);var Y={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),re=0;function fe(c,m,g,A,V){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!A,this.ha=V,this.key=++re,this.da=this.fa=!1}function Ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,m,g,A,V){var U=c.toString();c=this.g[U],c||(c=this.g[U]=[],this.h++);var ee=Be(c,m,A,V);return-1<ee?(m=c[ee],g||(m.fa=!1)):(m=new fe(m,this.src,U,!!A,V),m.fa=g,c.push(m)),m};function ce(c,m){var g=m.type;if(g in c.g){var A=c.g[g],V=Array.prototype.indexOf.call(A,m,void 0),U;(U=0<=V)&&Array.prototype.splice.call(A,V,1),U&&(Ie(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Be(c,m,g,A){for(var V=0;V<c.length;++V){var U=c[V];if(!U.da&&U.listener==m&&U.capture==!!g&&U.ha==A)return V}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Je={};function It(c,m,g,A,V){if(Array.isArray(m)){for(var U=0;U<m.length;U++)It(c,m[U],g,A,V);return null}return g=Fu(g),c&&c[te]?c.K(m,g,u(A)?!!A.capture:!1,V):In(c,m,g,!1,A,V)}function In(c,m,g,A,V,U){if(!m)throw Error("Invalid event type");var ee=u(V)?!!V.capture:!!V,Ge=ya(c);if(Ge||(c[Pe]=Ge=new ae(c)),g=Ge.add(m,g,A,ee,U),g.proxy)return g;if(A=$t(),g.proxy=A,A.src=c,A.listener=g,c.addEventListener)oe||(V=ee),V===void 0&&(V=!1),c.addEventListener(m.toString(),A,V);else if(c.attachEvent)c.attachEvent(Mu(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return g}function $t(){function c(g){return m.call(c.src,c.listener,g)}const m=af;return c}function nn(c,m,g,A,V){if(Array.isArray(m))for(var U=0;U<m.length;U++)nn(c,m[U],g,A,V);else A=u(A)?!!A.capture:!!A,g=Fu(g),c&&c[te]?(c=c.i,m=String(m).toString(),m in c.g&&(U=c.g[m],g=Be(U,g,A,V),-1<g&&(Ie(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete c.g[m],c.h--)))):c&&(c=ya(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Be(m,g,A,V)),(g=-1<c?m[c]:null)&&di(g))}function di(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[te])ce(m.i,c);else{var g=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(g,A,c.capture):m.detachEvent?m.detachEvent(Mu(g),A):m.addListener&&m.removeListener&&m.removeListener(A),(g=ya(m))?(ce(g,c),g.h==0&&(g.src=null,m[Pe]=null)):Ie(c)}}}function Mu(c){return c in Je?Je[c]:Je[c]="on"+c}function af(c,m){if(c.da)c=!0;else{m=new me(m,this);var g=c.listener,A=c.ha||c.src;c.fa&&di(c),c=g.call(A,m)}return c}function ya(c){return c=c[Pe],c instanceof ae?c:null}var va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(c){return typeof c=="function"?c:(c[va]||(c[va]=function(m){return c.handleEvent(m)}),c[va])}function z(){le.call(this),this.i=new ae(this),this.M=this,this.F=null}v(z,le),z.prototype[te]=!0,z.prototype.removeEventListener=function(c,m,g,A){nn(this,c,m,g,A)};function Q(c,m){var g,A=c.F;if(A)for(g=[];A;A=A.F)g.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var V=m;m=new D(A,c),E(m,V)}if(V=!0,g)for(var U=g.length-1;0<=U;U--){var ee=m.g=g[U];V=ge(ee,A,!0,m)&&V}if(ee=m.g=c,V=ge(ee,A,!0,m)&&V,V=ge(ee,A,!1,m)&&V,g)for(U=0;U<g.length;U++)ee=m.g=g[U],V=ge(ee,A,!1,m)&&V}z.prototype.N=function(){if(z.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var g=c.g[m],A=0;A<g.length;A++)Ie(g[A]);delete c.g[m],c.h--}}this.F=null},z.prototype.K=function(c,m,g,A){return this.i.add(String(c),m,!1,g,A)},z.prototype.L=function(c,m,g,A){return this.i.add(String(c),m,!0,g,A)};function ge(c,m,g,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,U=0;U<m.length;++U){var ee=m[U];if(ee&&!ee.da&&ee.capture==g){var Ge=ee.listener,Rt=ee.ha||ee.src;ee.fa&&ce(c.i,ee),V=Ge.call(Rt,A)!==!1&&V}}return V&&!A.defaultPrevented}function Se(c,m,g){if(typeof c=="function")g&&(c=f(c,g));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function ze(c){c.g=Se(()=>{c.g=null,c.i&&(c.i=!1,ze(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Cn extends le{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function An(c){le.call(this),this.h=c,this.g={}}v(An,le);var Bn=[];function fi(c){M(c.g,function(m,g){this.g.hasOwnProperty(g)&&di(m)},c),c.g={}}An.prototype.N=function(){An.aa.N.call(this),fi(this)},An.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=a.JSON.stringify,rn=a.JSON.parse,pi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Pn(){}Pn.prototype.h=null;function Bv(c){return c.h||(c.h=c.i())}function Hv(){}var _a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){D.call(this,"d")}v(lf,D);function uf(){D.call(this,"c")}v(uf,D);var hs={},Wv=null;function Vu(){return Wv=Wv||new z}hs.La="serverreachability";function qv(c){D.call(this,hs.La,c)}v(qv,D);function wa(c){const m=Vu();Q(m,new qv(m))}hs.STAT_EVENT="statevent";function Gv(c,m){D.call(this,hs.STAT_EVENT,c),this.stat=m}v(Gv,D);function sn(c){const m=Vu();Q(m,new Gv(m,c))}hs.Ma="timingevent";function Kv(c,m){D.call(this,hs.Ma,c),this.size=m}v(Kv,D);function Ea(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function nC(c,m,g,A,V,U){c.info(function(){if(c.g)if(U)for(var ee="",Ge=U.split("&"),Rt=0;Rt<Ge.length;Rt++){var je=Ge[Rt].split("=");if(1<je.length){var Ut=je[0];je=je[1];var zt=Ut.split("_");ee=2<=zt.length&&zt[1]=="type"?ee+(Ut+"="+je+"&"):ee+(Ut+"=redacted&")}}else ee=null;else ee=U;return"XMLHTTP REQ ("+A+") [attempt "+V+"]: "+m+`
`+g+`
`+ee})}function rC(c,m,g,A,V,U,ee){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+V+"]: "+m+`
`+g+`
`+U+" "+ee})}function ro(c,m,g,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+sC(c,g)+(A?" "+A:"")})}function iC(c,m){c.info(function(){return"TIMEOUT: "+m})}ka.prototype.info=function(){};function sC(c,m){if(!c.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var A=g[c];if(!(2>A.length)){var V=A[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var ee=1;ee<V.length;ee++)V[ee]=""}}}}return Nr(g)}catch{return m}}var ju={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cf;function $u(){}v($u,Pn),$u.prototype.g=function(){return new XMLHttpRequest},$u.prototype.i=function(){return{}},cf=new $u;function mi(c,m,g,A){this.j=c,this.i=m,this.l=g,this.R=A||1,this.U=new An(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yv}function Yv(){this.i=null,this.g="",this.h=!1}var Xv={},hf={};function df(c,m,g){c.L=1,c.v=Hu(Dr(m)),c.m=g,c.P=!0,Jv(c,null)}function Jv(c,m){c.F=Date.now(),Uu(c),c.A=Dr(c.v);var g=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),d_(g.i,"t",A),c.C=0,g=c.j.J,c.h=new Yv,c.g=P_(c.j,g?m:null,!c.m),0<c.O&&(c.M=new Cn(f(c.Y,c,c.g),c.O)),m=c.U,g=c.g,A=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(Bn[0]=V.toString()),V=Bn);for(var U=0;U<V.length;U++){var ee=It(g,V[U],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=c.H?k(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),wa(),nC(c.i,c.u,c.A,c.l,c.R,c.m)}mi.prototype.ca=function(c){c=c.target;const m=this.M;m&&Or(c)==3?m.j():this.Y(c)},mi.prototype.Y=function(c){try{if(c==this.g)e:{const zt=Or(this.g);var m=this.g.Ba();const oo=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||__(this.g)))){this.J||zt!=4||m==7||(m==8||0>=oo?wa(3):wa(2)),ff(this);var g=this.g.Z();this.X=g;t:if(Zv(this)){var A=__(this.g);c="";var V=A.length,U=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),xa(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(U&&m==V-1)});A.length=0,this.h.g+=c,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=g==200,rC(this.i,this.u,this.A,this.l,this.R,zt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Rt=this.g;if((Ge=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ge)){var je=Ge;break t}}je=null}if(g=je)ro(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,g);else{this.o=!1,this.s=3,sn(12),ds(this),xa(this);break e}}if(this.P){g=!0;let er;for(;!this.J&&this.C<ee.length;)if(er=oC(this,ee),er==hf){zt==4&&(this.s=4,sn(14),g=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Xv){this.s=4,sn(15),ro(this.i,this.l,ee,"[Invalid Chunk]"),g=!1;break}else ro(this.i,this.l,er,null),pf(this,er);if(Zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||ee.length!=0||this.h.h||(this.s=1,sn(16),g=!1),this.o=this.o&&g,!g)ro(this.i,this.l,ee,"[Invalid Chunked Response]"),ds(this),xa(this);else if(0<ee.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),wf(Ut),Ut.M=!0,sn(11))}}else ro(this.i,this.l,ee,null),pf(this,ee);zt==4&&ds(this),this.o&&!this.J&&(zt==4?S_(this.j,this):(this.o=!1,Uu(this)))}else xC(this.g),g==400&&0<ee.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),ds(this),xa(this)}}}catch{}finally{}};function Zv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oC(c,m){var g=c.C,A=m.indexOf(`
`,g);return A==-1?hf:(g=Number(m.substring(g,A)),isNaN(g)?Xv:(A+=1,A+g>m.length?hf:(m=m.slice(A,A+g),c.C=A+g,m)))}mi.prototype.cancel=function(){this.J=!0,ds(this)};function Uu(c){c.S=Date.now()+c.I,e_(c,c.I)}function e_(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ea(f(c.ba,c),m)}function ff(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(iC(this.i,this.A),this.L!=2&&(wa(),sn(17)),ds(this),this.s=2,xa(this)):e_(this,this.S-c)};function xa(c){c.j.G==0||c.J||S_(c.j,c)}function ds(c){ff(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,fi(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function pf(c,m){try{var g=c.j;if(g.G!=0&&(g.g==c||mf(g.h,c))){if(!c.K&&mf(g.h,c)&&g.G==3){try{var A=g.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var V=A;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Yu(g),Ku(g);else break e;_f(g),sn(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ea(f(g.Za,g),6e3));if(1>=r_(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ps(g,11)}else if((c.K||g.g==c)&&Yu(g),!_(m))for(V=g.Da.g.parse(m),m=0;m<V.length;m++){let je=V[m];if(g.T=je[0],je=je[1],g.G==2)if(je[0]=="c"){g.K=je[1],g.ia=je[2];const Ut=je[3];Ut!=null&&(g.la=Ut,g.j.info("VER="+g.la));const zt=je[4];zt!=null&&(g.Aa=zt,g.j.info("SVER="+g.Aa));const oo=je[5];oo!=null&&typeof oo=="number"&&0<oo&&(A=1.5*oo,g.L=A,g.j.info("backChannelRequestTimeoutMs_="+A)),A=g;const er=c.g;if(er){const Ju=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var U=A.h;U.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(gf(U,U.h),U.h=null))}if(A.D){const Ef=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(A.ya=Ef,Ze(A.I,A.D,Ef))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),A=g;var ee=c;if(A.qa=A_(A,A.J?A.ia:null,A.W),ee.K){i_(A.h,ee);var Ge=ee,Rt=A.L;Rt&&(Ge.I=Rt),Ge.B&&(ff(Ge),Uu(Ge)),A.g=ee}else b_(A);0<g.i.length&&Qu(g)}else je[0]!="stop"&&je[0]!="close"||ps(g,7);else g.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ps(g,7):vf(g):je[0]!="noop"&&g.l&&g.l.ta(je),g.v=0)}}wa(4)}catch{}}var aC=class{constructor(c,m){this.g=c,this.map=m}};function t_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function n_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function r_(c){return c.h?1:c.g?c.g.size:0}function mf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function gf(c,m){c.g?c.g.add(m):c.h=m}function i_(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}t_.prototype.cancel=function(){if(this.i=s_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function s_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.D);return m}return b(c.i)}function lC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],g=c.length,A=0;A<g;A++)m.push(c[A]);return m}m=[],g=0;for(A in c)m[g++]=c[A];return m}function uC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var g=0;g<c;g++)m.push(g);return m}m=[],g=0;for(const A in c)m[g++]=A;return m}}}function o_(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var g=uC(c),A=lC(c),V=A.length,U=0;U<V;U++)m.call(void 0,A[U],g&&g[U],c)}var a_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cC(c,m){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var A=c[g].indexOf("="),V=null;if(0<=A){var U=c[g].substring(0,A);V=c[g].substring(A+1)}else U=c[g];m(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function fs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fs){this.h=c.h,zu(this,c.j),this.o=c.o,this.g=c.g,Bu(this,c.s),this.l=c.l;var m=c.i,g=new Sa;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),l_(this,g),this.m=c.m}else c&&(m=String(c).match(a_))?(this.h=!1,zu(this,m[1]||"",!0),this.o=ba(m[2]||""),this.g=ba(m[3]||"",!0),Bu(this,m[4]),this.l=ba(m[5]||"",!0),l_(this,m[6]||"",!0),this.m=ba(m[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}fs.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ta(m,u_,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ta(m,u_,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Ta(g,g.charAt(0)=="/"?fC:dC,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Ta(g,mC)),c.join("")};function Dr(c){return new fs(c)}function zu(c,m,g){c.j=g?ba(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Bu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function l_(c,m,g){m instanceof Sa?(c.i=m,gC(c.i,c.h)):(g||(m=Ta(m,pC)),c.i=new Sa(m,c.h))}function Ze(c,m,g){c.i.set(m,g)}function Hu(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ba(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,hC),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var u_=/[#\/\?@]/g,dC=/[#\?:]/g,fC=/[#\?]/g,pC=/[#\?@]/g,mC=/#/g;function Sa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function gi(c){c.g||(c.g=new Map,c.h=0,c.i&&cC(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Sa.prototype,t.add=function(c,m){gi(this),this.i=null,c=io(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function c_(c,m){gi(c),m=io(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function h_(c,m){return gi(c),m=io(c,m),c.g.has(m)}t.forEach=function(c,m){gi(this),this.g.forEach(function(g,A){g.forEach(function(V){c.call(m,V,A,this)},this)},this)},t.na=function(){gi(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let A=0;A<m.length;A++){const V=c[A];for(let U=0;U<V.length;U++)g.push(m[A])}return g},t.V=function(c){gi(this);let m=[];if(typeof c=="string")h_(this,c)&&(m=m.concat(this.g.get(io(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)m=m.concat(c[g])}return m},t.set=function(c,m){return gi(this),this.i=null,c=io(this,c),h_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function d_(c,m,g){c_(c,m),0<g.length&&(c.i=null,c.g.set(io(c,m),b(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var A=m[g];const U=encodeURIComponent(String(A)),ee=this.V(A);for(A=0;A<ee.length;A++){var V=U;ee[A]!==""&&(V+="="+encodeURIComponent(String(ee[A]))),c.push(V)}}return this.i=c.join("&")};function io(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function gC(c,m){m&&!c.j&&(gi(c),c.i=null,c.g.forEach(function(g,A){var V=A.toLowerCase();A!=V&&(c_(this,A),d_(this,V,g))},c)),c.j=m}function yC(c,m){const g=new ka;if(a.Image){const A=new Image;A.onload=p(yi,g,"TestLoadImage: loaded",!0,m,A),A.onerror=p(yi,g,"TestLoadImage: error",!1,m,A),A.onabort=p(yi,g,"TestLoadImage: abort",!1,m,A),A.ontimeout=p(yi,g,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function vC(c,m){const g=new ka,A=new AbortController,V=setTimeout(()=>{A.abort(),yi(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(U=>{clearTimeout(V),U.ok?yi(g,"TestPingServer: ok",!0,m):yi(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),yi(g,"TestPingServer: error",!1,m)})}function yi(c,m,g,A,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),A(g)}catch{}}function _C(){this.g=new pi}function wC(c,m,g){const A=g||"";try{o_(c,function(V,U){let ee=V;u(V)&&(ee=Nr(V)),m.push(A+U+"="+encodeURIComponent(ee))})}catch(V){throw m.push(A+"type="+encodeURIComponent("_badmap")),V}}function Wu(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Wu,Pn),Wu.prototype.g=function(){return new qu(this.l,this.j)},Wu.prototype.i=function(c){return function(){return c}}({});function qu(c,m){z.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(qu,z),t=qu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ca(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;f_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function f_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ia(this):Ca(this),this.readyState==3&&f_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ia(this))},t.Qa=function(c){this.g&&(this.response=c,Ia(this))},t.ga=function(){this.g&&Ia(this)};function Ia(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ca(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function p_(c){let m="";return M(c,function(g,A){m+=A,m+=":",m+=g,m+=`\r
`}),m}function yf(c,m,g){e:{for(A in g){var A=!1;break e}A=!0}A||(g=p_(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Ze(c,m,g))}function ct(c){z.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ct,z);var EC=/^https?$/i,kC=["POST","PUT"];t=ct.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,g,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cf.g(),this.v=this.o?Bv(this.o):Bv(cf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(U){m_(this,U);return}if(c=g||"",g=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var V in A)g.set(V,A[V]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const U of A.keys())g.set(U,A.get(U));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kC,m,void 0))||A||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,ee]of g)this.g.setRequestHeader(U,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{v_(this),this.u=!0,this.g.send(c),this.u=!1}catch(U){m_(this,U)}};function m_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,g_(c),Gu(c)}function g_(c){c.A||(c.A=!0,Q(c,"complete"),Q(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Q(this,"complete"),Q(this,"abort"),Gu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gu(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?y_(this):this.bb())},t.bb=function(){y_(this)};function y_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Or(c)!=4||c.Z()!=2)){if(c.u&&Or(c)==4)Se(c.Ea,0,c);else if(Q(c,"readystatechange"),Or(c)==4){c.h=!1;try{const ee=c.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var A;if(A=ee===0){var V=String(c.D).match(a_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),A=!EC.test(V?V.toLowerCase():"")}g=A}if(g)Q(c,"complete"),Q(c,"success");else{c.m=6;try{var U=2<Or(c)?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.Z()+"]",g_(c)}}finally{Gu(c)}}}}function Gu(c,m){if(c.g){v_(c);const g=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Q(c,"ready");try{g.onreadystatechange=A}catch{}}}function v_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Or(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),rn(m)}};function __(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xC(c){const m={};c=(c.g&&2<=Or(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(_(c[A]))continue;var g=N(c[A]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=m[V]||[];m[V]=U,U.push(g)}C(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function w_(c){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new t_(c&&c.concurrentRequestLimit),this.Da=new _C,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w_.prototype,t.la=8,t.G=1,t.connect=function(c,m,g,A){sn(0),this.W=c,this.H=m||{},g&&A!==void 0&&(this.H.OSID=g,this.H.OAID=A),this.F=this.X,this.I=A_(this,null,this.W),Qu(this)};function vf(c){if(E_(c),c.G==3){var m=c.U++,g=Dr(c.I);if(Ze(g,"SID",c.K),Ze(g,"RID",m),Ze(g,"TYPE","terminate"),Pa(c,g),m=new mi(c,c.j,m),m.L=2,m.v=Hu(Dr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.v,g=!0),g||(m.g=P_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Uu(m)}C_(c)}function Ku(c){c.g&&(wf(c),c.g.cancel(),c.g=null)}function E_(c){Ku(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qu(c){if(!n_(c.h)&&!c.s){c.s=!0;var m=c.Ga;$||P(),j||($(),j=!0),W.add(m,c),c.B=0}}function bC(c,m){return r_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ea(f(c.Ga,c,m),I_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new mi(this,this.j,c);let U=this.o;if(this.S&&(U?(U=k(U),E(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var A=this.i[g];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=x_(this,V,m),g=Dr(this.I),Ze(g,"RID",c),Ze(g,"CVER",22),this.D&&Ze(g,"X-HTTP-Session-Id",this.D),Pa(this,g),U&&(this.O?m="headers="+encodeURIComponent(String(p_(U)))+"&"+m:this.m&&yf(g,this.m,U)),gf(this.h,V),this.Ua&&Ze(g,"TYPE","init"),this.P?(Ze(g,"$req",m),Ze(g,"SID","null"),V.T=!0,df(V,g,null)):df(V,g,m),this.G=2}}else this.G==3&&(c?k_(this,c):this.i.length==0||n_(this.h)||k_(this))};function k_(c,m){var g;m?g=m.l:g=c.U++;const A=Dr(c.I);Ze(A,"SID",c.K),Ze(A,"RID",g),Ze(A,"AID",c.T),Pa(c,A),c.m&&c.o&&yf(A,c.m,c.o),g=new mi(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),m&&(c.i=m.D.concat(c.i)),m=x_(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gf(c.h,g),df(g,A,m)}function Pa(c,m){c.H&&M(c.H,function(g,A){Ze(m,A,g)}),c.l&&o_({},function(g,A){Ze(m,A,g)})}function x_(c,m,g){g=Math.min(c.i.length,g);var A=c.l?f(c.l.Na,c.l,c):null;e:{var V=c.i;let U=-1;for(;;){const ee=["count="+g];U==-1?0<g?(U=V[0].g,ee.push("ofs="+U)):U=0:ee.push("ofs="+U);let Ge=!0;for(let Rt=0;Rt<g;Rt++){let je=V[Rt].g;const Ut=V[Rt].map;if(je-=U,0>je)U=Math.max(0,V[Rt].g-100),Ge=!1;else try{wC(Ut,ee,"req"+je+"_")}catch{A&&A(Ut)}}if(Ge){A=ee.join("&");break e}}}return c=c.i.splice(0,g),m.D=c,A}function b_(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;$||P(),j||($(),j=!0),W.add(m,c),c.v=0}}function _f(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ea(f(c.Fa,c),I_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,T_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ea(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Ku(this),T_(this))};function wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function T_(c){c.g=new mi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Dr(c.qa);Ze(m,"RID","rpc"),Ze(m,"SID",c.K),Ze(m,"AID",c.T),Ze(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(m,"TO",c.ja),Ze(m,"TYPE","xmlhttp"),Pa(c,m),c.m&&c.o&&yf(m,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=Hu(Dr(m)),g.m=null,g.P=!0,Jv(g,c)}t.Za=function(){this.C!=null&&(this.C=null,Ku(this),_f(this),sn(19))};function Yu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function S_(c,m){var g=null;if(c.g==m){Yu(c),wf(c),c.g=null;var A=2}else if(mf(c.h,m))g=m.D,i_(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var V=c.B;A=Vu(),Q(A,new Kv(A,g)),Qu(c)}else b_(c);else if(V=m.s,V==3||V==0&&0<m.X||!(A==1&&bC(c,m)||A==2&&_f(c)))switch(g&&0<g.length&&(m=c.h,m.i=m.i.concat(g)),V){case 1:ps(c,5);break;case 4:ps(c,10);break;case 3:ps(c,6);break;default:ps(c,2)}}}function I_(c,m){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*m}function ps(c,m){if(c.j.info("Error code "+m),m==2){var g=f(c.fb,c),A=c.Xa;const V=!A;A=new fs(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zu(A,"https"),Hu(A),V?yC(A.toString(),g):vC(A.toString(),g)}else sn(2);c.G=0,c.l&&c.l.sa(m),C_(c),E_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function C_(c){if(c.G=0,c.ka=[],c.l){const m=s_(c.h);(m.length!=0||c.i.length!=0)&&(R(c.ka,m),R(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function A_(c,m,g){var A=g instanceof fs?Dr(g):new fs(g);if(A.g!="")m&&(A.g=m+"."+A.g),Bu(A,A.s);else{var V=a.location;A=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var U=new fs(null);A&&zu(U,A),m&&(U.g=m),V&&Bu(U,V),g&&(U.l=g),A=U}return g=c.D,m=c.ya,g&&m&&Ze(A,g,m),Ze(A,"VER",c.la),Pa(c,A),A}function P_(c,m,g){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ct(new Wu({eb:g})):new ct(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R_(){}t=R_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xu(){}Xu.prototype.g=function(c,m){return new Rn(c,m)};function Rn(c,m){z.call(this),this.g=new w_(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!_(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new so(this)}v(Rn,z),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){vf(this.g)},Rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Nr(c),c=g);m.i.push(new aC(m.Ya++,c)),m.G==3&&Qu(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,Rn.aa.N.call(this)};function N_(c){lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}v(N_,lf);function D_(){uf.call(this),this.status=1}v(D_,uf);function so(c){this.g=c}v(so,R_),so.prototype.ua=function(){Q(this.g,"a")},so.prototype.ta=function(c){Q(this.g,new N_(c))},so.prototype.sa=function(c){Q(this.g,new D_)},so.prototype.ra=function(){Q(this.g,"b")},Xu.prototype.createWebChannel=Xu.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,E1=function(){return new Xu},w1=function(){return Vu()},_1=hs,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ju.NO_ERROR=0,ju.TIMEOUT=8,ju.HTTP_ERROR=6,Qc=ju,Qv.COMPLETE="complete",v1=Qv,Hv.EventType=_a,_a.OPEN="a",_a.CLOSE="b",_a.ERROR="c",_a.MESSAGE="d",z.prototype.listen=z.prototype.K,Qa=Hv,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,y1=ct}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new xy("@firebase/firestore");function ja(){return Ws.logLevel}function ue(t,...e){if(Ws.logLevel<=Oe.DEBUG){const n=e.map(My);Ws.debug(`Firestore (${da}): ${t}`,...n)}}function ii(t,...e){if(Ws.logLevel<=Oe.ERROR){const n=e.map(My);Ws.error(`Firestore (${da}): ${t}`,...n)}}function Xo(t,...e){if(Ws.logLevel<=Oe.WARN){const n=e.map(My);Ws.warn(`Firestore (${da}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw ii(e),new Error(e)}function We(t,e){t||we()}function be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class $M{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UM{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new k1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Gt(e)}}class zM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){We(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new HM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xe(e)}static min(){return new xe(new mt(0,0))}static max(){return new xe(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(),r===void 0?r=e.length-n:r>e.length-n&&we(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Kl{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const GM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends Kl{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return GM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}function KM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new ns(i,de.empty(),e)}function QM(t){return new ns(t.readTime,t.key,-1)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(xe.min(),de.empty(),-1)}static max(){return new ns(xe.max(),de.empty(),-1)}}function YM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==XM)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ZM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fy.oe=-1;function Vd(t){return t==null}function Bh(t){return t===0&&1/t==-1/0}function eF(t){return typeof t=="number"&&Number.isInteger(t)&&!Bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=i??Ot.EMPTY,this.right=s??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Ft(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new T1("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const tF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(We(!!t),typeof t=="string"){let e=0;const n=tF.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jy(t){const e=t.mapValue.fields.__previous_value__;return Vy(e)?jy(e):e}function Ql(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={mapValue:{}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vy(t)?4:iF(t)?9007199254740991:rF(t)?10:11:we()}function Ir(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rs(i.timestampValue),a=rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ft(i.geoPointValue.latitude)===ft(s.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ft(i.integerValue)===ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ft(i.doubleValue),a=ft(s.doubleValue);return o===a?Bh(o)===Bh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(O0(o)!==O0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ir(o[l],a[l])))return!1;return!0}(t,e);default:return we()}}function Xl(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ft(s.integerValue||s.doubleValue),l=ft(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return M0(t.timestampValue,e.timestampValue);case 4:return M0(Ql(t),Ql(e));case 5:return Ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qs(s),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ue(a[u],l[u]);if(h!==0)return h}return Ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ue(ft(s.latitude),ft(o.latitude));return a!==0?a:Ue(ft(s.longitude),ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},f=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=Ue(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return b!==0?b:F0(p,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===kc.mapValue&&o===kc.mapValue)return 0;if(s===kc.mapValue)return 1;if(o===kc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Ue(l[d],h[d]);if(f!==0)return f;const p=Zo(a[l[d]],u[h[d]]);if(p!==0)return p}return Ue(l.length,h.length)}(t.mapValue,e.mapValue);default:throw we()}}function M0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=rs(t),r=rs(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function F0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zo(n[i],r[i]);if(s)return s}return Ue(n.length,r.length)}function ea(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return de.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hm(n.fields[o])}`;return i+"}"}(t.mapValue):we()}function V0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wm(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function j0(t){return!!t&&"nullValue"in t}function $0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yc(t){return!!t&&"mapValue"in t}function rF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(ml(this.value))}}function S1(t){const e=[];return Zs(t.fields,(n,r)=>{const i=new Lt([n]);if(Yc(r)){const s=S1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,xe.min(),xe.min(),xe.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,xe.min(),xe.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,xe.min(),xe.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function U0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=de.comparator(de.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function sF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class kt extends I1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aF(e,n,r):n==="array-contains"?new cF(e,r):n==="in"?new hF(e,r):n==="not-in"?new dF(e,r):n==="array-contains-any"?new fF(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lF(e,r):new uF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends I1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return C1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function C1(t){return t.op==="and"}function A1(t){return oF(t)&&C1(t)}function oF(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function qm(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(A1(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function P1(t,e){return t instanceof kt?function(r,i){return i instanceof kt&&r.op===i.op&&r.field.isEqual(i.field)&&Ir(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&P1(o,i.filters[a]),!0):!1}(t,e):void we()}function R1(t){return t instanceof kt?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(R1).join(" ,")+"}"}(t):"Filter"}class aF extends kt{constructor(e,n,r){super(e,n,r),this.key=de.fromName(r.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class lF extends kt{constructor(e,n){super(e,"in",n),this.keys=N1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uF extends kt{constructor(e,n){super(e,"not-in",n),this.keys=N1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function N1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>de.fromName(r.referenceValue))}class cF extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&Xl(n.arrayValue,this.value)}}class hF extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class dF extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class fF extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function B0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pF(t,e,n,r,i,s,o)}function Uy(t){const e=be(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ue=n}return e.ue}function zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function Gm(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mF(t,e,n,r,i,s,o,a){return new Eu(t,e,n,r,i,s,o,a)}function jd(t){return new Eu(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D1(t){return t.collectionGroup!==null}function gl(t){const e=be(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ft(Lt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wh(s,r))}),n.has(Lt.keyField().canonicalString())||e.ce.push(new Wh(Lt.keyField(),r))}return e.ce}function xr(t){const e=be(t);return e.le||(e.le=gF(e,gl(t))),e.le}function gF(t,e){if(t.limitType==="F")return B0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wh(i.field,s)});const n=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;return B0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Km(t,e){const n=t.filters.concat([e]);return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qm(t,e,n){return new Eu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return zy(xr(t),xr(e))&&t.limitType===e.limitType}function O1(t){return`${Uy(xr(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>R1(i)).join(", ")}]`),Vd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):de.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,gl(r),i)||r.endAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,gl(r),i))}(t,e)}function yF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function L1(t){return(e,n)=>{let r=!1;for(const i of gl(t)){const s=vF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vF(t,e,n){const r=t.field.isKeyField()?de.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Zo(l,u):we()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=new ut(de.comparator);function si(){return _F}const M1=new ut(de.comparator);function Ya(...t){let e=M1;for(const n of t)e=e.insert(n.key,n);return e}function F1(t){let e=M1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ns(){return yl()}function V1(){return yl()}function yl(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const wF=new ut(de.comparator),EF=new Ft(de.comparator);function Ne(...t){let e=EF;for(const n of t)e=e.add(n);return e}const kF=new Ft(Ue);function xF(){return kF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function j1(t){return{integerValue:""+t}}function bF(t,e){return eF(e)?j1(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function TF(t,e,n){return t instanceof qh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vy(s)&&(s=jy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Jl?U1(t,e):t instanceof Zl?z1(t,e):function(i,s){const o=$1(i,s),a=W0(o)+W0(i.Pe);return Wm(o)&&Wm(i.Pe)?j1(a):By(i.serializer,a)}(t,e)}function SF(t,e,n){return t instanceof Jl?U1(t,e):t instanceof Zl?z1(t,e):n}function $1(t,e){return t instanceof Gh?function(r){return Wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qh extends zd{}class Jl extends zd{constructor(e){super(),this.elements=e}}function U1(t,e){const n=B1(e);for(const r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zl extends zd{constructor(e){super(),this.elements=e}}function z1(t,e){let n=B1(e);for(const r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}class Gh extends zd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function W0(t){return ft(t.integerValue||t.doubleValue)}function B1(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jl&&i instanceof Jl||r instanceof Zl&&i instanceof Zl?Jo(r.elements,i.elements,Ir):r instanceof Gh&&i instanceof Gh?Ir(r.Pe,i.Pe):r instanceof qh&&i instanceof qh}(t.transform,e.transform)}class CF{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function H1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,dn.none()):new ku(t.key,t.data,dn.none());{const n=t.data,r=_n.empty();let i=new Ft(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new us(t.key,r,new Fn(i.toArray()),dn.none())}}function AF(t,e,n){t instanceof ku?function(i,s,o){const a=i.value.clone(),l=G0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(i,s,o){if(!Xc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(W1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof ku?function(s,o,a,l){if(!Xc(s.precondition,o))return a;const u=s.value.clone(),h=K0(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(s,o,a,l){if(!Xc(s.precondition,o))return a;const u=K0(s.fieldTransforms,l,o),h=o.data;return h.setAll(W1(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Xc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=$1(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(s,o)=>IF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends Bd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends Bd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G0(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,SF(o,a,n[i]))}return r}function K0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TF(s,o,e))}return r}class Hd extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RF extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&AF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=H1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>q0(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>q0(n,r))}}class Hy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=function(){return wF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Le;function LF(t){switch(t){default:return we();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function q1(t){if(t===void 0)return ii("GRPC error has no .code"),B.UNKNOWN;switch(t){case gt.OK:return B.OK;case gt.CANCELLED:return B.CANCELLED;case gt.UNKNOWN:return B.UNKNOWN;case gt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case gt.INTERNAL:return B.INTERNAL;case gt.UNAVAILABLE:return B.UNAVAILABLE;case gt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case gt.NOT_FOUND:return B.NOT_FOUND;case gt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case gt.ABORTED:return B.ABORTED;case gt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case gt.DATA_LOSS:return B.DATA_LOSS;default:return we()}}(Le=gt||(gt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=new Ms([4294967295,4294967295],0);function Q0(t){const e=MF().encode(t),n=new g1;return n.update(e),new Uint8Array(n.digest())}function Y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([i,s],0)]}class Wy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(r<0)throw new Xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ms.fromNumber(r)));return i.compare(FF)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q0(e),[r,i]=Y0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Q0(e),[r,i]=Y0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(xe.min(),i,new ut(Ue),si(),Ne())}}class xu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class G1{constructor(e,n){this.targetId=e,this.me=n}}class K1{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X0{constructor(){this.fe=0,this.ge=Z0(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),n=Ne(),r=Ne();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:we()}}),new xu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Z0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VF{constructor(e){this.Le=e,this.Be=new Map,this.ke=si(),this.qe=J0(),this.Qe=new ut(Ue)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Gm(s))if(r===0){const o=new de(s.path);this.Ue(n,o,Qt.newNoDocument(o,xe.min()))}else We(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof T1)return Xo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wy(o,i,s)}catch(l){return Xo(l instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Gm(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Qt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ne();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wd(e,n,this.Qe,this.ke,r);return this.ke=si(),this.qe=J0(),this.Qe=new ut(Ue),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new X0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(Ue),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new X0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function J0(){return new ut(de.comparator)}function Z0(){return new ut(de.comparator)}const jF={asc:"ASCENDING",desc:"DESCENDING"},$F={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UF={and:"AND",or:"OR"};class zF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(t,e){return t.useProto3Json||Vd(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BF(t,e){return Kh(t,e.toTimestamp())}function br(t){return We(!!t),xe.fromTimestamp(function(n){const r=rs(n);return new mt(r.seconds,r.nanos)}(t))}function qy(t,e){return Xm(t,e).canonicalString()}function Xm(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Y1(t){const e=tt.fromString(t);return We(tS(e)),e}function Jm(t,e){return qy(t.databaseId,e.path)}function sp(t,e){const n=Y1(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new de(J1(n))}function X1(t,e){return qy(t.databaseId,e)}function HF(t){const e=Y1(t);return e.length===4?tt.emptyPath():J1(e)}function Zm(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J1(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eE(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function WF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(We(h===void 0||typeof h=="string"),jt.fromBase64String(h||"")):(We(h===void 0||h instanceof Buffer||h instanceof Uint8Array),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?B.UNKNOWN:q1(u.code);return new ie(h,u.message||"")}(o);n=new K1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=br(r.document.updateTime),o=r.document.createTime?br(r.document.createTime):xe.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Qt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Jc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?br(r.readTime):xe.min(),o=Qt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new Jc([],s,i,null)}else{if(!("filter"in e))return we();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new OF(i,s),a=r.targetId;n=new G1(a,o)}}return n}function qF(t,e){let n;if(e instanceof ku)n={update:eE(t,e.key,e.value)};else if(e instanceof Hd)n={delete:Jm(t,e.key)};else if(e instanceof us)n={update:eE(t,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof RF))return we();n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw we()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:we()}(t,e.precondition)),n}function GF(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?br(i.updateTime):br(s);return o.isEqual(xe.min())&&(o=br(s)),new CF(o,i.transformResults||[])}(n,e))):[]}function KF(t,e){return{documents:[X1(t,e.path)]}}function QF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=X1(t,i);const s=function(u){if(u.length!==0)return eS(fr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:fo(f.field),direction:JF(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ym(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function YF(t){let e=HF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=Z1(d);return f instanceof fr&&A1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(v){return new Wh(po(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Vd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Hh(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Hh(p,f)}(n.endAt)),mF(e,i,o,s,a,"F",l,u)}function XF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=po(n.unaryFilter.field);return kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=po(n.unaryFilter.field);return kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=po(n.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(t):t.fieldFilter!==void 0?function(n){return kt.create(po(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>Z1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(t):we()}function JF(t){return jF[t]}function ZF(t){return $F[t]}function eV(t){return UF[t]}function fo(t){return{fieldPath:t.canonicalString()}}function po(t){return Lt.fromServerFormat(t.fieldPath)}function eS(t){return t instanceof kt?function(n){if(n.op==="=="){if($0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:ZF(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>eS(i));return r.length===1?r[0]:{compositeFilter:{op:eV(n.op),filters:r}}}(t):we()}function tV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i,s=xe.min(),o=xe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.ct=e}}function rV(t){const e=YF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.un=new sV}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(ns.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class sV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vl(r.mutation,i,Fn.empty(),mt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const i=Ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ya();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=si();const o=yl(),a=function(){return yl()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof us)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),vl(h.mutation,u,h.mutation.getFieldMask(),mt.now())):o.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new aV(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yl();let i=new ut((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Fn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Ne()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=V1();h.forEach(f=>{if(!s.has(f)){const p=H1(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return de.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Ns());let a=-1,l=s;return o.next(u=>K.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?K.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ne())).next(h=>({batchId:a,changes:F1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,l=>{const u=function(d,f){return new Eu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Qt.newInvalidDocument(h)))});let a=Ya();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&vl(h.mutation,u,Fn.empty(),mt.now()),Ud(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:br(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:rV(i.bundledQuery),readTime:br(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.overlays=new ut(de.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ns();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Ns(),s=n.length+1,o=new de(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ut((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Ns(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return K.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DF(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ne(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Tr=new Ft(Ct.Er),this.dr=new Ft(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new de(new tt([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new de(new tt([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=Ne();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return de.comparator(e.key,n.key)||Ue(e.wr,n.wr)}static Ar(e,n){return Ue(e.wr,n.wr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(Ct.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new NF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Ue);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;de.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new de(s),0);let a=new Ft(Ue);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ct(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.Mr=e,this.docs=function(){return new ut(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=si();const o=n.path,a=new de(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YM(QM(h),r)<=0||(i.has(h.key)||Ud(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){we()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pV(this)}getSize(e){return K.resolve(this.size)}}class pV extends oV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.persistence=e,this.Nr=new fa(n=>Uy(n),zy),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gy,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fy(0),this.Kr=!1,this.Kr=!0,this.$r=new hV,this.referenceDelegate=e(this),this.Ur=new mV(this),this.indexManager=new iV,this.remoteDocumentCache=function(i){return new fV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new nV(n),this.Gr=new uV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const i=new yV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class yV extends JM{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Jr=new Gy,this.Yr=null}static Zr(e){return new Ky(e)}get Xr(){if(this.Yr)return this.Yr;throw we()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=de.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ne(),i=Ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return w2()?8:ZM(en())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new vV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ja()<=Oe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(ja()<=Oe.DEBUG&&ue("QueryEngine","Query:",ho(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ja()<=Oe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):K.resolve())}Yi(e,n){if(H0(n))return K.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qm(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ne(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Qm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return H0(n)||i.isEqual(xe.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?K.resolve(null):(ja()<=Oe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ho(n)),this.rs(e,o,n,KM(i,-1)).next(a=>a))})}ts(e,n){let r=new Ft(L1(e));return n.forEach((i,s)=>{Ud(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ja()<=Oe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ho(n)),this.Ji.getDocumentsMatchingQuery(e,n,ns.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ut(Ue),this._s=new fa(s=>Uy(s),zy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function EV(t,e,n,r){return new wV(t,e,n,r)}async function nS(t,e){const n=be(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ne();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function kV(t,e){const n=be(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=K.resolve();return f.forEach(v=>{p=p.next(()=>h.getEntry(l,v)).next(b=>{const R=u.docVersions.get(v);We(R!==null),b.version.compareTo(R)<0&&(d.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),h.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rS(t){const e=be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function xV(t,e){const n=be(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(b,R,y){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,h)&&a.push(n.Ur.updateTargetData(s,p))});let l=si(),u=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(bV(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(xe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function bV(t,e,n){let r=Ne(),i=Ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=si();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(xe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ue("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function TV(t,e){const n=be(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function SV(t,e){const n=be(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function eg(t,e,n){const r=be(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wu(o))throw o;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tE(t,e,n){const r=be(t);let i=xe.min(),s=Ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=be(l),f=d._s.get(h);return f!==void 0?K.resolve(d.os.get(f)):d.Ur.getTargetData(u,h)}(r,o,xr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:xe.min(),n?s:Ne())).next(a=>(IV(r,yF(e),a),{documents:a,Ts:s})))}function IV(t,e,n){let r=t.us.get(e)||xe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class nE{constructor(){this.activeTargetIds=xF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CV{constructor(){this.so=new nE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function op(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class NV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=op(),l=this.xo(n,r.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(h=>(ue("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Xo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=PV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=op();return new Promise((o,a)=>{const l=new y1;l.setWithCredentials(!0),l.listenOnce(v1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qc.NO_ERROR:const h=l.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Qc.TIMEOUT:ue(Wt,`RPC '${e}' ${s} timed out`),a(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const d=l.getStatus();if(ue(Wt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(R){const y=R.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(p.status);a(new ie(v,p.message))}else a(new ie(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(B.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Wt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ue(Wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=E1(),a=w1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ue(Wt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,p=!1;const v=new RV({Io:R=>{p?ue(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(f||(ue(Wt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ue(Wt,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},To:()=>d.close()}),b=(R,y,_)=>{R.listen(y,x=>{try{_(x)}catch(L){setTimeout(()=>{throw L},0)}})};return b(d,Qa.EventType.OPEN,()=>{p||(ue(Wt,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(d,Qa.EventType.CLOSE,()=>{p||(p=!0,ue(Wt,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(d,Qa.EventType.ERROR,R=>{p||(p=!0,Xo(Wt,`RPC '${e}' stream ${i} transport errored:`,R),v.So(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),b(d,Qa.EventType.MESSAGE,R=>{var y;if(!p){const _=R.data[0];We(!!_);const x=_,L=x.error||((y=x[0])===null||y===void 0?void 0:y.error);if(L){ue(Wt,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let M=function(T){const E=gt[T];if(E!==void 0)return q1(E)}(F),C=L.message;M===void 0&&(M=B.INTERNAL,C="Unknown error status: "+F+" with message "+L.message),p=!0,v.So(new ie(M,C)),d.close()}else ue(Wt,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),b(a,_1.STAT_EVENT,R=>{R.stat===Bm.PROXY?ue(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bm.NOPROXY&&ue(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return new zF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DV extends sS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=WF(this.serializer,e),r=function(s){if(!("targetChange"in s))return xe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?xe.min():o.readTime?br(o.readTime):xe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Gm(l)?{documents:KF(s,l)}:{query:QF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Q1(s,o.resumeToken);const u=Ym(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(xe.min())>0){a.readTime=Kh(s,o.snapshotVersion.toTimestamp());const u=Ym(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.a_(n)}}class OV extends sS{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GF(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Zm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Xm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(B.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Xm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class MV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{eo(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=be(l);u.L_.add(4),await bu(u),u.q_.set("Unknown"),u.L_.delete(4),await Gd(u)}(this))})}),this.q_=new MV(r,i)}}async function Gd(t){if(eo(t))for(const e of t.B_)await e(!0)}async function bu(t){for(const e of t.B_)await e(!1)}function oS(t,e){const n=be(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zy(n)?Jy(n):pa(n).r_()&&Xy(n,e))}function Yy(t,e){const n=be(t),r=pa(n);n.N_.delete(e),r.r_()&&aS(n,e),n.N_.size===0&&(r.r_()?r.o_():eo(n)&&n.q_.set("Unknown"))}function Xy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).A_(e)}function aS(t,e){t.Q_.xe(e),pa(t).R_(e)}function Jy(t){t.Q_=new VF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.q_.v_()}function Zy(t){return eo(t)&&!pa(t).n_()&&t.N_.size>0}function eo(t){return be(t).L_.size===0}function lS(t){t.Q_=void 0}async function VV(t){t.q_.set("Online")}async function jV(t){t.N_.forEach((e,n)=>{Xy(t,e)})}async function $V(t,e){lS(t),Zy(t)?(t.q_.M_(e),Jy(t)):t.q_.set("Unknown")}async function UV(t,e,n){if(t.q_.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof Jc?t.Q_.Ke(e):e instanceof G1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(xe.min()))try{const r=await rS(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),aS(s,l);const d=new Fi(h.target,l,u,h.sequenceNumber);Xy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ue("RemoteStore","Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!wu(e))throw e;t.L_.add(1),await bu(t),t.q_.set("Offline"),n||(n=()=>rS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gd(t)})}function uS(t,e){return e().catch(n=>Qh(t,n,e))}async function Kd(t){const e=be(t),n=is(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;zV(e);)try{const i=await TV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,BV(e,i)}catch(i){await Qh(e,i)}cS(e)&&hS(e)}function zV(t){return eo(t)&&t.O_.length<10}function BV(t,e){t.O_.push(e);const n=is(t);n.r_()&&n.V_&&n.m_(e.mutations)}function cS(t){return eo(t)&&!is(t).n_()&&t.O_.length>0}function hS(t){is(t).start()}async function HV(t){is(t).p_()}async function WV(t){const e=is(t);for(const n of t.O_)e.m_(n.mutations)}async function qV(t,e,n){const r=t.O_.shift(),i=Hy.from(r,e,n);await uS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kd(t)}async function GV(t,e){e&&is(t).V_&&await async function(r,i){if(function(o){return LF(o)&&o!==B.ABORTED}(i.code)){const s=r.O_.shift();is(r).s_(),await uS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kd(r)}}(t,e),cS(t)&&hS(t)}async function iE(t,e){const n=be(t);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const r=eo(n);n.L_.add(3),await bu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gd(n)}async function KV(t,e){const n=be(t);e?(n.L_.delete(2),await Gd(n)):e||(n.L_.add(2),await bu(n),n.q_.set("Unknown"))}function pa(t){return t.K_||(t.K_=function(n,r,i){const s=be(n);return s.w_(),new DV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:VV.bind(null,t),Ro:jV.bind(null,t),mo:$V.bind(null,t),d_:UV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Zy(t)?Jy(t):t.q_.set("Unknown")):(await t.K_.stop(),lS(t))})),t.K_}function is(t){return t.U_||(t.U_=function(n,r,i){const s=be(n);return s.w_(),new OV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:HV.bind(null,t),mo:GV.bind(null,t),f_:WV.bind(null,t),g_:qV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kd(t)):(await t.U_.stop(),t.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ev(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(t,e){if(ii("AsyncQueue",`${e}: ${t}`),wu(t))return new ie(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||de.comparator(n.key,r.key):(n,r)=>de.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new ut(this.comparator)}static emptySet(e){return new jo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.W_=new ut(de.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):we():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class na{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new na(e,n,jo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class YV{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=be(n),s=i.queries;i.queries=oE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ie(B.ABORTED,"Firestore shutting down"))}}function oE(){return new fa(t=>O1(t),$d)}async function nv(t,e){const n=be(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new QV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=tv(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&iv(n)}async function rv(t,e){const n=be(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XV(t,e){const n=be(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&iv(n)}function JV(t,e,n){const r=be(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function iv(t){t.Y_.forEach(e=>{e.next()})}var tg,aE;(aE=tg||(tg={})).ea="default",aE.Cache="cache";class sv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class ZV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=L1(e),this.Ra=new jo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=Ud(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;f&&p?f.data.isEqual(p.data)?v!==b&&(r.track({type:3,doc:p}),R=!0):this.ga(f,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),R=!0):f&&!p&&(r.track({type:1,doc:f}),R=!0,(l||u)&&(a=!0)),R&&(p?(o=o.add(p),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(p,v){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return b(p)-b(v)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new na(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ne(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new fS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new dS(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ne();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class e4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t4{constructor(e){this.key=e,this.va=!1}}class n4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fa(a=>O1(a),$d),this.Ma=new Map,this.xa=new Set,this.Oa=new ut(de.comparator),this.Na=new Map,this.La=new Gy,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function r4(t,e,n=!0){const r=_S(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await pS(r,e,n,!0),i}async function i4(t,e){const n=_S(t);await pS(n,e,!0,!1)}async function pS(t,e,n,r){const i=await SV(t.localStore,xr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await s4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&oS(t.remoteStore,i),a}async function s4(t,e,n,r,i){t.Ka=(d,f,p)=>async function(b,R,y,_){let x=R.view.ma(y);x.ns&&(x=await tE(b.localStore,R.query,!1).then(({documents:C})=>R.view.ma(C,x)));const L=_&&_.targetChanges.get(R.targetId),F=_&&_.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(x,b.isPrimaryClient,L,F);return uE(b,R.targetId,M.wa),M.snapshot}(t,d,f,p);const s=await tE(t.localStore,e,!0),o=new ZV(e,s.Ts),a=o.ma(s.documents),l=xu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);uE(t,n,u.wa);const h=new e4(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function o4(t,e,n){const r=be(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yy(r.remoteStore,i.targetId),ng(r,i.targetId)}).catch(_u)):(ng(r,i.targetId),await eg(r.localStore,i.targetId,!0))}async function a4(t,e){const n=be(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(n.remoteStore,r.targetId))}async function l4(t,e,n){const r=m4(t);try{const i=await function(o,a){const l=be(o),u=mt.now(),h=a.reduce((p,v)=>p.add(v.key),Ne());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=si(),b=Ne();return l.cs.getEntries(p,h).next(R=>{v=R,v.forEach((y,_)=>{_.isValidDocument()||(b=b.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(R=>{d=R;const y=[];for(const _ of a){const x=PF(_,d.get(_.key).overlayedDocument);x!=null&&y.push(new us(_.key,x,S1(x.value.mapValue),dn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(R=>{f=R;const y=R.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(p,R.batchId,y)})}).then(()=>({batchId:f.batchId,changes:F1(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ut(Ue)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await Tu(r,i.changes),await Kd(r.remoteStore)}catch(i){const s=tv(i,"Failed to persist write");n.reject(s)}}async function mS(t,e){const n=be(t);try{const r=await xV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?We(o.va):i.removedDocuments.size>0&&(We(o.va),o.va=!1))}),await Tu(n,r,e)}catch(r){await _u(r)}}function lE(t,e,n){const r=be(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=be(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&iv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u4(t,e,n){const r=be(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ut(de.comparator);o=o.insert(s,Qt.newNoDocument(s,xe.min()));const a=Ne().add(s),l=new Wd(xe.min(),new Map,new ut(Ue),o,a);await mS(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),ov(r)}else await eg(r.localStore,e,!1).then(()=>ng(r,e,n)).catch(_u)}async function c4(t,e){const n=be(t),r=e.batch.batchId;try{const i=await kV(n.localStore,e);yS(n,r,null),gS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(n,i)}catch(i){await _u(i)}}async function h4(t,e,n){const r=be(t);try{const i=await function(o,a){const l=be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(We(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);yS(r,e,n),gS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tu(r,i)}catch(i){await _u(i)}}function gS(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function yS(t,e,n){const r=be(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vS(t,r)})}function vS(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Yy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ov(t))}function uE(t,e,n){for(const r of n)r instanceof dS?(t.La.addReference(r.key,e),d4(t,r)):r instanceof fS?(ue("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vS(t,r.key)):we()}function d4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ue("SyncEngine","New document in limbo: "+n),t.xa.add(r),ov(t))}function ov(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new de(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new t4(n)),t.Oa=t.Oa.insert(n,r),oS(t.remoteStore,new Fi(xr(jd(n.path)),r,"TargetPurposeLimboResolution",Fy.oe))}}async function Tu(t,e,n){const r=be(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Qy.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const h=be(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(u,f=>K.forEach(f.$i,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>K.forEach(f.Ui,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!wu(d))throw d;ue("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.os.get(f),v=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(f,b)}}}(r.localStore,s))}async function f4(t,e){const n=be(t);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const r=await nS(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ie(B.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(n,r.hs)}}function p4(t,e){const n=be(t),r=n.Na.get(e);if(r&&r.va)return Ne().add(r.key);{let i=Ne();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function _S(t){const e=be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u4.bind(null,e),e.Ca.d_=XV.bind(null,e.eventManager),e.Ca.$a=JV.bind(null,e.eventManager),e}function m4(t){const e=be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h4.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return EV(this.persistence,new _V,e.initialUser,this.serializer)}Ga(e){return new gV(Ky.Zr,this.serializer)}Wa(e){return new CV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,this.syncEngine),await KV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YV}()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),r=function(s){return new NV(s)}(e.databaseInfo);return function(s,o,a,l){return new LV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new FV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lE(this.syncEngine,n,0),function(){return rE.D()?new rE:new AV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new n4(i,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=be(i);ue("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=x1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ue("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ue("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y4(t);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iE(e.remoteStore,i)),t._onlineComponents=e}async function y4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new Yh)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new Yh);return t._offlineComponents}async function wS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await cE(t,t._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await cE(t,new rg))),t._onlineComponents}function v4(t){return wS(t).then(e=>e.syncEngine)}async function Xh(t){const e=await wS(t),n=e.eventManager;return n.onListen=r4.bind(null,e.syncEngine),n.onUnlisten=o4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),n}function _4(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new av({next:f=>{h.Za(),o.enqueueAndForget(()=>rv(s,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ie(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ie(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new sv(jd(a.path),h,{includeMetadataChanges:!0,_a:!0});return nv(s,d)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}function w4(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new av({next:f=>{h.Za(),o.enqueueAndForget(()=>rv(s,d)),f.fromCache&&l.source==="server"?u.reject(new ie(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new sv(a,h,{includeMetadataChanges:!0,_a:!0});return nv(s,d)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t,e,n){if(!n)throw new ie(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E4(t,e,n,r){if(e===!0&&r===!0)throw new ie(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dE(t){if(!de.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fE(t){if(de.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we()}function fn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qd(t);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jM;switch(r.type){case"firstParty":return new BM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hE.get(n);r&&(ue("ComponentProvider","Removing Datastore"),hE.delete(n),r.terminate())}(this),Promise.resolve()}}function k4(t,e,n,r={}){var i;const s=(t=fn(t,Yd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Gt.MOCK_USER;else{a=f2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gt(u)}t._authCredentials=new $M(new k1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Ji extends to{constructor(e,n,r){super(e,n,jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new de(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function wt(t,e,...n){if(t=St(t),kS("collection","path",e),t instanceof Yd){const r=tt.fromString(e,...n);return fE(r),new Ji(t,null,r)}{if(!(t instanceof Jt||t instanceof Ji))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return fE(r),new Ji(t.firestore,null,r)}}function qe(t,e,...n){if(t=St(t),arguments.length===1&&(e=x1.newId()),kS("doc","path",e),t instanceof Yd){const r=tt.fromString(e,...n);return dE(r),new Jt(t,null,new de(r))}{if(!(t instanceof Jt||t instanceof Ji))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return dE(r),new Jt(t.firestore,t instanceof Ji?t.converter:null,new de(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iS(this,"async_queue_retry"),this.Vu=()=>{const r=ap();r&&ue("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Kr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wu(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ii("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ev.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&we()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function gE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Cr extends Yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function x4(t,e){const n=typeof t=="object"?t:LT(),r=typeof t=="string"?t:"(default)",i=Ty(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=h2("firestore");s&&k4(i,...s)}return i}function Su(t){if(t._terminated)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b4(t),t._firestoreClient}function b4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new nF(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ES(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new g4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(jt.fromBase64String(e))}catch(n){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4=/^__.*__$/;class S4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class xS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class hv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bS(this.Cu)&&T4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class I4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qd(e)}Qu(e,n,r,i=!1){return new hv({Cu:e,methodName:n,qu:r,path:Lt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cu(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new I4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);fv("Data must be an object, but it was:",o,r);const a=IS(r,o);let l,u;if(s.merge)l=new Fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=ig(e,d,n);if(!o.contains(f))throw new ie(B.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);AS(h,f)||h.push(f)}l=new Fn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new S4(new _n(a),l,u)}class Xd extends lv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function TS(t,e,n,r){const i=t.Qu(1,e,n);fv("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();Zs(r,(l,u)=>{const h=pv(e,l,n);u=St(u);const d=i.Nu(h);if(u instanceof Xd)s.push(h);else{const f=Au(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new Fn(s);return new xS(o,a,i.fieldTransforms)}function SS(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ig(e,r,n)],l=[i];if(s.length%2!=0)throw new ie(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ig(e,s[f])),l.push(s[f+1]);const u=[],h=_n.empty();for(let f=a.length-1;f>=0;--f)if(!AS(u,a[f])){const p=a[f];let v=l[f];v=St(v);const b=o.Nu(p);if(v instanceof Xd)u.push(p);else{const R=Au(v,b);R!=null&&(u.push(p),h.set(p,R))}}const d=new Fn(u);return new xS(h,d,o.fieldTransforms)}function C4(t,e,n,r=!1){return Au(n,t.Qu(r?4:3,e))}function Au(t,e){if(CS(t=St(t)))return fv("Unsupported field value:",e,t),IS(t,e);if(t instanceof lv)return function(r,i){if(!bS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Au(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mt.fromDate(r);return{timestampValue:Kh(i.serializer,s)}}if(r instanceof mt){const s=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,s)}}if(r instanceof uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:Q1(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return By(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qd(r)}`)}(t,e)}function IS(t,e){const n={};return b1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(t,(r,i)=>{const s=Au(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof uv||t instanceof ra||t instanceof Jt||t instanceof lv||t instanceof cv)}function fv(t,e,n){if(!CS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ig(t,e,n){if((e=St(e))instanceof Iu)return e._internalPath;if(typeof e=="string")return pv(t,e);throw Jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const A4=new RegExp("[~\\*/\\[\\]]");function pv(t,e,n){if(e.search(A4)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Iu(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(B.INVALID_ARGUMENT,a+t+l)}function AS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P4 extends PS{data(){return super.data()}}function mv(t,e){return typeof e=="string"?pv(t,e):e instanceof Iu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class R4 extends gv{}function eu(t,e,...n){let r=[];e instanceof gv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof yv).length,a=s.filter(l=>l instanceof Jd).length;if(o>1||o>0&&a>0)throw new ie(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jd extends R4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jd(e,n,r)}_apply(e){const n=this._parse(e);return NS(e._query,n),new to(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=Cu(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ie(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vE(d,h);const p=[];for(const v of d)p.push(yE(l,s,v));f={arrayValue:{values:p}}}else f=yE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vE(d,h),f=C4(a,o,d,h==="in"||h==="not-in");return kt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tu(t,e,n){const r=e,i=mv("where",t);return Jd._create(i,r,n)}class yv extends gv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)NS(o,l),o=Km(o,l)}(e._query,n),new to(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yE(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new ie(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D1(e)&&n.indexOf("/")!==-1)throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!de.isDocumentKey(r))throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return V0(t,new de(r))}if(n instanceof Jt)return V0(t,n._key);throw new ie(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(n)}.`)}function vE(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class N4{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ft(o.doubleValue));return new cv(s)}convertGeoPoint(e){return new uv(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=rs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);We(tS(r));const i=new Yl(r.get(1),r.get(3)),s=new de(r.popFirst(5));return i.isEqual(n)||ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class DS extends PS{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zc extends DS{data(e={}){return super.data(e)}}class OS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zc(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:D4(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function D4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){t=fn(t,Jt);const e=fn(t.firestore,Cr);return _4(Su(e),t._key).then(n=>LS(e,t,n))}class _v extends N4{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function _E(t){t=fn(t,to);const e=fn(t.firestore,Cr),n=Su(e),r=new _v(e);return RS(t._query),w4(n,t._query).then(i=>new OS(e,r,t,i))}function $o(t,e,n){t=fn(t,Jt);const r=fn(t.firestore,Cr),i=vv(t.converter,e,n);return Pu(r,[dv(Cu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dn.none())])}function ia(t,e,n,...r){t=fn(t,Jt);const i=fn(t.firestore,Cr),s=Cu(i);let o;return o=typeof(e=St(e))=="string"||e instanceof Iu?SS(s,"updateDoc",t._key,e,n,r):TS(s,"updateDoc",t._key,e),Pu(i,[o.toMutation(t._key,dn.exists(!0))])}function sg(t){return Pu(fn(t.firestore,Cr),[new Hd(t._key,dn.none())])}function og(t,e){const n=fn(t.firestore,Cr),r=qe(t),i=vv(t.converter,e);return Pu(n,[dv(Cu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then(()=>r)}function un(t,...e){var n,r,i;t=St(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(t instanceof Jt)u=fn(t.firestore,Cr),h=jd(t._key.path),l={next:d=>{e[o]&&e[o](LS(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fn(t,to);u=fn(d.firestore,Cr),h=d._query;const f=new _v(u);l={next:p=>{e[o]&&e[o](new OS(u,f,d,p))},error:e[o+1],complete:e[o+2]},RS(t._query)}return function(f,p,v,b){const R=new av(b),y=new sv(p,R,v);return f.asyncQueue.enqueueAndForget(async()=>nv(await Xh(f),y)),()=>{R.Za(),f.asyncQueue.enqueueAndForget(async()=>rv(await Xh(f),y))}}(Su(u),h,a,l)}function Pu(t,e){return function(r,i){const s=new Kr;return r.asyncQueue.enqueueAndForget(async()=>l4(await v4(r),i,s)),s.promise}(Su(t),e)}function LS(t,e,n){const r=n.docs.get(e._key),i=new _v(t);return new DS(t,i,e._key,r,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cu(e)}set(e,n,r){this._verifyNotCommitted();const i=up(e,this._firestore),s=vv(i.converter,n,r),o=dv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,dn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=up(e,this._firestore);let o;return o=typeof(n=St(n))=="string"||n instanceof Iu?SS(this._dataReader,"WriteBatch.update",s._key,n,r,i):TS(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,dn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=up(e,this._firestore);return this._mutations=this._mutations.concat(new Hd(n._key,dn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function up(t,e){if((t=St(t)).firestore!==e)throw new ie(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){return Su(t=fn(t,Cr)),new L4(t,e=>Pu(t,e))}(function(e,n=!0){(function(i){da=i})(ca),Yo(new Bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Cr(new UM(r.getProvider("auth-internal")),new WM(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yi(D0,"4.7.3",e),Yi(D0,"4.7.3","esm2017")})();const MS=OT(XP),ms=FM(MS),he=x4(MS),cn=({label:t,id:e,...n})=>w.jsxs("div",{children:[w.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),w.jsx("input",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...n})]});function M4({toast:t,confirm:e}){const[n,r]=O.useState([]),[i,s]=O.useState([]),[o,a]=O.useState({teamName:"",fullName:"",adminEmail:""}),[l,u]=O.useState(null);O.useEffect(()=>un(wt(he,"teams"),y=>{const _=y.docs.map(x=>({id:x.id,...x.data()})).sort((x,L)=>x.teamName.localeCompare(L.teamName));r(_)}),[]),O.useEffect(()=>un(wt(he,"team_admins"),y=>{const _=y.docs.map(x=>({id:x.id,...x.data()}));s(_)}),[]);const h=R=>{const{name:y,value:_}=R.target;a(x=>({...x,[y]:_}))},d=()=>{a({teamName:"",fullName:"",adminEmail:""}),u(null)},f=R=>{u(R),a({teamName:R.teamName,fullName:R.fullName,adminEmail:""})},p=async R=>{if(R.preventDefault(),!o.teamName||!o.fullName){t.error("Please provide both a short name and a full name.");return}const y=o.teamName.toUpperCase();try{l?(await ia(qe(he,"teams",l.id),{fullName:o.fullName}),t.success(`Team ${l.id} has been updated.`)):(await $o(qe(he,"teams",y),{teamName:y,fullName:o.fullName}),t.success(`Team ${y} has been created.`)),o.adminEmail&&(await $o(qe(he,"team_admins",o.adminEmail),{team:y}),t.success(`Admin ${o.adminEmail} assigned to ${y}.`)),d()}catch(_){t.error("An error occurred while saving the team."),console.error("Team save error:",_)}},v=async R=>{await e("Are you sure?",`This will delete the team "${R}". This does not delete associated swimmers or admins.`)&&(await sg(qe(he,"teams",R)),t.success(`Team ${R} deleted.`))},b=async R=>{await e("Are you sure?",`This will revoke admin privileges for "${R}".`)&&(await sg(qe(he,"team_admins",R)),t.success(`Admin ${R} removed.`))};return w.jsxs(w.Fragment,{children:[w.jsx("h5",{className:"font-semibold text-lg",children:l?`Editing Team: ${l.teamName}`:"Create New Team"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:l?"Update the team's full name below.":"Enter a team's short name, full name, and optionally assign an admin."}),w.jsxs("form",{onSubmit:p,className:"space-y-4",children:[w.jsx(cn,{label:"Team Short Name (e.g., WCC)",id:"teamName",name:"teamName",type:"text",value:o.teamName,onChange:h,disabled:!!l}),w.jsx(cn,{label:"Team Full Name",id:"fullName",name:"fullName",type:"text",value:o.fullName,onChange:h}),!l&&w.jsx(cn,{label:"Assign Admin Email (Optional)",id:"adminEmail",name:"adminEmail",type:"email",value:o.adminEmail,onChange:h}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Tt,{type:"submit",children:l?"Update Team":"Save Team"}),l&&w.jsx(Tt,{type:"button",variant:"secondary",onClick:d,children:"Cancel"})]})]}),w.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("h5",{className:"font-semibold text-lg",children:"Existing Teams"}),w.jsx("ul",{className:"mt-2 space-y-2",children:n.map(R=>w.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-medium",children:R.teamName}),w.jsx("p",{className:"text-sm text-gray-500",children:R.fullName})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{onClick:()=>f(R),className:"text-gray-500 hover:text-gray-700",title:"Edit Team",children:w.jsx(Fe,{name:"pencil-alt"})}),w.jsx("button",{onClick:()=>v(R.id),className:"text-red-500 hover:text-red-700",title:"Delete Team",children:w.jsx(Fe,{name:"trash"})})]})]},R.id))})]}),w.jsxs("div",{children:[w.jsx("h5",{className:"font-semibold text-lg",children:"Team Admins"}),w.jsx("ul",{className:"mt-2 space-y-2",children:i.map(R=>w.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-medium",children:R.id}),w.jsxs("p",{className:"text-sm text-gray-500",children:["Team: ",R.team]})]}),w.jsx("button",{onClick:()=>b(R.id),className:"text-red-500 hover:text-red-700",title:"Delete Admin",children:w.jsx(Fe,{name:"trash"})})]},R.id))})]})]})]})}const Wr=({label:t,id:e,children:n,...r})=>w.jsxs("div",{children:[w.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),w.jsx("select",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...r,children:n})]}),F4=({t,meetToCopy:e,onCopy:n})=>{const[r,i]=O.useState(`Copy of ${e.name}`),[s,o]=O.useState(new Date().toISOString().split("T")[0]),a=()=>{if(!r||!s){$e.error("Name and date are required.");return}n(r,s),$e.dismiss(t.id)};return w.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-4 rounded-lg shadow-lg flex flex-col gap-2 border border-border-light dark:border-border-dark",children:[w.jsx("h4",{className:"font-bold text-text-dark dark:text-text-light",children:"Copy Meet"}),w.jsx(cn,{label:"New Meet Name",id:"copy-meet-name",value:r,onChange:l=>i(l.target.value)}),w.jsx(cn,{label:"New Meet Date",id:"copy-meet-date",type:"date",value:s,onChange:l=>o(l.target.value)}),w.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[w.jsx(Tt,{variant:"secondary",onClick:()=>$e.dismiss(t.id),children:"Cancel"}),w.jsx(Tt,{onClick:a,children:"Copy"})]})]})};function V4({allMeets:t,confirm:e}){const[n,r]=O.useState([]),[i,s]=O.useState(""),[o,a]=O.useState(""),[l,u]=O.useState(8),[h,d]=O.useState(""),[f,p]=O.useState(""),[v,b]=O.useState(""),[R,y]=O.useState(null);O.useEffect(()=>{const k=un(wt(he,"teams"),T=>{const E=T.docs.map(N=>({id:N.id,...N.data()}));r(E)});return()=>k()},[]);const _=k=>k&&typeof k.toDate=="function"?new Date(k.toDate()).toISOString().split("T")[0]:k instanceof Date?k.toISOString().split("T")[0]:"",x=k=>{y(k),s(k.name),a(_(k.date)),u(k.lanesAvailable||8),d(k.location||""),p(k.homeTeam||""),b(k.awayTeam||"")},L=()=>{s(""),a(""),u(8),d(""),p(""),b(""),y(null)},F=async k=>{if(k.preventDefault(),!i||!o){$e.error("Meet Name and Date are required.");return}const T={name:i,date:mt.fromDate(new Date(o+"T00:00:00")),lanesAvailable:parseInt(l,10)||8,location:h||"",homeTeam:f||"",awayTeam:v||""};try{R?(await ia(qe(he,"meets",R.id),T),$e.success("Meet updated successfully!")):(await og(wt(he,"meets"),T),$e.success("Meet created successfully!")),L()}catch(E){$e.error("Failed to save meet."),console.error("Meet save error:",E)}},M=async(k,T)=>{if(await e("Are you sure?",`This will permanently delete "${T}" and all associated events.`))try{const E=eu(wt(he,"meet_events"),tu("meetId","==",k)),N=await _E(E),I=Ri(he);N.forEach(S=>I.delete(S.ref)),I.delete(qe(he,"meets",k)),await I.commit(),$e.success(`"${T}" was deleted.`)}catch(E){$e.error("Failed to delete meet."),console.error("Meet delete error:",E)}},C=k=>{const T=async(E,N)=>{try{$e.loading("Copying meet...");const I=new Date(N+"T00:00:00"),S={name:E,date:mt.fromDate(I),location:k.location||"",homeTeam:k.homeTeam||"",awayTeam:k.awayTeam||"",lanesAvailable:k.lanesAvailable||8},G=await og(wt(he,"meets"),S),H=eu(wt(he,"meet_events"),tu("meetId","==",k.id)),ne=await _E(H);if(ne.empty){$e.dismiss(),$e.success(`Successfully copied meet "${E}". No events were scheduled in the original.`);return}const $=Ri(he);ne.docs.forEach(j=>{const P={...j.data(),meetId:G.id,heats:[]};$.set(qe(wt(he,"meet_events")),P)}),await $.commit(),$e.dismiss(),$e.success("Successfully copied meet and its schedule.")}catch(I){$e.dismiss(),$e.error("Failed to copy meet."),console.error("Copy meet error:",I)}};$e.custom(E=>w.jsx(F4,{t:E,meetToCopy:k,onCopy:T}),{duration:1/0})};return w.jsxs(w.Fragment,{children:[w.jsx("h5",{className:"font-semibold text-lg",children:R?"Edit Meet":"Create New Meet"}),w.jsxs("form",{onSubmit:F,className:"space-y-4 mt-2",children:[w.jsx(cn,{label:"Meet Name",id:"meetName",type:"text",value:i,onChange:k=>s(k.target.value)}),w.jsx(cn,{label:"Location",id:"location",type:"text",value:h,onChange:k=>d(k.target.value)}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsxs(Wr,{label:"Home Team (Optional)",id:"homeTeam",value:f,onChange:k=>p(k.target.value),children:[w.jsx("option",{value:"",children:"-- No Home Team --"}),n.map(k=>w.jsx("option",{value:k.id,children:k.fullName},k.id))]}),w.jsxs(Wr,{label:"Away Team (Optional)",id:"awayTeam",value:v,onChange:k=>b(k.target.value),children:[w.jsx("option",{value:"",children:"-- No Away Team --"}),n.filter(k=>k.id!==f).map(k=>w.jsx("option",{value:k.id,children:k.fullName},k.id))]})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w.jsx(cn,{label:"Meet Date",id:"meetDate",type:"date",value:o,onChange:k=>a(k.target.value)}),w.jsx(cn,{label:"Lanes Available",id:"lanesAvailable",type:"number",min:"1",max:"12",value:l,onChange:k=>u(k.target.value)})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[w.jsx(Tt,{type:"submit",children:R?"Update Meet":"Add Meet"}),R&&w.jsx(Tt,{type:"button",variant:"secondary",onClick:L,children:"Cancel"})]})]}),w.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),w.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Meets"}),w.jsx("ul",{className:"mt-2 space-y-2",children:t.map(k=>w.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-medium",children:k.name}),w.jsx("p",{className:"text-sm text-gray-500",children:new Date(_(k.date)+"T00:00:00").toLocaleDateString()})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>C(k),title:"Copy Meet",children:w.jsx(Fe,{name:"copy"})}),w.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>x(k),title:"Edit",children:w.jsx(Fe,{name:"pencil-alt"})}),w.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>M(k.id,k.name),title:"Delete",children:w.jsx(Fe,{name:"trash"})})]})]},k.id))})]})}function j4({adminRole:t,isSuperAdmin:e,toast:n,confirm:r}){const[i,s]=O.useState(""),[o,a]=O.useState([]),[l,u]=O.useState(null);O.useEffect(()=>un(wt(he,"event_library"),R=>{const y=R.docs.map(_=>({id:_.id,..._.data()})).sort((_,x)=>_.name.localeCompare(x.name));a(y)}),[]);const h=()=>{s(""),u(null)},d=b=>{u(b),s(b.name)},f=async(b,R)=>{if(await r("Are you sure?",`This will permanently delete "${R}" from the Event Library.`))try{await sg(qe(he,"event_library",b)),n.success("Library event deleted successfully.")}catch{n.error("Error deleting library event.")}},p=async b=>{if(b.preventDefault(),!i.trim()){n.error("Event name cannot be empty.");return}try{l?(await ia(qe(he,"event_library",l.id),{name:i}),n.success("Library event updated successfully.")):(await og(wt(he,"event_library"),{name:i}),n.success("Library event created successfully.")),h()}catch{n.error("Error saving library event.")}},v=async()=>{if(!await r("Bulk Load Events?","This will add any missing standard events to the library. It will not create duplicates."))return;const b=new Set(o.map(_=>_.name)),R=Vb.filter(_=>!b.has(_));if(R.length===0){n.success("All standard library events already exist.");return}n.loading(`Adding ${R.length} new library events...`);const y=Ri(he);R.forEach(_=>{const x=qe(wt(he,"event_library"));y.set(x,{name:_})});try{await y.commit(),n.dismiss(),n.success("Bulk load complete!")}catch(_){n.dismiss(),n.error("An error occurred during bulk load."),console.error("Bulk load error:",_)}};return w.jsxs(w.Fragment,{children:[w.jsx("h5",{className:"font-semibold text-lg",children:"Event Library"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a master list of reusable event types."}),e&&w.jsxs("div",{className:"my-4 space-y-4",children:[w.jsxs("form",{onSubmit:p,className:"space-y-4",children:[w.jsx(cn,{label:l?"Edit Event Name":"New Event Name",id:"libraryEventName",type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"e.g., Girls 9-10 50m Freestyle"}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[w.jsx(Tt,{type:"submit",children:l?"Update Event":"Create Event"}),l&&w.jsx(Tt,{type:"button",variant:"secondary",onClick:h,children:"Cancel"})]})]}),w.jsx(Tt,{variant:"outline-success",onClick:v,children:"Bulk Load Standard Events"})]}),w.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),w.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Library Events"}),w.jsx("ul",{className:"mt-2 space-y-2",children:o.map(b=>w.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[w.jsx("span",{className:"font-medium",children:b.name}),e&&w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>d(b),title:"Edit",children:w.jsx(Fe,{name:"pencil-alt"})}),w.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>f(b.id,b.name),title:"Delete",children:w.jsx(Fe,{name:"trash"})})]})]},b.id))})]})}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function wE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wE(Object(n),!0).forEach(function(r){$4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eh=function(e){return typeof e}:eh=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function $4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oi(){return oi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oi.apply(this,arguments)}function U4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function z4(t,e){if(t==null)return{};var n=U4(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var B4="1.15.6";function Qr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ci=Qr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ru=Qr(/Edge/i),EE=Qr(/firefox/i),_l=Qr(/safari/i)&&!Qr(/chrome/i)&&!Qr(/android/i),wv=Qr(/iP(ad|od|hone)/i),FS=Qr(/chrome/i)&&Qr(/android/i),VS={capture:!1,passive:!1};function De(t,e,n){t.addEventListener(e,n,!ci&&VS)}function Re(t,e,n){t.removeEventListener(e,n,!ci&&VS)}function Zh(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function jS(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function sr(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Zh(t,e):Zh(t,e))||r&&t===n)return t;if(t===n)break}while(t=jS(t))}return null}var kE=/\s+/g;function Nn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(kE," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(kE," ")}}function ye(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Uo(t,e){var n="";if(typeof t=="string")n=t;else do{var r=ye(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function $S(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Tr(){var t=document.scrollingElement;return t||document.documentElement}function _t(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,h,d;if(t!==window&&t.parentNode&&t!==Tr()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,h=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!ci))do if(i&&i.getBoundingClientRect&&(ye(i,"transform")!=="none"||n&&ye(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(ye(i,"border-top-width")),a-=f.left+parseInt(ye(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=Uo(i||t),v=p&&p.a,b=p&&p.d;p&&(o/=b,a/=v,d/=v,h/=b,l=o+h,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:h}}}function xE(t,e,n){for(var r=Vi(t,!0),i=_t(t)[e];r;){var s=_t(r)[n],o=void 0;if(o=i>=s,!o)return r;if(r===Tr())break;r=Vi(r,!1)}return!1}function sa(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==ve.ghost&&(r||o[s]!==ve.dragged)&&sr(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function Ev(t,e){for(var n=t.lastElementChild;n&&(n===ve.ghost||ye(n,"display")==="none"||e&&!Zh(n,e));)n=n.previousElementSibling;return n||null}function Wn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ve.clone&&(!e||Zh(t,e))&&n++;return n}function bE(t){var e=0,n=0,r=Tr();if(t)do{var i=Uo(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function H4(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Vi(t,e){if(!t||!t.getBoundingClientRect)return Tr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=ye(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Tr();if(r||e)return n;r=!0}}while(n=n.parentNode);return Tr()}function W4(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function cp(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var wl;function US(t,e){return function(){if(!wl){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),wl=setTimeout(function(){wl=void 0},e)}}}function q4(){clearTimeout(wl),wl=void 0}function zS(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function BS(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function HS(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,o,a,l;if(!(!sr(i,e.draggable,t,!1)||i.animated||i===n)){var u=_t(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,u.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var wn="Sortable"+new Date().getTime();function G4(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(ye(i,"display")==="none"||i===ve.ghost)){t.push({target:i,rect:_t(i)});var s=Ar({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Uo(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(H4(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,h=u.fromRect,d=_t(u),f=u.prevFromRect,p=u.prevToRect,v=a.rect,b=Uo(u,!0);b&&(d.top-=b.f,d.left-=b.e),u.toRect=d,u.thisAnimationDuration&&cp(f,d)&&!cp(h,d)&&(v.top-d.top)/(v.left-d.left)===(h.top-d.top)/(h.left-d.left)&&(l=Q4(v,f,p,i.options)),cp(d,h)||(u.prevFromRect=h,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,v,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){ye(r,"transition",""),ye(r,"transform","");var a=Uo(this.el),l=a&&a.a,u=a&&a.d,h=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!h,r.animatingY=!!d,ye(r,"transform","translate3d("+h+"px,"+d+"px,0)"),this.forRepaintDummy=K4(r),ye(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ye(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){ye(r,"transition",""),ye(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function K4(t){return t.offsetWidth}function Q4(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var lo=[],hp={initializeByDefault:!0},Nu={mount:function(e){for(var n in hp)hp.hasOwnProperty(n)&&!(n in e)&&(e[n]=hp[n]);lo.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),lo.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";lo.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Ar({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Ar({sortable:n},r)))})},initializePlugins:function(e,n,r,i){lo.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,oi(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return lo.forEach(function(i){typeof i.eventProperties=="function"&&oi(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return lo.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function Y4(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,v=t.extraEventProperties;if(e=e||n&&n[wn],!!e){var b,R=e.options,y="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!ci&&!Ru?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=o||n,b.from=a||n,b.item=i||n,b.clone=s,b.oldIndex=l,b.newIndex=u,b.oldDraggableIndex=h,b.newDraggableIndex=d,b.originalEvent=f,b.pullMode=p?p.lastPutMode:void 0;var _=Ar(Ar({},v),Nu.getEventProperties(r,e));for(var x in _)b[x]=_[x];n&&n.dispatchEvent(b),R[y]&&R[y].call(e,b)}}var X4=["evt"],gn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=z4(r,X4);Nu.pluginEvent.bind(ve)(e,n,Ar({dragEl:Z,parentEl:ht,ghostEl:ke,rootEl:rt,nextEl:xs,lastDownEl:th,cloneEl:st,cloneHidden:Ni,dragStarted:Za,putSortable:Nt,activeSortable:ve.active,originalEvent:i,oldIndex:Ao,oldDraggableIndex:El,newIndex:On,newDraggableIndex:xi,hideGhostForTarget:KS,unhideGhostForTarget:QS,cloneNowHidden:function(){Ni=!0},cloneNowShown:function(){Ni=!1},dispatchSortableEvent:function(a){on({sortable:n,name:a,originalEvent:i})}},s))};function on(t){Y4(Ar({putSortable:Nt,cloneEl:st,targetEl:Z,rootEl:rt,oldIndex:Ao,oldDraggableIndex:El,newIndex:On,newDraggableIndex:xi},t))}var Z,ht,ke,rt,xs,th,st,Ni,Ao,On,El,xi,bc,Nt,mo=!1,ed=!1,td=[],gs,nr,dp,fp,TE,SE,Za,uo,kl,xl=!1,Tc=!1,nh,qt,pp=[],ag=!1,nd=[],Zd=typeof document<"u",Sc=wv,IE=Ru||ci?"cssFloat":"float",J4=Zd&&!FS&&!wv&&"draggable"in document.createElement("div"),WS=function(){if(Zd){if(ci)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),qS=function(e,n){var r=ye(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=sa(e,0,n),o=sa(e,1,n),a=s&&ye(s),l=o&&ye(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+_t(s).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+_t(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[IE]==="none"||o&&r[IE]==="none"&&u+h>i)?"vertical":"horizontal"},Z4=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},ej=function(e,n){var r;return td.some(function(i){var s=i[wn].options.emptyInsertThreshold;if(!(!s||Ev(i))){var o=_t(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},GS=function(e){function n(s,o){return function(a,l,u,h){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,h),o)(a,l,u,h);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||eh(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},KS=function(){!WS&&ke&&ye(ke,"display","none")},QS=function(){!WS&&ke&&ye(ke,"display","")};Zd&&!FS&&document.addEventListener("click",function(t){if(ed)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ed=!1,!1},!0);var ys=function(e){if(Z){e=e.touches?e.touches[0]:e;var n=ej(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[wn]._onDragOver(r)}}},tj=function(e){Z&&Z.parentNode[wn]._isOutsideThisEl(e.target)};function ve(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=oi({},e),t[wn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qS(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ve.supportPointer!==!1&&"PointerEvent"in window&&(!_l||wv),emptyInsertThreshold:5};Nu.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);GS(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:J4,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?De(t,"pointerdown",this._onTapStart):(De(t,"mousedown",this._onTapStart),De(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(De(t,"dragover",this),De(t,"dragenter",this)),td.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),oi(this,G4())}ve.prototype={constructor:ve,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(uo=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Z):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,h=i.filter;if(uj(r),!Z&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&_l&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=sr(l,i.draggable,r,!1),!(l&&l.animated)&&th!==l)){if(Ao=Wn(l),El=Wn(l,i.draggable),typeof h=="function"){if(h.call(this,e,l,this)){on({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),gn("filter",n,{evt:e}),s&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(d){if(d=sr(u,d.trim(),r,!1),d)return on({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),gn("filter",n,{evt:e}),!0}),h)){s&&e.preventDefault();return}i.handle&&!sr(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Z&&r.parentNode===s){var u=_t(r);if(rt=s,Z=r,ht=Z.parentNode,xs=Z.nextSibling,th=r,bc=o.group,ve.dragged=Z,gs={target:Z,clientX:(n||e).clientX,clientY:(n||e).clientY},TE=gs.clientX-u.left,SE=gs.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Z.style["will-change"]="all",l=function(){if(gn("delayEnded",i,{evt:e}),ve.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!EE&&i.nativeDraggable&&(Z.draggable=!0),i._triggerDragStart(e,n),on({sortable:i,name:"choose",originalEvent:e}),Nn(Z,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){$S(Z,h.trim(),mp)}),De(a,"dragover",ys),De(a,"mousemove",ys),De(a,"touchmove",ys),o.supportPointer?(De(a,"pointerup",i._onDrop),!this.nativeDraggable&&De(a,"pointercancel",i._onDrop)):(De(a,"mouseup",i._onDrop),De(a,"touchend",i._onDrop),De(a,"touchcancel",i._onDrop)),EE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Z.draggable=!0),gn("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Ru||ci))){if(ve.eventCanceled){this._onDrop();return}o.supportPointer?(De(a,"pointerup",i._disableDelayedDrag),De(a,"pointercancel",i._disableDelayedDrag)):(De(a,"mouseup",i._disableDelayedDrag),De(a,"touchend",i._disableDelayedDrag),De(a,"touchcancel",i._disableDelayedDrag)),De(a,"mousemove",i._delayedDragTouchMoveHandler),De(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&De(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Z&&mp(Z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Re(e,"mouseup",this._disableDelayedDrag),Re(e,"touchend",this._disableDelayedDrag),Re(e,"touchcancel",this._disableDelayedDrag),Re(e,"pointerup",this._disableDelayedDrag),Re(e,"pointercancel",this._disableDelayedDrag),Re(e,"mousemove",this._delayedDragTouchMoveHandler),Re(e,"touchmove",this._delayedDragTouchMoveHandler),Re(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?De(document,"pointermove",this._onTouchMove):n?De(document,"touchmove",this._onTouchMove):De(document,"mousemove",this._onTouchMove):(De(Z,"dragend",this),De(rt,"dragstart",this._onDragStart));try{document.selection?rh(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(mo=!1,rt&&Z){gn("dragStarted",this,{evt:n}),this.nativeDraggable&&De(document,"dragover",tj);var r=this.options;!e&&Nn(Z,r.dragClass,!1),Nn(Z,r.ghostClass,!0),ve.active=this,e&&this._appendGhost(),on({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(nr){this._lastX=nr.clientX,this._lastY=nr.clientY,KS();for(var e=document.elementFromPoint(nr.clientX,nr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(nr.clientX,nr.clientY),e!==n);)n=e;if(Z.parentNode[wn]._isOutsideThisEl(e),n)do{if(n[wn]){var r=void 0;if(r=n[wn]._onDragOver({clientX:nr.clientX,clientY:nr.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=jS(n));QS()}},_onTouchMove:function(e){if(gs){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=ke&&Uo(ke,!0),a=ke&&o&&o.a,l=ke&&o&&o.d,u=Sc&&qt&&bE(qt),h=(s.clientX-gs.clientX+i.x)/(a||1)+(u?u[0]-pp[0]:0)/(a||1),d=(s.clientY-gs.clientY+i.y)/(l||1)+(u?u[1]-pp[1]:0)/(l||1);if(!ve.active&&!mo){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(ke){o?(o.e+=h-(dp||0),o.f+=d-(fp||0)):o={a:1,b:0,c:0,d:1,e:h,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");ye(ke,"webkitTransform",f),ye(ke,"mozTransform",f),ye(ke,"msTransform",f),ye(ke,"transform",f),dp=h,fp=d,nr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ke){var e=this.options.fallbackOnBody?document.body:rt,n=_t(Z,!0,Sc,!0,e),r=this.options;if(Sc){for(qt=e;ye(qt,"position")==="static"&&ye(qt,"transform")==="none"&&qt!==document;)qt=qt.parentNode;qt!==document.body&&qt!==document.documentElement?(qt===document&&(qt=Tr()),n.top+=qt.scrollTop,n.left+=qt.scrollLeft):qt=Tr(),pp=bE(qt)}ke=Z.cloneNode(!0),Nn(ke,r.ghostClass,!1),Nn(ke,r.fallbackClass,!0),Nn(ke,r.dragClass,!0),ye(ke,"transition",""),ye(ke,"transform",""),ye(ke,"box-sizing","border-box"),ye(ke,"margin",0),ye(ke,"top",n.top),ye(ke,"left",n.left),ye(ke,"width",n.width),ye(ke,"height",n.height),ye(ke,"opacity","0.8"),ye(ke,"position",Sc?"absolute":"fixed"),ye(ke,"zIndex","100000"),ye(ke,"pointerEvents","none"),ve.ghost=ke,e.appendChild(ke),ye(ke,"transform-origin",TE/parseInt(ke.style.width)*100+"% "+SE/parseInt(ke.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(gn("dragStart",this,{evt:e}),ve.eventCanceled){this._onDrop();return}gn("setupClone",this),ve.eventCanceled||(st=BS(Z),st.removeAttribute("id"),st.draggable=!1,st.style["will-change"]="",this._hideClone(),Nn(st,this.options.chosenClass,!1),ve.clone=st),r.cloneId=rh(function(){gn("clone",r),!ve.eventCanceled&&(r.options.removeCloneOnHide||rt.insertBefore(st,Z),r._hideClone(),on({sortable:r,name:"clone"}))}),!n&&Nn(Z,s.dragClass,!0),n?(ed=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Re(document,"mouseup",r._onDrop),Re(document,"touchend",r._onDrop),Re(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Z)),De(document,"drop",r),ye(Z,"transform","translateZ(0)")),mo=!0,r._dragStartId=rh(r._dragStarted.bind(r,n,e)),De(document,"selectstart",r),Za=!0,window.getSelection().removeAllRanges(),_l&&ye(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=ve.active,h=bc===l,d=a.sort,f=Nt||u,p,v=this,b=!1;if(ag)return;function R(j,W){gn(j,v,Ar({evt:e,isOwner:h,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:f,target:r,completed:_,onMove:function(q,le){return Ic(rt,n,Z,i,q,_t(q),e,le)},changed:x},W))}function y(){R("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function _(j){return R("dragOverCompleted",{insertion:j}),j&&(h?u._hideClone():u._showClone(v),v!==f&&(Nn(Z,Nt?Nt.options.ghostClass:u.options.ghostClass,!1),Nn(Z,a.ghostClass,!0)),Nt!==v&&v!==ve.active?Nt=v:v===ve.active&&Nt&&(Nt=null),f===v&&(v._ignoreWhileAnimating=r),v.animateAll(function(){R("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===Z&&!Z.animated||r===n&&!r.animated)&&(uo=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Z.parentNode[wn]._isOutsideThisEl(e.target),!j&&ys(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function x(){On=Wn(Z),xi=Wn(Z,a.draggable),on({sortable:v,name:"change",toEl:n,newIndex:On,newDraggableIndex:xi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=sr(r,a.draggable,n,!0),R("dragOver"),ve.eventCanceled)return b;if(Z.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||v._ignoreWhileAnimating===r)return _(!1);if(ed=!1,u&&!a.disabled&&(h?d||(o=ht!==rt):Nt===this||(this.lastPutMode=bc.checkPull(this,u,Z,e))&&l.checkPut(this,u,Z,e))){if(p=this._getDirection(e,r)==="vertical",i=_t(Z),R("dragOverValid"),ve.eventCanceled)return b;if(o)return ht=rt,y(),this._hideClone(),R("revert"),ve.eventCanceled||(xs?rt.insertBefore(Z,xs):rt.appendChild(Z)),_(!0);var L=Ev(n,a.draggable);if(!L||sj(e,p,this)&&!L.animated){if(L===Z)return _(!1);if(L&&n===e.target&&(r=L),r&&(s=_t(r)),Ic(rt,n,Z,i,r,s,e,!!r)!==!1)return y(),L&&L.nextSibling?n.insertBefore(Z,L.nextSibling):n.appendChild(Z),ht=n,x(),_(!0)}else if(L&&ij(e,p,this)){var F=sa(n,0,a,!0);if(F===Z)return _(!1);if(r=F,s=_t(r),Ic(rt,n,Z,i,r,s,e,!1)!==!1)return y(),n.insertBefore(Z,F),ht=n,x(),_(!0)}else if(r.parentNode===n){s=_t(r);var M=0,C,k=Z.parentNode!==n,T=!Z4(Z.animated&&Z.toRect||i,r.animated&&r.toRect||s,p),E=p?"top":"left",N=xE(r,"top","top")||xE(Z,"top","top"),I=N?N.scrollTop:void 0;uo!==r&&(C=s[E],xl=!1,Tc=!T&&a.invertSwap||k),M=oj(e,r,s,p,T?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Tc,uo===r);var S;if(M!==0){var G=Wn(Z);do G-=M,S=ht.children[G];while(S&&(ye(S,"display")==="none"||S===ke))}if(M===0||S===r)return _(!1);uo=r,kl=M;var H=r.nextElementSibling,ne=!1;ne=M===1;var $=Ic(rt,n,Z,i,r,s,e,ne);if($!==!1)return($===1||$===-1)&&(ne=$===1),ag=!0,setTimeout(rj,30),y(),ne&&!H?n.appendChild(Z):r.parentNode.insertBefore(Z,ne?H:r),N&&zS(N,0,I-N.scrollTop),ht=Z.parentNode,C!==void 0&&!Tc&&(nh=Math.abs(C-_t(r)[E])),x(),_(!0)}if(n.contains(Z))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Re(document,"mousemove",this._onTouchMove),Re(document,"touchmove",this._onTouchMove),Re(document,"pointermove",this._onTouchMove),Re(document,"dragover",ys),Re(document,"mousemove",ys),Re(document,"touchmove",ys)},_offUpEvents:function(){var e=this.el.ownerDocument;Re(e,"mouseup",this._onDrop),Re(e,"touchend",this._onDrop),Re(e,"pointerup",this._onDrop),Re(e,"pointercancel",this._onDrop),Re(e,"touchcancel",this._onDrop),Re(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(On=Wn(Z),xi=Wn(Z,r.draggable),gn("drop",this,{evt:e}),ht=Z&&Z.parentNode,On=Wn(Z),xi=Wn(Z,r.draggable),ve.eventCanceled){this._nulling();return}mo=!1,Tc=!1,xl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),lg(this.cloneId),lg(this._dragStartId),this.nativeDraggable&&(Re(document,"drop",this),Re(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_l&&ye(document.body,"user-select",""),ye(Z,"transform",""),e&&(Za&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),ke&&ke.parentNode&&ke.parentNode.removeChild(ke),(rt===ht||Nt&&Nt.lastPutMode!=="clone")&&st&&st.parentNode&&st.parentNode.removeChild(st),Z&&(this.nativeDraggable&&Re(Z,"dragend",this),mp(Z),Z.style["will-change"]="",Za&&!mo&&Nn(Z,Nt?Nt.options.ghostClass:this.options.ghostClass,!1),Nn(Z,this.options.chosenClass,!1),on({sortable:this,name:"unchoose",toEl:ht,newIndex:null,newDraggableIndex:null,originalEvent:e}),rt!==ht?(On>=0&&(on({rootEl:ht,name:"add",toEl:ht,fromEl:rt,originalEvent:e}),on({sortable:this,name:"remove",toEl:ht,originalEvent:e}),on({rootEl:ht,name:"sort",toEl:ht,fromEl:rt,originalEvent:e}),on({sortable:this,name:"sort",toEl:ht,originalEvent:e})),Nt&&Nt.save()):On!==Ao&&On>=0&&(on({sortable:this,name:"update",toEl:ht,originalEvent:e}),on({sortable:this,name:"sort",toEl:ht,originalEvent:e})),ve.active&&((On==null||On===-1)&&(On=Ao,xi=El),on({sortable:this,name:"end",toEl:ht,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){gn("nulling",this),rt=Z=ht=ke=xs=st=th=Ni=gs=nr=Za=On=xi=Ao=El=uo=kl=Nt=bc=ve.dragged=ve.ghost=ve.clone=ve.active=null,nd.forEach(function(e){e.checked=!0}),nd.length=dp=fp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Z&&(this._onDragOver(e),nj(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],sr(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||lj(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];sr(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return sr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Nu.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&GS(r)},destroy:function(){gn("destroy",this);var e=this.el;e[wn]=null,Re(e,"mousedown",this._onTapStart),Re(e,"touchstart",this._onTapStart),Re(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Re(e,"dragover",this),Re(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),td.splice(td.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ni){if(gn("hideClone",this),ve.eventCanceled)return;ye(st,"display","none"),this.options.removeCloneOnHide&&st.parentNode&&st.parentNode.removeChild(st),Ni=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ni){if(gn("showClone",this),ve.eventCanceled)return;Z.parentNode==rt&&!this.options.group.revertClone?rt.insertBefore(st,Z):xs?rt.insertBefore(st,xs):rt.appendChild(st),this.options.group.revertClone&&this.animate(Z,st),ye(st,"display",""),Ni=!1}}};function nj(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ic(t,e,n,r,i,s,o,a){var l,u=t[wn],h=u.options.onMove,d;return window.CustomEvent&&!ci&&!Ru?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||_t(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),h&&(d=h.call(u,l,o)),d}function mp(t){t.draggable=!1}function rj(){ag=!1}function ij(t,e,n){var r=_t(sa(n.el,0,n.options,!0)),i=HS(n.el,n.options,ke),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function sj(t,e,n){var r=_t(Ev(n.el,n.options.draggable)),i=HS(n.el,n.options,ke),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function oj(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,h=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(a&&nh<u*i){if(!xl&&(kl===1?l>h+u*s/2:l<d-u*s/2)&&(xl=!0),xl)f=!0;else if(kl===1?l<h+nh:l>d-nh)return-kl}else if(l>h+u*(1-i)/2&&l<d-u*(1-i)/2)return aj(e)}return f=f||o,f&&(l<h+u*s/2||l>d-u*s/2)?l>h+u/2?1:-1:0}function aj(t){return Wn(Z)<Wn(t)?1:-1}function lj(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function uj(t){nd.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&nd.push(r)}}function rh(t){return setTimeout(t,0)}function lg(t){return clearTimeout(t)}Zd&&De(document,"touchmove",function(t){(ve.active||mo)&&t.cancelable&&t.preventDefault()});ve.utils={on:De,off:Re,css:ye,find:$S,is:function(e,n){return!!sr(e,n,e,!1)},extend:W4,throttle:US,closest:sr,toggleClass:Nn,clone:BS,index:Wn,nextTick:rh,cancelNextTick:lg,detectDirection:qS,getChild:sa,expando:wn};ve.get=function(t){return t[wn]};ve.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(ve.utils=Ar(Ar({},ve.utils),r.utils)),Nu.mount(r)})};ve.create=function(t,e){return new ve(t,e)};ve.version=B4;var yt=[],el,ug,cg=!1,gp,yp,rd,tl;function cj(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?De(document,"dragover",this._handleAutoScroll):this.options.supportPointer?De(document,"pointermove",this._handleFallbackAutoScroll):r.touches?De(document,"touchmove",this._handleFallbackAutoScroll):De(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Re(document,"dragover",this._handleAutoScroll):(Re(document,"pointermove",this._handleFallbackAutoScroll),Re(document,"touchmove",this._handleFallbackAutoScroll),Re(document,"mousemove",this._handleFallbackAutoScroll)),CE(),ih(),q4()},nulling:function(){rd=ug=el=cg=tl=gp=yp=null,yt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(rd=n,r||this.options.forceAutoScrollFallback||Ru||ci||_l){vp(n,this.options,a,r);var l=Vi(a,!0);cg&&(!tl||s!==gp||o!==yp)&&(tl&&CE(),tl=setInterval(function(){var u=Vi(document.elementFromPoint(s,o),!0);u!==l&&(l=u,ih()),vp(n,i.options,u,r)},10),gp=s,yp=o)}else{if(!this.options.bubbleScroll||Vi(a,!0)===Tr()){ih();return}vp(n,this.options,Vi(a,!1),!1)}}},oi(t,{pluginName:"scroll",initializeByDefault:!0})}function ih(){yt.forEach(function(t){clearInterval(t.pid)}),yt=[]}function CE(){clearInterval(tl)}var vp=US(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Tr(),u=!1,h;ug!==n&&(ug=n,ih(),el=e.scroll,h=e.scrollFn,el===!0&&(el=Vi(n,!0)));var d=0,f=el;do{var p=f,v=_t(p),b=v.top,R=v.bottom,y=v.left,_=v.right,x=v.width,L=v.height,F=void 0,M=void 0,C=p.scrollWidth,k=p.scrollHeight,T=ye(p),E=p.scrollLeft,N=p.scrollTop;p===l?(F=x<C&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),M=L<k&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(F=x<C&&(T.overflowX==="auto"||T.overflowX==="scroll"),M=L<k&&(T.overflowY==="auto"||T.overflowY==="scroll"));var I=F&&(Math.abs(_-i)<=o&&E+x<C)-(Math.abs(y-i)<=o&&!!E),S=M&&(Math.abs(R-s)<=o&&N+L<k)-(Math.abs(b-s)<=o&&!!N);if(!yt[d])for(var G=0;G<=d;G++)yt[G]||(yt[G]={});(yt[d].vx!=I||yt[d].vy!=S||yt[d].el!==p)&&(yt[d].el=p,yt[d].vx=I,yt[d].vy=S,clearInterval(yt[d].pid),(I!=0||S!=0)&&(u=!0,yt[d].pid=setInterval((function(){r&&this.layer===0&&ve.active._onTouchMove(rd);var H=yt[this.layer].vy?yt[this.layer].vy*a:0,ne=yt[this.layer].vx?yt[this.layer].vx*a:0;typeof h=="function"&&h.call(ve.dragged.parentNode[wn],ne,H,t,rd,yt[this.layer].el)!=="continue"||zS(yt[this.layer].el,ne,H)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Vi(f,!1)));cg=u}},30),YS=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(h.clientX,h.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function kv(){}kv.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=sa(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:YS};oi(kv,{pluginName:"revertOnSpill"});function xv(){}xv.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:YS};oi(xv,{pluginName:"removeOnSpill"});ve.mount(new cj);ve.mount(xv,kv);function hj({allMeets:t,toast:e,confirm:n}){const[r,i]=O.useState(""),[s,o]=O.useState([]),[a,l]=O.useState([]),[u,h]=O.useState(new Set),[d,f]=O.useState(new Set),[p,v]=O.useState(null),[b,R]=O.useState(""),y=O.useRef(null),_=O.useRef(null);O.useEffect(()=>un(wt(he,"event_library"),S=>{const G=S.docs.map(H=>({id:H.id,...H.data()})).sort((H,ne)=>H.name.localeCompare(ne.name));o(G)}),[]),O.useEffect(()=>{if(!r){l([]);return}const I=eu(wt(he,"meet_events"),tu("meetId","==",r));return un(I,G=>{const H=G.docs.map(ne=>({id:ne.id,...ne.data()})).sort((ne,$)=>ne.eventNumber-$.eventNumber);l(H)},G=>{e.error("Could not load schedule.")})},[r]),O.useEffect(()=>{y.current&&(_.current&&_.current.destroy(),_.current=new ve(y.current,{animation:150,disabled:!!p,onEnd:async I=>{const{oldIndex:S,newIndex:G}=I;if(S===G)return;const H=[...a],[ne]=H.splice(S,1);H.splice(G,0,ne);const $=Ri(he);H.forEach((j,W)=>{$.update(qe(he,"meet_events",j.id),{eventNumber:W+1})});try{await $.commit(),e.success("Event order updated.")}catch{e.error("Failed to update event order.")}}}))},[a,p]);const x=(I,S)=>{(S==="library"?h:f)(H=>{const ne=new Set(H);return ne.has(I)?ne.delete(I):ne.add(I),ne})},L=O.useMemo(()=>{const I=new Set(a.map(S=>S.name));return s.filter(S=>!I.has(S.name))},[s,a]),F=async I=>{if(!r||I.length===0)return;const S=I.map((H,ne)=>{const $=s.find(j=>j.id===H);return{meetId:r,libraryEventId:$.id,name:$.name,eventNumber:a.length+1+ne,heats:[]}}),G=Ri(he);S.forEach(H=>G.set(qe(wt(he,"meet_events")),H));try{await G.commit(),e.success(`${S.length} event(s) added successfully.`),h(new Set)}catch{e.error("Error adding events.")}},M=async I=>{if(!(!r||I.length===0)&&await n("Are you sure?",`This will remove ${I.length} event(s) from this meet's schedule.`)){const S=Ri(he);I.forEach(H=>S.delete(qe(he,"meet_events",H))),a.filter(H=>!I.includes(H.id)).sort((H,ne)=>H.eventNumber-ne.eventNumber).forEach((H,ne)=>S.update(qe(he,"meet_events",H.id),{eventNumber:ne+1}));try{await S.commit(),e.success("Selected events removed."),f(new Set)}catch{e.error("Failed to remove events.")}}},C=()=>{const I=new Set(a.map(H=>H.name)),G=Vb.map(H=>s.find(ne=>ne.name===H)).filter(H=>H&&!I.has(H.name)).map(H=>H.id);F(G)},k=async()=>{if(a.length!==0&&await n("Are you sure?","This will remove ALL events from this meet's schedule. This action cannot be undone.")){const I=Ri(he);a.forEach(S=>I.delete(qe(he,"meet_events",S.id)));try{await I.commit(),e.success("Complete schedule has been cleared."),f(new Set)}catch{e.error("Failed to clear schedule.")}}},T=I=>{v(I.id),R(I.eventNumber)},E=()=>{v(null),R("")},N=async()=>{const I=p,S=parseInt(b,10);if(isNaN(S)||S<1||S>a.length){e.error(`Please enter a valid event number between 1 and ${a.length}.`);return}const G=[...a],H=G.find(j=>j.id===I);if(!H)return;const ne=G.findIndex(j=>j.id===I);G.splice(ne,1),G.splice(S-1,0,H);const $=Ri(he);G.forEach((j,W)=>$.update(qe(he,"meet_events",j.id),{eventNumber:W+1}));try{await $.commit(),e.success("Event number updated successfully."),E()}catch{e.error("Failed to update event number.")}};return w.jsxs(w.Fragment,{children:[w.jsx("h5",{className:"font-semibold text-lg",children:"Manage a Meet's Schedule"}),w.jsx("div",{className:"my-4",children:w.jsxs(Wr,{label:"1. Select Meet to Manage",id:"meetSelectForSchedule",value:r,onChange:I=>i(I.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),t.map(I=>w.jsx("option",{value:I.id,children:I.name},I.id))]})}),r&&w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center mt-4",children:[w.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[w.jsxs("h6",{className:"font-semibold mb-2",children:["Event Library (",L.length,")"]}),w.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",children:L.map(I=>w.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[w.jsx("input",{type:"checkbox",id:`lib-${I.id}`,checked:u.has(I.id),onChange:()=>x(I.id,"library")}),w.jsx("label",{htmlFor:`lib-${I.id}`,className:"flex-grow cursor-pointer",children:I.name})]},I.id))})]}),w.jsxs("div",{className:"flex flex-row md:flex-col gap-2 justify-center",children:[w.jsx(Tt,{onClick:C,title:"Add All",children:w.jsx(Fe,{name:"angle-double-right"})}),w.jsx(Tt,{onClick:()=>F(Array.from(u)),title:"Add Selected",children:w.jsx(Fe,{name:"angle-right"})}),w.jsx(Tt,{onClick:()=>M(Array.from(d)),title:"Remove Selected",children:w.jsx(Fe,{name:"angle-left"})}),w.jsx(Tt,{onClick:k,title:"Remove All",children:w.jsx(Fe,{name:"angle-double-left"})})]}),w.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[w.jsxs("h6",{className:"font-semibold mb-2",children:["Scheduled Events (",a.length,")"]}),w.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",ref:y,children:a.map(I=>w.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2","data-id":I.id,children:[w.jsx("input",{type:"checkbox",id:`sch-${I.id}`,checked:d.has(I.id),onChange:()=>x(I.id,"schedule"),disabled:!!p}),p===I.id?w.jsxs(w.Fragment,{children:[w.jsx("input",{type:"number",className:"w-16 p-1 text-center rounded-md border border-primary bg-surface-light dark:bg-surface-dark",value:b,onChange:S=>R(S.target.value),onKeyDown:S=>{S.key==="Enter"&&N(),S.key==="Escape"&&E()},autoFocus:!0}),w.jsx("span",{className:"flex-grow",children:I.name}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:N,title:"Save",className:"text-green-500 hover:text-green-700",children:w.jsx(Fe,{name:"check"})}),w.jsx("button",{onClick:E,title:"Cancel",className:"text-red-500 hover:text-red-700",children:w.jsx(Fe,{name:"times"})})]})]}):w.jsxs(w.Fragment,{children:[w.jsxs("label",{htmlFor:`sch-${I.id}`,className:"flex-grow cursor-grab",children:[w.jsxs("strong",{className:"mr-2 w-8 inline-block text-center",children:["E",I.eventNumber,":"]}),I.name]}),w.jsx("div",{className:"ml-auto",children:w.jsx("button",{onClick:()=>T(I),title:"Edit Number",className:"text-gray-500 hover:text-gray-700",children:w.jsx(Fe,{name:"pencil-alt"})})})]})]},I.id))})]})]})]})}function dj({adminRole:t,isSuperAdmin:e,toast:n,confirm:r}){const[i,s]=O.useState([]),[o,a]=O.useState(e?"":t),[l,u]=O.useState([]),[h,d]=O.useState({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),f=O.useRef(null);O.useEffect(()=>un(wt(he,"teams"),x=>{s(x.docs.map(L=>({id:L.id,...L.data()})))}),[]),O.useEffect(()=>{if(o)return un(qe(he,"rosters",o),x=>{u(x.exists()?x.data().swimmers||[]:[])});u([])},[o]);const p=()=>d({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),v=async _=>{_.preventDefault();const{id:x,firstName:L,lastName:F,age:M,gender:C}=h;if(!L.trim()||!F.trim()||!M||!o){n.error("Please select a team and fill out all swimmer fields.");return}let k=x?l.map(T=>T.id===x?{...T,firstName:L,lastName:F,age:parseInt(M),gender:C}:T):[...l,{id:crypto.randomUUID(),firstName:L,lastName:F,age:parseInt(M),gender:C}];await $o(qe(he,"rosters",o),{swimmers:k},{merge:!0}),n.success(`Swimmer ${x?"updated":"added"} successfully!`),p()},b=_=>d(_),R=async _=>{if(await r("Are you sure?",`This removes ${_.firstName} from the team roster. It does NOT remove them from any events they are already entered in.`))try{const x=l.filter(L=>L.id!==_.id);await $o(qe(he,"rosters",o),{swimmers:x}),n.success("Swimmer removed from roster.")}catch{n.error("Failed to remove swimmer from roster.")}},y=_=>{const x=_.target.files[0];if(!x)return;const L=new FileReader;L.onload=async F=>{const C=F.target.result.split(`
`).filter(N=>N.trim()!==""),k=C.shift().toLowerCase().split(",").map(N=>N.trim());if(k[0]!=="firstname"||k[1]!=="lastname"||k[2]!=="age"||k[3]!=="gender"){n.error("Invalid CSV headers. Must be: firstName,lastName,age,gender");return}const T=C.map(N=>{const[I,S,G,H]=N.split(",");return{id:crypto.randomUUID(),firstName:I.trim(),lastName:S.trim(),age:parseInt(G),gender:H.trim()}}),E=[...l,...T];await $o(qe(he,"rosters",o),{swimmers:E},{merge:!0}),n.success(`Bulk upload successful! Added ${T.length} swimmers.`),f.current.value=""},L.readAsText(x)};return w.jsxs(w.Fragment,{children:[w.jsx("h5",{className:"font-semibold text-lg",children:"Manage Team Rosters"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add or view swimmers for a specific team."}),w.jsx("div",{className:"my-4 space-y-4",children:e&&w.jsxs(Wr,{label:"1. Select Team",id:"teamSelectRoster",value:o||"",onChange:_=>a(_.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),i.map(_=>w.jsx("option",{value:_.id,children:_.fullName},_.id))]})}),o&&w.jsxs(w.Fragment,{children:[w.jsxs("h6",{className:"font-semibold mt-6",children:[h.id?"Edit Swimmer":"Add Swimmer"," to ",o]}),w.jsxs("form",{onSubmit:v,className:"my-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:flex lg:items-end gap-3",children:[w.jsx("div",{className:"lg:flex-grow",children:w.jsx(cn,{label:"First Name",id:"swimmerFirstName",type:"text",value:h.firstName,onChange:_=>d({...h,firstName:_.target.value})})}),w.jsx("div",{className:"lg:flex-grow",children:w.jsx(cn,{label:"Last Name",id:"swimmerLastName",type:"text",value:h.lastName,onChange:_=>d({...h,lastName:_.target.value})})}),w.jsx("div",{className:"lg:w-20",children:w.jsx(cn,{label:"Age",id:"swimmerAge",type:"number",value:h.age,onChange:_=>d({...h,age:_.target.value})})}),w.jsx("div",{className:"lg:w-28",children:w.jsxs(Wr,{label:"Gender",id:"swimmerGender",value:h.gender,onChange:_=>d({...h,gender:_.target.value}),children:[w.jsx("option",{value:"Boy",children:"Boy"}),w.jsx("option",{value:"Girl",children:"Girl"})]})}),w.jsxs("div",{className:"flex space-x-2 pt-5 lg:pt-0",children:[w.jsx(Tt,{type:"submit",className:"flex-1",children:h.id?"Update":"Add"}),h.id&&w.jsx(Tt,{type:"button",variant:"secondary",onClick:p,className:"flex-1",children:"Cancel"})]})]}),w.jsxs("div",{className:"mt-6",children:[w.jsx("label",{htmlFor:"csvUpload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bulk Upload Roster (CSV)"}),w.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20",id:"csvUpload",accept:".csv",ref:f,onChange:y}),w.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: firstName,lastName,age,gender (with header row)"})]}),w.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),w.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Team Roster for ",o]}),w.jsx("ul",{className:"mt-2 space-y-2",children:l.length>0?l.sort((_,x)=>_.lastName.localeCompare(x.lastName)).map(_=>w.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[w.jsxs("span",{className:"font-medium",children:[_.lastName,", ",_.firstName," (Age: ",_.age,", ",_.gender,")"]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>b(_),children:w.jsx(Fe,{name:"pencil-alt"})}),w.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>R(_),children:w.jsx(Fe,{name:"trash"})})]})]},_.id)):w.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No swimmers on this roster yet."})})]})]})}function fj({adminRole:t,isSuperAdmin:e,allMeets:n,toast:r,confirm:i}){const[s,o]=O.useState([]),[a,l]=O.useState(""),[u,h]=O.useState(e?"":t),[d,f]=O.useState([]),[p,v]=O.useState(""),[b,R]=O.useState(""),[y,_]=O.useState({heat:"",lane:""}),[x,L]=O.useState([]),[F,M]=O.useState([]),[C,k]=O.useState(null),T=O.useMemo(()=>n.find($=>$.id===a),[n,a]);O.useEffect(()=>un(wt(he,"teams"),j=>{o(j.docs.map(W=>({id:W.id,...W.data()})))}),[]);const E=O.useMemo(()=>T?T.homeTeam?s.filter($=>$.id===T.homeTeam||$.id===T.awayTeam):s:[],[T,s]),N=d.find($=>$.id===p),I=O.useMemo(()=>{if(!N||!x)return[];const $=j=>{const W=j.toLowerCase(),P=W.startsWith("girls")?"Girl":W.startsWith("boys")?"Boy":"Mixed",q=j.match(/(\d+)(-(\d+))?(\s*&\s*Under)?/);return q?q[4]?{minAge:0,maxAge:parseInt(q[1]),gender:P}:q[3]?{minAge:parseInt(q[1]),maxAge:parseInt(q[3]),gender:P}:{minAge:parseInt(q[1]),maxAge:parseInt(q[1]),gender:P}:{minAge:0,maxAge:100,gender:P}};return x.filter(j=>{const{minAge:W,maxAge:P,gender:q}=$(j.name),le=N.age>=W&&N.age<=P,D=q==="Mixed"||q===N.gender;return le&&D})},[N,x]);O.useEffect(()=>{if(!a){L([]);return}const $=eu(wt(he,"meet_events"),tu("meetId","==",a));return un($,W=>{L(W.docs.map(P=>({id:P.id,...P.data()})).sort((P,q)=>P.eventNumber-q.eventNumber))})},[a]),O.useEffect(()=>{if(u)return un(qe(he,"rosters",u),j=>{f(j.exists()?j.data().swimmers.sort((W,P)=>W.lastName.localeCompare(P.lastName))||[]:[])});f([])},[u]),O.useEffect(()=>{if(!x||x.length===0){M([]);return}let $=[];x.forEach(j=>{j.heats&&j.heats.forEach(W=>{W.lanes.forEach(P=>{$.push({swimmerId:P.id,swimmerName:`${P.firstName} ${P.lastName}`,team:P.team,eventId:j.id,eventName:j.name,eventNumber:j.eventNumber,heatNumber:W.heatNumber,laneNumber:P.lane})})})}),e||($=$.filter(j=>j.team===t)),$.sort((j,W)=>j.eventNumber!==W.eventNumber?j.eventNumber-W.eventNumber:j.swimmerName.localeCompare(W.swimmerName)),M($)},[x,t,e]);const S=()=>{k(null),v(""),R(""),_({heat:"",lane:""})},G=$=>{var j;k($),e||h($.team),v($.swimmerId),R($.eventId),_({heat:$.heatNumber,lane:$.laneNumber}),(j=document.querySelector(".admin-view"))==null||j.scrollIntoView({behavior:"smooth"})},H=async $=>{if(await i("Are you sure?",`Remove ${$.swimmerName} from E${$.eventNumber}: ${$.eventName}?`)){const j=qe(he,"meet_events",$.eventId);try{const W=x.find(q=>q.id===$.eventId);if(!W)throw new Error("Event not found");const P=W.heats.map(q=>({...q,lanes:q.lanes.filter(le=>le.id!==$.swimmerId)})).filter(q=>q.lanes.length>0);await ia(j,{heats:P}),r.success("Entry deleted successfully.")}catch(W){r.error("Failed to delete entry."),console.error("Error deleting entry:",W)}}},ne=async()=>{if(!N||!b||!u||!a){r.error("Please select a meet, team, swimmer, and event.");return}const $=qe(he,"meet_events",b),j=x.find(oe=>oe.id===b),W=d.find(oe=>oe.id===p);let P=JSON.parse(JSON.stringify(j.heats||[]));C&&(P=P.map(oe=>({...oe,lanes:oe.lanes.filter(me=>me.id!==C.swimmerId)})).filter(oe=>oe.lanes.length>0));const q=(T==null?void 0:T.lanesAvailable)||8,le=parseInt(y.heat,10),D=parseInt(y.lane,10);if(le&&D){if(D>q){r.error(`Invalid lane. Only ${q} lanes are available.`);return}let oe=P.find(me=>me.heatNumber===le);if(oe||(oe={heatNumber:le,lanes:[]},P.push(oe)),oe.lanes.some(me=>me.lane===D)){r.error(`Lane ${D} in Heat ${le} is already occupied.`);return}oe.lanes.push({...N,team:u,seedTime:"NT",lane:D})}else{const me=N.team===(T==null?void 0:T.homeTeam)?"odd":"even";let Y=!1;for(const te of P)if(te.lanes.length<q){const re=new Set(te.lanes.map(Ie=>Ie.lane)),fe=(Ie,ae)=>{for(let ce=Ie;ce<=q;ce+=ae)if(!re.has(ce))return te.lanes.push({...N,team:u,seedTime:"NT",lane:ce}),!0;return!1};if(me==="odd"){if(fe(1,2)){Y=!0;break}if(fe(2,2)){Y=!0;break}}else{if(fe(2,2)){Y=!0;break}if(fe(1,2)){Y=!0;break}}}Y||P.push({heatNumber:P.length+1,lanes:[{...N,team:u,seedTime:"NT",lane:1}]})}if(T!=null&&T.homeTeam&&(T!=null&&T.awayTeam))W.team,T.homeTeam;else{let oe=!1;for(const me of P)if(me.lanes.length<q){const Y=new Set(me.lanes.map(te=>te.lane));for(let te=1;te<=q;te++)if(!Y.has(te)){me.lanes.push({...W,team:u,seedTime:"NT",lane:te}),oe=!0;break}if(oe)break}oe||P.push({heatNumber:P.length+1,lanes:[{...W,team:u,seedTime:"NT",lane:1}]})}P.sort((oe,me)=>oe.heatNumber-me.heatNumber),P.forEach(oe=>oe.lanes.sort((me,Y)=>me.lane-Y.lane));try{await ia($,{heats:P}),r.success(`${N.firstName} was ${C?"updated":"entered"} successfully.`),S()}catch(oe){r.error(`Failed to ${C?"update":"add"} entry.`),console.error("Error in entry transaction:",oe)}};return w.jsxs(w.Fragment,{children:[w.jsx("h5",{className:"font-semibold text-lg",children:C?"Edit Entry":"Enter Swimmers into Events"}),w.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Assign swimmers to events for the selected meet."}),w.jsxs("div",{className:"my-4 space-y-4",children:[w.jsxs(Wr,{label:"1. Select Meet",id:"meetSelectEntries",value:a,onChange:$=>l($.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),n.map($=>w.jsx("option",{value:$.id,children:$.name},$.id))]}),e&&a&&w.jsxs(Wr,{label:"2. Select Team",id:"teamSelectManage",value:u||"",onChange:$=>h($.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),E.map($=>w.jsx("option",{value:$.id,children:$.fullName},$.id))]})]}),u&&a&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"space-y-4",children:[w.jsxs(Wr,{label:"3. Select Swimmer",id:"swimmerSelect",value:p,onChange:$=>v($.target.value),children:[w.jsx("option",{value:"",disabled:!0,children:"-- Choose from roster --"}),d.map($=>w.jsxs("option",{value:$.id,children:[$.lastName,", ",$.firstName," (Age: ",$.age,")"]},$.id))]}),w.jsxs("div",{children:[w.jsxs(Wr,{label:"4. Select Event",id:"eventSelect",value:b,onChange:$=>R($.target.value),disabled:!p,children:[w.jsx("option",{value:"",disabled:!0,children:"-- Choose an event --"}),I.map($=>w.jsxs("option",{value:$.id,children:["E",$.eventNumber," - ",$.name]},$.id))]}),!p&&w.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Select a swimmer to see their eligible events."})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsx(cn,{label:"Heat (Optional)",id:"heatNumber",type:"number",min:"1",placeholder:"Auto",value:y.heat,onChange:$=>_({...y,heat:$.target.value})}),w.jsx(cn,{label:"Lane (Optional)",id:"laneNumber",type:"number",min:"1",placeholder:"Auto",value:y.lane,onChange:$=>_({...y,lane:$.target.value})})]}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx(Tt,{onClick:ne,disabled:!p||!b,variant:"primary",children:C?"Update Entry":"Add Entry"}),C&&w.jsx(Tt,{onClick:S,variant:"secondary",children:"Cancel Edit"})]})]}),w.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),w.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Current Entries for ",e?"All Teams":u]}),w.jsx("ul",{className:"mt-2 space-y-2",children:F.length>0?F.map($=>w.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("span",{className:"font-semibold",children:$.swimmerName})," (",$.team,")",w.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["E",$.eventNumber,": ",$.eventName," (H:",$.heatNumber," L:",$.laneNumber,")"]})]}),w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",onClick:()=>G($),title:"Edit",children:w.jsx(Fe,{name:"pencil-alt"})}),w.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>H($),title:"Delete",children:w.jsx(Fe,{name:"trash"})})]})]},`${$.swimmerId}-${$.eventId}`)):w.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No entries found for the selected team."})})]})]})}function pj({toast:t,isSuperAdmin:e,adminRole:n,allMeets:r}){var R;const{confirm:i,ConfirmationModal:s}=r2(),[o,a]=O.useState("meets"),[l,u]=O.useState(((R=r[0])==null?void 0:R.id)||""),h=O.useMemo(()=>r.find(y=>y.id===l),[r,l]);if(!n)return w.jsx("div",{className:"p-4 text-yellow-800 bg-yellow-100 border border-yellow-200 rounded-md",children:"You are not authorized to view this page."});const d=()=>{const y={toast:t,confirm:i,adminRole:n,isSuperAdmin:e,allMeets:r,activeMeetId:l,setActiveMeetId:u,selectedMeet:h};switch(o){case"meets":return w.jsx(V4,{...y});case"library":return w.jsx(j4,{...y});case"schedule":return w.jsx(hj,{...y});case"rosters":return w.jsx(dj,{...y});case"entries":return w.jsx(fj,{...y});case"teams":return w.jsx(M4,{...y});default:return null}},f="block w-full text-center px-4 py-2 rounded-md font-semibold text-sm",p="bg-primary text-white",v="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",b=[{key:"meets",label:"Meets"},{key:"teams",label:"Teams"},{key:"library",label:"Library"},{key:"schedule",label:"Schedule"},{key:"rosters",label:"Rosters"},{key:"entries",label:"Entries"}];return w.jsxs("div",{className:"admin-view",children:[w.jsx("h2",{className:"text-xl font-bold mb-3",children:"Admin Panel"}),w.jsx(s,{}),w.jsx("ul",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:b.map(y=>w.jsx("li",{children:w.jsx("button",{className:`${f} ${o===y.key?p:v}`,onClick:()=>a(y.key),children:y.label})},y.key))}),w.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:w.jsx("div",{className:"p-4",children:d()})})]})}function mj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vj={};function AE(t,e){return(vj.jsx?yj:gj).test(t)}const _j=/[ \t\n\f\r]/g;function wj(t){return typeof t=="object"?t.type==="text"?PE(t.value):!1:PE(t)}function PE(t){return t.replace(_j,"")===""}class Du{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Du.prototype.normal={};Du.prototype.property={};Du.prototype.space=void 0;function XS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Du(n,r,e)}function hg(t){return t.toLowerCase()}class Sn{constructor(e,n){this.attribute=n,this.property=e}}Sn.prototype.attribute="";Sn.prototype.booleanish=!1;Sn.prototype.boolean=!1;Sn.prototype.commaOrSpaceSeparated=!1;Sn.prototype.commaSeparated=!1;Sn.prototype.defined=!1;Sn.prototype.mustUseProperty=!1;Sn.prototype.number=!1;Sn.prototype.overloadedBoolean=!1;Sn.prototype.property="";Sn.prototype.spaceSeparated=!1;Sn.prototype.space=void 0;let Ej=0;const Te=no(),vt=no(),dg=no(),J=no(),Ye=no(),zo=no(),Dn=no();function no(){return 2**++Ej}const fg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Te,booleanish:vt,commaOrSpaceSeparated:Dn,commaSeparated:zo,number:J,overloadedBoolean:dg,spaceSeparated:Ye},Symbol.toStringTag,{value:"Module"})),_p=Object.keys(fg);class bv extends Sn{constructor(e,n,r,i){let s=-1;if(super(e,n),RE(this,"space",i),typeof r=="number")for(;++s<_p.length;){const o=_p[s];RE(this,_p[s],(r&fg[o])===fg[o])}}}bv.prototype.defined=!0;function RE(t,e,n){n&&(t[e]=n)}function ma(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new bv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[hg(r)]=r,n[hg(s.attribute)]=r}return new Du(e,n,t.space)}const JS=ma({properties:{ariaActiveDescendant:null,ariaAtomic:vt,ariaAutoComplete:null,ariaBusy:vt,ariaChecked:vt,ariaColCount:J,ariaColIndex:J,ariaColSpan:J,ariaControls:Ye,ariaCurrent:null,ariaDescribedBy:Ye,ariaDetails:null,ariaDisabled:vt,ariaDropEffect:Ye,ariaErrorMessage:null,ariaExpanded:vt,ariaFlowTo:Ye,ariaGrabbed:vt,ariaHasPopup:null,ariaHidden:vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ye,ariaLevel:J,ariaLive:null,ariaModal:vt,ariaMultiLine:vt,ariaMultiSelectable:vt,ariaOrientation:null,ariaOwns:Ye,ariaPlaceholder:null,ariaPosInSet:J,ariaPressed:vt,ariaReadOnly:vt,ariaRelevant:null,ariaRequired:vt,ariaRoleDescription:Ye,ariaRowCount:J,ariaRowIndex:J,ariaRowSpan:J,ariaSelected:vt,ariaSetSize:J,ariaSort:null,ariaValueMax:J,ariaValueMin:J,ariaValueNow:J,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function ZS(t,e){return e in t?t[e]:e}function eI(t,e){return ZS(t,e.toLowerCase())}const kj=ma({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zo,acceptCharset:Ye,accessKey:Ye,action:null,allow:null,allowFullScreen:Te,allowPaymentRequest:Te,allowUserMedia:Te,alt:null,as:null,async:Te,autoCapitalize:null,autoComplete:Ye,autoFocus:Te,autoPlay:Te,blocking:Ye,capture:null,charSet:null,checked:Te,cite:null,className:Ye,cols:J,colSpan:null,content:null,contentEditable:vt,controls:Te,controlsList:Ye,coords:J|zo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Te,defer:Te,dir:null,dirName:null,disabled:Te,download:dg,draggable:vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Te,formTarget:null,headers:Ye,height:J,hidden:dg,high:J,href:null,hrefLang:null,htmlFor:Ye,httpEquiv:Ye,id:null,imageSizes:null,imageSrcSet:null,inert:Te,inputMode:null,integrity:null,is:null,isMap:Te,itemId:null,itemProp:Ye,itemRef:Ye,itemScope:Te,itemType:Ye,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Te,low:J,manifest:null,max:null,maxLength:J,media:null,method:null,min:null,minLength:J,multiple:Te,muted:Te,name:null,nonce:null,noModule:Te,noValidate:Te,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Te,optimum:J,pattern:null,ping:Ye,placeholder:null,playsInline:Te,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Te,referrerPolicy:null,rel:Ye,required:Te,reversed:Te,rows:J,rowSpan:J,sandbox:Ye,scope:null,scoped:Te,seamless:Te,selected:Te,shadowRootClonable:Te,shadowRootDelegatesFocus:Te,shadowRootMode:null,shape:null,size:J,sizes:null,slot:null,span:J,spellCheck:vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:J,step:null,style:null,tabIndex:J,target:null,title:null,translate:null,type:null,typeMustMatch:Te,useMap:null,value:vt,width:J,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ye,axis:null,background:null,bgColor:null,border:J,borderColor:null,bottomMargin:J,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Te,declare:Te,event:null,face:null,frame:null,frameBorder:null,hSpace:J,leftMargin:J,link:null,longDesc:null,lowSrc:null,marginHeight:J,marginWidth:J,noResize:Te,noHref:Te,noShade:Te,noWrap:Te,object:null,profile:null,prompt:null,rev:null,rightMargin:J,rules:null,scheme:null,scrolling:vt,standby:null,summary:null,text:null,topMargin:J,valueType:null,version:null,vAlign:null,vLink:null,vSpace:J,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Te,disableRemotePlayback:Te,prefix:null,property:null,results:J,security:null,unselectable:null},space:"html",transform:eI}),xj=ma({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Dn,accentHeight:J,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:J,amplitude:J,arabicForm:null,ascent:J,attributeName:null,attributeType:null,azimuth:J,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:J,by:null,calcMode:null,capHeight:J,className:Ye,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:J,diffuseConstant:J,direction:null,display:null,dur:null,divisor:J,dominantBaseline:null,download:Te,dx:null,dy:null,edgeMode:null,editable:null,elevation:J,enableBackground:null,end:null,event:null,exponent:J,externalResourcesRequired:null,fill:null,fillOpacity:J,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zo,g2:zo,glyphName:zo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:J,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:J,horizOriginX:J,horizOriginY:J,id:null,ideographic:J,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:J,k:J,k1:J,k2:J,k3:J,k4:J,kernelMatrix:Dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:J,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:J,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:J,overlineThickness:J,paintOrder:null,panose1:null,path:null,pathLength:J,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ye,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:J,pointsAtY:J,pointsAtZ:J,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Dn,rev:Dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Dn,requiredFeatures:Dn,requiredFonts:Dn,requiredFormats:Dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:J,specularExponent:J,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:J,strikethroughThickness:J,string:null,stroke:null,strokeDashArray:Dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:J,strokeOpacity:J,strokeWidth:null,style:null,surfaceScale:J,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Dn,tabIndex:J,tableValues:null,target:null,targetX:J,targetY:J,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:J,underlineThickness:J,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:J,values:null,vAlphabetic:J,vMathematical:J,vectorEffect:null,vHanging:J,vIdeographic:J,version:null,vertAdvY:J,vertOriginX:J,vertOriginY:J,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:J,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:ZS}),tI=ma({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),nI=ma({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eI}),rI=ma({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),bj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Tj=/[A-Z]/g,NE=/-[a-z]/g,Sj=/^data[-\w.:]+$/i;function Ij(t,e){const n=hg(e);let r=e,i=Sn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Sj.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(NE,Aj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!NE.test(s)){let o=s.replace(Tj,Cj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=bv}return new i(r,e)}function Cj(t){return"-"+t.toLowerCase()}function Aj(t){return t.charAt(1).toUpperCase()}const Pj=XS([JS,kj,tI,nI,rI],"html"),Tv=XS([JS,xj,tI,nI,rI],"svg");function Rj(t){return t.join(" ").trim()}var Sv={},DE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Nj=/\n/g,Dj=/^\s*/,Oj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Lj=/^:\s*/,Mj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Fj=/^[;\s]*/,Vj=/^\s+|\s+$/g,jj=`
`,OE="/",LE="*",Ts="",$j="comment",Uj="declaration",zj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(v){var b=v.match(Nj);b&&(n+=b.length);var R=v.lastIndexOf(jj);r=~R?v.length-R:r+v.length}function s(){var v={line:n,column:r};return function(b){return b.position=new o(v),u(),b}}function o(v){this.start=v,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(v){var b=new Error(e.source+":"+n+":"+r+": "+v);if(b.reason=v,b.filename=e.source,b.line=n,b.column=r,b.source=t,!e.silent)throw b}function l(v){var b=v.exec(t);if(b){var R=b[0];return i(R),t=t.slice(R.length),b}}function u(){l(Dj)}function h(v){var b;for(v=v||[];b=d();)b!==!1&&v.push(b);return v}function d(){var v=s();if(!(OE!=t.charAt(0)||LE!=t.charAt(1))){for(var b=2;Ts!=t.charAt(b)&&(LE!=t.charAt(b)||OE!=t.charAt(b+1));)++b;if(b+=2,Ts===t.charAt(b-1))return a("End of comment missing");var R=t.slice(2,b-2);return r+=2,i(R),t=t.slice(b),r+=2,v({type:$j,comment:R})}}function f(){var v=s(),b=l(Oj);if(b){if(d(),!l(Lj))return a("property missing ':'");var R=l(Mj),y=v({type:Uj,property:ME(b[0].replace(DE,Ts)),value:R?ME(R[0].replace(DE,Ts)):Ts});return l(Fj),y}}function p(){var v=[];h(v);for(var b;b=f();)b!==!1&&(v.push(b),h(v));return v}return u(),p()};function ME(t){return t?t.replace(Vj,Ts):Ts}var Bj=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.default=Wj;var Hj=Bj(zj);function Wj(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Hj.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.camelCase=void 0;var qj=/^--[a-zA-Z0-9_-]+$/,Gj=/-([a-z])/g,Kj=/^[^-]+$/,Qj=/^-(webkit|moz|ms|o|khtml)-/,Yj=/^-(ms)-/,Xj=function(t){return!t||Kj.test(t)||qj.test(t)},Jj=function(t,e){return e.toUpperCase()},FE=function(t,e){return"".concat(e,"-")},Zj=function(t,e){return e===void 0&&(e={}),Xj(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Yj,FE):t=t.replace(Qj,FE),t.replace(Gj,Jj))};ef.camelCase=Zj;var e$=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},t$=e$(Sv),n$=ef;function pg(t,e){var n={};return!t||typeof t!="string"||(0,t$.default)(t,function(r,i){r&&i&&(n[(0,n$.camelCase)(r,e)]=i)}),n}pg.default=pg;var r$=pg;const i$=xg(r$),iI=sI("end"),Iv=sI("start");function sI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function s$(t){const e=Iv(t),n=iI(t);if(e&&n)return{start:e,end:n}}function bl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?VE(t.position):"start"in t||"end"in t?VE(t):"line"in t||"column"in t?mg(t):""}function mg(t){return jE(t&&t.line)+":"+jE(t&&t.column)}function VE(t){return mg(t&&t.start)+"-"+mg(t&&t.end)}function jE(t){return t&&typeof t=="number"?t:1}class tn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=bl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}tn.prototype.file="";tn.prototype.name="";tn.prototype.reason="";tn.prototype.message="";tn.prototype.stack="";tn.prototype.column=void 0;tn.prototype.line=void 0;tn.prototype.ancestors=void 0;tn.prototype.cause=void 0;tn.prototype.fatal=void 0;tn.prototype.place=void 0;tn.prototype.ruleId=void 0;tn.prototype.source=void 0;const Cv={}.hasOwnProperty,o$=new Map,a$=/[A-Z]/g,l$=new Set(["table","tbody","thead","tfoot","tr"]),u$=new Set(["td","th"]),oI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function c$(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=v$(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=y$(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Tv:Pj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=aI(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function aI(t,e,n){if(e.type==="element")return h$(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return d$(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return p$(t,e,n);if(e.type==="mdxjsEsm")return f$(t,e);if(e.type==="root")return m$(t,e,n);if(e.type==="text")return g$(t,e)}function h$(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Tv,t.schema=i),t.ancestors.push(e);const s=uI(t,e.tagName,!1),o=_$(t,e);let a=Pv(t,e);return l$.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!wj(l):!0})),lI(t,o,s,e),Av(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function d$(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}nu(t,e.position)}function f$(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);nu(t,e.position)}function p$(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Tv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:uI(t,e.name,!0),o=w$(t,e),a=Pv(t,e);return lI(t,o,s,e),Av(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function m$(t,e,n){const r={};return Av(r,Pv(t,e)),t.create(e,t.Fragment,r,n)}function g$(t,e){return e.value}function lI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Av(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function y$(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function v$(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Iv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function _$(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Cv.call(e.properties,i)){const s=E$(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&u$.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function w$(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else nu(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else nu(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Pv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:o$;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=aI(t,s,o);a!==void 0&&n.push(a)}return n}function E$(t,e,n){const r=Ij(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mj(n):Rj(n)),r.property==="style"){let i=typeof n=="object"?n:k$(t,String(n));return t.stylePropertyNameCase==="css"&&(i=x$(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?bj[r.property]||r.property:r.attribute,n]}}function k$(t,e){try{return i$(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new tn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=oI+"#cannot-parse-style-attribute",i}}function uI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=AE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=AE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Cv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);nu(t)}function nu(t,e){const n=new tn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=oI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function x$(t){const e={};let n;for(n in t)Cv.call(t,n)&&(e[b$(n)]=t[n]);return e}function b$(t){let e=t.replace(a$,T$);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function T$(t){return"-"+t.toLowerCase()}const wp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},S$={};function Rv(t,e){const n=S$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cI(t,r,i)}function cI(t,e,n){if(I$(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return $E(t.children,e,n)}return Array.isArray(t)?$E(t,e,n):""}function $E(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=cI(t[i],e,n);return r.join("")}function I$(t){return!!(t&&typeof t=="object")}const UE=document.createElement("i");function Nv(t){const e="&"+t+";";UE.innerHTML=e;const n=UE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function jn(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Kn(t,e){return t.length>0?(jn(t,t.length,0,e),t):e}const zE={}.hasOwnProperty;function hI(t){const e={};let n=-1;for(;++n<t.length;)C$(e,t[n]);return e}function C$(t,e){let n;for(n in e){const i=(zE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){zE.call(i,o)||(i[o]=[]);const a=s[o];A$(i[o],Array.isArray(a)?a:a?[a]:[])}}}function A$(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);jn(t,0,0,r)}function dI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function hr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ln=cs(/[A-Za-z]/),Yt=cs(/[\dA-Za-z]/),P$=cs(/[#-'*+\--9=?A-Z^-~]/);function id(t){return t!==null&&(t<32||t===127)}const gg=cs(/\d/),R$=cs(/[\dA-Fa-f]/),N$=cs(/[!-/:-@[-`{-~]/);function pe(t){return t!==null&&t<-2}function Qe(t){return t!==null&&(t<0||t===32)}function Ce(t){return t===-2||t===-1||t===32}const tf=cs(new RegExp("\\p{P}|\\p{S}","u")),Ks=cs(/\s/);function cs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ga(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Yt(t.charCodeAt(n+1))&&Yt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Me(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Ce(l)?(t.enter(n),a(l)):e(l)}function a(l){return Ce(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const D$={tokenize:O$};function O$(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Me(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return pe(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const L$={tokenize:M$},BE={tokenize:F$};function M$(t){const e=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const L=e.events.length;let F=L,M;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){M=e.events[F][1].end;break}y(r);let C=L;for(;C<e.events.length;)e.events[C][1].end={...M},C++;return jn(e.events,F+1,0,e.events.slice(L)),e.events.length=C,u(x)}return a(x)}function u(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return v(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(BE,h,d)(x)}function h(x){return i&&_(),y(r),f(x)}function d(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,v(x)}function f(x){return e.containerState={},t.attempt(BE,p,v)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function v(x){if(x===null){i&&_(),y(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(x)}function b(x){if(x===null){R(t.exit("chunkFlow"),!0),y(0),t.consume(x);return}return pe(x)?(t.consume(x),R(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),b)}function R(x,L){const F=e.sliceStream(x);if(L&&F.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(F),e.parser.lazy[x.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const C=e.events.length;let k=C,T,E;for(;k--;)if(e.events[k][0]==="exit"&&e.events[k][1].type==="chunkFlow"){if(T){E=e.events[k][1].end;break}T=!0}for(y(r),M=C;M<e.events.length;)e.events[M][1].end={...E},M++;jn(e.events,k+1,0,e.events.slice(C)),e.events.length=M}}function y(x){let L=n.length;for(;L-- >x;){const F=n[L];e.containerState=F[1],F[0].exit.call(e,t)}n.length=x}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function F$(t,e,n){return Me(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oa(t){if(t===null||Qe(t)||Ks(t))return 1;if(tf(t))return 2}function nf(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const yg={name:"attention",resolveAll:V$,tokenize:j$};function V$(t,e){let n=-1,r,i,s,o,a,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};HE(d,-l),HE(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Kn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Kn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Kn(u,nf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Kn(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=Kn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,jn(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function j$(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=oa(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),h=oa(l),d=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(h||!d)),e(l)}}function HE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const $$={name:"autolink",tokenize:U$};function U$(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return ln(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Yt(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Yt(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||id(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),h):P$(p)?(t.consume(p),u):n(p)}function h(p){return Yt(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Yt(p))&&r++<63){const v=p===45?f:d;return t.consume(p),v}return n(p)}}const Ou={partial:!0,tokenize:z$};function z$(t,e,n){return r;function r(s){return Ce(s)?Me(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||pe(s)?e(s):n(s)}}const fI={continuation:{tokenize:H$},exit:W$,name:"blockQuote",tokenize:B$};function B$(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Ce(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function H$(t,e,n){const r=this;return i;function i(o){return Ce(o)?Me(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(fI,e,n)(o)}}function W$(t){t.exit("blockQuote")}const pI={name:"characterEscape",tokenize:q$};function q$(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return N$(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const mI={name:"characterReference",tokenize:G$};function G$(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Yt,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=R$,h):(t.enter("characterReferenceValue"),s=7,o=gg,h(d))}function h(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===Yt&&!Nv(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),h):n(d)}}const WE={partial:!0,tokenize:Q$},qE={concrete:!0,name:"codeFenced",tokenize:K$};function K$(t,e,n){const r=this,i={partial:!0,tokenize:F};let s=0,o=0,a;return l;function l(M){return u(M)}function u(M){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(M)}function h(M){return M===a?(o++,t.consume(M),h):o<3?n(M):(t.exit("codeFencedFenceSequence"),Ce(M)?Me(t,d,"whitespace")(M):d(M))}function d(M){return M===null||pe(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(WE,b,L)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(M))}function f(M){return M===null||pe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(M)):Ce(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Me(t,p,"whitespace")(M)):M===96&&M===a?n(M):(t.consume(M),f)}function p(M){return M===null||pe(M)?d(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(M))}function v(M){return M===null||pe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(M)):M===96&&M===a?n(M):(t.consume(M),v)}function b(M){return t.attempt(i,L,R)(M)}function R(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),y}function y(M){return s>0&&Ce(M)?Me(t,_,"linePrefix",s+1)(M):_(M)}function _(M){return M===null||pe(M)?t.check(WE,b,L)(M):(t.enter("codeFlowValue"),x(M))}function x(M){return M===null||pe(M)?(t.exit("codeFlowValue"),_(M)):(t.consume(M),x)}function L(M){return t.exit("codeFenced"),e(M)}function F(M,C,k){let T=0;return E;function E(H){return M.enter("lineEnding"),M.consume(H),M.exit("lineEnding"),N}function N(H){return M.enter("codeFencedFence"),Ce(H)?Me(M,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):I(H)}function I(H){return H===a?(M.enter("codeFencedFenceSequence"),S(H)):k(H)}function S(H){return H===a?(T++,M.consume(H),S):T>=o?(M.exit("codeFencedFenceSequence"),Ce(H)?Me(M,G,"whitespace")(H):G(H)):k(H)}function G(H){return H===null||pe(H)?(M.exit("codeFencedFence"),C(H)):k(H)}}}function Q$(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Ep={name:"codeIndented",tokenize:X$},Y$={partial:!0,tokenize:J$};function X$(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Me(t,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):pe(u)?t.attempt(Y$,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||pe(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function J$(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):pe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Me(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):pe(o)?i(o):n(o)}}const Z$={name:"codeText",previous:t3,resolve:e3,tokenize:n3};function e3(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function t3(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function n3(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):pe(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||pe(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class r3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&$a(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$a(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$a(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);$a(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$a(this.left,n.reverse())}}}function $a(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function gI(t){const e={};let n=-1,r,i,s,o,a,l,u;const h=new r3(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,i3(h,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return jn(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function i3(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let h,d,f=-1,p=n,v=0,b=0;const R=[b];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(b=f+1,R.push(b),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):R.pop(),f=R.length;f--;){const y=a.slice(R[f],R[f+1]),_=s.pop();l.push([_,_+y.length-1]),t.splice(_,2,y)}for(l.reverse(),f=-1;++f<l.length;)u[v+l[f][0]]=v+l[f][1],v+=l[f][1]-l[f][0]-1;return u}const s3={resolve:a3,tokenize:l3},o3={partial:!0,tokenize:u3};function a3(t){return gI(t),t}function l3(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):pe(a)?t.check(o3,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function u3(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Me(t,s,"linePrefix")}function s(o){if(o===null||pe(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function yI(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),f):y===null||y===32||y===41||id(y)?n(y):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),b(y))}function f(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(a),f(y)):y===null||y===60||pe(y)?n(y):(t.consume(y),y===92?v:p)}function v(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function b(y){return!h&&(y===null||y===41||Qe(y))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(y)):h<u&&y===40?(t.consume(y),h++,b):y===41?(t.consume(y),h--,b):y===null||y===32||y===40||id(y)?n(y):(t.consume(y),y===92?R:b)}function R(y){return y===40||y===41||y===92?(t.consume(y),b):b(y)}}function vI(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),h}function h(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):pe(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||pe(p)||a++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!Ce(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function _I(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):pe(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Me(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||pe(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===o||f===92?(t.consume(f),h):h(f)}}function Tl(t,e){let n;return r;function r(i){return pe(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ce(i)?Me(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const c3={name:"definition",tokenize:d3},h3={partial:!0,tokenize:f3};function d3(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return vI.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Qe(p)?Tl(t,u)(p):u(p)}function u(p){return yI(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(h3,d,d)(p)}function d(p){return Ce(p)?Me(t,f,"whitespace")(p):f(p)}function f(p){return p===null||pe(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function f3(t,e,n){return r;function r(a){return Qe(a)?Tl(t,i)(a):n(a)}function i(a){return _I(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Ce(a)?Me(t,o,"whitespace")(a):o(a)}function o(a){return a===null||pe(a)?e(a):n(a)}}const p3={name:"hardBreakEscape",tokenize:m3};function m3(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return pe(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const g3={name:"headingAtx",resolve:y3,tokenize:v3};function y3(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},jn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function v3(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||Qe(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||pe(h)?(t.exit("atxHeading"),e(h)):Ce(h)?Me(t,a,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||Qe(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),u)}}const _3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],GE=["pre","script","style","textarea"],w3={concrete:!0,name:"htmlFlow",resolveTo:x3,tokenize:b3},E3={partial:!0,tokenize:S3},k3={partial:!0,tokenize:T3};function x3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function b3(t,e,n){const r=this;let i,s,o,a,l;return u;function u(D){return h(D)}function h(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),d}function d(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),s=!0,b):D===63?(t.consume(D),i=3,r.interrupt?e:P):ln(D)?(t.consume(D),o=String.fromCharCode(D),R):n(D)}function f(D){return D===45?(t.consume(D),i=2,p):D===91?(t.consume(D),i=5,a=0,v):ln(D)?(t.consume(D),i=4,r.interrupt?e:P):n(D)}function p(D){return D===45?(t.consume(D),r.interrupt?e:P):n(D)}function v(D){const oe="CDATA[";return D===oe.charCodeAt(a++)?(t.consume(D),a===oe.length?r.interrupt?e:I:v):n(D)}function b(D){return ln(D)?(t.consume(D),o=String.fromCharCode(D),R):n(D)}function R(D){if(D===null||D===47||D===62||Qe(D)){const oe=D===47,me=o.toLowerCase();return!oe&&!s&&GE.includes(me)?(i=1,r.interrupt?e(D):I(D)):_3.includes(o.toLowerCase())?(i=6,oe?(t.consume(D),y):r.interrupt?e(D):I(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?_(D):x(D))}return D===45||Yt(D)?(t.consume(D),o+=String.fromCharCode(D),R):n(D)}function y(D){return D===62?(t.consume(D),r.interrupt?e:I):n(D)}function _(D){return Ce(D)?(t.consume(D),_):E(D)}function x(D){return D===47?(t.consume(D),E):D===58||D===95||ln(D)?(t.consume(D),L):Ce(D)?(t.consume(D),x):E(D)}function L(D){return D===45||D===46||D===58||D===95||Yt(D)?(t.consume(D),L):F(D)}function F(D){return D===61?(t.consume(D),M):Ce(D)?(t.consume(D),F):x(D)}function M(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,C):Ce(D)?(t.consume(D),M):k(D)}function C(D){return D===l?(t.consume(D),l=null,T):D===null||pe(D)?n(D):(t.consume(D),C)}function k(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||Qe(D)?F(D):(t.consume(D),k)}function T(D){return D===47||D===62||Ce(D)?x(D):n(D)}function E(D){return D===62?(t.consume(D),N):n(D)}function N(D){return D===null||pe(D)?I(D):Ce(D)?(t.consume(D),N):n(D)}function I(D){return D===45&&i===2?(t.consume(D),ne):D===60&&i===1?(t.consume(D),$):D===62&&i===4?(t.consume(D),q):D===63&&i===3?(t.consume(D),P):D===93&&i===5?(t.consume(D),W):pe(D)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(E3,le,S)(D)):D===null||pe(D)?(t.exit("htmlFlowData"),S(D)):(t.consume(D),I)}function S(D){return t.check(k3,G,le)(D)}function G(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),H}function H(D){return D===null||pe(D)?S(D):(t.enter("htmlFlowData"),I(D))}function ne(D){return D===45?(t.consume(D),P):I(D)}function $(D){return D===47?(t.consume(D),o="",j):I(D)}function j(D){if(D===62){const oe=o.toLowerCase();return GE.includes(oe)?(t.consume(D),q):I(D)}return ln(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),j):I(D)}function W(D){return D===93?(t.consume(D),P):I(D)}function P(D){return D===62?(t.consume(D),q):D===45&&i===2?(t.consume(D),P):I(D)}function q(D){return D===null||pe(D)?(t.exit("htmlFlowData"),le(D)):(t.consume(D),q)}function le(D){return t.exit("htmlFlow"),e(D)}}function T3(t,e,n){const r=this;return i;function i(o){return pe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function S3(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ou,e,n)}}const I3={name:"htmlText",tokenize:C3};function C3(t,e,n){const r=this;let i,s,o;return a;function a(P){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(P),l}function l(P){return P===33?(t.consume(P),u):P===47?(t.consume(P),F):P===63?(t.consume(P),x):ln(P)?(t.consume(P),k):n(P)}function u(P){return P===45?(t.consume(P),h):P===91?(t.consume(P),s=0,v):ln(P)?(t.consume(P),_):n(P)}function h(P){return P===45?(t.consume(P),p):n(P)}function d(P){return P===null?n(P):P===45?(t.consume(P),f):pe(P)?(o=d,$(P)):(t.consume(P),d)}function f(P){return P===45?(t.consume(P),p):d(P)}function p(P){return P===62?ne(P):P===45?f(P):d(P)}function v(P){const q="CDATA[";return P===q.charCodeAt(s++)?(t.consume(P),s===q.length?b:v):n(P)}function b(P){return P===null?n(P):P===93?(t.consume(P),R):pe(P)?(o=b,$(P)):(t.consume(P),b)}function R(P){return P===93?(t.consume(P),y):b(P)}function y(P){return P===62?ne(P):P===93?(t.consume(P),y):b(P)}function _(P){return P===null||P===62?ne(P):pe(P)?(o=_,$(P)):(t.consume(P),_)}function x(P){return P===null?n(P):P===63?(t.consume(P),L):pe(P)?(o=x,$(P)):(t.consume(P),x)}function L(P){return P===62?ne(P):x(P)}function F(P){return ln(P)?(t.consume(P),M):n(P)}function M(P){return P===45||Yt(P)?(t.consume(P),M):C(P)}function C(P){return pe(P)?(o=C,$(P)):Ce(P)?(t.consume(P),C):ne(P)}function k(P){return P===45||Yt(P)?(t.consume(P),k):P===47||P===62||Qe(P)?T(P):n(P)}function T(P){return P===47?(t.consume(P),ne):P===58||P===95||ln(P)?(t.consume(P),E):pe(P)?(o=T,$(P)):Ce(P)?(t.consume(P),T):ne(P)}function E(P){return P===45||P===46||P===58||P===95||Yt(P)?(t.consume(P),E):N(P)}function N(P){return P===61?(t.consume(P),I):pe(P)?(o=N,$(P)):Ce(P)?(t.consume(P),N):T(P)}function I(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),i=P,S):pe(P)?(o=I,$(P)):Ce(P)?(t.consume(P),I):(t.consume(P),G)}function S(P){return P===i?(t.consume(P),i=void 0,H):P===null?n(P):pe(P)?(o=S,$(P)):(t.consume(P),S)}function G(P){return P===null||P===34||P===39||P===60||P===61||P===96?n(P):P===47||P===62||Qe(P)?T(P):(t.consume(P),G)}function H(P){return P===47||P===62||Qe(P)?T(P):n(P)}function ne(P){return P===62?(t.consume(P),t.exit("htmlTextData"),t.exit("htmlText"),e):n(P)}function $(P){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),j}function j(P){return Ce(P)?Me(t,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):W(P)}function W(P){return t.enter("htmlTextData"),o(P)}}const Dv={name:"labelEnd",resolveAll:N3,resolveTo:D3,tokenize:O3},A3={tokenize:L3},P3={tokenize:M3},R3={tokenize:F3};function N3(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&jn(t,0,t.length,n),t}function D3(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Kn(a,t.slice(s+1,s+r+3)),a=Kn(a,[["enter",h,e]]),a=Kn(a,nf(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Kn(a,[["exit",h,e],t[o-2],t[o-1],["exit",u,e]]),a=Kn(a,t.slice(o+1)),a=Kn(a,[["exit",l,e]]),jn(t,s,t.length,a),t}function O3(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(hr(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(A3,h,o?h:d)(f):f===91?t.attempt(P3,h,o?u:d)(f):o?h(f):d(f)}function u(f){return t.attempt(R3,h,d)(f)}function h(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function L3(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Qe(d)?Tl(t,s)(d):s(d)}function s(d){return d===41?h(d):yI(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return Qe(d)?Tl(t,l)(d):h(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?_I(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return Qe(d)?Tl(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function M3(t,e,n){const r=this;return i;function i(a){return vI.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(hr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function F3(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const V3={name:"labelStartImage",resolveAll:Dv.resolveAll,tokenize:j3};function j3(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const $3={name:"labelStartLink",resolveAll:Dv.resolveAll,tokenize:U3};function U3(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const kp={name:"lineEnding",tokenize:z3};function z3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Me(t,e,"linePrefix")}}const sh={name:"thematicBreak",tokenize:B3};function B3(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||pe(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Ce(u)?Me(t,a,"whitespace")(u):a(u))}}const yn={continuation:{tokenize:G3},exit:Q3,name:"list",tokenize:q3},H3={partial:!0,tokenize:Y3},W3={partial:!0,tokenize:K3};function q3(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const v=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:gg(p)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(sh,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return gg(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Ou,r.interrupt?n:h,t.attempt(H3,f,d))}function h(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Ce(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function G3(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ou,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Me(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Ce(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(W3,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Me(t,t.attempt(yn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function K3(t,e,n){const r=this;return Me(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Q3(t){t.exit(this.containerState.type)}function Y3(t,e,n){const r=this;return Me(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Ce(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const KE={name:"setextUnderline",resolveTo:X3,tokenize:J3};function X3(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function J3(t,e,n){const r=this;let i;return s;function s(u){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Ce(u)?Me(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||pe(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const Z3={tokenize:eU};function eU(t){const e=this,n=t.attempt(Ou,r,t.attempt(this.parser.constructs.flowInitial,i,Me(t,t.attempt(this.parser.constructs.flow,i,t.attempt(s3,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const tU={resolveAll:EI()},nU=wI("string"),rU=wI("text");function wI(t){return{resolveAll:EI(t==="text"?iU:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function EI(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function iU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const sU={42:yn,43:yn,45:yn,48:yn,49:yn,50:yn,51:yn,52:yn,53:yn,54:yn,55:yn,56:yn,57:yn,62:fI},oU={91:c3},aU={[-2]:Ep,[-1]:Ep,32:Ep},lU={35:g3,42:sh,45:[KE,sh],60:w3,61:KE,95:sh,96:qE,126:qE},uU={38:mI,92:pI},cU={[-5]:kp,[-4]:kp,[-3]:kp,33:V3,38:mI,42:yg,60:[$$,I3],91:$3,92:[p3,pI],93:Dv,95:yg,96:Z$},hU={null:[yg,tU]},dU={null:[42,95]},fU={null:[]},pU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:dU,contentInitial:oU,disable:fU,document:sU,flow:lU,flowInitial:aU,insideSpan:hU,string:uU,text:cU},Symbol.toStringTag,{value:"Module"}));function mU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:C(F),check:C(M),consume:_,enter:x,exit:L,interrupt:C(M,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:v,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(N){return o=Kn(o,N),R(),o[o.length-1]!==null?[]:(k(e,0),u.events=nf(s,u.events,u),u.events)}function f(N,I){return yU(p(N),I)}function p(N){return gU(o,N)}function v(){const{_bufferIndex:N,_index:I,line:S,column:G,offset:H}=r;return{_bufferIndex:N,_index:I,line:S,column:G,offset:H}}function b(N){i[N.line]=N.column,E()}function R(){let N;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<I.length;)y(I.charCodeAt(r._bufferIndex));else y(I)}}function y(N){h=h(N)}function _(N){pe(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,E()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=N}function x(N,I){const S=I||{};return S.type=N,S.start=v(),u.events.push(["enter",S,u]),a.push(S),S}function L(N){const I=a.pop();return I.end=v(),u.events.push(["exit",I,u]),I}function F(N,I){k(N,I.from)}function M(N,I){I.restore()}function C(N,I){return S;function S(G,H,ne){let $,j,W,P;return Array.isArray(G)?le(G):"tokenize"in G?le([G]):q(G);function q(Y){return te;function te(re){const fe=re!==null&&Y[re],Ie=re!==null&&Y.null,ae=[...Array.isArray(fe)?fe:fe?[fe]:[],...Array.isArray(Ie)?Ie:Ie?[Ie]:[]];return le(ae)(re)}}function le(Y){return $=Y,j=0,Y.length===0?ne:D(Y[j])}function D(Y){return te;function te(re){return P=T(),W=Y,Y.partial||(u.currentConstruct=Y),Y.name&&u.parser.constructs.disable.null.includes(Y.name)?me():Y.tokenize.call(I?Object.assign(Object.create(u),I):u,l,oe,me)(re)}}function oe(Y){return N(W,P),H}function me(Y){return P.restore(),++j<$.length?D($[j]):ne}}}function k(N,I){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&jn(u.events,I,u.events.length-I,N.resolve(u.events.slice(I),u)),N.resolveTo&&(u.events=N.resolveTo(u.events,u))}function T(){const N=v(),I=u.previous,S=u.currentConstruct,G=u.events.length,H=Array.from(a);return{from:G,restore:ne};function ne(){r=N,u.previous=I,u.currentConstruct=S,u.events.length=G,a=H,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function gU(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function yU(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function vU(t){const r={constructs:hI([pU,...(t||{}).extensions||[]]),content:i(D$),defined:[],document:i(L$),flow:i(Z3),lazy:{},string:i(nU),text:i(rU)};return r;function i(s){return o;function o(a){return mU(r,s,a)}}}function _U(t){for(;!gI(t););return t}const QE=/[\0\t\n\r]/g;function wU(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(QE.lastIndex=d,u=QE.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const EU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kU(t){return t.replace(EU,xU)}function xU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return dI(n.slice(s?2:1),s?16:10)}return Nv(n)||t}const kI={}.hasOwnProperty;function bU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),TU(n)(_U(vU(n).document().write(wU()(t,e,!0))))}function TU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(nn),autolinkProtocol:T,autolinkEmail:T,atxHeading:s(Je),blockQuote:s(Ie),characterEscape:T,characterReference:T,codeFenced:s(ae),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(ae,o),codeText:s(ce,o),codeTextData:T,data:T,codeFlowValue:T,definition:s(Be),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Pe),hardBreakEscape:s(It),hardBreakTrailing:s(It),htmlFlow:s(In,o),htmlFlowData:T,htmlText:s(In,o),htmlTextData:T,image:s($t),label:o,link:s(nn),listItem:s(Mu),listItemValue:f,listOrdered:s(di,d),listUnordered:s(di),paragraph:s(af),reference:D,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Je),strong:s(ya),thematicBreak:s(Fu)},exit:{atxHeading:l(),atxHeadingSequence:F,autolink:l(),autolinkEmail:fe,autolinkProtocol:re,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:Y,characterReference:te,codeFenced:l(R),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:E,codeIndented:l(y),codeText:l(H),codeTextData:E,data:E,definition:l(),definitionDestinationString:L,definitionLabelString:_,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(S),htmlFlowData:E,htmlText:l(G),htmlTextData:E,image:l($),label:W,labelText:j,lineEnding:N,link:l(ne),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:oe,resourceDestinationString:P,resourceTitleString:q,resource:le,setextHeading:l(k),setextHeadingLineSequence:C,setextHeadingText:M,strong:l(),thematicBreak:l()}};xI(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(z){let Q={type:"root",children:[]};const ge={stack:[Q],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:h,data:n},Se=[];let ze=-1;for(;++ze<z.length;)if(z[ze][1].type==="listOrdered"||z[ze][1].type==="listUnordered")if(z[ze][0]==="enter")Se.push(ze);else{const Cn=Se.pop();ze=i(z,Cn,ze)}for(ze=-1;++ze<z.length;){const Cn=e[z[ze][0]];kI.call(Cn,z[ze][1].type)&&Cn[z[ze][1].type].call(Object.assign({sliceSerialize:z[ze][2].sliceSerialize},ge),z[ze][1])}if(ge.tokenStack.length>0){const Cn=ge.tokenStack[ge.tokenStack.length-1];(Cn[1]||YE).call(ge,void 0,Cn[0])}for(Q.position={start:wi(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:wi(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},ze=-1;++ze<e.transforms.length;)Q=e.transforms[ze](Q)||Q;return Q}function i(z,Q,ge){let Se=Q-1,ze=-1,Cn=!1,An,Bn,fi,Nr;for(;++Se<=ge;){const rn=z[Se];switch(rn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{rn[0]==="enter"?ze++:ze--,Nr=void 0;break}case"lineEndingBlank":{rn[0]==="enter"&&(An&&!Nr&&!ze&&!fi&&(fi=Se),Nr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nr=void 0}if(!ze&&rn[0]==="enter"&&rn[1].type==="listItemPrefix"||ze===-1&&rn[0]==="exit"&&(rn[1].type==="listUnordered"||rn[1].type==="listOrdered")){if(An){let pi=Se;for(Bn=void 0;pi--;){const Pn=z[pi];if(Pn[1].type==="lineEnding"||Pn[1].type==="lineEndingBlank"){if(Pn[0]==="exit")continue;Bn&&(z[Bn][1].type="lineEndingBlank",Cn=!0),Pn[1].type="lineEnding",Bn=pi}else if(!(Pn[1].type==="linePrefix"||Pn[1].type==="blockQuotePrefix"||Pn[1].type==="blockQuotePrefixWhitespace"||Pn[1].type==="blockQuoteMarker"||Pn[1].type==="listItemIndent"))break}fi&&(!Bn||fi<Bn)&&(An._spread=!0),An.end=Object.assign({},Bn?z[Bn][1].start:rn[1].end),z.splice(Bn||Se,0,["exit",An,rn[2]]),Se++,ge++}if(rn[1].type==="listItemPrefix"){const pi={type:"listItem",_spread:!1,start:Object.assign({},rn[1].start),end:void 0};An=pi,z.splice(Se,0,["enter",pi,rn[2]]),Se++,ge++,fi=void 0,Nr=!0}}}return z[Q][1]._spread=Cn,ge}function s(z,Q){return ge;function ge(Se){a.call(this,z(Se),Se),Q&&Q.call(this,Se)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(z,Q,ge){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([Q,ge||void 0]),z.position={start:wi(Q.start),end:void 0}}function l(z){return Q;function Q(ge){z&&z.call(this,ge),u.call(this,ge)}}function u(z,Q){const ge=this.stack.pop(),Se=this.tokenStack.pop();if(Se)Se[0].type!==z.type&&(Q?Q.call(this,z,Se[0]):(Se[1]||YE).call(this,z,Se[0]));else throw new Error("Cannot close `"+z.type+"` ("+bl({start:z.start,end:z.end})+"): its not open");ge.position.end=wi(z.end)}function h(){return Rv(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(z){if(this.data.expectingFirstListItemValue){const Q=this.stack[this.stack.length-2];Q.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function p(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.lang=z}function v(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.meta=z}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.value=z.replace(/(\r?\n|\r)$/g,"")}function _(z){const Q=this.resume(),ge=this.stack[this.stack.length-1];ge.label=Q,ge.identifier=hr(this.sliceSerialize(z)).toLowerCase()}function x(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.title=z}function L(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.url=z}function F(z){const Q=this.stack[this.stack.length-1];if(!Q.depth){const ge=this.sliceSerialize(z).length;Q.depth=ge}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function C(z){const Q=this.stack[this.stack.length-1];Q.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function k(){this.data.setextHeadingSlurpLineEnding=void 0}function T(z){const ge=this.stack[this.stack.length-1].children;let Se=ge[ge.length-1];(!Se||Se.type!=="text")&&(Se=va(),Se.position={start:wi(z.start),end:void 0},ge.push(Se)),this.stack.push(Se)}function E(z){const Q=this.stack.pop();Q.value+=this.sliceSerialize(z),Q.position.end=wi(z.end)}function N(z){const Q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ge=Q.children[Q.children.length-1];ge.position.end=wi(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Q.type)&&(T.call(this,z),E.call(this,z))}function I(){this.data.atHardBreak=!0}function S(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.value=z}function G(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.value=z}function H(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.value=z}function ne(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=Q,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function $(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const Q=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=Q,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function j(z){const Q=this.sliceSerialize(z),ge=this.stack[this.stack.length-2];ge.label=kU(Q),ge.identifier=hr(Q).toLowerCase()}function W(){const z=this.stack[this.stack.length-1],Q=this.resume(),ge=this.stack[this.stack.length-1];if(this.data.inReference=!0,ge.type==="link"){const Se=z.children;ge.children=Se}else ge.alt=Q}function P(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.url=z}function q(){const z=this.resume(),Q=this.stack[this.stack.length-1];Q.title=z}function le(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function oe(z){const Q=this.resume(),ge=this.stack[this.stack.length-1];ge.label=Q,ge.identifier=hr(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function me(z){this.data.characterReferenceType=z.type}function Y(z){const Q=this.sliceSerialize(z),ge=this.data.characterReferenceType;let Se;ge?(Se=dI(Q,ge==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Se=Nv(Q);const ze=this.stack[this.stack.length-1];ze.value+=Se}function te(z){const Q=this.stack.pop();Q.position.end=wi(z.end)}function re(z){E.call(this,z);const Q=this.stack[this.stack.length-1];Q.url=this.sliceSerialize(z)}function fe(z){E.call(this,z);const Q=this.stack[this.stack.length-1];Q.url="mailto:"+this.sliceSerialize(z)}function Ie(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function ce(){return{type:"inlineCode",value:""}}function Be(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Pe(){return{type:"emphasis",children:[]}}function Je(){return{type:"heading",depth:0,children:[]}}function It(){return{type:"break"}}function In(){return{type:"html",value:""}}function $t(){return{type:"image",title:null,url:"",alt:null}}function nn(){return{type:"link",title:null,url:"",children:[]}}function di(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function Mu(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function af(){return{type:"paragraph",children:[]}}function ya(){return{type:"strong",children:[]}}function va(){return{type:"text",value:""}}function Fu(){return{type:"thematicBreak"}}}function wi(t){return{line:t.line,column:t.column,offset:t.offset}}function xI(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?xI(t,r):SU(t,r)}}function SU(t,e){let n;for(n in e)if(kI.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function YE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+bl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+bl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bl({start:e.start,end:e.end})+") is still open")}function IU(t){const e=this;e.parser=n;function n(r){return bU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function CU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function AU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function PU(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function RU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function NU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function DU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ga(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function OU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bI(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function MU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bI(t,e);const i={src:ga(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function FU(t,e){const n={src:ga(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function VU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function jU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bI(t,e);const i={href:ga(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function $U(t,e){const n={href:ga(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function UU(t,e,n){const r=t.all(e),i=n?zU(n):TI(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function zU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=TI(n[r])}return e}function TI(t){const e=t.spread;return e??t.children.length>1}function BU(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function HU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function qU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function GU(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Iv(e.children[1]),l=iI(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function KU(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let v={type:"element",tagName:s,properties:f,children:[]};d&&(v.children=t.all(d),t.patch(d,v),v=t.applyData(d,v)),u.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function QU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const XE=9,JE=32;function YU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(ZE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(ZE(e.slice(i),i>0,!1)),s.join("")}function ZE(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===XE||s===JE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===XE||s===JE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function XU(t,e){const n={type:"text",value:YU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function JU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ZU={blockquote:CU,break:AU,code:PU,delete:RU,emphasis:NU,footnoteReference:DU,heading:OU,html:LU,imageReference:MU,image:FU,inlineCode:VU,linkReference:jU,link:$U,listItem:UU,list:BU,paragraph:HU,root:WU,strong:qU,table:GU,tableCell:QU,tableRow:KU,text:XU,thematicBreak:JU,toml:Cc,yaml:Cc,definition:Cc,footnoteDefinition:Cc};function Cc(){}const SI=-1,rf=0,Sl=1,sd=2,Ov=3,Lv=4,Mv=5,Fv=6,II=7,CI=8,ek=typeof self=="object"?self:globalThis,ez=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case rf:case SI:return n(o,i);case Sl:{const a=n([],i);for(const l of o)a.push(r(l));return a}case sd:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case Ov:return n(new Date(o),i);case Lv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Mv:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Fv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case II:{const{name:a,message:l}=o;return n(new ek[a](l),i)}case CI:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new ek[s](o),i)};return r},tk=t=>ez(new Map,t)(0),co="",{toString:tz}={},{keys:nz}=Object,Ua=t=>{const e=typeof t;if(e!=="object"||!t)return[rf,e];const n=tz.call(t).slice(8,-1);switch(n){case"Array":return[Sl,co];case"Object":return[sd,co];case"Date":return[Ov,co];case"RegExp":return[Lv,co];case"Map":return[Mv,co];case"Set":return[Fv,co];case"DataView":return[Sl,n]}return n.includes("Array")?[Sl,n]:n.includes("Error")?[II,n]:[sd,n]},Ac=([t,e])=>t===rf&&(e==="function"||e==="symbol"),rz=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Ua(o);switch(a){case rf:{let h=o;switch(l){case"bigint":a=CI,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([SI],o)}return i([a,h],o)}case Sl:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const h=[],d=i([a,h],o);for(const f of o)h.push(s(f));return d}case sd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],d=i([a,h],o);for(const f of nz(o))(t||!Ac(Ua(o[f])))&&h.push([s(f),s(o[f])]);return d}case Ov:return i([a,o.toISOString()],o);case Lv:{const{source:h,flags:d}=o;return i([a,{source:h,flags:d}],o)}case Mv:{const h=[],d=i([a,h],o);for(const[f,p]of o)(t||!(Ac(Ua(f))||Ac(Ua(p))))&&h.push([s(f),s(p)]);return d}case Fv:{const h=[],d=i([a,h],o);for(const f of o)(t||!Ac(Ua(f)))&&h.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},nk=(t,{json:e,lossy:n}={})=>{const r=[];return rz(!(e||n),!!e,new Map,r)(t),r},od=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?tk(nk(t,e)):structuredClone(t):(t,e)=>tk(nk(t,e));function iz(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function sz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function oz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||iz,r=t.options.footnoteBackLabel||sz,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),d=String(u.identifier).toUpperCase(),f=ga(d.toLowerCase());let p=0;const v=[],b=t.footnoteCounts.get(d);for(;b!==void 0&&++p<=b;){v.length>0&&v.push({type:"text",value:" "});let _=typeof n=="string"?n:n(l,p);typeof _=="string"&&(_={type:"text",value:_}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const R=h[h.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const _=R.children[R.children.length-1];_&&_.type==="text"?_.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...v)}else h.push(...v);const y={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(u,y),a.push(y)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...od(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const sf=function(t){if(t==null)return cz;if(typeof t=="function")return of(t);if(typeof t=="object")return Array.isArray(t)?az(t):lz(t);if(typeof t=="string")return uz(t);throw new Error("Expected function, string, or object as test")};function az(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sf(t[n]);return of(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function lz(t){const e=t;return of(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function uz(t){return of(e);function e(n){return n&&n.type===t}}function of(t){return e;function e(n,r,i){return!!(hz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cz(){return!0}function hz(t){return t!==null&&typeof t=="object"&&"type"in t}const AI=[],dz=!0,vg=!1,fz="skip";function PI(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=sf(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=AI,v,b,R;if((!e||s(l,u,h[h.length-1]||void 0))&&(p=pz(n(l,h)),p[0]===vg))return p;if("children"in l&&l.children){const y=l;if(y.children&&p[0]!==fz)for(b=(r?y.children.length:-1)+o,R=h.concat(y);b>-1&&b<y.children.length;){const _=y.children[b];if(v=a(_,b,R)(),v[0]===vg)return v;b=typeof v[1]=="number"?v[1]:b+o}}return p}}}function pz(t){return Array.isArray(t)?t:typeof t=="number"?[dz,t]:t==null?AI:[t]}function Vv(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),PI(t,s,a,i);function a(l,u){const h=u[u.length-1],d=h?h.children.indexOf(l):void 0;return o(l,d,h)}}const _g={}.hasOwnProperty,mz={};function gz(t,e){const n=e||mz,r=new Map,i=new Map,s=new Map,o={...ZU,...n.handlers},a={all:u,applyData:vz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:yz,wrap:wz};return Vv(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,f=String(h.identifier).toUpperCase();d.has(f)||d.set(f,h)}}),a;function l(h,d){const f=h.type,p=a.handlers[f];if(_g.call(a.handlers,f)&&p)return p(a,h,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in h){const{children:b,...R}=h,y=od(R);return y.children=a.all(h),y}return od(h)}return(a.options.unknownHandler||_z)(a,h,d)}function u(h){const d=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const v=a.one(f[p],h);if(v){if(p&&f[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=rk(v.value)),!Array.isArray(v)&&v.type==="element")){const b=v.children[0];b&&b.type==="text"&&(b.value=rk(b.value))}Array.isArray(v)?d.push(...v):d.push(v)}}}return d}}function yz(t,e){t.position&&(e.position=s$(t))}function vz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,od(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function _z(t,e){const n=e.data||{},r="value"in e&&!(_g.call(n,"hProperties")||_g.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function wz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rk(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ik(t,e){const n=gz(t,e),r=n.one(t,void 0),i=oz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Ez(t,e){return t&&"run"in t?async function(n,r){const i=ik(n,{file:r,...e});await t.run(i,r)}:function(n,r){return ik(n,{file:r,...t||e})}}function sk(t){if(t)throw t}var oh=Object.prototype.hasOwnProperty,RI=Object.prototype.toString,ok=Object.defineProperty,ak=Object.getOwnPropertyDescriptor,lk=function(e){return typeof Array.isArray=="function"?Array.isArray(e):RI.call(e)==="[object Array]"},uk=function(e){if(!e||RI.call(e)!=="[object Object]")return!1;var n=oh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&oh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||oh.call(e,i)},ck=function(e,n){ok&&n.name==="__proto__"?ok(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},hk=function(e,n){if(n==="__proto__")if(oh.call(e,n)){if(ak)return ak(e,n).value}else return;return e[n]},kz=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=hk(a,n),i=hk(e,n),a!==i&&(h&&i&&(uk(i)||(s=lk(i)))?(s?(s=!1,o=r&&lk(r)?r:[]):o=r&&uk(r)?r:{},ck(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&ck(a,{name:n,newValue:i}));return a};const xp=xg(kz);function wg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function xz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?bz(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function bz(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const yr={basename:Tz,dirname:Sz,extname:Iz,join:Cz,sep:"/"};function Tz(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Lu(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Sz(t){if(Lu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Iz(t){Lu(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Cz(...t){let e=-1,n;for(;++e<t.length;)Lu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Az(n)}function Az(t){Lu(t);const e=t.codePointAt(0)===47;let n=Pz(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Pz(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Lu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Rz={cwd:Nz};function Nz(){return"/"}function Eg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Dz(t){if(typeof t=="string")t=new URL(t);else if(!Eg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Oz(t)}function Oz(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const bp=["history","path","basename","stem","extname","dirname"];class NI{constructor(e){let n;e?Eg(e)?n={path:e}:typeof e=="string"||Lz(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Rz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bp.length;){const s=bp[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?yr.basename(this.path):void 0}set basename(e){Sp(e,"basename"),Tp(e,"basename"),this.path=yr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?yr.dirname(this.path):void 0}set dirname(e){dk(this.basename,"dirname"),this.path=yr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?yr.extname(this.path):void 0}set extname(e){if(Tp(e,"extname"),dk(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Eg(e)&&(e=Dz(e)),Sp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?yr.basename(this.path,this.extname):void 0}set stem(e){Sp(e,"stem"),Tp(e,"stem"),this.path=yr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new tn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Tp(t,e){if(t&&t.includes(yr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+yr.sep+"`")}function Sp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function dk(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Lz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Mz=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Fz={}.hasOwnProperty;class jv extends Mz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=xz()}copy(){const e=new jv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(xp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ap("data",this.frozen),this.namespace[e]=n,this):Fz.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ap("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Pc(e),r=this.parser||this.Parser;return Ip("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ip("process",this.parser||this.Parser),Cp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Pc(e),l=r.parse(a);r.run(l,a,function(h,d,f){if(h||!d||!f)return u(h);const p=d,v=r.stringify(p,f);$z(v)?f.value=v:f.result=v,u(h,f)});function u(h,d){h||!d?o(h):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Ip("processSync",this.parser||this.Parser),Cp("processSync",this.compiler||this.Compiler),this.process(e,i),pk("processSync","process",n),r;function i(s,o){n=!0,sk(s),r=o}}run(e,n,r){fk(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Pc(n);i.run(e,l,u);function u(h,d,f){const p=d||e;h?a(h):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),pk("runSync","run",r),i;function s(o,a){sk(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Pc(n),i=this.compiler||this.Compiler;return Cp("stringify",i),fk(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Ap("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;l(h,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=xp(!0,i.settings,u.settings))}function a(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...h]);else if(h.length>0){let[p,...v]=h;const b=r[f][1];wg(b)&&wg(p)&&(p=xp(!0,b,p)),r[f]=[u,p,...v]}}}}const Vz=new jv().freeze();function Ip(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Cp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ap(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fk(t){if(!wg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function pk(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Pc(t){return jz(t)?t:new NI(t)}function jz(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function $z(t){return typeof t=="string"||Uz(t)}function Uz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const zz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mk=[],gk={allowDangerousHtml:!0},Bz=/^(https?|ircs?|mailto|xmpp)$/i,Hz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Wz(t){const e=qz(t),n=Gz(t);return Kz(e.runSync(e.parse(n),n),t)}function qz(t){const e=t.rehypePlugins||mk,n=t.remarkPlugins||mk,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...gk}:gk;return Vz().use(IU).use(n).use(Ez,r).use(e)}function Gz(t){const e=t.children||"",n=new NI;return typeof e=="string"&&(n.value=e),n}function Kz(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Qz;for(const h of Hz)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+zz+h.id,void 0);return Vv(t,u),c$(t,{Fragment:w.Fragment,components:i,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function u(h,d,f){if(h.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let p;for(p in wp)if(Object.hasOwn(wp,p)&&Object.hasOwn(h.properties,p)){const v=h.properties[p],b=wp[p];(b===null||b.includes(h.tagName))&&(h.properties[p]=l(String(v||""),p,h))}}if(h.type==="element"){let p=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(h,d,f)),p&&f&&typeof d=="number")return a&&h.children?f.children.splice(d,1,...h.children):f.children.splice(d,1),d}}}function Qz(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Bz.test(t.slice(0,e))?t:""}function yk(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Yz(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Xz(t,e,n){const i=sf((n||{}).ignore||[]),s=Jz(e);let o=-1;for(;++o<s.length;)PI(t,"text",a);function a(u,h){let d=-1,f;for(;++d<h.length;){const p=h[d],v=f?f.children:void 0;if(i(p,v?v.indexOf(p):void 0,f))return;f=p}if(f)return l(u,h)}function l(u,h){const d=h[h.length-1],f=s[o][0],p=s[o][1];let v=0;const R=d.children.indexOf(u);let y=!1,_=[];f.lastIndex=0;let x=f.exec(u.value);for(;x;){const L=x.index,F={index:x.index,input:x.input,stack:[...h,u]};let M=p(...x,F);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?f.lastIndex=L+1:(v!==L&&_.push({type:"text",value:u.value.slice(v,L)}),Array.isArray(M)?_.push(...M):M&&_.push(M),v=L+x[0].length,y=!0),!f.global)break;x=f.exec(u.value)}return y?(v<u.value.length&&_.push({type:"text",value:u.value.slice(v)}),d.children.splice(R,1,..._)):_=[u],R+_.length}}function Jz(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Zz(i[0]),e9(i[1])])}return e}function Zz(t){return typeof t=="string"?new RegExp(Yz(t),"g"):t}function e9(t){return typeof t=="function"?t:function(){return t}}const Pp="phrasing",Rp=["autolink","link","image","label"];function t9(){return{transforms:[l9],enter:{literalAutolink:r9,literalAutolinkEmail:Np,literalAutolinkHttp:Np,literalAutolinkWww:Np},exit:{literalAutolink:a9,literalAutolinkEmail:o9,literalAutolinkHttp:i9,literalAutolinkWww:s9}}}function n9(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Pp,notInConstruct:Rp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Pp,notInConstruct:Rp},{character:":",before:"[ps]",after:"\\/",inConstruct:Pp,notInConstruct:Rp}]}}function r9(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Np(t){this.config.enter.autolinkProtocol.call(this,t)}function i9(t){this.config.exit.autolinkProtocol.call(this,t)}function s9(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function o9(t){this.config.exit.autolinkEmail.call(this,t)}function a9(t){this.exit(t)}function l9(t){Xz(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,u9],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),c9]],{ignore:["link","linkReference"]})}function u9(t,e,n,r,i){let s="";if(!DI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!h9(n)))return!1;const o=d9(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function c9(t,e,n,r){return!DI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function h9(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function d9(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=yk(t,"(");let s=yk(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function DI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Ks(n)||tf(n))&&(!e||n!==47)}OI.peek=E9;function f9(){this.buffer()}function p9(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function m9(){this.buffer()}function g9(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function y9(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function v9(t){this.exit(t)}function _9(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=hr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function w9(t){this.exit(t)}function E9(){return"["}function OI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function k9(){return{enter:{gfmFootnoteCallString:f9,gfmFootnoteCall:p9,gfmFootnoteDefinitionLabelString:m9,gfmFootnoteDefinition:g9},exit:{gfmFootnoteCallString:y9,gfmFootnoteCall:v9,gfmFootnoteDefinitionLabelString:_9,gfmFootnoteDefinition:w9}}}function x9(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:OI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),h(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?LI:b9))),u(),l}}function b9(t,e,n){return e===0?t:LI(t,e,n)}function LI(t,e,n){return(n?"":"    ")+t}const T9=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MI.peek=P9;function S9(){return{canContainEols:["delete"],enter:{strikethrough:C9},exit:{strikethrough:A9}}}function I9(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:T9}],handlers:{delete:MI}}}function C9(t){this.enter({type:"delete",children:[]},t)}function A9(t){this.exit(t)}function MI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function P9(){return"~"}function R9(t){return t.length}function N9(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||R9,s=[],o=[],a=[],l=[];let u=0,h=-1;for(;++h<t.length;){const b=[],R=[];let y=-1;for(t[h].length>u&&(u=t[h].length);++y<t[h].length;){const _=D9(t[h][y]);if(n.alignDelimiters!==!1){const x=i(_);R[y]=x,(l[y]===void 0||x>l[y])&&(l[y]=x)}b.push(_)}o[h]=b,a[h]=R}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=vk(r[d]);else{const b=vk(r);for(;++d<u;)s[d]=b}d=-1;const f=[],p=[];for(;++d<u;){const b=s[d];let R="",y="";b===99?(R=":",y=":"):b===108?R=":":b===114&&(y=":");let _=n.alignDelimiters===!1?1:Math.max(1,l[d]-R.length-y.length);const x=R+"-".repeat(_)+y;n.alignDelimiters!==!1&&(_=R.length+_+y.length,_>l[d]&&(l[d]=_),p[d]=_),f[d]=x}o.splice(1,0,f),a.splice(1,0,p),h=-1;const v=[];for(;++h<o.length;){const b=o[h],R=a[h];d=-1;const y=[];for(;++d<u;){const _=b[d]||"";let x="",L="";if(n.alignDelimiters!==!1){const F=l[d]-(R[d]||0),M=s[d];M===114?x=" ".repeat(F):M===99?F%2?(x=" ".repeat(F/2+.5),L=" ".repeat(F/2-.5)):(x=" ".repeat(F/2),L=x):L=" ".repeat(F)}n.delimiterStart!==!1&&!d&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||d)&&y.push(" "),n.alignDelimiters!==!1&&y.push(x),y.push(_),n.alignDelimiters!==!1&&y.push(L),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&y.push("|")}v.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return v.join(`
`)}function D9(t){return t==null?"":String(t)}function vk(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function O9(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),L9);return i(),o}function L9(t,e,n){return">"+(n?"":" ")+t}function M9(t,e){return _k(t,e.inConstruct,!0)&&!_k(t,e.notInConstruct,!1)}function _k(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function wk(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&M9(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function F9(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function V9(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function j9(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function $9(t,e,n,r){const i=j9(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(V9(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,U9);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(F9(s,i)+1,3)),u=n.enter("codeFenced");let h=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),d()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(l),u(),h}function U9(t,e,n){return(n?"":"    ")+t}function $v(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function z9(t,e,n,r){const i=$v(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function B9(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function ru(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ad(t,e,n){const r=oa(t),i=oa(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}FI.peek=H9;function FI(t,e,n,r){const i=B9(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=ad(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=ru(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=ad(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+ru(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},a+l+p}function H9(t,e,n){return n.options.emphasis||"*"}function W9(t,e){let n=!1;return Vv(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,vg}),!!((!t.depth||t.depth<3)&&Rv(t)&&(e.options.setext||n))}function q9(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(W9(t,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=ru(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}VI.peek=G9;function VI(t){return t.value||""}function G9(){return"<"}jI.peek=K9;function jI(t,e,n,r){const i=$v(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function K9(){return"!"}$I.peek=Q9;function $I(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Q9(){return"!"}UI.peek=Y9;function UI(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Y9(){return"`"}function zI(t,e){const n=Rv(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}BI.peek=X9;function BI(t,e,n,r){const i=$v(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(zI(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=h,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function X9(t,e,n){return zI(t,n)?"<":"["}HI.peek=J9;function HI(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function J9(){return"["}function Uv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Z9(t){const e=Uv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function e5(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function WI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function t5(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?e5(n):Uv(n);const a=t.ordered?o==="."?")":".":Z9(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),WI(n)===o&&h){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function n5(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function r5(t,e,n,r){const i=n5(n);let s=n.bulletCurrent||Uv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),h);return l(),u;function h(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function i5(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const s5=sf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function o5(t,e,n,r){return(t.children.some(function(o){return s5(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function a5(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}qI.peek=l5;function qI(t,e,n,r){const i=a5(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=ad(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=ru(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=ad(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+ru(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},a+l+p}function l5(t,e,n){return n.options.strong||"*"}function u5(t,e,n,r){return n.safe(t.value,r)}function c5(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function h5(t,e,n){const r=(WI(n)+(n.options.ruleSpaces?" ":"")).repeat(c5(n));return n.options.ruleSpaces?r.slice(0,-1):r}const GI={blockquote:O9,break:wk,code:$9,definition:z9,emphasis:FI,hardBreak:wk,heading:q9,html:VI,image:jI,imageReference:$I,inlineCode:UI,link:BI,linkReference:HI,list:t5,listItem:r5,paragraph:i5,root:o5,strong:qI,text:u5,thematicBreak:h5};function d5(){return{enter:{table:f5,tableData:Ek,tableHeader:Ek,tableRow:m5},exit:{codeText:g5,table:p5,tableData:Dp,tableHeader:Dp,tableRow:Dp}}}function f5(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function p5(t){this.exit(t),this.data.inTable=void 0}function m5(t){this.enter({type:"tableRow",children:[]},t)}function Dp(t){this.exit(t)}function Ek(t){this.enter({type:"tableCell",children:[]},t)}function g5(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,y5));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function y5(t,e){return e==="|"?e:t}function v5(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,v,b,R){return u(h(p,b,R),p.align)}function a(p,v,b,R){const y=d(p,b,R),_=u([y]);return _.slice(0,_.indexOf(`
`))}function l(p,v,b,R){const y=b.enter("tableCell"),_=b.enter("phrasing"),x=b.containerPhrasing(p,{...R,before:s,after:s});return _(),y(),x}function u(p,v){return N9(p,{align:v,alignDelimiters:r,padding:n,stringLength:i})}function h(p,v,b){const R=p.children;let y=-1;const _=[],x=v.enter("table");for(;++y<R.length;)_[y]=d(R[y],v,b);return x(),_}function d(p,v,b){const R=p.children;let y=-1;const _=[],x=v.enter("tableRow");for(;++y<R.length;)_[y]=l(R[y],p,v,b);return x(),_}function f(p,v,b){let R=GI.inlineCode(p,v,b);return b.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function _5(){return{exit:{taskListCheckValueChecked:kk,taskListCheckValueUnchecked:kk,paragraph:E5}}}function w5(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:k5}}}function kk(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function E5(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function k5(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=GI.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+o}}function x5(){return[t9(),k9(),S9(),d5(),_5()]}function b5(t){return{extensions:[n9(),x9(t),I9(),v5(t),w5()]}}const T5={tokenize:R5,partial:!0},KI={tokenize:N5,partial:!0},QI={tokenize:D5,partial:!0},YI={tokenize:O5,partial:!0},S5={tokenize:L5,partial:!0},XI={name:"wwwAutolink",tokenize:A5,previous:ZI},JI={name:"protocolAutolink",tokenize:P5,previous:eC},hi={name:"emailAutolink",tokenize:C5,previous:tC},Rr={};function I5(){return{text:Rr}}let vs=48;for(;vs<123;)Rr[vs]=hi,vs++,vs===58?vs=65:vs===91&&(vs=97);Rr[43]=hi;Rr[45]=hi;Rr[46]=hi;Rr[95]=hi;Rr[72]=[hi,JI];Rr[104]=[hi,JI];Rr[87]=[hi,XI];Rr[119]=[hi,XI];function C5(t,e,n){const r=this;let i,s;return o;function o(d){return!kg(d)||!tC.call(r,r.previous)||zv(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return kg(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(S5,h,u)(d):d===45||d===95||Yt(d)?(s=!0,t.consume(d),l):h(d)}function u(d){return t.consume(d),i=!0,l}function h(d){return s&&i&&ln(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function A5(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!ZI.call(r,r.previous)||zv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(T5,t.attempt(KI,t.attempt(QI,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function P5(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&eC.call(r,r.previous)&&!zv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(ln(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||id(d)||Qe(d)||Ks(d)||tf(d)?n(d):t.attempt(KI,t.attempt(QI,h),n)(d)}function h(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function R5(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function N5(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(YI,l,a)(u):u===null||Qe(u)||Ks(u)||u!==45&&tf(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function D5(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(YI,e,s)(o):o===null||Qe(o)||Ks(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function O5(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Qe(a)||Ks(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Qe(a)||Ks(a)?e(a):r(a)}function s(a){return ln(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):ln(a)?(t.consume(a),o):n(a)}}function L5(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Yt(s)?n(s):e(s)}}function ZI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Qe(t)}function eC(t){return!ln(t)}function tC(t){return!(t===47||kg(t))}function kg(t){return t===43||t===45||t===46||t===95||Yt(t)}function zv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const M5={tokenize:H5,partial:!0};function F5(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:U5,continuation:{tokenize:z5},exit:B5}},text:{91:{name:"gfmFootnoteCall",tokenize:$5},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:V5,resolveTo:j5}}}}function V5(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=hr(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function j5(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function $5(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||Qe(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(hr(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return Qe(d)||(o=!0),s++,t.consume(d),d===92?h:u}function h(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function U5(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(v){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(v)}function h(v){if(o>999||v===93&&!a||v===null||v===91||Qe(v))return n(v);if(v===93){t.exit("chunkString");const b=t.exit("gfmFootnoteDefinitionLabelString");return s=hr(r.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(v),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Qe(v)||(a=!0),o++,t.consume(v),v===92?d:h}function d(v){return v===91||v===92||v===93?(t.consume(v),o++,h):h(v)}function f(v){return v===58?(t.enter("definitionMarker"),t.consume(v),t.exit("definitionMarker"),i.includes(s)||i.push(s),Me(t,p,"gfmFootnoteDefinitionWhitespace")):n(v)}function p(v){return e(v)}}function z5(t,e,n){return t.check(Ou,e,t.attempt(M5,e,n))}function B5(t){t.exit("gfmFootnoteDefinition")}function H5(t,e,n){const r=this;return Me(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function W5(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",h,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&jn(f,f.length,0,nf(p,o.slice(u+1,l),a)),jn(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",h,a]]),jn(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,h=this.events;let d=0;return f;function f(v){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(v):(o.enter("strikethroughSequenceTemporary"),p(v))}function p(v){const b=oa(u);if(v===126)return d>1?l(v):(o.consume(v),d++,p);if(d<2&&!n)return l(v);const R=o.exit("strikethroughSequenceTemporary"),y=oa(v);return R._open=!y||y===2&&!!b,R._close=!b||b===2&&!!y,a(v)}}}class q5{constructor(){this.map=[]}add(e,n,r){G5(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function G5(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function K5(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Q5(){return{flow:{null:{name:"table",tokenize:Y5,resolveAll:X5}}}}function Y5(t,e,n){const r=this;let i=0,s=0,o;return a;function a(E){let N=r.events.length-1;for(;N>-1;){const G=r.events[N][1].type;if(G==="lineEnding"||G==="linePrefix")N--;else break}const I=N>-1?r.events[N][1].type:null,S=I==="tableHead"||I==="tableRow"?M:l;return S===M&&r.parser.lazy[r.now().line]?n(E):S(E)}function l(E){return t.enter("tableHead"),t.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,s+=1),h(E)}function h(E){return E===null?n(E):pe(E)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):n(E):Ce(E)?Me(t,h,"whitespace")(E):(s+=1,o&&(o=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),o=!0,h):(t.enter("data"),d(E)))}function d(E){return E===null||E===124||Qe(E)?(t.exit("data"),h(E)):(t.consume(E),E===92?f:d)}function f(E){return E===92||E===124?(t.consume(E),d):d(E)}function p(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),o=!1,Ce(E)?Me(t,v,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):v(E))}function v(E){return E===45||E===58?R(E):E===124?(o=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),b):F(E)}function b(E){return Ce(E)?Me(t,R,"whitespace")(E):R(E)}function R(E){return E===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),y):E===45?(s+=1,y(E)):E===null||pe(E)?L(E):F(E)}function y(E){return E===45?(t.enter("tableDelimiterFiller"),_(E)):F(E)}function _(E){return E===45?(t.consume(E),_):E===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(E))}function x(E){return Ce(E)?Me(t,L,"whitespace")(E):L(E)}function L(E){return E===124?v(E):E===null||pe(E)?!o||i!==s?F(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):F(E)}function F(E){return n(E)}function M(E){return t.enter("tableRow"),C(E)}function C(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),C):E===null||pe(E)?(t.exit("tableRow"),e(E)):Ce(E)?Me(t,C,"whitespace")(E):(t.enter("data"),k(E))}function k(E){return E===null||E===124||Qe(E)?(t.exit("data"),C(E)):(t.consume(E),E===92?T:k)}function T(E){return E===92||E===124?(t.consume(E),k):k(E)}}function X5(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,h,d;const f=new q5;for(;++n<t.length;){const p=t[n],v=p[1];p[0]==="enter"?v.type==="tableHead"?(a=!1,l!==0&&(xk(f,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},f.add(n,0,[["enter",u,e]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},f.add(n,0,[["enter",h,e]])),i=v.type==="tableDelimiterRow"?2:h?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Rc(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):v.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=Rc(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):v.type==="tableHead"?(a=!0,l=n):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=Rc(f,e,s,i,n,d)):o[1]!==0&&(d=Rc(f,e,o,i,n,d)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&xk(f,e,l,u,h),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=K5(e.events,n))}return t}function Rc(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},go(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=go(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=go(e.events,n[2]),h=go(e.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const v=n[2]+1,b=n[3]-n[2]-1;t.add(v,b,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},go(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function xk(t,e,n,r,i){const s=[],o=go(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function go(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const J5={name:"tasklistCheck",tokenize:eB};function Z5(){return{text:{91:J5}}}function eB(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Qe(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return pe(l)?e(l):Ce(l)?t.check({tokenize:tB},e,n)(l):n(l)}}function tB(t,e,n){return Me(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function nB(t){return hI([I5(),F5(),W5(t),Q5(),Z5()])}const rB={};function iB(t){const e=this,n=t||rB,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(nB(n)),s.push(x5()),o.push(b5(n))}function sB({theme:t,setTheme:e,user:n,isAuthorized:r,handleSignIn:i,handleSignOut:s}){const[o,a]=O.useState(!1),[l,u]=O.useState("Loading...");O.useEffect(()=>{o&&l==="Loading..."&&fetch("CHANGELOG.md").then(d=>{if(d.ok)return d.text();throw new Error("Could not load changelog.")}).then(d=>u(d)).catch(d=>u(d.message))},[o]);const h=()=>n?n.isAnonymous?w.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 rounded-md font-semibold text-sm bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:[w.jsx(Fe,{name:"google",type:"fab",className:"mr-2"})," Admin Sign-In"]}):w.jsxs("div",{className:"space-y-3 text-center",children:[w.jsxs("p",{children:["Signed in as ",w.jsx("span",{className:"font-semibold",children:n.email})]}),r&&w.jsx("p",{className:"text-green-600 dark:text-green-400 font-bold",children:"You have admin privileges."}),w.jsx("button",{className:"w-full px-4 py-2 rounded-md font-semibold text-sm bg-gray-500 text-white hover:bg-gray-600",onClick:s,children:"Sign Out"})]}):null;return w.jsxs("div",{className:"settings-view space-y-4",children:[w.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),w.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-md font-semibold mb-2",children:"Theme"}),w.jsxs("div",{className:"flex w-full rounded-md shadow-sm",children:[w.jsx("button",{onClick:()=>e("light"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-l-md border ${t==="light"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Light"}),w.jsx("button",{onClick:()=>e("dark"),className:`flex-1 px-4 py-2 text-sm font-medium border-t border-b ${t==="dark"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Dark"}),w.jsx("button",{onClick:()=>e("system"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-r-md border ${t==="system"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"System"})]})]})}),w.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:w.jsxs("div",{className:"p-4",children:[w.jsxs("button",{className:"flex justify-between items-center w-full font-semibold",onClick:()=>a(!o),"aria-expanded":o,children:[w.jsx("span",{children:"Version History & Changelog"}),w.jsx(Fe,{name:o?"chevron-up":"chevron-down"})]}),o&&w.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none mt-4 pt-4 border-t border-border-light dark:border-border-dark",children:w.jsx(Wz,{remarkPlugins:[iB],children:l})})]})}),w.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:w.jsxs("div",{className:"p-4",children:[w.jsx("h3",{className:"text-md font-semibold mb-2 text-center",children:"Account"}),h()]})})]})}const oB=O.forwardRef(({meetData:t},e)=>!t||!t.events||t.events.length===0?null:w.jsxs("div",{ref:e,className:"printable-container",children:[w.jsx("style",{children:`
        @media screen {
          .printable-container {
            display: none;
          }
        }
        @media print {
          @page {
            size: A4;
            margin: 0.75in;
          }
          body {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          .heat-sheet-header {
            text-align: center;
            margin-bottom: 24px;
          }
          .heat-sheet-content {
            column-count: 2;
            column-gap: 2rem;
          }
          .event-block {
            break-inside: avoid;
            margin-bottom: 1rem;
            border: 1px solid #ccc;
            padding: 0.5rem;
            border-radius: 4px;
          }
          .event-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 0.25rem;
            background-color: #eee;
            padding: 0.25rem;
            border-radius: 2px;
          }
          .heat-title {
            font-weight: bold;
            margin-top: 0.5rem;
            padding-left: 0.25rem;
          }
          .swimmer-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9em;
          }
          .swimmer-table th, .swimmer-table td {
            text-align: left;
            padding: 2px 4px;
          }
          .swimmer-table th {
            border-bottom: 1px solid #999;
          }
          .swimmer-table .lane { width: 10%; }
          .swimmer-table .name { width: 45%; }
          .swimmer-table .age-team { width: 25%; }
          .swimmer-table .seed { width: 20%; text-align: right; }
        }
      `}),w.jsxs("div",{className:"heat-sheet-header",children:[w.jsxs("h1",{children:[t.name," - Heat Sheet"]}),w.jsx("p",{children:new Date(t.date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),w.jsx("div",{className:"heat-sheet-content",children:t.events.map(n=>w.jsxs("div",{className:"event-block",children:[w.jsxs("div",{className:"event-title",children:["#",n.eventNumber," ",n.name]}),n.heats&&n.heats.length>0?n.heats.map(r=>w.jsxs("div",{children:[w.jsxs("div",{className:"heat-title",children:["Heat ",r.heatNumber," of ",n.heats.length]}),w.jsxs("table",{className:"swimmer-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{className:"lane",children:"Lane"}),w.jsx("th",{className:"name",children:"Name"}),w.jsx("th",{className:"age-team",children:"Age Team"}),w.jsx("th",{className:"seed",children:"Seed"})]})}),w.jsx("tbody",{children:r.lanes.sort((i,s)=>i.lane-s.lane).map(i=>w.jsxs("tr",{children:[w.jsx("td",{className:"lane",children:i.lane}),w.jsx("td",{className:"name",children:`${i.lastName}, ${i.firstName}`}),w.jsxs("td",{className:"age-team",children:[i.age," ",i.team]}),w.jsx("td",{className:"seed",children:i.seedTime||"NT"})]},i.id))})]})]},r.heatNumber)):w.jsx("p",{children:"No entries for this event."})]},n.id))})]})),bk=new jr,aB=t=>{try{localStorage.setItem("swimMeetFavorites",JSON.stringify(Array.from(t)))}catch(e){console.error("Error saving favorites:",e)}},lB=()=>{try{const t=localStorage.getItem("swimMeetFavorites");return t?new Set(JSON.parse(t)):new Set}catch(t){return console.error("Error loading favorites:",t),new Set}};function uB(){const[t,e]=O.useState(localStorage.getItem("theme")||"system"),[n,r]=O.useState(null),[i,s]=O.useState(null),[o,a]=O.useState(!1),[l,u]=O.useState(lB),[h,d]=O.useState("schedule"),[f,p]=O.useState({eventNumber:1,heatNumber:1,isTracking:!1}),[v,b]=O.useState(""),[R,y]=O.useState(""),[_,x]=O.useState(!1),[L,F]=O.useState(null),[M,C]=O.useState(!0),[k,T]=O.useState(null),[E,N]=O.useState([]),[I,S]=O.useState(null),[G,H]=O.useState({}),ne=O.useRef(),$=zR.useReactToPrint({content:()=>ne.current,documentTitle:`${(L==null?void 0:L.name)||"Swim Meet"} - Heat Sheet`});O.useEffect(()=>{const Y=fe=>{const Ie=fe==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":fe,ae=document.documentElement;Ie==="dark"?ae.classList.add("dark"):ae.classList.remove("dark")};Y(t),localStorage.setItem("theme",t);const te=window.matchMedia("(prefers-color-scheme: dark)"),re=()=>Y(t);return te.addEventListener("change",re),()=>te.removeEventListener("change",re)},[t]),O.useEffect(()=>{if(!ms){T("Authentication service is not available.");return}return SL(ms,async te=>{if(te)if(r(te),te.email)if(te.email==="jonny5v@gmail.com")a(!0),s("SUPERADMIN");else{a(!1);const re=qe(he,"team_admins",te.email),fe=await O4(re);s(fe.exists()?fe.data().team:null)}else s(null),a(!1);else wL(ms).catch(re=>{console.error("Anonymous sign-in failed:",re)})})},[]),O.useEffect(()=>{if(!he)return;const Y=wt(he,"rosters"),te=un(Y,re=>{const fe={};re.forEach(Ie=>{const ae=Ie.id;(Ie.data().swimmers||[]).forEach(Be=>{fe[Be.id]={...Be,team:ae}})}),H(fe)});return()=>te()},[]),O.useEffect(()=>{if(!he)return;const Y=wt(he,"meets"),te=un(Y,re=>{const fe=re.docs.map(Ie=>({id:Ie.id,...Ie.data(),date:Ie.data().date.toDate()})).sort((Ie,ae)=>Ie.date-ae.date);if(N(fe),!I&&fe.length>0){const Ie=new Date,ae=fe.find(ce=>ce.date>=Ie);S(ae?ae.id:fe[fe.length-1].id)}C(!1)},re=>{console.error("Error fetching meets:",re),T("Could not load meets from the database."),C(!1)});return()=>te()},[]),O.useEffect(()=>{if(!he||!I){F(null);return}const Y=E.find(fe=>fe.id===I);if(!Y)return;const te=eu(wt(he,"meet_events"),tu("meetId","==",I)),re=un(te,fe=>{const Ie=fe.docs.map(ae=>({id:ae.id,...ae.data()})).sort((ae,ce)=>ae.eventNumber-ce.eventNumber);F({...Y,events:Ie})},fe=>{console.error(`Error fetching events for meet ${I}:`,fe),T("Could not load events for the selected meet.")});return()=>re()},[he,I,E]);const j=()=>{!ms||!bk||qL(ms,bk).catch(Y=>console.error("Sign-in failed:",Y))},W=()=>ms&&ms.signOut();O.useEffect(()=>{if(!he||!I)return;const Y=qe(he,"meet_status",I),te=un(Y,re=>{re.exists()?p(re.data()):$o(Y,{eventNumber:1,heatNumber:1,isTracking:!1})});return()=>te()},[he,I]);const P=async Y=>{if(!he||!i||!I)return;const te=qe(he,"meet_status",I);await ia(te,Y)};O.useEffect(()=>aB(l),[l]);const q=Y=>{u(te=>{const re=new Set(te);return re.has(Y)?re.delete(Y):re.add(Y),re})};O.useEffect(()=>{if(Object.keys(G).length===0)return;let Y=!1;const te=new Set(l);for(const re of te)G[re]||(te.delete(re),Y=!0);Y&&(console.log("Cleaned stale swimmer IDs from favorites."),u(te))},[G,l]);const le=O.useMemo(()=>Array.from(l).map(te=>{const re=G[te];if(!re)return{id:te,name:"Loading swimmer...",team:"",events:[]};const fe=[];if(L&&L.events){const Ie=ae=>(ae||"").replace("Freestyle","Free").replace("Backstroke","Back").replace("Breaststroke","Breast").replace("Butterfly","Fly");L.events.forEach(ae=>{ae.heats&&ae.heats.forEach(ce=>{ce.lanes.forEach(Be=>{Be.id===te&&fe.push(`E${ae.eventNumber} H${ce.heatNumber} L${Be.lane}: ${Ie(ae.name)}`)})})})}return{id:te,name:`${re.firstName} ${re.lastName}`,team:re.team,events:fe,isInCurrentMeet:fe.length>0}}).sort((te,re)=>te.name.localeCompare(re.name)),[l,G,L]),D=O.useMemo(()=>{if(!R.trim()||Object.keys(G).length===0)return[];const Y=R.toLowerCase();return Object.values(G).filter(re=>`${re.firstName} ${re.lastName}`.toLowerCase().includes(Y)).map(re=>({id:re.id,name:`${re.firstName} ${re.lastName}`,team:re.team})).sort((re,fe)=>re.name.localeCompare(fe.name))},[R,G]),oe=O.useMemo(()=>{if(!v.trim()||!L||!L.events)return[];const Y=v.toLowerCase();return L.events.filter(te=>te.name.toLowerCase().includes(Y)||String(te.eventNumber).includes(Y))},[v,L]);if(M)return w.jsx("div",{className:"flex justify-center items-center h-screen",children:w.jsx("h4",{className:"text-lg font-semibold",children:"Loading Meet Data..."})});if(k)return w.jsx("div",{className:"container mx-auto mt-4",children:w.jsx("div",{className:"p-4 text-red-800 bg-red-100 border border-red-200 rounded-md",children:k})});const me=()=>{switch(h){case"schedule":return L?w.jsx(qw,{events:L.events,favorites:l,currentEvent:f,toggleFavorite:q,adminRole:i,updateMeetStatus:P}):w.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."});case"searchEvents":return L?w.jsx(KR,{search:v,setSearch:b,results:oe,favorites:l,currentEvent:f,toggleFavorite:q}):w.jsx("p",{className:"text-center",children:"Select a meet to search events."});case"searchSwimmers":return L?w.jsx(QR,{search:R,setSearch:y,results:D,favorites:l,toggleFavorite:q}):w.jsx("p",{className:"text-center",children:"Select a meet to search swimmers."});case"admin":return w.jsx(pj,{adminRole:i,isSuperAdmin:o,allMeets:E,toast:$e});case"settings":return w.jsx(sB,{theme:t,setTheme:e,user:n,isAuthorized:!!i,handleSignIn:j,handleSignOut:W});default:return L?w.jsx(qw,{events:L.events,favorites:l,currentEvent:f,toggleFavorite:q,adminRole:i,updateMeetStatus:P}):w.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."})}};return w.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark text-text-dark dark:text-text-light transition-colors duration-300 pb-20 min-h-screen",children:[w.jsx(UR,{position:"top-center",reverseOrder:!1,toastOptions:{className:"dark:bg-surface-dark dark:text-text-light"}}),w.jsx(GR,{}),w.jsx(oB,{ref:ne,meetData:L}),w.jsxs("div",{className:"container mx-auto px-4 py-4",children:[w.jsxs("header",{className:"text-center mb-4",children:[h!=="admin"&&L?w.jsx("h1",{className:"font-bold text-3xl text-primary",children:L.name}):w.jsx("h1",{className:"font-bold text-3xl text-primary",children:"Swim Meet Live"}),L&&L.events&&L.events.length>0&&w.jsx("button",{onClick:$,className:"p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700",title:"Print Heat Sheet",children:w.jsx(Fe,{name:"print"})}),E.length>0&&h!=="admin"&&w.jsx("div",{className:"mt-2 max-w-md mx-auto",children:w.jsx("select",{className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md text-sm bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",value:I||"",onChange:Y=>S(Y.target.value),children:E.map(Y=>w.jsxs("option",{value:Y.id,children:[Y.name," - ",Y.date.toLocaleDateString()]},Y.id))})})]}),h!=="settings"&&h!=="admin"&&L&&w.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden mb-3",children:[w.jsx("h2",{className:"accordion-header",id:"favorites-header",children:w.jsxs("button",{className:"flex justify-between items-center w-full p-4 font-semibold text-left bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",onClick:()=>x(!_),"aria-expanded":_,"aria-controls":"favorites-content",children:[w.jsxs("span",{children:["My Favorites (",l.size,")"]}),w.jsx(Fe,{name:_?"chevron-up":"chevron-down",className:`transition-transform duration-200 ${_?"rotate-180":""}`})]})}),_&&w.jsx("div",{id:"favorites-content",className:"p-4 bg-white dark:bg-surface-dark border-t border-border-light dark:border-border-dark",role:"region","aria-labelledby":"favorites-header",children:le.length>0?w.jsx("div",{className:"divide-y divide-border-light dark:divide-border-dark -mx-4",children:le.map(Y=>w.jsxs("div",{className:"px-4 py-3 flex justify-between items-start",children:[w.jsxs("div",{className:"mr-auto",children:[w.jsxs("div",{className:"font-bold flex items-center",children:[w.jsx("span",{children:Y.name}),Y.isInCurrentMeet&&w.jsx("span",{className:"ml-2 h-2.5 w-2.5 bg-green-500 rounded-full",title:"Swimming in this meet"})]}),w.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:Y.events.length>0?Y.events.map((te,re)=>w.jsx("div",{children:te},re)):w.jsx("p",{className:"italic text-gray-400 dark:text-gray-500 mt-1",children:"Not in this meet"})})]}),h==="searchSwimmers"&&w.jsx("button",{className:"p-2 -m-2",onClick:()=>q(Y.id),"aria-label":`Toggle favorite for ${Y.name}`,children:w.jsx("div",{className:"text-secondary",children:w.jsx(Fe,{name:"star",type:"fas"})})})]},Y.id))}):w.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-0",children:"No favorites added yet. Tap the star next to a swimmer's name to add them."})})]}),w.jsx("main",{children:me()})]}),w.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark z-30",children:w.jsxs("div",{className:"flex justify-around items-center",children:[w.jsxs("button",{onClick:()=>d("schedule"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${h==="schedule"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[w.jsx("div",{children:w.jsx(Fe,{name:"list-ol"})}),w.jsx("div",{className:"text-xs",children:"Schedule"})]}),w.jsxs("button",{onClick:()=>d("searchEvents"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${h==="searchEvents"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[w.jsx("div",{children:w.jsx(Fe,{name:"magnifying-glass"})}),w.jsx("div",{className:"text-xs",children:"Events"})]}),w.jsxs("button",{onClick:()=>d("searchSwimmers"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${h==="searchSwimmers"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[w.jsx("div",{children:w.jsx(Fe,{name:"user"})}),w.jsx("div",{className:"text-xs",children:"Swimmers"})]}),i&&w.jsxs("button",{onClick:()=>d("admin"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${h==="admin"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[w.jsx("div",{children:w.jsx(Fe,{name:"user-shield"})}),w.jsx("div",{className:"text-xs",children:"Admin"})]}),w.jsxs("button",{onClick:()=>d("settings"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${h==="settings"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[w.jsx("div",{children:w.jsx(Fe,{name:"gear"})}),w.jsx("div",{className:"text-xs",children:"Settings"})]})]})})]})}Op.createRoot(document.getElementById("root")).render(w.jsx(Ee.StrictMode,{children:w.jsx(uB,{})}));
