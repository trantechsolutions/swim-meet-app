function EC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tk={exports:{}},ld={},Sk={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),kC=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),TC=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),CC=Symbol.for("react.forward_ref"),AC=Symbol.for("react.suspense"),PC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),D_=Symbol.iterator;function NC(t){return t===null||typeof t!="object"?null:(t=D_&&t[D_]||t["@@iterator"],typeof t=="function"?t:null)}var bk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ik=Object.assign,Ck={};function Jo(t,e,n){this.props=t,this.context=e,this.refs=Ck,this.updater=n||bk}Jo.prototype.isReactComponent={};Jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ak(){}Ak.prototype=Jo.prototype;function Sg(t,e,n){this.props=t,this.context=e,this.refs=Ck,this.updater=n||bk}var bg=Sg.prototype=new Ak;bg.constructor=Sg;Ik(bg,Jo.prototype);bg.isPureReactComponent=!0;var O_=Array.isArray,Pk=Object.prototype.hasOwnProperty,Ig={current:null},Rk={key:!0,ref:!0,__self:!0,__source:!0};function Nk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Pk.call(e,r)&&!Rk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Zl,type:t,key:s,ref:o,props:i,_owner:Ig.current}}function DC(t,e){return{$$typeof:Zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zl}function OC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var L_=/\/+/g;function xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OC(""+t.key):e.toString(36)}function Cc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zl:case kC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xf(o,0):r,O_(i)?(n="",t!=null&&(n=t.replace(L_,"$&/")+"/"),Cc(i,e,n,"",function(u){return u})):i!=null&&(Cg(i)&&(i=DC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(L_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",O_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+xf(s,a);o+=Cc(s,e,n,l,i)}else if(l=NC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+xf(s,a++),o+=Cc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ku(t,e,n){if(t==null)return t;var r=[],i=0;return Cc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Ac={transition:null},MC={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:Ig};function Dk(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Ku,forEach:function(t,e,n){Ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ku(t,function(){e++}),e},toArray:function(t){return Ku(t,function(e){return e})||[]},only:function(t){if(!Cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Jo;Te.Fragment=xC;Te.Profiler=SC;Te.PureComponent=Sg;Te.StrictMode=TC;Te.Suspense=AC;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;Te.act=Dk;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ik({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ig.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Pk.call(e,l)&&!Rk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Zl,type:t.type,key:i,ref:s,props:r,_owner:o}};Te.createContext=function(t){return t={$$typeof:IC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bC,_context:t},t.Consumer=t};Te.createElement=Nk;Te.createFactory=function(t){var e=Nk.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:CC,render:t}};Te.isValidElement=Cg;Te.lazy=function(t){return{$$typeof:RC,_payload:{_status:-1,_result:t},_init:LC}};Te.memo=function(t,e){return{$$typeof:PC,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};Te.unstable_act=Dk;Te.useCallback=function(t,e){return rn.current.useCallback(t,e)};Te.useContext=function(t){return rn.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Te.useEffect=function(t,e){return rn.current.useEffect(t,e)};Te.useId=function(){return rn.current.useId()};Te.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return rn.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Te.useRef=function(t){return rn.current.useRef(t)};Te.useState=function(t){return rn.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return rn.current.useTransition()};Te.version="18.3.1";Sk.exports=Te;var O=Sk.exports;const ge=Tg(O),M_=EC({__proto__:null,default:ge},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC=O,VC=Symbol.for("react.element"),jC=Symbol.for("react.fragment"),$C=Object.prototype.hasOwnProperty,UC=FC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zC={key:!0,ref:!0,__self:!0,__source:!0};function Ok(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$C.call(e,r)&&!zC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VC,type:t,key:s,ref:o,props:i,_owner:UC.current}}ld.Fragment=jC;ld.jsx=Ok;ld.jsxs=Ok;Tk.exports=ld;var E=Tk.exports,Lp={},Lk={exports:{}},Rn={},Mk={exports:{}},Fk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var R=z.length;z.push(Y);e:for(;0<R;){var te=R-1>>>1,ae=z[te];if(0<i(ae,Y))z[te]=Y,z[R]=ae,R=te;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],R=z.pop();if(R!==Y){z[0]=R;e:for(var te=0,ae=z.length,N=ae>>>1;te<N;){var ee=2*(te+1)-1,oe=z[ee],ne=ee+1,ye=z[ne];if(0>i(oe,R))ne<ae&&0>i(ye,oe)?(z[te]=ye,z[ne]=R,te=ne):(z[te]=oe,z[ee]=R,te=ee);else if(ne<ae&&0>i(ye,R))z[te]=ye,z[ne]=R,te=ne;else break e}}return Y}function i(z,Y){var R=z.sortIndex-Y.sortIndex;return R!==0?R:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=z)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function M(z){if(k=!1,x(z),!g)if(n(l)!==null)g=!0,X(j);else{var Y=n(u);Y!==null&&Q(M,Y.startTime-z)}}function j(z,Y){g=!1,k&&(k=!1,v(T),T=-1),p=!0;var R=f;try{for(x(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||z&&!P());){var te=d.callback;if(typeof te=="function"){d.callback=null,f=d.priorityLevel;var ae=te(d.expirationTime<=Y);Y=t.unstable_now(),typeof ae=="function"?d.callback=ae:d===n(l)&&r(l),x(Y)}else r(l);d=n(l)}if(d!==null)var N=!0;else{var ee=n(u);ee!==null&&Q(M,ee.startTime-Y),N=!1}return N}finally{d=null,f=R,p=!1}}var L=!1,I=null,T=-1,A=5,_=-1;function P(){return!(t.unstable_now()-_<A)}function C(){if(I!==null){var z=t.unstable_now();_=z;var Y=!0;try{Y=I(!0,z)}finally{Y?b():(L=!1,I=null)}}else L=!1}var b;if(typeof w=="function")b=function(){w(C)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=C,b=function(){B.postMessage(null)}}else b=function(){D(C,0)};function X(z){I=z,L||(L=!0,b())}function Q(z,Y){T=D(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,X(j))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var R=f;f=Y;try{return z()}finally{f=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var R=f;f=z;try{return Y()}finally{f=R}},t.unstable_scheduleCallback=function(z,Y,R){var te=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?te+R:te):R=te,z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=R+ae,z={id:h++,callback:Y,priorityLevel:z,startTime:R,expirationTime:ae,sortIndex:-1},R>te?(z.sortIndex=R,e(u,z),n(l)===null&&z===n(u)&&(k?(v(T),T=-1):k=!0,Q(M,R-te))):(z.sortIndex=ae,e(l,z),g||p||(g=!0,X(j))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var Y=f;return function(){var R=f;f=Y;try{return z.apply(this,arguments)}finally{f=R}}}})(Fk);Mk.exports=Fk;var BC=Mk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=O,Pn=BC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vk=new Set,xl={};function $s(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(xl[t]=e,t=0;t<e.length;t++)Vk.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=Object.prototype.hasOwnProperty,WC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F_={},V_={};function qC(t){return Mp.call(V_,t)?!0:Mp.call(F_,t)?!1:WC.test(t)?V_[t]=!0:(F_[t]=!0,!1)}function GC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KC(t,e,n,r){if(e===null||typeof e>"u"||GC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ag=/[\-:]([a-z])/g;function Pg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ag,Pg);At[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ag,Pg);At[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ag,Pg);At[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rg(t,e,n,r){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KC(e,n,i,r)&&(n=null),r||i===null?qC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=HC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qu=Symbol.for("react.element"),uo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),jk=Symbol.for("react.provider"),$k=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),Uk=Symbol.for("react.offscreen"),j_=Symbol.iterator;function Ia(t){return t===null||typeof t!="object"?null:(t=j_&&t[j_]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,Tf;function Va(t){if(Tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var Sf=!1;function bf(t,e){if(!t||Sf)return"";Sf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Va(t):""}function QC(t){switch(t.tag){case 5:return Va(t.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function $p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case uo:return"Portal";case Fp:return"Profiler";case Ng:return"StrictMode";case Vp:return"Suspense";case jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $k:return(t.displayName||"Context")+".Consumer";case jk:return(t._context.displayName||"Context")+".Provider";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Og:return e=t.displayName||null,e!==null?e:$p(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return $p(t(e))}catch{}}return null}function YC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $p(e);case 8:return e===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XC(t){var e=zk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yu(t){t._valueTracker||(t._valueTracker=XC(t))}function Bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Up(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hk(t,e){e=e.checked,e!=null&&Rg(t,"checked",e,!1)}function zp(t,e){Hk(t,e);var n=Bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bp(t,e.type,Bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function U_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bp(t,e,n){(e!=="number"||ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ja=Array.isArray;function xo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(ja(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bi(n)}}function Wk(t,e){var n=Bi(e.value),r=Bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xu,Gk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xu=Xu||document.createElement("div"),Xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ja={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JC=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(t){JC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ja[e]=Ja[t]})});function Kk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ja.hasOwnProperty(t)&&Ja[t]?(""+e).trim():e+"px"}function Qk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ZC=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qp(t,e){if(e){if(ZC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qp=null,To=null,So=null;function H_(t){if(t=nu(t)){if(typeof Qp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=fd(e),Qp(t.stateNode,t.type,e))}}function Yk(t){To?So?So.push(t):So=[t]:To=t}function Xk(){if(To){var t=To,e=So;if(So=To=null,H_(t),e)for(t=0;t<e.length;t++)H_(e[t])}}function Jk(t,e){return t(e)}function Zk(){}var If=!1;function ex(t,e,n){if(If)return t(e,n);If=!0;try{return Jk(t,e,n)}finally{If=!1,(To!==null||So!==null)&&(Zk(),Xk())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=fd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var Yp=!1;if(jr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Yp=!1}function eA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Za=!1,lh=null,uh=!1,Xp=null,tA={onError:function(t){Za=!0,lh=t}};function nA(t,e,n,r,i,s,o,a,l){Za=!1,lh=null,eA.apply(tA,arguments)}function rA(t,e,n,r,i,s,o,a,l){if(nA.apply(this,arguments),Za){if(Za){var u=lh;Za=!1,lh=null}else throw Error(G(198));uh||(uh=!0,Xp=u)}}function Us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W_(t){if(Us(t)!==t)throw Error(G(188))}function iA(t){var e=t.alternate;if(!e){if(e=Us(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return W_(i),t;if(s===r)return W_(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function nx(t){return t=iA(t),t!==null?rx(t):null}function rx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rx(t);if(e!==null)return e;t=t.sibling}return null}var ix=Pn.unstable_scheduleCallback,q_=Pn.unstable_cancelCallback,sA=Pn.unstable_shouldYield,oA=Pn.unstable_requestPaint,at=Pn.unstable_now,aA=Pn.unstable_getCurrentPriorityLevel,Mg=Pn.unstable_ImmediatePriority,sx=Pn.unstable_UserBlockingPriority,ch=Pn.unstable_NormalPriority,lA=Pn.unstable_LowPriority,ox=Pn.unstable_IdlePriority,ud=null,hr=null;function uA(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(ud,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:dA,cA=Math.log,hA=Math.LN2;function dA(t){return t>>>=0,t===0?32:31-(cA(t)/hA|0)|0}var Ju=64,Zu=4194304;function $a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=$a(a):(s&=o,s!==0&&(r=$a(s)))}else o=n&~i,o!==0?r=$a(o):s!==0&&(r=$a(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function fA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=fA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Jp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ax(){var t=Ju;return Ju<<=1,!(Ju&4194240)&&(Ju=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function mA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function lx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ux,Vg,cx,hx,dx,Zp=!1,ec=[],Ci=null,Ai=null,Pi=null,bl=new Map,Il=new Map,fi=[],gA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G_(t,e){switch(t){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Aa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nu(e),e!==null&&Vg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yA(t,e,n,r,i){switch(e){case"focusin":return Ci=Aa(Ci,t,e,n,r,i),!0;case"dragenter":return Ai=Aa(Ai,t,e,n,r,i),!0;case"mouseover":return Pi=Aa(Pi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return bl.set(s,Aa(bl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Aa(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function fx(t){var e=gs(t.target);if(e!==null){var n=Us(e);if(n!==null){if(e=n.tag,e===13){if(e=tx(n),e!==null){t.blockedOn=e,dx(t.priority,function(){cx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=em(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null}else return e=nu(n),e!==null&&Vg(e),t.blockedOn=n,!1;e.shift()}return!0}function K_(t,e,n){Pc(t)&&n.delete(e)}function vA(){Zp=!1,Ci!==null&&Pc(Ci)&&(Ci=null),Ai!==null&&Pc(Ai)&&(Ai=null),Pi!==null&&Pc(Pi)&&(Pi=null),bl.forEach(K_),Il.forEach(K_)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Zp||(Zp=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,vA)))}function Cl(t){function e(i){return Pa(i,t)}if(0<ec.length){Pa(ec[0],t);for(var n=1;n<ec.length;n++){var r=ec[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ci!==null&&Pa(Ci,t),Ai!==null&&Pa(Ai,t),Pi!==null&&Pa(Pi,t),bl.forEach(e),Il.forEach(e),n=0;n<fi.length;n++)r=fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fi.length&&(n=fi[0],n.blockedOn===null);)fx(n),n.blockedOn===null&&fi.shift()}var bo=Xr.ReactCurrentBatchConfig,dh=!0;function _A(t,e,n,r){var i=Ve,s=bo.transition;bo.transition=null;try{Ve=1,jg(t,e,n,r)}finally{Ve=i,bo.transition=s}}function wA(t,e,n,r){var i=Ve,s=bo.transition;bo.transition=null;try{Ve=4,jg(t,e,n,r)}finally{Ve=i,bo.transition=s}}function jg(t,e,n,r){if(dh){var i=em(t,e,n,r);if(i===null)Vf(t,e,r,fh,n),G_(t,r);else if(yA(i,t,e,n,r))r.stopPropagation();else if(G_(t,r),e&4&&-1<gA.indexOf(t)){for(;i!==null;){var s=nu(i);if(s!==null&&ux(s),s=em(t,e,n,r),s===null&&Vf(t,e,r,fh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Vf(t,e,r,null,n)}}var fh=null;function em(t,e,n,r){if(fh=null,t=Lg(r),t=gs(t),t!==null)if(e=Us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fh=t,null}function px(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aA()){case Mg:return 1;case sx:return 4;case ch:case lA:return 16;case ox:return 536870912;default:return 16}default:return 16}}var ki=null,$g=null,Rc=null;function mx(){if(Rc)return Rc;var t,e=$g,n=e.length,r,i="value"in ki?ki.value:ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Rc=i.slice(t,1<r?1-r:void 0)}function Nc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tc(){return!0}function Q_(){return!1}function Nn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tc:Q_,this.isPropagationStopped=Q_,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ug=Nn(Zo),tu=et({},Zo,{view:0,detail:0}),EA=Nn(tu),Af,Pf,Ra,cd=et({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ra&&(Ra&&t.type==="mousemove"?(Af=t.screenX-Ra.screenX,Pf=t.screenY-Ra.screenY):Pf=Af=0,Ra=t),Af)},movementY:function(t){return"movementY"in t?t.movementY:Pf}}),Y_=Nn(cd),kA=et({},cd,{dataTransfer:0}),xA=Nn(kA),TA=et({},tu,{relatedTarget:0}),Rf=Nn(TA),SA=et({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),bA=Nn(SA),IA=et({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CA=Nn(IA),AA=et({},Zo,{data:0}),X_=Nn(AA),PA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NA[t])?!!e[t]:!1}function zg(){return DA}var OA=et({},tu,{key:function(t){if(t.key){var e=PA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(t){return t.type==="keypress"?Nc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LA=Nn(OA),MA=et({},cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J_=Nn(MA),FA=et({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),VA=Nn(FA),jA=et({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$A=Nn(jA),UA=et({},cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zA=Nn(UA),BA=[9,13,27,32],Bg=jr&&"CompositionEvent"in window,el=null;jr&&"documentMode"in document&&(el=document.documentMode);var HA=jr&&"TextEvent"in window&&!el,gx=jr&&(!Bg||el&&8<el&&11>=el),Z_=" ",ew=!1;function yx(t,e){switch(t){case"keyup":return BA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ho=!1;function WA(t,e){switch(t){case"compositionend":return vx(e);case"keypress":return e.which!==32?null:(ew=!0,Z_);case"textInput":return t=e.data,t===Z_&&ew?null:t;default:return null}}function qA(t,e){if(ho)return t==="compositionend"||!Bg&&yx(t,e)?(t=mx(),Rc=$g=ki=null,ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gx&&e.locale!=="ko"?null:e.data;default:return null}}var GA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GA[t.type]:e==="textarea"}function _x(t,e,n,r){Yk(r),e=ph(e,"onChange"),0<e.length&&(n=new Ug("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var tl=null,Al=null;function KA(t){Px(t,0)}function hd(t){var e=mo(t);if(Bk(e))return t}function QA(t,e){if(t==="change")return e}var wx=!1;if(jr){var Nf;if(jr){var Df="oninput"in document;if(!Df){var nw=document.createElement("div");nw.setAttribute("oninput","return;"),Df=typeof nw.oninput=="function"}Nf=Df}else Nf=!1;wx=Nf&&(!document.documentMode||9<document.documentMode)}function rw(){tl&&(tl.detachEvent("onpropertychange",Ex),Al=tl=null)}function Ex(t){if(t.propertyName==="value"&&hd(Al)){var e=[];_x(e,Al,t,Lg(t)),ex(KA,e)}}function YA(t,e,n){t==="focusin"?(rw(),tl=e,Al=n,tl.attachEvent("onpropertychange",Ex)):t==="focusout"&&rw()}function XA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hd(Al)}function JA(t,e){if(t==="click")return hd(e)}function ZA(t,e){if(t==="input"||t==="change")return hd(e)}function eP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nr=typeof Object.is=="function"?Object.is:eP;function Pl(t,e){if(nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mp.call(e,i)||!nr(t[i],e[i]))return!1}return!0}function iw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sw(t,e){var n=iw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iw(n)}}function kx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xx(){for(var t=window,e=ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ah(t.document)}return e}function Hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tP(t){var e=xx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kx(n.ownerDocument.documentElement,n)){if(r!==null&&Hg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=sw(n,s);var o=sw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nP=jr&&"documentMode"in document&&11>=document.documentMode,fo=null,tm=null,nl=null,nm=!1;function ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nm||fo==null||fo!==ah(r)||(r=fo,"selectionStart"in r&&Hg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),nl&&Pl(nl,r)||(nl=r,r=ph(tm,"onSelect"),0<r.length&&(e=new Ug("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fo)))}function nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var po={animationend:nc("Animation","AnimationEnd"),animationiteration:nc("Animation","AnimationIteration"),animationstart:nc("Animation","AnimationStart"),transitionend:nc("Transition","TransitionEnd")},Of={},Tx={};jr&&(Tx=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function dd(t){if(Of[t])return Of[t];if(!po[t])return t;var e=po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tx)return Of[t]=e[n];return t}var Sx=dd("animationend"),bx=dd("animationiteration"),Ix=dd("animationstart"),Cx=dd("transitionend"),Ax=new Map,aw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,e){Ax.set(t,e),$s(e,[t])}for(var Lf=0;Lf<aw.length;Lf++){var Mf=aw[Lf],rP=Mf.toLowerCase(),iP=Mf[0].toUpperCase()+Mf.slice(1);Qi(rP,"on"+iP)}Qi(Sx,"onAnimationEnd");Qi(bx,"onAnimationIteration");Qi(Ix,"onAnimationStart");Qi("dblclick","onDoubleClick");Qi("focusin","onFocus");Qi("focusout","onBlur");Qi(Cx,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);$s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$s("onBeforeInput",["compositionend","keypress","textInput","paste"]);$s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function lw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rA(r,e,void 0,t),t.currentTarget=null}function Px(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;lw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;lw(i,a,u),s=l}}}if(uh)throw t=Xp,uh=!1,Xp=null,t}function qe(t,e){var n=e[am];n===void 0&&(n=e[am]=new Set);var r=t+"__bubble";n.has(r)||(Rx(e,t,2,!1),n.add(r))}function Ff(t,e,n){var r=0;e&&(r|=4),Rx(n,t,r,e)}var rc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[rc]){t[rc]=!0,Vk.forEach(function(n){n!=="selectionchange"&&(sP.has(n)||Ff(n,!1,t),Ff(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rc]||(e[rc]=!0,Ff("selectionchange",!1,e))}}function Rx(t,e,n,r){switch(px(e)){case 1:var i=_A;break;case 4:i=wA;break;default:i=jg}n=i.bind(null,e,n,t),i=void 0,!Yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ex(function(){var u=s,h=Lg(n),d=[];e:{var f=Ax.get(t);if(f!==void 0){var p=Ug,g=t;switch(t){case"keypress":if(Nc(n)===0)break e;case"keydown":case"keyup":p=LA;break;case"focusin":g="focus",p=Rf;break;case"focusout":g="blur",p=Rf;break;case"beforeblur":case"afterblur":p=Rf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VA;break;case Sx:case bx:case Ix:p=bA;break;case Cx:p=$A;break;case"scroll":p=EA;break;case"wheel":p=zA;break;case"copy":case"cut":case"paste":p=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=J_}var k=(e&4)!==0,D=!k&&t==="scroll",v=k?f!==null?f+"Capture":null:f;k=[];for(var w=u,x;w!==null;){x=w;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,v!==null&&(M=Sl(w,v),M!=null&&k.push(Nl(w,M,x)))),D)break;w=w.return}0<k.length&&(f=new p(f,g,null,n,h),d.push({event:f,listeners:k}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Kp&&(g=n.relatedTarget||n.fromElement)&&(gs(g)||g[$r]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?gs(g):null,g!==null&&(D=Us(g),g!==D||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(k=Y_,M="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=J_,M="onPointerLeave",v="onPointerEnter",w="pointer"),D=p==null?f:mo(p),x=g==null?f:mo(g),f=new k(M,w+"leave",p,n,h),f.target=D,f.relatedTarget=x,M=null,gs(h)===u&&(k=new k(v,w+"enter",g,n,h),k.target=x,k.relatedTarget=D,M=k),D=M,p&&g)t:{for(k=p,v=g,w=0,x=k;x;x=eo(x))w++;for(x=0,M=v;M;M=eo(M))x++;for(;0<w-x;)k=eo(k),w--;for(;0<x-w;)v=eo(v),x--;for(;w--;){if(k===v||v!==null&&k===v.alternate)break t;k=eo(k),v=eo(v)}k=null}else k=null;p!==null&&uw(d,f,p,k,!1),g!==null&&D!==null&&uw(d,D,g,k,!0)}}e:{if(f=u?mo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var j=QA;else if(tw(f))if(wx)j=ZA;else{j=XA;var L=YA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=JA);if(j&&(j=j(t,u))){_x(d,j,n,h);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Bp(f,"number",f.value)}switch(L=u?mo(u):window,t){case"focusin":(tw(L)||L.contentEditable==="true")&&(fo=L,tm=u,nl=null);break;case"focusout":nl=tm=fo=null;break;case"mousedown":nm=!0;break;case"contextmenu":case"mouseup":case"dragend":nm=!1,ow(d,n,h);break;case"selectionchange":if(nP)break;case"keydown":case"keyup":ow(d,n,h)}var I;if(Bg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ho?yx(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(gx&&n.locale!=="ko"&&(ho||T!=="onCompositionStart"?T==="onCompositionEnd"&&ho&&(I=mx()):(ki=h,$g="value"in ki?ki.value:ki.textContent,ho=!0)),L=ph(u,T),0<L.length&&(T=new X_(T,t,null,n,h),d.push({event:T,listeners:L}),I?T.data=I:(I=vx(n),I!==null&&(T.data=I)))),(I=HA?WA(t,n):qA(t,n))&&(u=ph(u,"onBeforeInput"),0<u.length&&(h=new X_("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=I))}Px(d,e)})}function Nl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ph(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sl(t,n),s!=null&&r.unshift(Nl(t,s,i)),s=Sl(t,e),s!=null&&r.push(Nl(t,s,i))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Sl(n,s),l!=null&&o.unshift(Nl(n,l,a))):i||(l=Sl(n,s),l!=null&&o.push(Nl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var oP=/\r\n?/g,aP=/\u0000|\uFFFD/g;function cw(t){return(typeof t=="string"?t:""+t).replace(oP,`
`).replace(aP,"")}function ic(t,e,n){if(e=cw(e),cw(t)!==e&&n)throw Error(G(425))}function mh(){}var rm=null,im=null;function sm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var om=typeof setTimeout=="function"?setTimeout:void 0,lP=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,uP=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(t){return hw.resolve(null).then(t).catch(cP)}:om;function cP(t){setTimeout(function(){throw t})}function jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cl(e)}function Ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ea=Math.random().toString(36).slice(2),lr="__reactFiber$"+ea,Dl="__reactProps$"+ea,$r="__reactContainer$"+ea,am="__reactEvents$"+ea,hP="__reactListeners$"+ea,dP="__reactHandles$"+ea;function gs(t){var e=t[lr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[lr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dw(t);t!==null;){if(n=t[lr])return n;t=dw(t)}return e}t=n,n=t.parentNode}return null}function nu(t){return t=t[lr]||t[$r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function fd(t){return t[Dl]||null}var lm=[],go=-1;function Yi(t){return{current:t}}function Ke(t){0>go||(t.current=lm[go],lm[go]=null,go--)}function He(t,e){go++,lm[go]=t.current,t.current=e}var Hi={},zt=Yi(Hi),dn=Yi(!1),Cs=Hi;function Mo(t,e){var n=t.type.contextTypes;if(!n)return Hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fn(t){return t=t.childContextTypes,t!=null}function gh(){Ke(dn),Ke(zt)}function fw(t,e,n){if(zt.current!==Hi)throw Error(G(168));He(zt,e),He(dn,n)}function Nx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,YC(t)||"Unknown",i));return et({},n,r)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hi,Cs=zt.current,He(zt,t),He(dn,dn.current),!0}function pw(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=Nx(t,e,Cs),r.__reactInternalMemoizedMergedChildContext=t,Ke(dn),Ke(zt),He(zt,t)):Ke(dn),He(dn,n)}var Cr=null,pd=!1,$f=!1;function Dx(t){Cr===null?Cr=[t]:Cr.push(t)}function fP(t){pd=!0,Dx(t)}function Xi(){if(!$f&&Cr!==null){$f=!0;var t=0,e=Ve;try{var n=Cr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cr=null,pd=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(t+1)),ix(Mg,Xi),i}finally{Ve=e,$f=!1}}return null}var yo=[],vo=0,vh=null,_h=0,Mn=[],Fn=0,As=null,Rr=1,Nr="";function us(t,e){yo[vo++]=_h,yo[vo++]=vh,vh=t,_h=e}function Ox(t,e,n){Mn[Fn++]=Rr,Mn[Fn++]=Nr,Mn[Fn++]=As,As=t;var r=Rr;t=Nr;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Rr=1<<32-Jn(e)+i|n<<i|r,Nr=s+t}else Rr=1<<s|n<<i|r,Nr=t}function Wg(t){t.return!==null&&(us(t,1),Ox(t,1,0))}function qg(t){for(;t===vh;)vh=yo[--vo],yo[vo]=null,_h=yo[--vo],yo[vo]=null;for(;t===As;)As=Mn[--Fn],Mn[Fn]=null,Nr=Mn[--Fn],Mn[Fn]=null,Rr=Mn[--Fn],Mn[Fn]=null}var In=null,Sn=null,Ye=!1,Yn=null;function Lx(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Sn=Ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:Rr,overflow:Nr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Sn=null,!0):!1;default:return!1}}function um(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cm(t){if(Ye){var e=Sn;if(e){var n=e;if(!mw(t,e)){if(um(t))throw Error(G(418));e=Ri(n.nextSibling);var r=In;e&&mw(t,e)?Lx(r,n):(t.flags=t.flags&-4097|2,Ye=!1,In=t)}}else{if(um(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ye=!1,In=t}}}function gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function sc(t){if(t!==In)return!1;if(!Ye)return gw(t),Ye=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sm(t.type,t.memoizedProps)),e&&(e=Sn)){if(um(t))throw Mx(),Error(G(418));for(;e;)Lx(t,e),e=Ri(e.nextSibling)}if(gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=Ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=In?Ri(t.stateNode.nextSibling):null;return!0}function Mx(){for(var t=Sn;t;)t=Ri(t.nextSibling)}function Fo(){Sn=In=null,Ye=!1}function Gg(t){Yn===null?Yn=[t]:Yn.push(t)}var pP=Xr.ReactCurrentBatchConfig;function Na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function oc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yw(t){var e=t._init;return e(t._payload)}function Fx(t){function e(v,w){if(t){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Li(v,w),v.index=0,v.sibling=null,v}function s(v,w,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,x,M){return w===null||w.tag!==6?(w=Gf(x,v.mode,M),w.return=v,w):(w=i(w,x),w.return=v,w)}function l(v,w,x,M){var j=x.type;return j===co?h(v,w,x.props.children,M,x.key):w!==null&&(w.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ci&&yw(j)===w.type)?(M=i(w,x.props),M.ref=Na(v,w,x),M.return=v,M):(M=jc(x.type,x.key,x.props,null,v.mode,M),M.ref=Na(v,w,x),M.return=v,M)}function u(v,w,x,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Kf(x,v.mode,M),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function h(v,w,x,M,j){return w===null||w.tag!==7?(w=Ss(x,v.mode,M,j),w.return=v,w):(w=i(w,x),w.return=v,w)}function d(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Gf(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qu:return x=jc(w.type,w.key,w.props,null,v.mode,x),x.ref=Na(v,null,w),x.return=v,x;case uo:return w=Kf(w,v.mode,x),w.return=v,w;case ci:var M=w._init;return d(v,M(w._payload),x)}if(ja(w)||Ia(w))return w=Ss(w,v.mode,x,null),w.return=v,w;oc(v,w)}return null}function f(v,w,x,M){var j=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(v,w,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qu:return x.key===j?l(v,w,x,M):null;case uo:return x.key===j?u(v,w,x,M):null;case ci:return j=x._init,f(v,w,j(x._payload),M)}if(ja(x)||Ia(x))return j!==null?null:h(v,w,x,M,null);oc(v,x)}return null}function p(v,w,x,M,j){if(typeof M=="string"&&M!==""||typeof M=="number")return v=v.get(x)||null,a(w,v,""+M,j);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Qu:return v=v.get(M.key===null?x:M.key)||null,l(w,v,M,j);case uo:return v=v.get(M.key===null?x:M.key)||null,u(w,v,M,j);case ci:var L=M._init;return p(v,w,x,L(M._payload),j)}if(ja(M)||Ia(M))return v=v.get(x)||null,h(w,v,M,j,null);oc(w,M)}return null}function g(v,w,x,M){for(var j=null,L=null,I=w,T=w=0,A=null;I!==null&&T<x.length;T++){I.index>T?(A=I,I=null):A=I.sibling;var _=f(v,I,x[T],M);if(_===null){I===null&&(I=A);break}t&&I&&_.alternate===null&&e(v,I),w=s(_,w,T),L===null?j=_:L.sibling=_,L=_,I=A}if(T===x.length)return n(v,I),Ye&&us(v,T),j;if(I===null){for(;T<x.length;T++)I=d(v,x[T],M),I!==null&&(w=s(I,w,T),L===null?j=I:L.sibling=I,L=I);return Ye&&us(v,T),j}for(I=r(v,I);T<x.length;T++)A=p(I,v,T,x[T],M),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?T:A.key),w=s(A,w,T),L===null?j=A:L.sibling=A,L=A);return t&&I.forEach(function(P){return e(v,P)}),Ye&&us(v,T),j}function k(v,w,x,M){var j=Ia(x);if(typeof j!="function")throw Error(G(150));if(x=j.call(x),x==null)throw Error(G(151));for(var L=j=null,I=w,T=w=0,A=null,_=x.next();I!==null&&!_.done;T++,_=x.next()){I.index>T?(A=I,I=null):A=I.sibling;var P=f(v,I,_.value,M);if(P===null){I===null&&(I=A);break}t&&I&&P.alternate===null&&e(v,I),w=s(P,w,T),L===null?j=P:L.sibling=P,L=P,I=A}if(_.done)return n(v,I),Ye&&us(v,T),j;if(I===null){for(;!_.done;T++,_=x.next())_=d(v,_.value,M),_!==null&&(w=s(_,w,T),L===null?j=_:L.sibling=_,L=_);return Ye&&us(v,T),j}for(I=r(v,I);!_.done;T++,_=x.next())_=p(I,v,T,_.value,M),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?T:_.key),w=s(_,w,T),L===null?j=_:L.sibling=_,L=_);return t&&I.forEach(function(C){return e(v,C)}),Ye&&us(v,T),j}function D(v,w,x,M){if(typeof x=="object"&&x!==null&&x.type===co&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Qu:e:{for(var j=x.key,L=w;L!==null;){if(L.key===j){if(j=x.type,j===co){if(L.tag===7){n(v,L.sibling),w=i(L,x.props.children),w.return=v,v=w;break e}}else if(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ci&&yw(j)===L.type){n(v,L.sibling),w=i(L,x.props),w.ref=Na(v,L,x),w.return=v,v=w;break e}n(v,L);break}else e(v,L);L=L.sibling}x.type===co?(w=Ss(x.props.children,v.mode,M,x.key),w.return=v,v=w):(M=jc(x.type,x.key,x.props,null,v.mode,M),M.ref=Na(v,w,x),M.return=v,v=M)}return o(v);case uo:e:{for(L=x.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=Kf(x,v.mode,M),w.return=v,v=w}return o(v);case ci:return L=x._init,D(v,w,L(x._payload),M)}if(ja(x))return g(v,w,x,M);if(Ia(x))return k(v,w,x,M);oc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,x),w.return=v,v=w):(n(v,w),w=Gf(x,v.mode,M),w.return=v,v=w),o(v)):n(v,w)}return D}var Vo=Fx(!0),Vx=Fx(!1),wh=Yi(null),Eh=null,_o=null,Kg=null;function Qg(){Kg=_o=Eh=null}function Yg(t){var e=wh.current;Ke(wh),t._currentValue=e}function hm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Io(t,e){Eh=t,Kg=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Kg!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Eh===null)throw Error(G(308));_o=t,Eh.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var ys=null;function Xg(t){ys===null?ys=[t]:ys.push(t)}function jx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hi=!1;function Jg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $x(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ur(t,n)}return i=r.interleaved,i===null?(e.next=e,Xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ur(t,n)}function Dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fg(t,n)}}function vw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kh(t,e,n,r){var i=t.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,k=a;switch(f=e,p=n,k.tag){case 1:if(g=k.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=k.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=et({},d,f);break e;case 2:hi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Rs|=o,t.lanes=o,t.memoizedState=d}}function _w(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var ru={},dr=Yi(ru),Ol=Yi(ru),Ll=Yi(ru);function vs(t){if(t===ru)throw Error(G(174));return t}function Zg(t,e){switch(He(Ll,e),He(Ol,t),He(dr,ru),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wp(e,t)}Ke(dr),He(dr,e)}function jo(){Ke(dr),Ke(Ol),Ke(Ll)}function Ux(t){vs(Ll.current);var e=vs(dr.current),n=Wp(e,t.type);e!==n&&(He(Ol,t),He(dr,n))}function ey(t){Ol.current===t&&(Ke(dr),Ke(Ol))}var Je=Yi(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uf=[];function ty(){for(var t=0;t<Uf.length;t++)Uf[t]._workInProgressVersionPrimary=null;Uf.length=0}var Oc=Xr.ReactCurrentDispatcher,zf=Xr.ReactCurrentBatchConfig,Ps=0,Ze=null,gt=null,wt=null,Th=!1,rl=!1,Ml=0,mP=0;function Dt(){throw Error(G(321))}function ny(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nr(t[n],e[n]))return!1;return!0}function ry(t,e,n,r,i,s){if(Ps=s,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Oc.current=t===null||t.memoizedState===null?_P:wP,t=n(r,i),rl){s=0;do{if(rl=!1,Ml=0,25<=s)throw Error(G(301));s+=1,wt=gt=null,e.updateQueue=null,Oc.current=EP,t=n(r,i)}while(rl)}if(Oc.current=Sh,e=gt!==null&&gt.next!==null,Ps=0,wt=gt=Ze=null,Th=!1,e)throw Error(G(300));return t}function iy(){var t=Ml!==0;return Ml=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=t:wt=wt.next=t,wt}function zn(){if(gt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=wt===null?Ze.memoizedState:wt.next;if(e!==null)wt=e,gt=t;else{if(t===null)throw Error(G(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},wt===null?Ze.memoizedState=wt=t:wt=wt.next=t}return wt}function Fl(t,e){return typeof e=="function"?e(t):e}function Bf(t){var e=zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=gt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Ps&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ze.lanes|=h,Rs|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,nr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ze.lanes|=s,Rs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Hf(t){var e=zn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);nr(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function zx(){}function Bx(t,e){var n=Ze,r=zn(),i=e(),s=!nr(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,sy(qx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,Vl(9,Wx.bind(null,n,r,i,e),void 0,null),Et===null)throw Error(G(349));Ps&30||Hx(n,e,i)}return i}function Hx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wx(t,e,n,r){e.value=n,e.getSnapshot=r,Gx(e)&&Kx(t)}function qx(t,e,n){return n(function(){Gx(e)&&Kx(t)})}function Gx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nr(t,n)}catch{return!0}}function Kx(t){var e=Ur(t,1);e!==null&&Zn(e,t,1,-1)}function ww(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:t},e.queue=t,t=t.dispatch=vP.bind(null,Ze,t),[e.memoizedState,t]}function Vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qx(){return zn().memoizedState}function Lc(t,e,n,r){var i=or();Ze.flags|=t,i.memoizedState=Vl(1|e,n,void 0,r===void 0?null:r)}function md(t,e,n,r){var i=zn();r=r===void 0?null:r;var s=void 0;if(gt!==null){var o=gt.memoizedState;if(s=o.destroy,r!==null&&ny(r,o.deps)){i.memoizedState=Vl(e,n,s,r);return}}Ze.flags|=t,i.memoizedState=Vl(1|e,n,s,r)}function Ew(t,e){return Lc(8390656,8,t,e)}function sy(t,e){return md(2048,8,t,e)}function Yx(t,e){return md(4,2,t,e)}function Xx(t,e){return md(4,4,t,e)}function Jx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Zx(t,e,n){return n=n!=null?n.concat([t]):null,md(4,4,Jx.bind(null,e,t),n)}function oy(){}function e1(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t1(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ny(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function n1(t,e,n){return Ps&21?(nr(n,e)||(n=ax(),Ze.lanes|=n,Rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function gP(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=zf.transition;zf.transition={};try{t(!1),e()}finally{Ve=n,zf.transition=r}}function r1(){return zn().memoizedState}function yP(t,e,n){var r=Oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},i1(t))s1(e,n);else if(n=jx(t,e,n,r),n!==null){var i=en();Zn(n,t,r,i),o1(n,e,r)}}function vP(t,e,n){var r=Oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(i1(t))s1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,nr(a,o)){var l=e.interleaved;l===null?(i.next=i,Xg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jx(t,e,i,r),n!==null&&(i=en(),Zn(n,t,r,i),o1(n,e,r))}}function i1(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function s1(t,e){rl=Th=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fg(t,n)}}var Sh={readContext:Un,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},_P={readContext:Un,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:Ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4194308,4,Jx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lc(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yP.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:ww,useDebugValue:oy,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=ww(!1),e=t[0];return t=gP.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,i=or();if(Ye){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),Et===null)throw Error(G(349));Ps&30||Hx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ew(qx.bind(null,r,s,t),[t]),r.flags|=2048,Vl(9,Wx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=or(),e=Et.identifierPrefix;if(Ye){var n=Nr,r=Rr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=mP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wP={readContext:Un,useCallback:e1,useContext:Un,useEffect:sy,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:t1,useReducer:Bf,useRef:Qx,useState:function(){return Bf(Fl)},useDebugValue:oy,useDeferredValue:function(t){var e=zn();return n1(e,gt.memoizedState,t)},useTransition:function(){var t=Bf(Fl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:zx,useSyncExternalStore:Bx,useId:r1,unstable_isNewReconciler:!1},EP={readContext:Un,useCallback:e1,useContext:Un,useEffect:sy,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Xx,useMemo:t1,useReducer:Hf,useRef:Qx,useState:function(){return Hf(Fl)},useDebugValue:oy,useDeferredValue:function(t){var e=zn();return gt===null?e.memoizedState=t:n1(e,gt.memoizedState,t)},useTransition:function(){var t=Hf(Fl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:zx,useSyncExternalStore:Bx,useId:r1,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gd={isMounted:function(t){return(t=t._reactInternals)?Us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Oi(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Zn(e,t,i,r),Dc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Oi(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ni(t,s,i),e!==null&&(Zn(e,t,i,r),Dc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Oi(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ni(t,i,r),e!==null&&(Zn(e,t,r,n),Dc(e,t,r))}};function kw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,r)||!Pl(i,s):!0}function a1(t,e,n){var r=!1,i=Hi,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=fn(e)?Cs:zt.current,r=e.contextTypes,s=(r=r!=null)?Mo(t,i):Hi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gd.enqueueReplaceState(e,e.state,null)}function fm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Jg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=fn(e)?Cs:zt.current,i.context=Mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gd.enqueueReplaceState(i,i.state,null),kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $o(t,e){try{var n="",r=e;do n+=QC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kP=typeof WeakMap=="function"?WeakMap:Map;function l1(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ih||(Ih=!0,Tm=r),pm(t,e)},n}function u1(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pm(t,e),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MP.bind(null,t,e,n),e.then(t,t))}function Sw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function bw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Ni(n,e,1))),n.lanes|=1),t)}var xP=Xr.ReactCurrentOwner,hn=!1;function Qt(t,e,n,r){e.child=t===null?Vx(e,null,n,r):Vo(e,t.child,n,r)}function Iw(t,e,n,r,i){n=n.render;var s=e.ref;return Io(e,i),r=ry(t,e,n,r,s,i),n=iy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ye&&n&&Wg(e),e.flags|=1,Qt(t,e,r,i),e.child)}function Cw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!py(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,c1(t,e,s,r,i)):(t=jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=Li(s,r),t.ref=e.ref,t.return=e,e.child=t}function c1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,zr(t,e,i)}return mm(t,e,n,r,i)}function h1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Eo,Tn),Tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Eo,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(Eo,Tn),Tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,He(Eo,Tn),Tn|=r;return Qt(t,e,i,n),e.child}function d1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mm(t,e,n,r,i){var s=fn(n)?Cs:zt.current;return s=Mo(e,s),Io(e,i),n=ry(t,e,n,r,s,i),r=iy(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ye&&r&&Wg(e),e.flags|=1,Qt(t,e,n,i),e.child)}function Aw(t,e,n,r,i){if(fn(n)){var s=!0;yh(e)}else s=!1;if(Io(e,i),e.stateNode===null)Mc(t,e),a1(e,n,r),fm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=fn(n)?Cs:zt.current,u=Mo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xw(e,o,r,u),hi=!1;var f=e.memoizedState;o.state=f,kh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||dn.current||hi?(typeof h=="function"&&(dm(e,n,h,r),l=e.memoizedState),(a=hi||kw(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$x(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=fn(n)?Cs:zt.current,l=Mo(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&xw(e,o,r,l),hi=!1,f=e.memoizedState,o.state=f,kh(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||dn.current||hi?(typeof p=="function"&&(dm(e,n,p,r),g=e.memoizedState),(u=hi||kw(e,n,u,r,f,g,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return gm(t,e,n,r,s,i)}function gm(t,e,n,r,i,s){d1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&pw(e,n,!1),zr(t,e,s);r=e.stateNode,xP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Vo(e,t.child,null,s),e.child=Vo(e,null,a,s)):Qt(t,e,a,s),e.memoizedState=r.state,i&&pw(e,n,!0),e.child}function f1(t){var e=t.stateNode;e.pendingContext?fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fw(t,e.context,!1),Zg(t,e.containerInfo)}function Pw(t,e,n,r,i){return Fo(),Gg(i),e.flags|=256,Qt(t,e,n,r),e.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(t){return{baseLanes:t,cachePool:null,transitions:null}}function p1(t,e,n){var r=e.pendingProps,i=Je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),He(Je,i&1),t===null)return cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_d(o,r,0,null),t=Ss(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vm(n),e.memoizedState=ym,t):ay(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return TP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Li(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Li(a,s):(s=Ss(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=ym,r}return s=t.child,t=s.sibling,r=Li(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ay(t,e){return e=_d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ac(t,e,n,r){return r!==null&&Gg(r),Vo(e,t.child,null,n),t=ay(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function TP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Wf(Error(G(422))),ac(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_d({mode:"visible",children:r.children},i,0,null),s=Ss(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vo(e,t.child,null,o),e.child.memoizedState=vm(o),e.memoizedState=ym,s);if(!(e.mode&1))return ac(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Wf(s,r,void 0),ac(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Et,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ur(t,i),Zn(r,t,i,-1))}return fy(),r=Wf(Error(G(421))),ac(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sn=Ri(i.nextSibling),In=e,Ye=!0,Yn=null,t!==null&&(Mn[Fn++]=Rr,Mn[Fn++]=Nr,Mn[Fn++]=As,Rr=t.id,Nr=t.overflow,As=e),e=ay(e,r.children),e.flags|=4096,e)}function Rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hm(t.return,e,n)}function qf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rw(t,n,e);else if(t.tag===19)Rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(Je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qf(e,!0,n,null,s);break;case"together":qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function SP(t,e,n){switch(e.tag){case 3:f1(e),Fo();break;case 5:Ux(e);break;case 1:fn(e.type)&&yh(e);break;case 4:Zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;He(wh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?p1(t,e,n):(He(Je,Je.current&1),t=zr(t,e,n),t!==null?t.sibling:null);He(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,h1(t,e,n)}return zr(t,e,n)}var g1,_m,y1,v1;g1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_m=function(){};y1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vs(dr.current);var s=null;switch(n){case"input":i=Up(t,i),r=Up(t,r),s=[];break;case"select":i=et({},i,{value:void 0}),r=et({},r,{value:void 0}),s=[];break;case"textarea":i=Hp(t,i),r=Hp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mh)}qp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};v1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Da(t,e){if(!Ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bP(t,e,n){var r=e.pendingProps;switch(qg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(e),null;case 1:return fn(e.type)&&gh(),Ot(e),null;case 3:return r=e.stateNode,jo(),Ke(dn),Ke(zt),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(Im(Yn),Yn=null))),_m(t,e),Ot(e),null;case 5:ey(e);var i=vs(Ll.current);if(n=e.type,t!==null&&e.stateNode!=null)y1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ot(e),null}if(t=vs(dr.current),sc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[lr]=e,r[Dl]=s,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ua.length;i++)qe(Ua[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":$_(r,s),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qe("invalid",r);break;case"textarea":z_(r,s),qe("invalid",r)}qp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ic(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ic(r.textContent,a,t),i=["children",""+a]):xl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Yu(r),U_(r,s,!0);break;case"textarea":Yu(r),B_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[lr]=e,t[Dl]=r,g1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gp(n,r),n){case"dialog":qe("cancel",t),qe("close",t),i=r;break;case"iframe":case"object":case"embed":qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ua.length;i++)qe(Ua[i],t);i=r;break;case"source":qe("error",t),i=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),i=r;break;case"details":qe("toggle",t),i=r;break;case"input":$_(t,r),i=Up(t,r),qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=et({},r,{value:void 0}),qe("invalid",t);break;case"textarea":z_(t,r),i=Hp(t,r),qe("invalid",t);break;default:i=r}qp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Qk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tl(t,l):typeof l=="number"&&Tl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&qe("scroll",t):l!=null&&Rg(t,s,l,o))}switch(n){case"input":Yu(t),U_(t,r,!1);break;case"textarea":Yu(t),B_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xo(t,!!r.multiple,s,!1):r.defaultValue!=null&&xo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ot(e),null;case 6:if(t&&e.stateNode!=null)v1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=vs(Ll.current),vs(dr.current),sc(e)){if(r=e.stateNode,n=e.memoizedProps,r[lr]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:ic(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ic(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lr]=e,e.stateNode=r}return Ot(e),null;case 13:if(Ke(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ye&&Sn!==null&&e.mode&1&&!(e.flags&128))Mx(),Fo(),e.flags|=98560,s=!1;else if(s=sc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[lr]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ot(e),s=!1}else Yn!==null&&(Im(Yn),Yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?yt===0&&(yt=3):fy())),e.updateQueue!==null&&(e.flags|=4),Ot(e),null);case 4:return jo(),_m(t,e),t===null&&Rl(e.stateNode.containerInfo),Ot(e),null;case 10:return Yg(e.type._context),Ot(e),null;case 17:return fn(e.type)&&gh(),Ot(e),null;case 19:if(Ke(Je),s=e.memoizedState,s===null)return Ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Da(s,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,Da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(Je,Je.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Uo&&(e.flags|=128,r=!0,Da(s,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ye)return Ot(e),null}else 2*at()-s.renderingStartTime>Uo&&n!==1073741824&&(e.flags|=128,r=!0,Da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,n=Je.current,He(Je,r?n&1|2:n&1),e):(Ot(e),null);case 22:case 23:return dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ot(e),e.subtreeFlags&6&&(e.flags|=8192)):Ot(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function IP(t,e){switch(qg(e),e.tag){case 1:return fn(e.type)&&gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Ke(dn),Ke(zt),ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ey(e),null;case 13:if(Ke(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Je),null;case 4:return jo(),null;case 10:return Yg(e.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var lc=!1,Vt=!1,CP=typeof WeakSet=="function"?WeakSet:Set,re=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function wm(t,e,n){try{n()}catch(r){it(t,e,r)}}var Nw=!1;function AP(t,e){if(rm=dh,t=xx(),Hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(im={focusedElem:t,selectionRange:n},dh=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var k=g.memoizedProps,D=g.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?k:Gn(e.type,k),D);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(M){it(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return g=Nw,Nw=!1,g}function il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wm(e,n,s)}i=i.next}while(i!==r)}}function yd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Em(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _1(t){var e=t.alternate;e!==null&&(t.alternate=null,_1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[lr],delete e[Dl],delete e[am],delete e[hP],delete e[dP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function w1(t){return t.tag===5||t.tag===3||t.tag===4}function Dw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||w1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}function xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xm(t,e,n),t=t.sibling;t!==null;)xm(t,e,n),t=t.sibling}var Tt=null,Kn=!1;function ai(t,e,n){for(n=n.child;n!==null;)E1(t,e,n),n=n.sibling}function E1(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(ud,n)}catch{}switch(n.tag){case 5:Vt||wo(n,e);case 6:var r=Tt,i=Kn;Tt=null,ai(t,e,n),Tt=r,Kn=i,Tt!==null&&(Kn?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(Kn?(t=Tt,n=n.stateNode,t.nodeType===8?jf(t.parentNode,n):t.nodeType===1&&jf(t,n),Cl(t)):jf(Tt,n.stateNode));break;case 4:r=Tt,i=Kn,Tt=n.stateNode.containerInfo,Kn=!0,ai(t,e,n),Tt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wm(n,e,o),i=i.next}while(i!==r)}ai(t,e,n);break;case 1:if(!Vt&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ai(t,e,n);break;case 21:ai(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,ai(t,e,n),Vt=r):ai(t,e,n);break;default:ai(t,e,n)}}function Ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new CP),e.forEach(function(r){var i=VP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,Kn=!1;break e;case 3:Tt=a.stateNode.containerInfo,Kn=!0;break e;case 4:Tt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Tt===null)throw Error(G(160));E1(s,o,i),Tt=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)k1(e,t),e=e.sibling}function k1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),ir(t),r&4){try{il(3,t,t.return),yd(3,t)}catch(k){it(t,t.return,k)}try{il(5,t,t.return)}catch(k){it(t,t.return,k)}}break;case 1:Wn(e,t),ir(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(Wn(e,t),ir(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var i=t.stateNode;try{Tl(i,"")}catch(k){it(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Hk(i,s),Gp(a,o);var u=Gp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?Qk(i,d):h==="dangerouslySetInnerHTML"?Gk(i,d):h==="children"?Tl(i,d):Rg(i,h,d,u)}switch(a){case"input":zp(i,s);break;case"textarea":Wk(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?xo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?xo(i,!!s.multiple,s.defaultValue,!0):xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Dl]=s}catch(k){it(t,t.return,k)}}break;case 6:if(Wn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){it(t,t.return,k)}}break;case 3:if(Wn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cl(e.containerInfo)}catch(k){it(t,t.return,k)}break;case 4:Wn(e,t),ir(t);break;case 13:Wn(e,t),ir(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cy=at())),r&4&&Ow(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||h,Wn(e,t),Vt=u):Wn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(d=re=h;re!==null;){switch(f=re,p=f.child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:wo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(k){it(r,n,k)}}break;case 5:wo(f,f.return);break;case 22:if(f.memoizedState!==null){Mw(d);continue}}p!==null?(p.return=f,re=p):Mw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kk("display",o))}catch(k){it(t,t.return,k)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(k){it(t,t.return,k)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Wn(e,t),ir(t),r&4&&Ow(t);break;case 21:break;default:Wn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(w1(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tl(i,""),r.flags&=-33);var s=Dw(t);xm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Dw(t);km(t,a,o);break;default:throw Error(G(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PP(t,e,n){re=t,x1(t)}function x1(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||lc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=lc;var u=Vt;if(lc=o,(Vt=l)&&!u)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?Fw(i):l!==null?(l.return=o,re=l):Fw(i);for(;s!==null;)re=s,x1(s),s=s.sibling;re=i,lc=a,Vt=u}Lw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):Lw(t)}}function Lw(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||yd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_w(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_w(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Cl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Vt||e.flags&512&&Em(e)}catch(f){it(e,e.return,f)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function Mw(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Fw(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yd(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{Em(e)}catch(l){it(e,s,l)}break;case 5:var o=e.return;try{Em(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var RP=Math.ceil,bh=Xr.ReactCurrentDispatcher,ly=Xr.ReactCurrentOwner,$n=Xr.ReactCurrentBatchConfig,Ne=0,Et=null,ft=null,It=0,Tn=0,Eo=Yi(0),yt=0,jl=null,Rs=0,vd=0,uy=0,sl=null,ln=null,cy=0,Uo=1/0,Ir=null,Ih=!1,Tm=null,Di=null,uc=!1,xi=null,Ch=0,ol=0,Sm=null,Fc=-1,Vc=0;function en(){return Ne&6?at():Fc!==-1?Fc:Fc=at()}function Oi(t){return t.mode&1?Ne&2&&It!==0?It&-It:pP.transition!==null?(Vc===0&&(Vc=ax()),Vc):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:px(t.type)),t):1}function Zn(t,e,n,r){if(50<ol)throw ol=0,Sm=null,Error(G(185));eu(t,n,r),(!(Ne&2)||t!==Et)&&(t===Et&&(!(Ne&2)&&(vd|=n),yt===4&&pi(t,It)),pn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(Uo=at()+500,pd&&Xi()))}function pn(t,e){var n=t.callbackNode;pA(t,e);var r=hh(t,t===Et?It:0);if(r===0)n!==null&&q_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&q_(n),e===1)t.tag===0?fP(Vw.bind(null,t)):Dx(Vw.bind(null,t)),uP(function(){!(Ne&6)&&Xi()}),n=null;else{switch(lx(r)){case 1:n=Mg;break;case 4:n=sx;break;case 16:n=ch;break;case 536870912:n=ox;break;default:n=ch}n=R1(n,T1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function T1(t,e){if(Fc=-1,Vc=0,Ne&6)throw Error(G(327));var n=t.callbackNode;if(Co()&&t.callbackNode!==n)return null;var r=hh(t,t===Et?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ah(t,r);else{e=r;var i=Ne;Ne|=2;var s=b1();(Et!==t||It!==e)&&(Ir=null,Uo=at()+500,Ts(t,e));do try{OP();break}catch(a){S1(t,a)}while(!0);Qg(),bh.current=s,Ne=i,ft!==null?e=0:(Et=null,It=0,e=yt)}if(e!==0){if(e===2&&(i=Jp(t),i!==0&&(r=i,e=bm(t,i))),e===1)throw n=jl,Ts(t,0),pi(t,r),pn(t,at()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!NP(i)&&(e=Ah(t,r),e===2&&(s=Jp(t),s!==0&&(r=s,e=bm(t,s))),e===1))throw n=jl,Ts(t,0),pi(t,r),pn(t,at()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:cs(t,ln,Ir);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=cy+500-at(),10<e)){if(hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=om(cs.bind(null,t,ln,Ir),e);break}cs(t,ln,Ir);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=at()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RP(r/1960))-r,10<r){t.timeoutHandle=om(cs.bind(null,t,ln,Ir),r);break}cs(t,ln,Ir);break;case 5:cs(t,ln,Ir);break;default:throw Error(G(329))}}}return pn(t,at()),t.callbackNode===n?T1.bind(null,t):null}function bm(t,e){var n=sl;return t.current.memoizedState.isDehydrated&&(Ts(t,e).flags|=256),t=Ah(t,e),t!==2&&(e=ln,ln=n,e!==null&&Im(e)),t}function Im(t){ln===null?ln=t:ln.push.apply(ln,t)}function NP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~uy,e&=~vd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Vw(t){if(Ne&6)throw Error(G(327));Co();var e=hh(t,0);if(!(e&1))return pn(t,at()),null;var n=Ah(t,e);if(t.tag!==0&&n===2){var r=Jp(t);r!==0&&(e=r,n=bm(t,r))}if(n===1)throw n=jl,Ts(t,0),pi(t,e),pn(t,at()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,ln,Ir),pn(t,at()),null}function hy(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(Uo=at()+500,pd&&Xi())}}function Ns(t){xi!==null&&xi.tag===0&&!(Ne&6)&&Co();var e=Ne;Ne|=1;var n=$n.transition,r=Ve;try{if($n.transition=null,Ve=1,t)return t()}finally{Ve=r,$n.transition=n,Ne=e,!(Ne&6)&&Xi()}}function dy(){Tn=Eo.current,Ke(Eo)}function Ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lP(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(qg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gh();break;case 3:jo(),Ke(dn),Ke(zt),ty();break;case 5:ey(r);break;case 4:jo();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:Yg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(Et=t,ft=t=Li(t.current,null),It=Tn=e,yt=0,jl=null,uy=vd=Rs=0,ln=sl=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function S1(t,e){do{var n=ft;try{if(Qg(),Oc.current=Sh,Th){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Th=!1}if(Ps=0,wt=gt=Ze=null,rl=!1,Ml=0,ly.current=null,n===null||n.return===null){yt=1,jl=e,ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=Sw(o);if(p!==null){p.flags&=-257,bw(p,o,a,s,e),p.mode&1&&Tw(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var k=new Set;k.add(l),e.updateQueue=k}else g.add(l);break e}else{if(!(e&1)){Tw(s,u,e),fy();break e}l=Error(G(426))}}else if(Ye&&a.mode&1){var D=Sw(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),bw(D,o,a,s,e),Gg($o(l,a));break e}}s=l=$o(l,a),yt!==4&&(yt=2),sl===null?sl=[s]:sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=l1(s,l,e);vw(s,v);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Di===null||!Di.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=u1(s,a,e);vw(s,M);break e}}s=s.return}while(s!==null)}C1(n)}catch(j){e=j,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function b1(){var t=bh.current;return bh.current=Sh,t===null?Sh:t}function fy(){(yt===0||yt===3||yt===2)&&(yt=4),Et===null||!(Rs&268435455)&&!(vd&268435455)||pi(Et,It)}function Ah(t,e){var n=Ne;Ne|=2;var r=b1();(Et!==t||It!==e)&&(Ir=null,Ts(t,e));do try{DP();break}catch(i){S1(t,i)}while(!0);if(Qg(),Ne=n,bh.current=r,ft!==null)throw Error(G(261));return Et=null,It=0,yt}function DP(){for(;ft!==null;)I1(ft)}function OP(){for(;ft!==null&&!sA();)I1(ft)}function I1(t){var e=P1(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?C1(t):ft=e,ly.current=null}function C1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IP(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ft=null;return}}else if(n=bP(n,e,Tn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);yt===0&&(yt=5)}function cs(t,e,n){var r=Ve,i=$n.transition;try{$n.transition=null,Ve=1,LP(t,e,n,r)}finally{$n.transition=i,Ve=r}return null}function LP(t,e,n,r){do Co();while(xi!==null);if(Ne&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(mA(t,s),t===Et&&(ft=Et=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||uc||(uc=!0,R1(ch,function(){return Co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$n.transition,$n.transition=null;var o=Ve;Ve=1;var a=Ne;Ne|=4,ly.current=null,AP(t,n),k1(n,t),tP(im),dh=!!rm,im=rm=null,t.current=n,PP(n),oA(),Ne=a,Ve=o,$n.transition=s}else t.current=n;if(uc&&(uc=!1,xi=t,Ch=i),s=t.pendingLanes,s===0&&(Di=null),uA(n.stateNode),pn(t,at()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ih)throw Ih=!1,t=Tm,Tm=null,t;return Ch&1&&t.tag!==0&&Co(),s=t.pendingLanes,s&1?t===Sm?ol++:(ol=0,Sm=t):ol=0,Xi(),null}function Co(){if(xi!==null){var t=lx(Ch),e=$n.transition,n=Ve;try{if($n.transition=null,Ve=16>t?16:t,xi===null)var r=!1;else{if(t=xi,xi=null,Ch=0,Ne&6)throw Error(G(331));var i=Ne;for(Ne|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(re=u;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:il(8,h,s)}var d=h.child;if(d!==null)d.return=h,re=d;else for(;re!==null;){h=re;var f=h.sibling,p=h.return;if(_1(h),h===u){re=null;break}if(f!==null){f.return=p,re=f;break}re=p}}}var g=s.alternate;if(g!==null){var k=g.child;if(k!==null){g.child=null;do{var D=k.sibling;k.sibling=null,k=D}while(k!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:il(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,re=v;break e}re=s.return}}var w=t.current;for(re=w;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=w;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yd(9,a)}}catch(j){it(a,a.return,j)}if(a===o){re=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,re=M;break e}re=a.return}}if(Ne=i,Xi(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(ud,t)}catch{}r=!0}return r}finally{Ve=n,$n.transition=e}}return!1}function jw(t,e,n){e=$o(n,e),e=l1(t,e,1),t=Ni(t,e,1),e=en(),t!==null&&(eu(t,1,e),pn(t,e))}function it(t,e,n){if(t.tag===3)jw(t,t,n);else for(;e!==null;){if(e.tag===3){jw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){t=$o(n,t),t=u1(e,t,1),e=Ni(e,t,1),t=en(),e!==null&&(eu(e,1,t),pn(e,t));break}}e=e.return}}function MP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(It&n)===n&&(yt===4||yt===3&&(It&130023424)===It&&500>at()-cy?Ts(t,0):uy|=n),pn(t,e)}function A1(t,e){e===0&&(t.mode&1?(e=Zu,Zu<<=1,!(Zu&130023424)&&(Zu=4194304)):e=1);var n=en();t=Ur(t,e),t!==null&&(eu(t,e,n),pn(t,n))}function FP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),A1(t,n)}function VP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),A1(t,n)}var P1;P1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,SP(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Ye&&e.flags&1048576&&Ox(e,_h,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mc(t,e),t=e.pendingProps;var i=Mo(e,zt.current);Io(e,n),i=ry(null,e,r,t,i,n);var s=iy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(s=!0,yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Jg(e),i.updater=gd,e.stateNode=i,i._reactInternals=e,fm(e,r,t,n),e=gm(null,e,r,!0,s,n)):(e.tag=0,Ye&&s&&Wg(e),Qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$P(r),t=Gn(r,t),i){case 0:e=mm(null,e,r,t,n);break e;case 1:e=Aw(null,e,r,t,n);break e;case 11:e=Iw(null,e,r,t,n);break e;case 14:e=Cw(null,e,r,Gn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),mm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Aw(t,e,r,i,n);case 3:e:{if(f1(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$x(t,e),kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$o(Error(G(423)),e),e=Pw(t,e,r,n,i);break e}else if(r!==i){i=$o(Error(G(424)),e),e=Pw(t,e,r,n,i);break e}else for(Sn=Ri(e.stateNode.containerInfo.firstChild),In=e,Ye=!0,Yn=null,n=Vx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=zr(t,e,n);break e}Qt(t,e,r,n)}e=e.child}return e;case 5:return Ux(e),t===null&&cm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sm(r,i)?o=null:s!==null&&sm(r,s)&&(e.flags|=32),d1(t,e),Qt(t,e,o,n),e.child;case 6:return t===null&&cm(e),null;case 13:return p1(t,e,n);case 4:return Zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vo(e,null,r,n):Qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Iw(t,e,r,i,n);case 7:return Qt(t,e,e.pendingProps,n),e.child;case 8:return Qt(t,e,e.pendingProps.children,n),e.child;case 12:return Qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,He(wh,r._currentValue),r._currentValue=o,s!==null)if(nr(s.value,o)){if(s.children===i.children&&!dn.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Io(e,n),i=Un(i),r=r(i),e.flags|=1,Qt(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),Cw(t,e,r,i,n);case 15:return c1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Mc(t,e),e.tag=1,fn(r)?(t=!0,yh(e)):t=!1,Io(e,n),a1(e,r,i),fm(e,r,i,n),gm(null,e,r,!0,t,n);case 19:return m1(t,e,n);case 22:return h1(t,e,n)}throw Error(G(156,e.tag))};function R1(t,e){return ix(t,e)}function jP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new jP(t,e,n,r)}function py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $P(t){if(typeof t=="function")return py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dg)return 11;if(t===Og)return 14}return 2}function Li(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return Ss(n.children,i,s,e);case Ng:o=8,i|=8;break;case Fp:return t=jn(12,n,e,i|2),t.elementType=Fp,t.lanes=s,t;case Vp:return t=jn(13,n,e,i),t.elementType=Vp,t.lanes=s,t;case jp:return t=jn(19,n,e,i),t.elementType=jp,t.lanes=s,t;case Uk:return _d(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jk:o=10;break e;case $k:o=9;break e;case Dg:o=11;break e;case Og:o=14;break e;case ci:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=jn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ss(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function _d(t,e,n,r){return t=jn(22,t,r,e),t.elementType=Uk,t.lanes=n,t.stateNode={isHidden:!1},t}function Gf(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function Kf(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function my(t,e,n,r,i,s,o,a,l){return t=new UP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),t}function zP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N1(t){if(!t)return Hi;t=t._reactInternals;e:{if(Us(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(fn(n))return Nx(t,n,e)}return e}function D1(t,e,n,r,i,s,o,a,l){return t=my(n,r,!0,t,i,s,o,a,l),t.context=N1(null),n=t.current,r=en(),i=Oi(n),s=Mr(r,i),s.callback=e??null,Ni(n,s,i),t.current.lanes=i,eu(t,i,r),pn(t,r),t}function wd(t,e,n,r){var i=e.current,s=en(),o=Oi(i);return n=N1(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ni(i,e,o),t!==null&&(Zn(t,i,o,s),Dc(t,i,o)),o}function Ph(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gy(t,e){$w(t,e),(t=t.alternate)&&$w(t,e)}function BP(){return null}var O1=typeof reportError=="function"?reportError:function(t){console.error(t)};function yy(t){this._internalRoot=t}Ed.prototype.render=yy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));wd(t,e,null,null)};Ed.prototype.unmount=yy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){wd(null,t,null,null)}),e[$r]=null}};function Ed(t){this._internalRoot=t}Ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=hx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fi.length&&e!==0&&e<fi[n].priority;n++);fi.splice(n,0,t),n===0&&fx(t)}};function vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Uw(){}function HP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Ph(o);s.call(u)}}var o=D1(e,r,t,0,null,!1,!1,"",Uw);return t._reactRootContainer=o,t[$r]=o.current,Rl(t.nodeType===8?t.parentNode:t),Ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ph(l);a.call(u)}}var l=my(t,0,!1,null,null,!1,!1,"",Uw);return t._reactRootContainer=l,t[$r]=l.current,Rl(t.nodeType===8?t.parentNode:t),Ns(function(){wd(e,l,n,r)}),l}function xd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ph(o);a.call(l)}}wd(e,o,t,i)}else o=HP(n,e,t,i,r);return Ph(o)}ux=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$a(e.pendingLanes);n!==0&&(Fg(e,n|1),pn(e,at()),!(Ne&6)&&(Uo=at()+500,Xi()))}break;case 13:Ns(function(){var r=Ur(t,1);if(r!==null){var i=en();Zn(r,t,1,i)}}),gy(t,1)}};Vg=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=en();Zn(e,t,134217728,n)}gy(t,134217728)}};cx=function(t){if(t.tag===13){var e=Oi(t),n=Ur(t,e);if(n!==null){var r=en();Zn(n,t,e,r)}gy(t,e)}};hx=function(){return Ve};dx=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};Qp=function(t,e,n){switch(e){case"input":if(zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fd(r);if(!i)throw Error(G(90));Bk(r),zp(r,i)}}}break;case"textarea":Wk(t,n);break;case"select":e=n.value,e!=null&&xo(t,!!n.multiple,e,!1)}};Jk=hy;Zk=Ns;var WP={usingClientEntryPoint:!1,Events:[nu,mo,fd,Yk,Xk,hy]},Oa={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nx(t),t===null?null:t.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||BP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{ud=cc.inject(qP),hr=cc}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WP;Rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vy(e))throw Error(G(200));return zP(t,e,null,n)};Rn.createRoot=function(t,e){if(!vy(t))throw Error(G(299));var n=!1,r="",i=O1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=my(t,1,!1,null,null,n,!1,r,i),t[$r]=e.current,Rl(t.nodeType===8?t.parentNode:t),new yy(e)};Rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=nx(e),t=t===null?null:t.stateNode,t};Rn.flushSync=function(t){return Ns(t)};Rn.hydrate=function(t,e,n){if(!kd(e))throw Error(G(200));return xd(null,t,e,!0,n)};Rn.hydrateRoot=function(t,e,n){if(!vy(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=O1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=D1(e,null,t,1,n??null,i,!1,s,o),t[$r]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ed(e)};Rn.render=function(t,e,n){if(!kd(e))throw Error(G(200));return xd(null,t,e,!1,n)};Rn.unmountComponentAtNode=function(t){if(!kd(t))throw Error(G(40));return t._reactRootContainer?(Ns(function(){xd(null,null,t,!1,function(){t._reactRootContainer=null,t[$r]=null})}),!0):!1};Rn.unstable_batchedUpdates=hy;Rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kd(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return xd(t,e,n,!1,r)};Rn.version="18.3.1-next-f1338f8080-20240426";function L1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L1)}catch(t){console.error(t)}}L1(),Lk.exports=Rn;var M1=Lk.exports,zw=M1;Lp.createRoot=zw.createRoot,Lp.hydrateRoot=zw.hydrateRoot;const GP={apiKey:"AIzaSyDMge0ZVBwCHb6tzmdIv5dD_BMrtfu_P_I",authDomain:"swim-meet-app.firebaseapp.com",projectId:"swim-meet-app",storageBucket:"swim-meet-app.firebasestorage.app",messagingSenderId:"869827349699",appId:"1:869827349699:web:26b08aeece866760cbe676"},Rh={"jonny5v@gmail.com":"SUPERADMIN","admin@westgatecc.com":"WCC","admin@ponchatrainrc.com":"PRC","admin@barracudaswim.org":"BARR","admin@example.com":"KLR"},$c=["Girls 6 & Under 25m Freestyle","Boys 6 & Under 25m Freestyle","Girls 7-8 25m Freestyle","Boys 7-8 25m Freestyle","Girls 9-10 50m Freestyle","Boys 9-10 50m Freestyle","Girls 11-12 50m Freestyle","Boys 11-12 50m Freestyle","Girls 13-14 50m Freestyle","Boys 13-14 50m Freestyle","Girls 15-17 50m Freestyle","Boys 15-17 50m Freestyle","Girls 9-10 100m Freestyle","Boys 9-10 100m Freestyle","Girls 11-12 100m Freestyle","Boys 11-12 100m Freestyle","Girls 13-14 100m Freestyle","Boys 13-14 100m Freestyle","Girls 15-17 100m Freestyle","Boys 15-17 100m Freestyle","Girls 11-12 200m Freestyle","Boys 11-12 200m Freestyle","Girls 13-14 200m Freestyle","Boys 13-14 200m Freestyle","Girls 15-17 200m Freestyle","Boys 15-17 200m Freestyle","Girls 6 & Under 25m Backstroke","Boys 6 & Under 25m Backstroke","Girls 7-8 25m Backstroke","Boys 7-8 25m Backstroke","Girls 9-10 50m Backstroke","Boys 9-10 50m Backstroke","Girls 11-12 50m Backstroke","Boys 11-12 50m Backstroke","Girls 13-14 100m Backstroke","Boys 13-14 100m Backstroke","Girls 15-17 100m Backstroke","Boys 15-17 100m Backstroke","Girls 7-8 25m Breaststroke","Boys 7-8 25m Breaststroke","Girls 9-10 50m Breaststroke","Boys 9-10 50m Breaststroke","Girls 11-12 50m Breaststroke","Boys 11-12 50m Breaststroke","Girls 13-14 100m Breaststroke","Boys 13-14 100m Breaststroke","Girls 15-17 100m Breaststroke","Boys 15-17 100m Breaststroke","Girls 7-8 25m Butterfly","Boys 7-8 25m Butterfly","Girls 9-10 50m Butterfly","Boys 9-10 50m Butterfly","Girls 11-12 50m Butterfly","Boys 11-12 50m Butterfly","Girls 13-14 100m Butterfly","Boys 13-14 100m Butterfly","Girls 15-17 100m Butterfly","Boys 15-17 100m Butterfly","Girls 9-10 100m IM","Boys 9-10 100m IM","Girls 11-12 100m IM","Boys 11-12 100m IM","Girls 13-14 200m IM","Boys 13-14 200m IM","Girls 15-17 200m IM","Boys 15-17 200m IM"];let KP={data:""},QP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||KP,YP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,XP=/\/\*[^]*?\*\/|  +/g,Bw=/\n+/g,mi=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?mi(o,s):s+"{"+mi(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=mi(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=mi.p?mi.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},br={},F1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+F1(t[n]);return e}return t},JP=(t,e,n,r,i)=>{let s=F1(t),o=br[s]||(br[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!br[o]){let l=s!==t?t:(u=>{let h,d,f=[{}];for(;h=YP.exec(u.replace(XP,""));)h[4]?f.shift():h[3]?(d=h[3].replace(Bw," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][h[1]]=h[2].replace(Bw," ").trim();return f[0]})(t);br[o]=mi(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&br.g?br.g:null;return n&&(br.g=br[o]),((l,u,h,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(br[o],e,r,a),o},ZP=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":mi(a,""):a===!1?"":a}return r+i+(o??"")},"");function Td(t){let e=this||{},n=t.call?t(e.p):t;return JP(n.unshift?n.raw?ZP(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,QP(e.target),e.g,e.o,e.k)}let V1,Cm,Am;Td.bind({g:1});let Br=Td.bind({k:1});function eR(t,e,n,r){mi.p=e,V1=t,Cm=n,Am=r}function Ji(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Cm&&Cm()},a),n.o=/ *go\d+/.test(l),a.className=Td.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Am&&u[0]&&Am(a),V1(u,a)}return i}}var tR=t=>typeof t=="function",Nh=(t,e)=>tR(t)?t(e):t,nR=(()=>{let t=0;return()=>(++t).toString()})(),j1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),rR=20,$1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,rR)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return $1(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Uc=[],_s={toasts:[],pausedAt:void 0},zs=t=>{_s=$1(_s,t),Uc.forEach(e=>{e(_s)})},iR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sR=(t={})=>{let[e,n]=O.useState(_s),r=O.useRef(_s);O.useEffect(()=>(r.current!==_s&&n(_s),Uc.push(n),()=>{let s=Uc.indexOf(n);s>-1&&Uc.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||iR[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},oR=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||nR()}),iu=t=>(e,n)=>{let r=oR(e,t,n);return zs({type:2,toast:r}),r.id},Yt=(t,e)=>iu("blank")(t,e);Yt.error=iu("error");Yt.success=iu("success");Yt.loading=iu("loading");Yt.custom=iu("custom");Yt.dismiss=t=>{zs({type:3,toastId:t})};Yt.remove=t=>zs({type:4,toastId:t});Yt.promise=(t,e,n)=>{let r=Yt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Nh(e.success,i):void 0;return s?Yt.success(s,{id:r,...n,...n==null?void 0:n.success}):Yt.dismiss(r),i}).catch(i=>{let s=e.error?Nh(e.error,i):void 0;s?Yt.error(s,{id:r,...n,...n==null?void 0:n.error}):Yt.dismiss(r)}),t};var aR=(t,e)=>{zs({type:1,toast:{id:t,height:e}})},lR=()=>{zs({type:5,time:Date.now()})},al=new Map,uR=1e3,cR=(t,e=uR)=>{if(al.has(t))return;let n=setTimeout(()=>{al.delete(t),zs({type:4,toastId:t})},e);al.set(t,n)},hR=t=>{let{toasts:e,pausedAt:n}=sR(t);O.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Yt.dismiss(a.id);return}return setTimeout(()=>Yt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=O.useCallback(()=>{n&&zs({type:6,time:Date.now()})},[n]),i=O.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},h=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),d=h.findIndex(p=>p.id===s.id),f=h.filter((p,g)=>g<d&&p.visible).length;return h.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,g)=>p+(g.height||0)+l,0)},[e]);return O.useEffect(()=>{e.forEach(s=>{if(s.dismissed)cR(s.id,s.removeDelay);else{let o=al.get(s.id);o&&(clearTimeout(o),al.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:aR,startPause:lR,endPause:r,calculateOffset:i}}},dR=Br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fR=Br`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pR=Br`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mR=Ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,gR=Br`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yR=Ji("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${gR} 1s linear infinite;
`,vR=Br`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_R=Br`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,wR=Ji("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_R} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ER=Ji("div")`
  position: absolute;
`,kR=Ji("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xR=Br`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TR=Ji("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,SR=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?O.createElement(TR,null,e):e:n==="blank"?null:O.createElement(kR,null,O.createElement(yR,{...r}),n!=="loading"&&O.createElement(ER,null,n==="error"?O.createElement(mR,{...r}):O.createElement(wR,{...r})))},bR=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,IR=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,CR="0%{opacity:0;} 100%{opacity:1;}",AR="0%{opacity:1;} 100%{opacity:0;}",PR=Ji("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,RR=Ji("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NR=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=j1()?[CR,AR]:[bR(n),IR(n)];return{animation:e?`${Br(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Br(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},DR=O.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?NR(t.position||e||"top-center",t.visible):{opacity:0},s=O.createElement(SR,{toast:t}),o=O.createElement(RR,{...t.ariaProps},Nh(t.message,t));return O.createElement(PR,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):O.createElement(O.Fragment,null,s,o))});eR(O.createElement);var OR=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=O.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return O.createElement("div",{ref:s,className:e,style:n},i)},LR=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:j1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},MR=Td`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hc=16,FR=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=hR(n);return O.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hc,left:hc,right:hc,bottom:hc,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let h=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),f=LR(h,d);return O.createElement(OR,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?MR:"",style:f},u.type==="custom"?Nh(u.message,u):i?i(u):O.createElement(DR,{toast:u,position:h}))}))};const Fe=({name:t,type:e="fas",...n})=>E.jsx("i",{className:`${e} fa-${t}`,"aria-hidden":"true",...n}),VR="modulepreload",jR=function(t){return"/swim-meet-app/"+t},Hw={},$R=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=jR(l),l in Hw)return;Hw[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":VR,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function UR(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(d=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(a=await $R(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/swim-meet-app/sw.js",{scope:"/swim-meet-app/",type:"classic"})).catch(d=>{o==null||o(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),a.register({immediate:e}).then(d=>{s?s("/swim-meet-app/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return l=h(),u}function zR(){return O.useEffect(()=>{const t=UR({onNeedRefresh(){confirm("New content is available, do you want to reload?")&&t(!0)},onOfflineReady(){console.log("App is ready to work offline")}})},[]),null}function U1({event:t,favorites:e,currentEvent:n,toggleFavorite:r}){const i=(t.heats||[]).some(a=>a.lanes.some(l=>e.has(l.id))),s=n.isTracking&&t.eventNumber===n.eventNumber,o=["bg-surface-light dark:bg-surface-dark rounded-lg mb-3 border border-border-light dark:border-border-dark overflow-hidden transition-all",i?"border-l-4 border-l-secondary":"",s?"border-2 border-primary dark:border-primary-light scale-[1.02]":""].join(" ");return E.jsxs("div",{className:o,children:[E.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark font-bold",children:["Event ",t.eventNumber,": ",t.name]}),E.jsx("div",{className:"p-4 space-y-4",children:t.heats&&t.heats.length>0?t.heats.map(a=>E.jsxs("div",{className:`p-3 rounded-lg ${s&&a.heatNumber===n.heatNumber?"bg-primary/10 dark:bg-primary/20":""}`,children:[E.jsxs("h6",{className:"mb-2 font-semibold text-gray-600 dark:text-gray-400",children:["Heat ",a.heatNumber]}),E.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark -m-3",children:a.lanes.map(l=>E.jsxs("li",{className:"p-3 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("strong",{className:"font-semibold",children:["Lane ",l.lane,":"]})," ",`${l.firstName} ${l.lastName}`," ",E.jsxs("span",{className:"text-gray-500",children:["(",l.team,")"]})]}),E.jsx("button",{className:"p-2 -m-2",onClick:()=>r(l.id),"aria-label":`Toggle favorite for ${l.firstName} ${l.lastName}`,children:E.jsx("div",{className:`${e.has(l.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:E.jsx(Fe,{name:"star",type:e.has(l.id)?"fas":"far"})})})]},l.id))})]},a.heatNumber)):E.jsx("p",{className:"text-center text-gray-500",children:"No heats or swimmers for this event yet."})})]})}function Ww({events:t,favorites:e,currentEvent:n,toggleFavorite:r,adminRole:i,updateMeetStatus:s}){if(!t||t.length===0)return E.jsx("p",{className:"text-center text-gray-500",children:"No events found for this meet."});const o=()=>{const u=Math.min(t.length,n.eventNumber+1);s({eventNumber:u,heatNumber:1})},a=()=>{const u=Math.max(1,n.eventNumber-1);s({eventNumber:u,heatNumber:1})},l=()=>{s({isTracking:!n.isTracking})};return E.jsxs("div",{children:[i&&E.jsxs("div",{className:"sticky top-0 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-sm z-10 p-2 rounded-lg border border-border-light dark:border-border-dark mb-4 flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:a,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Previous Event",children:E.jsx(Fe,{name:"backward-step"})}),E.jsx("div",{className:"text-center",children:E.jsxs("div",{className:"font-semibold text-sm",children:["Event ",n.eventNumber]})}),E.jsx("button",{onClick:o,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Next Event",children:E.jsx(Fe,{name:"forward-step"})})]}),E.jsx("button",{onClick:l,className:`py-2 px-3 rounded-md font-semibold text-xs flex-shrink-0 ${n.isTracking?"bg-yellow-500 text-black":"bg-blue-600 text-white"}`,children:n.isTracking?"Stop Tracking":"Start Tracking"})]}),n.isTracking&&!i&&E.jsxs("div",{className:"bg-primary text-white p-3 rounded-lg mb-4 shadow-md text-center",children:[E.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Now Swimming"}),E.jsxs("div",{className:"text-lg mt-1 font-semibold",children:["Event #",n.eventNumber]})]}),t.map(u=>E.jsx(U1,{event:u,favorites:e,currentEvent:n,toggleFavorite:r},u.id))]})}function BR({search:t,setSearch:e,results:n,favorites:r,currentEvent:i,toggleFavorite:s}){return E.jsxs("div",{children:[E.jsx("label",{htmlFor:"event-search-input",className:"sr-only",children:"Search by event name or number"}),E.jsx("input",{id:"event-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search by event name or number...",value:t,onChange:o=>e(o.target.value)}),t&&n.length===0&&E.jsx("p",{className:"text-center text-gray-500",children:"No events found."}),n.map(o=>E.jsx(U1,{event:o,favorites:r,currentEvent:i,toggleFavorite:s},o.id))]})}function HR({search:t,setSearch:e,results:n,favorites:r,toggleFavorite:i}){return E.jsxs("div",{children:[E.jsx("label",{htmlFor:"swimmer-search-input",className:"sr-only",children:"Search for a swimmer"}),E.jsx("input",{id:"swimmer-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search for a swimmer...",value:t,onChange:s=>e(s.target.value)}),t&&n.length===0&&E.jsx("p",{className:"text-center text-gray-500",children:"No swimmers found."}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md overflow-hidden border border-border-light dark:border-border-dark",children:E.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:n.map(s=>E.jsxs("li",{className:"p-4 flex justify-between items-center",children:[E.jsxs("div",{className:"mr-auto font-bold",children:[s.name," (",s.team,")"]}),E.jsx("button",{className:"p-2 -m-2",onClick:()=>i(s.id),"aria-label":`Toggle favorite for ${s.name}`,children:E.jsx("div",{className:`${r.has(s.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:E.jsx(Fe,{name:"star",type:r.has(s.id)?"fas":"far"})})})]},s.id))})})]})}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function qw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qw(Object(n),!0).forEach(function(r){WR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zc=function(e){return typeof e}:zc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function WR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hr(){return Hr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hr.apply(this,arguments)}function qR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GR(t,e){if(t==null)return{};var n=qR(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var KR="1.15.6";function Fr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Jr=Fr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),su=Fr(/Edge/i),Gw=Fr(/firefox/i),ll=Fr(/safari/i)&&!Fr(/chrome/i)&&!Fr(/android/i),_y=Fr(/iP(ad|od|hone)/i),z1=Fr(/chrome/i)&&Fr(/android/i),B1={capture:!1,passive:!1};function Ce(t,e,n){t.addEventListener(e,n,!Jr&&B1)}function be(t,e,n){t.removeEventListener(e,n,!Jr&&B1)}function Dh(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function H1(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Qn(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Dh(t,e):Dh(t,e))||r&&t===n)return t;if(t===n)break}while(t=H1(t))}return null}var Kw=/\s+/g;function En(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(Kw," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(Kw," ")}}function de(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Ao(t,e){var n="";if(typeof t=="string")n=t;else do{var r=de(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function W1(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function fr(){var t=document.scrollingElement;return t||document.documentElement}function dt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,h,d;if(t!==window&&t.parentNode&&t!==fr()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,h=s.height,d=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,h=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Jr))do if(i&&i.getBoundingClientRect&&(de(i,"transform")!=="none"||n&&de(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(de(i,"border-top-width")),a-=f.left+parseInt(de(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=Ao(i||t),g=p&&p.a,k=p&&p.d;p&&(o/=k,a/=g,d/=g,h/=k,l=o+h,u=a+d)}return{top:o,left:a,bottom:l,right:u,width:d,height:h}}}function Qw(t,e,n){for(var r=Ti(t,!0),i=dt(t)[e];r;){var s=dt(r)[n],o=void 0;if(o=i>=s,!o)return r;if(r===fr())break;r=Ti(r,!1)}return!1}function zo(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==fe.ghost&&(r||o[s]!==fe.dragged)&&Qn(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function wy(t,e){for(var n=t.lastElementChild;n&&(n===fe.ghost||de(n,"display")==="none"||e&&!Dh(n,e));)n=n.previousElementSibling;return n||null}function Ln(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==fe.clone&&(!e||Dh(t,e))&&n++;return n}function Yw(t){var e=0,n=0,r=fr();if(t)do{var i=Ao(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function QR(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ti(t,e){if(!t||!t.getBoundingClientRect)return fr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=de(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return fr();if(r||e)return n;r=!0}}while(n=n.parentNode);return fr()}function YR(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Qf(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var ul;function q1(t,e){return function(){if(!ul){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),ul=setTimeout(function(){ul=void 0},e)}}}function XR(){clearTimeout(ul),ul=void 0}function G1(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function K1(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Q1(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,o,a,l;if(!(!Qn(i,e.draggable,t,!1)||i.animated||i===n)){var u=dt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,u.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var un="Sortable"+new Date().getTime();function JR(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(de(i,"display")==="none"||i===fe.ghost)){t.push({target:i,rect:dt(i)});var s=vr({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Ao(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(QR(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,h=u.fromRect,d=dt(u),f=u.prevFromRect,p=u.prevToRect,g=a.rect,k=Ao(u,!0);k&&(d.top-=k.f,d.left-=k.e),u.toRect=d,u.thisAnimationDuration&&Qf(f,d)&&!Qf(h,d)&&(g.top-d.top)/(g.left-d.left)===(h.top-d.top)/(h.left-d.left)&&(l=eN(g,f,p,i.options)),Qf(d,h)||(u.prevFromRect=h,u.prevToRect=d,l||(l=i.options.animation),i.animate(u,g,d,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){de(r,"transition",""),de(r,"transform","");var a=Ao(this.el),l=a&&a.a,u=a&&a.d,h=(i.left-s.left)/(l||1),d=(i.top-s.top)/(u||1);r.animatingX=!!h,r.animatingY=!!d,de(r,"transform","translate3d("+h+"px,"+d+"px,0)"),this.forRepaintDummy=ZR(r),de(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),de(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){de(r,"transition",""),de(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function ZR(t){return t.offsetWidth}function eN(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var to=[],Yf={initializeByDefault:!0},ou={mount:function(e){for(var n in Yf)Yf.hasOwnProperty(n)&&!(n in e)&&(e[n]=Yf[n]);to.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),to.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";to.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](vr({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](vr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){to.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,Hr(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return to.forEach(function(i){typeof i.eventProperties=="function"&&Hr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return to.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function tN(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,h=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[un],!!e){var k,D=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Jr&&!su?k=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(k=document.createEvent("Event"),k.initEvent(r,!0,!0)),k.to=o||n,k.from=a||n,k.item=i||n,k.clone=s,k.oldIndex=l,k.newIndex=u,k.oldDraggableIndex=h,k.newDraggableIndex=d,k.originalEvent=f,k.pullMode=p?p.lastPutMode:void 0;var w=vr(vr({},g),ou.getEventProperties(r,e));for(var x in w)k[x]=w[x];n&&n.dispatchEvent(k),D[v]&&D[v].call(e,k)}}var nN=["evt"],on=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=GR(r,nN);ou.pluginEvent.bind(fe)(e,n,vr({dragEl:J,parentEl:rt,ghostEl:ve,rootEl:Qe,nextEl:hs,lastDownEl:Bc,cloneEl:Xe,cloneHidden:gi,dragStarted:za,putSortable:xt,activeSortable:fe.active,originalEvent:i,oldIndex:ko,oldDraggableIndex:cl,newIndex:xn,newDraggableIndex:di,hideGhostForTarget:Z1,unhideGhostForTarget:eT,cloneNowHidden:function(){gi=!0},cloneNowShown:function(){gi=!1},dispatchSortableEvent:function(a){Kt({sortable:n,name:a,originalEvent:i})}},s))};function Kt(t){tN(vr({putSortable:xt,cloneEl:Xe,targetEl:J,rootEl:Qe,oldIndex:ko,oldDraggableIndex:cl,newIndex:xn,newDraggableIndex:di},t))}var J,rt,ve,Qe,hs,Bc,Xe,gi,ko,xn,cl,di,dc,xt,io=!1,Oh=!1,Lh=[],ss,qn,Xf,Jf,Xw,Jw,za,no,hl,dl=!1,fc=!1,Hc,Lt,Zf=[],Pm=!1,Mh=[],Sd=typeof document<"u",pc=_y,Zw=su||Jr?"cssFloat":"float",rN=Sd&&!z1&&!_y&&"draggable"in document.createElement("div"),Y1=function(){if(Sd){if(Jr)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),X1=function(e,n){var r=de(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=zo(e,0,n),o=zo(e,1,n),a=s&&de(s),l=o&&de(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+dt(s).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+dt(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[Zw]==="none"||o&&r[Zw]==="none"&&u+h>i)?"vertical":"horizontal"},iN=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},sN=function(e,n){var r;return Lh.some(function(i){var s=i[un].options.emptyInsertThreshold;if(!(!s||wy(i))){var o=dt(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},J1=function(e){function n(s,o){return function(a,l,u,h){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||d))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,h),o)(a,l,u,h);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||zc(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},Z1=function(){!Y1&&ve&&de(ve,"display","none")},eT=function(){!Y1&&ve&&de(ve,"display","")};Sd&&!z1&&document.addEventListener("click",function(t){if(Oh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Oh=!1,!1},!0);var os=function(e){if(J){e=e.touches?e.touches[0]:e;var n=sN(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[un]._onDragOver(r)}}},oN=function(e){J&&J.parentNode[un]._isOutsideThisEl(e.target)};function fe(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Hr({},e),t[un]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return X1(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:fe.supportPointer!==!1&&"PointerEvent"in window&&(!ll||_y),emptyInsertThreshold:5};ou.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);J1(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:rN,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ce(t,"pointerdown",this._onTapStart):(Ce(t,"mousedown",this._onTapStart),Ce(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ce(t,"dragover",this),Ce(t,"dragenter",this)),Lh.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Hr(this,JR())}fe.prototype={constructor:fe,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(no=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,h=i.filter;if(pN(r),!J&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&ll&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Qn(l,i.draggable,r,!1),!(l&&l.animated)&&Bc!==l)){if(ko=Ln(l),cl=Ln(l,i.draggable),typeof h=="function"){if(h.call(this,e,l,this)){Kt({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),on("filter",n,{evt:e}),s&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(d){if(d=Qn(u,d.trim(),r,!1),d)return Kt({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),on("filter",n,{evt:e}),!0}),h)){s&&e.preventDefault();return}i.handle&&!Qn(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!J&&r.parentNode===s){var u=dt(r);if(Qe=s,J=r,rt=J.parentNode,hs=J.nextSibling,Bc=r,dc=o.group,fe.dragged=J,ss={target:J,clientX:(n||e).clientX,clientY:(n||e).clientY},Xw=ss.clientX-u.left,Jw=ss.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,J.style["will-change"]="all",l=function(){if(on("delayEnded",i,{evt:e}),fe.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Gw&&i.nativeDraggable&&(J.draggable=!0),i._triggerDragStart(e,n),Kt({sortable:i,name:"choose",originalEvent:e}),En(J,o.chosenClass,!0)},o.ignore.split(",").forEach(function(h){W1(J,h.trim(),ep)}),Ce(a,"dragover",os),Ce(a,"mousemove",os),Ce(a,"touchmove",os),o.supportPointer?(Ce(a,"pointerup",i._onDrop),!this.nativeDraggable&&Ce(a,"pointercancel",i._onDrop)):(Ce(a,"mouseup",i._onDrop),Ce(a,"touchend",i._onDrop),Ce(a,"touchcancel",i._onDrop)),Gw&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),on("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(su||Jr))){if(fe.eventCanceled){this._onDrop();return}o.supportPointer?(Ce(a,"pointerup",i._disableDelayedDrag),Ce(a,"pointercancel",i._disableDelayedDrag)):(Ce(a,"mouseup",i._disableDelayedDrag),Ce(a,"touchend",i._disableDelayedDrag),Ce(a,"touchcancel",i._disableDelayedDrag)),Ce(a,"mousemove",i._delayedDragTouchMoveHandler),Ce(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Ce(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&ep(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;be(e,"mouseup",this._disableDelayedDrag),be(e,"touchend",this._disableDelayedDrag),be(e,"touchcancel",this._disableDelayedDrag),be(e,"pointerup",this._disableDelayedDrag),be(e,"pointercancel",this._disableDelayedDrag),be(e,"mousemove",this._delayedDragTouchMoveHandler),be(e,"touchmove",this._delayedDragTouchMoveHandler),be(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ce(document,"pointermove",this._onTouchMove):n?Ce(document,"touchmove",this._onTouchMove):Ce(document,"mousemove",this._onTouchMove):(Ce(J,"dragend",this),Ce(Qe,"dragstart",this._onDragStart));try{document.selection?Wc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(io=!1,Qe&&J){on("dragStarted",this,{evt:n}),this.nativeDraggable&&Ce(document,"dragover",oN);var r=this.options;!e&&En(J,r.dragClass,!1),En(J,r.ghostClass,!0),fe.active=this,e&&this._appendGhost(),Kt({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(qn){this._lastX=qn.clientX,this._lastY=qn.clientY,Z1();for(var e=document.elementFromPoint(qn.clientX,qn.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(qn.clientX,qn.clientY),e!==n);)n=e;if(J.parentNode[un]._isOutsideThisEl(e),n)do{if(n[un]){var r=void 0;if(r=n[un]._onDragOver({clientX:qn.clientX,clientY:qn.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=H1(n));eT()}},_onTouchMove:function(e){if(ss){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=ve&&Ao(ve,!0),a=ve&&o&&o.a,l=ve&&o&&o.d,u=pc&&Lt&&Yw(Lt),h=(s.clientX-ss.clientX+i.x)/(a||1)+(u?u[0]-Zf[0]:0)/(a||1),d=(s.clientY-ss.clientY+i.y)/(l||1)+(u?u[1]-Zf[1]:0)/(l||1);if(!fe.active&&!io){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(ve){o?(o.e+=h-(Xf||0),o.f+=d-(Jf||0)):o={a:1,b:0,c:0,d:1,e:h,f:d};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");de(ve,"webkitTransform",f),de(ve,"mozTransform",f),de(ve,"msTransform",f),de(ve,"transform",f),Xf=h,Jf=d,qn=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ve){var e=this.options.fallbackOnBody?document.body:Qe,n=dt(J,!0,pc,!0,e),r=this.options;if(pc){for(Lt=e;de(Lt,"position")==="static"&&de(Lt,"transform")==="none"&&Lt!==document;)Lt=Lt.parentNode;Lt!==document.body&&Lt!==document.documentElement?(Lt===document&&(Lt=fr()),n.top+=Lt.scrollTop,n.left+=Lt.scrollLeft):Lt=fr(),Zf=Yw(Lt)}ve=J.cloneNode(!0),En(ve,r.ghostClass,!1),En(ve,r.fallbackClass,!0),En(ve,r.dragClass,!0),de(ve,"transition",""),de(ve,"transform",""),de(ve,"box-sizing","border-box"),de(ve,"margin",0),de(ve,"top",n.top),de(ve,"left",n.left),de(ve,"width",n.width),de(ve,"height",n.height),de(ve,"opacity","0.8"),de(ve,"position",pc?"absolute":"fixed"),de(ve,"zIndex","100000"),de(ve,"pointerEvents","none"),fe.ghost=ve,e.appendChild(ve),de(ve,"transform-origin",Xw/parseInt(ve.style.width)*100+"% "+Jw/parseInt(ve.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(on("dragStart",this,{evt:e}),fe.eventCanceled){this._onDrop();return}on("setupClone",this),fe.eventCanceled||(Xe=K1(J),Xe.removeAttribute("id"),Xe.draggable=!1,Xe.style["will-change"]="",this._hideClone(),En(Xe,this.options.chosenClass,!1),fe.clone=Xe),r.cloneId=Wc(function(){on("clone",r),!fe.eventCanceled&&(r.options.removeCloneOnHide||Qe.insertBefore(Xe,J),r._hideClone(),Kt({sortable:r,name:"clone"}))}),!n&&En(J,s.dragClass,!0),n?(Oh=!0,r._loopId=setInterval(r._emulateDragOver,50)):(be(document,"mouseup",r._onDrop),be(document,"touchend",r._onDrop),be(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,J)),Ce(document,"drop",r),de(J,"transform","translateZ(0)")),io=!0,r._dragStartId=Wc(r._dragStarted.bind(r,n,e)),Ce(document,"selectstart",r),za=!0,window.getSelection().removeAllRanges(),ll&&de(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=fe.active,h=dc===l,d=a.sort,f=xt||u,p,g=this,k=!1;if(Pm)return;function D(z,Y){on(z,g,vr({evt:e,isOwner:h,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:d,fromSortable:f,target:r,completed:w,onMove:function(te,ae){return mc(Qe,n,J,i,te,dt(te),e,ae)},changed:x},Y))}function v(){D("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function w(z){return D("dragOverCompleted",{insertion:z}),z&&(h?u._hideClone():u._showClone(g),g!==f&&(En(J,xt?xt.options.ghostClass:u.options.ghostClass,!1),En(J,a.ghostClass,!0)),xt!==g&&g!==fe.active?xt=g:g===fe.active&&xt&&(xt=null),f===g&&(g._ignoreWhileAnimating=r),g.animateAll(function(){D("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===J&&!J.animated||r===n&&!r.animated)&&(no=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(J.parentNode[un]._isOutsideThisEl(e.target),!z&&os(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),k=!0}function x(){xn=Ln(J),di=Ln(J,a.draggable),Kt({sortable:g,name:"change",toEl:n,newIndex:xn,newDraggableIndex:di,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Qn(r,a.draggable,n,!0),D("dragOver"),fe.eventCanceled)return k;if(J.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||g._ignoreWhileAnimating===r)return w(!1);if(Oh=!1,u&&!a.disabled&&(h?d||(o=rt!==Qe):xt===this||(this.lastPutMode=dc.checkPull(this,u,J,e))&&l.checkPut(this,u,J,e))){if(p=this._getDirection(e,r)==="vertical",i=dt(J),D("dragOverValid"),fe.eventCanceled)return k;if(o)return rt=Qe,v(),this._hideClone(),D("revert"),fe.eventCanceled||(hs?Qe.insertBefore(J,hs):Qe.appendChild(J)),w(!0);var M=wy(n,a.draggable);if(!M||cN(e,p,this)&&!M.animated){if(M===J)return w(!1);if(M&&n===e.target&&(r=M),r&&(s=dt(r)),mc(Qe,n,J,i,r,s,e,!!r)!==!1)return v(),M&&M.nextSibling?n.insertBefore(J,M.nextSibling):n.appendChild(J),rt=n,x(),w(!0)}else if(M&&uN(e,p,this)){var j=zo(n,0,a,!0);if(j===J)return w(!1);if(r=j,s=dt(r),mc(Qe,n,J,i,r,s,e,!1)!==!1)return v(),n.insertBefore(J,j),rt=n,x(),w(!0)}else if(r.parentNode===n){s=dt(r);var L=0,I,T=J.parentNode!==n,A=!iN(J.animated&&J.toRect||i,r.animated&&r.toRect||s,p),_=p?"top":"left",P=Qw(r,"top","top")||Qw(J,"top","top"),C=P?P.scrollTop:void 0;no!==r&&(I=s[_],dl=!1,fc=!A&&a.invertSwap||T),L=hN(e,r,s,p,A?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,fc,no===r);var b;if(L!==0){var F=Ln(J);do F-=L,b=rt.children[F];while(b&&(de(b,"display")==="none"||b===ve))}if(L===0||b===r)return w(!1);no=r,hl=L;var B=r.nextElementSibling,X=!1;X=L===1;var Q=mc(Qe,n,J,i,r,s,e,X);if(Q!==!1)return(Q===1||Q===-1)&&(X=Q===1),Pm=!0,setTimeout(lN,30),v(),X&&!B?n.appendChild(J):r.parentNode.insertBefore(J,X?B:r),P&&G1(P,0,C-P.scrollTop),rt=J.parentNode,I!==void 0&&!fc&&(Hc=Math.abs(I-dt(r)[_])),x(),w(!0)}if(n.contains(J))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){be(document,"mousemove",this._onTouchMove),be(document,"touchmove",this._onTouchMove),be(document,"pointermove",this._onTouchMove),be(document,"dragover",os),be(document,"mousemove",os),be(document,"touchmove",os)},_offUpEvents:function(){var e=this.el.ownerDocument;be(e,"mouseup",this._onDrop),be(e,"touchend",this._onDrop),be(e,"pointerup",this._onDrop),be(e,"pointercancel",this._onDrop),be(e,"touchcancel",this._onDrop),be(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(xn=Ln(J),di=Ln(J,r.draggable),on("drop",this,{evt:e}),rt=J&&J.parentNode,xn=Ln(J),di=Ln(J,r.draggable),fe.eventCanceled){this._nulling();return}io=!1,fc=!1,dl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Rm(this.cloneId),Rm(this._dragStartId),this.nativeDraggable&&(be(document,"drop",this),be(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ll&&de(document.body,"user-select",""),de(J,"transform",""),e&&(za&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),ve&&ve.parentNode&&ve.parentNode.removeChild(ve),(Qe===rt||xt&&xt.lastPutMode!=="clone")&&Xe&&Xe.parentNode&&Xe.parentNode.removeChild(Xe),J&&(this.nativeDraggable&&be(J,"dragend",this),ep(J),J.style["will-change"]="",za&&!io&&En(J,xt?xt.options.ghostClass:this.options.ghostClass,!1),En(J,this.options.chosenClass,!1),Kt({sortable:this,name:"unchoose",toEl:rt,newIndex:null,newDraggableIndex:null,originalEvent:e}),Qe!==rt?(xn>=0&&(Kt({rootEl:rt,name:"add",toEl:rt,fromEl:Qe,originalEvent:e}),Kt({sortable:this,name:"remove",toEl:rt,originalEvent:e}),Kt({rootEl:rt,name:"sort",toEl:rt,fromEl:Qe,originalEvent:e}),Kt({sortable:this,name:"sort",toEl:rt,originalEvent:e})),xt&&xt.save()):xn!==ko&&xn>=0&&(Kt({sortable:this,name:"update",toEl:rt,originalEvent:e}),Kt({sortable:this,name:"sort",toEl:rt,originalEvent:e})),fe.active&&((xn==null||xn===-1)&&(xn=ko,di=cl),Kt({sortable:this,name:"end",toEl:rt,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){on("nulling",this),Qe=J=rt=ve=hs=Xe=Bc=gi=ss=qn=za=xn=di=ko=cl=no=hl=xt=dc=fe.dragged=fe.ghost=fe.clone=fe.active=null,Mh.forEach(function(e){e.checked=!0}),Mh.length=Xf=Jf=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),aN(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],Qn(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||fN(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];Qn(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Qn(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=ou.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&J1(r)},destroy:function(){on("destroy",this);var e=this.el;e[un]=null,be(e,"mousedown",this._onTapStart),be(e,"touchstart",this._onTapStart),be(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(be(e,"dragover",this),be(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Lh.splice(Lh.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!gi){if(on("hideClone",this),fe.eventCanceled)return;de(Xe,"display","none"),this.options.removeCloneOnHide&&Xe.parentNode&&Xe.parentNode.removeChild(Xe),gi=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(gi){if(on("showClone",this),fe.eventCanceled)return;J.parentNode==Qe&&!this.options.group.revertClone?Qe.insertBefore(Xe,J):hs?Qe.insertBefore(Xe,hs):Qe.appendChild(Xe),this.options.group.revertClone&&this.animate(J,Xe),de(Xe,"display",""),gi=!1}}};function aN(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function mc(t,e,n,r,i,s,o,a){var l,u=t[un],h=u.options.onMove,d;return window.CustomEvent&&!Jr&&!su?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||dt(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),h&&(d=h.call(u,l,o)),d}function ep(t){t.draggable=!1}function lN(){Pm=!1}function uN(t,e,n){var r=dt(zo(n.el,0,n.options,!0)),i=Q1(n.el,n.options,ve),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function cN(t,e,n){var r=dt(wy(n.el,n.options.draggable)),i=Q1(n.el,n.options,ve),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function hN(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,h=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(a&&Hc<u*i){if(!dl&&(hl===1?l>h+u*s/2:l<d-u*s/2)&&(dl=!0),dl)f=!0;else if(hl===1?l<h+Hc:l>d-Hc)return-hl}else if(l>h+u*(1-i)/2&&l<d-u*(1-i)/2)return dN(e)}return f=f||o,f&&(l<h+u*s/2||l>d-u*s/2)?l>h+u/2?1:-1:0}function dN(t){return Ln(J)<Ln(t)?1:-1}function fN(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function pN(t){Mh.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Mh.push(r)}}function Wc(t){return setTimeout(t,0)}function Rm(t){return clearTimeout(t)}Sd&&Ce(document,"touchmove",function(t){(fe.active||io)&&t.cancelable&&t.preventDefault()});fe.utils={on:Ce,off:be,css:de,find:W1,is:function(e,n){return!!Qn(e,n,e,!1)},extend:YR,throttle:q1,closest:Qn,toggleClass:En,clone:K1,index:Ln,nextTick:Wc,cancelNextTick:Rm,detectDirection:X1,getChild:zo,expando:un};fe.get=function(t){return t[un]};fe.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(fe.utils=vr(vr({},fe.utils),r.utils)),ou.mount(r)})};fe.create=function(t,e){return new fe(t,e)};fe.version=KR;var ut=[],Ba,Nm,Dm=!1,tp,np,Fh,Ha;function mN(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ce(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Ce(document,"touchmove",this._handleFallbackAutoScroll):Ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?be(document,"dragover",this._handleAutoScroll):(be(document,"pointermove",this._handleFallbackAutoScroll),be(document,"touchmove",this._handleFallbackAutoScroll),be(document,"mousemove",this._handleFallbackAutoScroll)),e0(),qc(),XR()},nulling:function(){Fh=Nm=Ba=Dm=Ha=tp=np=null,ut.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(Fh=n,r||this.options.forceAutoScrollFallback||su||Jr||ll){rp(n,this.options,a,r);var l=Ti(a,!0);Dm&&(!Ha||s!==tp||o!==np)&&(Ha&&e0(),Ha=setInterval(function(){var u=Ti(document.elementFromPoint(s,o),!0);u!==l&&(l=u,qc()),rp(n,i.options,u,r)},10),tp=s,np=o)}else{if(!this.options.bubbleScroll||Ti(a,!0)===fr()){qc();return}rp(n,this.options,Ti(a,!1),!1)}}},Hr(t,{pluginName:"scroll",initializeByDefault:!0})}function qc(){ut.forEach(function(t){clearInterval(t.pid)}),ut=[]}function e0(){clearInterval(Ha)}var rp=q1(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=fr(),u=!1,h;Nm!==n&&(Nm=n,qc(),Ba=e.scroll,h=e.scrollFn,Ba===!0&&(Ba=Ti(n,!0)));var d=0,f=Ba;do{var p=f,g=dt(p),k=g.top,D=g.bottom,v=g.left,w=g.right,x=g.width,M=g.height,j=void 0,L=void 0,I=p.scrollWidth,T=p.scrollHeight,A=de(p),_=p.scrollLeft,P=p.scrollTop;p===l?(j=x<I&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),L=M<T&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(j=x<I&&(A.overflowX==="auto"||A.overflowX==="scroll"),L=M<T&&(A.overflowY==="auto"||A.overflowY==="scroll"));var C=j&&(Math.abs(w-i)<=o&&_+x<I)-(Math.abs(v-i)<=o&&!!_),b=L&&(Math.abs(D-s)<=o&&P+M<T)-(Math.abs(k-s)<=o&&!!P);if(!ut[d])for(var F=0;F<=d;F++)ut[F]||(ut[F]={});(ut[d].vx!=C||ut[d].vy!=b||ut[d].el!==p)&&(ut[d].el=p,ut[d].vx=C,ut[d].vy=b,clearInterval(ut[d].pid),(C!=0||b!=0)&&(u=!0,ut[d].pid=setInterval((function(){r&&this.layer===0&&fe.active._onTouchMove(Fh);var B=ut[this.layer].vy?ut[this.layer].vy*a:0,X=ut[this.layer].vx?ut[this.layer].vx*a:0;typeof h=="function"&&h.call(fe.dragged.parentNode[un],X,B,t,Fh,ut[this.layer].el)!=="continue"||G1(ut[this.layer].el,X,B)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==l&&(f=Ti(f,!1)));Dm=u}},30),tT=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(h.clientX,h.clientY);l(),u&&!u.el.contains(d)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Ey(){}Ey.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=zo(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:tT};Hr(Ey,{pluginName:"revertOnSpill"});function ky(){}ky.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:tT};Hr(ky,{pluginName:"removeOnSpill"});fe.mount(new mN);fe.mount(ky,Ey);var gN=Object.defineProperty,yN=(t,e,n)=>e in t?gN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ip=(t,e,n)=>(yN(t,typeof e!="symbol"?e+"":e,n),n);let vN=class{constructor(){ip(this,"current",this.detect()),ip(this,"handoffState","pending"),ip(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bs=new vN;function bd(t){var e,n;return bs.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Id(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Zr(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Id(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Zr();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function xy(){let[t]=O.useState(Zr);return O.useEffect(()=>()=>t.dispose(),[t]),t}let Ut=(t,e)=>{bs.isServer?O.useEffect(t,e):O.useLayoutEffect(t,e)};function Bs(t){let e=O.useRef(t);return Ut(()=>{e.current=t},[t]),e}let Ue=function(t){let e=Bs(t);return ge.useCallback((...n)=>e.current(...n),[e])},_N=O.createContext(void 0);function wN(){return O.useContext(_N)}function Om(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Wr(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wr),r}var Vh=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Vh||{}),Si=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Si||{});function Bn(){let t=kN();return O.useCallback(e=>EN({mergeRefs:t,...e}),[t])}function EN({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??xN;let l=nT(e,t);if(s)return gc(l,n,r,o,a);let u=i??0;if(u&2){let{static:h=!1,...d}=l;if(h)return gc(d,n,r,o,a)}if(u&1){let{unmount:h=!0,...d}=l;return Wr(h?0:1,{0(){return null},1(){return gc({...d,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return gc(l,n,r,o,a)}function gc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=sp(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let d={};if(e){let f=!1,p=[];for(let[g,k]of Object.entries(e))typeof k=="boolean"&&(f=!0),k===!0&&p.push(g.replace(/([A-Z])/g,D=>`-${D.toLowerCase()}`));if(f){d["data-headlessui-state"]=p.join(" ");for(let g of p)d[`data-${g}`]=""}}if(s===O.Fragment&&(Object.keys(ds(l)).length>0||Object.keys(ds(d)).length>0))if(!O.isValidElement(h)||Array.isArray(h)&&h.length>1){if(Object.keys(ds(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ds(l)).concat(Object.keys(ds(d))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=h.props,p=f==null?void 0:f.className,g=typeof p=="function"?(...v)=>Om(p(...v),l.className):Om(p,l.className),k=g?{className:g}:{},D=nT(h.props,ds(sp(l,["ref"])));for(let v in d)v in D&&delete d[v];return O.cloneElement(h,Object.assign({},D,d,u,{ref:i(TN(h),u.ref)},k))}return O.createElement(s,Object.assign({},sp(l,["ref"]),s!==O.Fragment&&u,s!==O.Fragment&&d),h)}function kN(){let t=O.useRef([]),e=O.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function xN(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function nT(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function mn(t){var e;return Object.assign(O.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function ds(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function sp(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function TN(t){return ge.version.split(".")[0]>="19"?t.props.ref:t.ref}let SN="span";var jh=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(jh||{});function bN(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Bn()({ourProps:s,theirProps:i,slot:{},defaultTag:SN,name:"Hidden"})}let Lm=mn(bN);function rT(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Mi(t){return rT(t)&&"tagName"in t}function Ds(t){return Mi(t)&&"accessKey"in t}function bi(t){return Mi(t)&&"tabIndex"in t}function IN(t){return Mi(t)&&"style"in t}function CN(t){return Ds(t)&&t.nodeName==="IFRAME"}function AN(t){return Ds(t)&&t.nodeName==="INPUT"}let iT=Symbol();function PN(t,e=!0){return Object.assign(t,{[iT]:e})}function Er(...t){let e=O.useRef(t);O.useEffect(()=>{e.current=t},[t]);let n=Ue(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[iT]))?void 0:n}let Ty=O.createContext(null);Ty.displayName="DescriptionContext";function sT(){let t=O.useContext(Ty);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,sT),e}return t}function RN(){let[t,e]=O.useState([]);return[t.length>0?t.join(" "):void 0,O.useMemo(()=>function(n){let r=Ue(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=O.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return ge.createElement(Ty.Provider,{value:i},n.children)},[e])]}let NN="p";function DN(t,e){let n=O.useId(),r=wN(),{id:i=`headlessui-description-${n}`,...s}=t,o=sT(),a=Er(e);Ut(()=>o.register(i),[i,o.register]);let l=r||!1,u=O.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),h={ref:a,...o.props,id:i};return Bn()({ourProps:h,theirProps:s,slot:u,defaultTag:NN,name:o.name||"Description"})}let ON=mn(DN),LN=Object.assign(ON,{});var oT=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(oT||{});let MN=O.createContext(()=>{});function FN({value:t,children:e}){return ge.createElement(MN.Provider,{value:t},e)}let aT=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var VN=Object.defineProperty,jN=(t,e,n)=>e in t?VN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$N=(t,e,n)=>(jN(t,e+"",n),n),lT=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},On=(t,e,n)=>(lT(t,e,"read from private field"),n?n.call(t):e.get(t)),op=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},t0=(t,e,n,r)=>(lT(t,e,"write to private field"),e.set(t,n),n),sr,Wa,qa;let UN=class{constructor(e){op(this,sr,{}),op(this,Wa,new aT(()=>new Set)),op(this,qa,new Set),$N(this,"disposables",Zr()),t0(this,sr,e)}dispose(){this.disposables.dispose()}get state(){return On(this,sr)}subscribe(e,n){let r={selector:e,callback:n,current:e(On(this,sr))};return On(this,qa).add(r),this.disposables.add(()=>{On(this,qa).delete(r)})}on(e,n){return On(this,Wa).get(e).add(n),this.disposables.add(()=>{On(this,Wa).get(e).delete(n)})}send(e){let n=this.reduce(On(this,sr),e);if(n!==On(this,sr)){t0(this,sr,n);for(let r of On(this,qa)){let i=r.selector(On(this,sr));uT(r.current,i)||(r.current=i,r.callback(i))}for(let r of On(this,Wa).get(e.type))r(On(this,sr),e)}}};sr=new WeakMap,Wa=new WeakMap,qa=new WeakMap;function uT(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:ap(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:ap(t.entries(),e.entries()):n0(t)&&n0(e)?ap(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function ap(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function n0(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var zN=Object.defineProperty,BN=(t,e,n)=>e in t?zN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r0=(t,e,n)=>(BN(t,typeof e!="symbol"?e+"":e,n),n),HN=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(HN||{});let WN={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},qN=class cT extends UN{constructor(){super(...arguments),r0(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),r0(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new cT({stack:[]})}reduce(e,n){return Wr(n.type,WN,e,n)}};const hT=new aT(()=>qN.new());var dT={exports:{}},fT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var au=O;function GN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var KN=typeof Object.is=="function"?Object.is:GN,QN=au.useSyncExternalStore,YN=au.useRef,XN=au.useEffect,JN=au.useMemo,ZN=au.useDebugValue;fT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=YN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=JN(function(){function l(p){if(!u){if(u=!0,h=p,p=r(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,KN(h,p))return g;var k=r(p);return i!==void 0&&i(g,k)?(h=p,g):(h=p,d=k)}var u=!1,h,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=QN(t,s[0],s[1]);return XN(function(){o.hasValue=!0,o.value=a},[a]),ZN(a),a};dT.exports=fT;var eD=dT.exports;function pT(t,e,n=uT){return eD.useSyncExternalStoreWithSelector(Ue(r=>t.subscribe(tD,r)),Ue(()=>t.state),Ue(()=>t.state),Ue(e),n)}function tD(t){return t}function lu(t,e){let n=O.useId(),r=hT.get(e),[i,s]=pT(r,O.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return Ut(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Mm=new Map,fl=new Map;function i0(t){var e;let n=(e=fl.get(t))!=null?e:0;return fl.set(t,n+1),n!==0?()=>s0(t):(Mm.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>s0(t))}function s0(t){var e;let n=(e=fl.get(t))!=null?e:1;if(n===1?fl.delete(t):fl.set(t,n-1),n!==1)return;let r=Mm.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Mm.delete(t))}function nD(t,{allowed:e,disallowed:n}={}){let r=lu(t,"inert-others");Ut(()=>{var i,s;if(!r)return;let o=Zr();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(i0(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=bd(l);if(!u)continue;let h=l.parentElement;for(;h&&h!==u.body;){for(let d of h.children)a.some(f=>d.contains(f))||o.add(i0(d));h=h.parentElement}}return o.dispose},[r,e,n])}function rD(t,e,n){let r=Bs(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});O.useEffect(()=>{if(!t)return;let i=e===null?null:Ds(e)?e:e.current;if(!i)return;let s=Zr();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let $h=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),iD=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ar=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Ar||{}),Fm=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Fm||{}),sD=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(sD||{});function oD(t=document.body){return t==null?[]:Array.from(t.querySelectorAll($h)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function aD(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(iD)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var mT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(mT||{});function lD(t,e=0){var n;return t===((n=bd(t))==null?void 0:n.body)?!1:Wr(e,{0(){return t.matches($h)},1(){let r=t;for(;r!==null;){if(r.matches($h))return!0;r=r.parentElement}return!1}})}var uD=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(uD||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Vr(t){t==null||t.focus({preventScroll:!0})}let cD=["textarea","input"].join(",");function hD(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,cD))!=null?n:!1}function dD(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function pl(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?dD(t):t:e&64?aD(t):oD(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===p:g===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,d=o.length,f;do{if(h>=d||h+d<=0)return 0;let p=l+h;if(e&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}f=o[p],f==null||f.focus(u),h+=a}while(f!==s.activeElement);return e&6&&hD(f)&&f.select(),2}function gT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function fD(){return/Android/gi.test(window.navigator.userAgent)}function o0(){return gT()||fD()}function yc(t,e,n,r){let i=Bs(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function yT(t,e,n,r){let i=Bs(n);O.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const a0=30;function pD(t,e,n){let r=Bs(n),i=O.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let d of h)if(d!==null&&(d.contains(u)||a.composed&&a.composedPath().includes(d)))return;return!lD(u,mT.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,e]),s=O.useRef(null);yc(t,"pointerdown",a=>{var l,u;o0()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),yc(t,"pointerup",a=>{if(o0()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=O.useRef({x:0,y:0});yc(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),yc(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=a0||Math.abs(l.y-o.current.y)>=a0))return i(a,()=>bi(a.target)?a.target:null)},!0),yT(t,"blur",a=>i(a,()=>CN(window.document.activeElement)?window.document.activeElement:null),!0)}function Cd(...t){return O.useMemo(()=>bd(...t),[...t])}function vT(t,e,n,r){let i=Bs(n);O.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function mD(t){return O.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function gD(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function yD(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function vD(){return gT()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=Zr();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(bi(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),h=t.querySelector(u);bi(h)&&!r(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(bi(a.target)&&IN(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(bi(a.target)){if(AN(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function _D(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function wD(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let ws=gD(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:Zr(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:wD(n)},i=[vD(),yD(),_D()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ws.subscribe(()=>{let t=ws.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&ws.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ws.dispatch("TEARDOWN",n)}});function ED(t,e,n=()=>({containers:[]})){let r=mD(ws),i=e?r.get(e):void 0,s=i?i.count>0:!1;return Ut(()=>{if(!(!e||!t))return ws.dispatch("PUSH",e,n),()=>ws.dispatch("POP",e,n)},[t,e]),s}function kD(t,e,n=()=>[document.body]){let r=lu(t,"scroll-lock");ED(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function xD(t=0){let[e,n]=O.useState(t),r=O.useCallback(l=>n(l),[e]),i=O.useCallback(l=>n(u=>u|l),[e]),s=O.useCallback(l=>(e&l)===l,[e]),o=O.useCallback(l=>n(u=>u&~l),[n]),a=O.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var TD={},l0,u0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((l0=process==null?void 0:TD)==null?void 0:l0.NODE_ENV)==="test"&&typeof((u0=Element==null?void 0:Element.prototype)==null?void 0:u0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var SD=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(SD||{});function bD(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function ID(t,e,n,r){let[i,s]=O.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=xD(t&&i?3:0),u=O.useRef(!1),h=O.useRef(!1),d=xy();return Ut(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),CD(e,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){h.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;h.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,d]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function CD(t,{prepare:e,run:n,done:r,inFlight:i}){let s=Zr();return PD(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(AD(t,r))})}),s.dispose}function AD(t,e){var n,r;let i=Zr();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function PD(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function Sy(t,e){let n=O.useRef([]),r=Ue(t);O.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}let Ad=O.createContext(null);Ad.displayName="OpenClosedContext";var Xn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Xn||{});function Pd(){return O.useContext(Ad)}function RD({value:t,children:e}){return ge.createElement(Ad.Provider,{value:t},e)}function ND({children:t}){return ge.createElement(Ad.Provider,{value:null},t)}function DD(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let yi=[];DD(()=>{function t(e){if(!bi(e.target)||e.target===document.body||yi[0]===e.target)return;let n=e.target;n=n.closest($h),yi.unshift(n??e.target),yi=yi.filter(r=>r!=null&&r.isConnected),yi.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function _T(t){let e=Ue(t),n=O.useRef(!1);O.useEffect(()=>(n.current=!1,()=>{n.current=!0,Id(()=>{n.current&&e()})}),[e])}function OD(){let t=typeof document>"u";return"useSyncExternalStore"in M_?(e=>e.useSyncExternalStore)(M_)(()=>()=>{},()=>!1,()=>!t):!1}function uu(){let t=OD(),[e,n]=O.useState(bs.isHandoffComplete);return e&&bs.isHandoffComplete===!1&&n(!1),O.useEffect(()=>{e!==!0&&n(!0)},[e]),O.useEffect(()=>bs.handoff(),[]),t?!1:e}let wT=O.createContext(!1);function LD(){return O.useContext(wT)}function c0(t){return ge.createElement(wT.Provider,{value:t.force},t.children)}function MD(t){let e=LD(),n=O.useContext(kT),[r,i]=O.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(bs.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return O.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),O.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let ET=O.Fragment,FD=mn(function(t,e){let{ownerDocument:n=null,...r}=t,i=O.useRef(null),s=Er(PN(p=>{i.current=p}),e),o=Cd(i),a=n??o,l=MD(a),[u]=O.useState(()=>{var p;return bs.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),h=O.useContext(Vm),d=uu();Ut(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),Ut(()=>{if(u&&h)return h.register(u)},[h,u]),_T(()=>{var p;!l||!u||(rT(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let f=Bn();return d?!l||!u?null:M1.createPortal(f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:ET,name:"Portal"}),u):null});function VD(t,e){let n=Er(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=Bn();return r?ge.createElement(FD,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:ET,name:"Portal"})}let jD=O.Fragment,kT=O.createContext(null);function $D(t,e){let{target:n,...r}=t,i={ref:Er(e)},s=Bn();return ge.createElement(kT.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:jD,name:"Popover.Group"}))}let Vm=O.createContext(null);function UD(){let t=O.useContext(Vm),e=O.useRef([]),n=Ue(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Ue(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=O.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,O.useMemo(()=>function({children:s}){return ge.createElement(Vm.Provider,{value:i},s)},[i])]}let zD=mn(VD),xT=mn($D),BD=Object.assign(zD,{Group:xT});function HD(t,e=typeof document<"u"?document.defaultView:null,n){let r=lu(t,"escape");vT(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===oT.Escape&&n(i))})}function WD(){var t;let[e]=O.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=O.useState((t=e==null?void 0:e.matches)!=null?t:!1);return Ut(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function qD({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Cd(n),i=Ue(()=>{var s,o;let a=[];for(let l of t)l!==null&&(Mi(l)?a.push(l):"current"in l&&Mi(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Mi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:Ue(s=>i().some(o=>o.contains(s)))}}let TT=O.createContext(null);function h0({children:t,node:e}){let[n,r]=O.useState(null),i=ST(e??n);return ge.createElement(TT.Provider,{value:i},t,i===null&&ge.createElement(Lm,{features:jh.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=bd(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Mi(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function ST(t=null){var e;return(e=O.useContext(TT))!=null?e:t}function by(){let t=O.useRef(!1);return Ut(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Ga=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Ga||{});function GD(){let t=O.useRef(0);return yT(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function bT(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Mi(n.current)&&e.add(n.current);return e}let KD="div";var ps=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(ps||{});function QD(t,e){let n=O.useRef(null),r=Er(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;uu()||(a=0);let u=Cd(n);ZD(a,{ownerDocument:u});let h=e2(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});t2(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:h});let d=GD(),f=Ue(w=>{if(!Ds(n.current))return;let x=n.current;(M=>M())(()=>{Wr(d.current,{[Ga.Forwards]:()=>{pl(x,Ar.First,{skipElements:[w.relatedTarget,s]})},[Ga.Backwards]:()=>{pl(x,Ar.Last,{skipElements:[w.relatedTarget,s]})}})})}),p=lu(!!(a&2),"focus-trap#tab-lock"),g=xy(),k=O.useRef(!1),D={ref:r,onKeyDown(w){w.key=="Tab"&&(k.current=!0,g.requestAnimationFrame(()=>{k.current=!1}))},onBlur(w){if(!(a&4))return;let x=bT(o);Ds(n.current)&&x.add(n.current);let M=w.relatedTarget;bi(M)&&M.dataset.headlessuiFocusGuard!=="true"&&(IT(x,M)||(k.current?pl(n.current,Wr(d.current,{[Ga.Forwards]:()=>Ar.Next,[Ga.Backwards]:()=>Ar.Previous})|Ar.WrapAround,{relativeTo:w.target}):bi(w.target)&&Vr(w.target)))}},v=Bn();return ge.createElement(ge.Fragment,null,p&&ge.createElement(Lm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:jh.Focusable}),v({ourProps:D,theirProps:l,defaultTag:KD,name:"FocusTrap"}),p&&ge.createElement(Lm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:jh.Focusable}))}let YD=mn(QD),XD=Object.assign(YD,{features:ps});function JD(t=!0){let e=O.useRef(yi.slice());return Sy(([n],[r])=>{r===!0&&n===!1&&Id(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=yi.slice())},[t,yi,e]),Ue(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ZD(t,{ownerDocument:e}){let n=!!(t&8),r=JD(n);Sy(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Vr(r())},[n]),_T(()=>{n&&Vr(r())})}function e2(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=O.useRef(null),o=lu(!!(t&1),"focus-trap#initial-focus"),a=by();return Sy(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Vr(i.current);return}let l=n.current;l&&Id(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)Vr(r.current);else{if(t&16){if(pl(l,Ar.First|Ar.AutoFocus)!==Fm.Error)return}else if(pl(l,Ar.First)!==Fm.Error)return;if(i!=null&&i.current&&(Vr(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function t2(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=by(),o=!!(t&4);vT(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=bT(r);Ds(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let h=a.target;Ds(h)?IT(l,h)?(i.current=h,Vr(h)):(a.preventDefault(),a.stopPropagation(),Vr(u)):Vr(i.current)},!0)}function IT(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function CT(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:PT)!==O.Fragment||ge.Children.count(t.children)===1}let Rd=O.createContext(null);Rd.displayName="TransitionContext";var n2=(t=>(t.Visible="visible",t.Hidden="hidden",t))(n2||{});function r2(){let t=O.useContext(Rd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function i2(){let t=O.useContext(Nd);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Nd=O.createContext(null);Nd.displayName="NestingContext";function Dd(t){return"children"in t?Dd(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function AT(t,e){let n=Bs(t),r=O.useRef([]),i=by(),s=xy(),o=Ue((p,g=Si.Hidden)=>{let k=r.current.findIndex(({el:D})=>D===p);k!==-1&&(Wr(g,{[Si.Unmount](){r.current.splice(k,1)},[Si.Hidden](){r.current[k].state="hidden"}}),s.microTask(()=>{var D;!Dd(r)&&i.current&&((D=n.current)==null||D.call(n))}))}),a=Ue(p=>{let g=r.current.find(({el:k})=>k===p);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Si.Unmount)}),l=O.useRef([]),u=O.useRef(Promise.resolve()),h=O.useRef({enter:[],leave:[]}),d=Ue((p,g,k)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([D])=>D!==p)),e==null||e.chains.current[g].push([p,new Promise(D=>{l.current.push(D)})]),e==null||e.chains.current[g].push([p,new Promise(D=>{Promise.all(h.current[g].map(([v,w])=>w)).then(()=>D())})]),g==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>k(g)):k(g)}),f=Ue((p,g,k)=>{Promise.all(h.current[g].splice(0).map(([D,v])=>v)).then(()=>{var D;(D=l.current.shift())==null||D()}).then(()=>k(g))});return O.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:f,wait:u,chains:h}),[a,o,r,d,f,h,u])}let PT=O.Fragment,RT=Vh.RenderStrategy;function s2(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:h,enterTo:d,entered:f,leave:p,leaveFrom:g,leaveTo:k,...D}=t,[v,w]=O.useState(null),x=O.useRef(null),M=CT(t),j=Er(...M?[x,e,w]:e===null?[]:[e]),L=(n=D.unmount)==null||n?Si.Unmount:Si.Hidden,{show:I,appear:T,initial:A}=r2(),[_,P]=O.useState(I?"visible":"hidden"),C=i2(),{register:b,unregister:F}=C;Ut(()=>b(x),[b,x]),Ut(()=>{if(L===Si.Hidden&&x.current){if(I&&_!=="visible"){P("visible");return}return Wr(_,{hidden:()=>F(x),visible:()=>b(x)})}},[_,x,b,F,I,L]);let B=uu();Ut(()=>{if(M&&B&&_==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,_,B,M]);let X=A&&!T,Q=T&&I&&A,z=O.useRef(!1),Y=AT(()=>{z.current||(P("hidden"),F(x))},C),R=Ue(ye=>{z.current=!0;let De=ye?"enter":"leave";Y.onStart(x,De,Se=>{Se==="enter"?s==null||s():Se==="leave"&&(a==null||a())})}),te=Ue(ye=>{let De=ye?"enter":"leave";z.current=!1,Y.onStop(x,De,Se=>{Se==="enter"?o==null||o():Se==="leave"&&(l==null||l())}),De==="leave"&&!Dd(Y)&&(P("hidden"),F(x))});O.useEffect(()=>{M&&i||(R(I),te(I))},[I,M,i]);let ae=!(!i||!M||!B||X),[,N]=ID(ae,v,I,{start:R,end:te}),ee=ds({ref:j,className:((r=Om(D.className,Q&&u,Q&&h,N.enter&&u,N.enter&&N.closed&&h,N.enter&&!N.closed&&d,N.leave&&p,N.leave&&!N.closed&&g,N.leave&&N.closed&&k,!N.transition&&I&&f))==null?void 0:r.trim())||void 0,...bD(N)}),oe=0;_==="visible"&&(oe|=Xn.Open),_==="hidden"&&(oe|=Xn.Closed),I&&_==="hidden"&&(oe|=Xn.Opening),!I&&_==="visible"&&(oe|=Xn.Closing);let ne=Bn();return ge.createElement(Nd.Provider,{value:Y},ge.createElement(RD,{value:oe},ne({ourProps:ee,theirProps:D,defaultTag:PT,features:RT,visible:_==="visible",name:"Transition.Child"})))}function o2(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=O.useRef(null),a=CT(t),l=Er(...a?[o,e]:e===null?[]:[e]);uu();let u=Pd();if(n===void 0&&u!==null&&(n=(u&Xn.Open)===Xn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,d]=O.useState(n?"visible":"hidden"),f=AT(()=>{n||d("hidden")}),[p,g]=O.useState(!0),k=O.useRef([n]);Ut(()=>{p!==!1&&k.current[k.current.length-1]!==n&&(k.current.push(n),g(!1))},[k,n]);let D=O.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);Ut(()=>{n?d("visible"):!Dd(f)&&o.current!==null&&d("hidden")},[n,f]);let v={unmount:i},w=Ue(()=>{var j;p&&g(!1),(j=t.beforeEnter)==null||j.call(t)}),x=Ue(()=>{var j;p&&g(!1),(j=t.beforeLeave)==null||j.call(t)}),M=Bn();return ge.createElement(Nd.Provider,{value:f},ge.createElement(Rd.Provider,{value:D},M({ourProps:{...v,as:O.Fragment,children:ge.createElement(NT,{ref:l,...v,...s,beforeEnter:w,beforeLeave:x})},theirProps:{},defaultTag:O.Fragment,features:RT,visible:h==="visible",name:"Transition"})))}function a2(t,e){let n=O.useContext(Rd)!==null,r=Pd()!==null;return ge.createElement(ge.Fragment,null,!n&&r?ge.createElement(jm,{ref:e,...t}):ge.createElement(NT,{ref:e,...t}))}let jm=mn(o2),NT=mn(s2),Iy=mn(a2),Gc=Object.assign(jm,{Child:Iy,Root:jm});var l2=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(l2||{}),u2=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(u2||{});let c2={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Cy=O.createContext(null);Cy.displayName="DialogContext";function Od(t){let e=O.useContext(Cy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Od),n}return e}function h2(t,e){return Wr(e.type,c2,t,e)}let d0=mn(function(t,e){let n=O.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:h=!1,...d}=t,f=O.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Pd();i===void 0&&p!==null&&(i=(p&Xn.Open)===Xn.Open);let g=O.useRef(null),k=Er(g,e),D=Cd(g),v=i?0:1,[w,x]=O.useReducer(h2,{titleId:null,descriptionId:null,panelRef:O.createRef()}),M=Ue(()=>s(!1)),j=Ue(N=>x({type:0,id:N})),L=uu()?v===0:!1,[I,T]=UD(),A={get current(){var N;return(N=w.panelRef.current)!=null?N:g.current}},_=ST(),{resolveContainers:P}=qD({mainTreeNode:_,portals:I,defaultContainers:[A]}),C=p!==null?(p&Xn.Closing)===Xn.Closing:!1;nD(u||C?!1:L,{allowed:Ue(()=>{var N,ee;return[(ee=(N=g.current)==null?void 0:N.closest("[data-headlessui-portal]"))!=null?ee:null]}),disallowed:Ue(()=>{var N;return[(N=_==null?void 0:_.closest("body > *:not(#headlessui-portal-root)"))!=null?N:null]})});let b=hT.get(null);Ut(()=>{if(L)return b.actions.push(r),()=>b.actions.pop(r)},[b,r,L]);let F=pT(b,O.useCallback(N=>b.selectors.isTop(N,r),[b,r]));pD(F,P,N=>{N.preventDefault(),M()}),HD(F,D==null?void 0:D.defaultView,N=>{N.preventDefault(),N.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),M()}),kD(u||C?!1:L,D,P),rD(L,g,M);let[B,X]=RN(),Q=O.useMemo(()=>[{dialogState:v,close:M,setTitleId:j,unmount:h},w],[v,w,M,j,h]),z=O.useMemo(()=>({open:v===0}),[v]),Y={ref:k,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:v===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":B,unmount:h},R=!WD(),te=ps.None;L&&!u&&(te|=ps.RestoreFocus,te|=ps.TabLock,l&&(te|=ps.AutoFocus),R&&(te|=ps.InitialFocus));let ae=Bn();return ge.createElement(ND,null,ge.createElement(c0,{force:!0},ge.createElement(BD,null,ge.createElement(Cy.Provider,{value:Q},ge.createElement(xT,{target:g},ge.createElement(c0,{force:!1},ge.createElement(X,{slot:z},ge.createElement(T,null,ge.createElement(XD,{initialFocus:o,initialFocusFallback:g,containers:P,features:te},ge.createElement(FN,{value:M},ae({ourProps:Y,theirProps:d,slot:z,defaultTag:d2,features:f2,visible:v===0,name:"Dialog"})))))))))))}),d2="div",f2=Vh.RenderStrategy|Vh.Static;function p2(t,e){let{transition:n=!1,open:r,...i}=t,s=Pd(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?ge.createElement(h0,null,ge.createElement(Gc,{show:r,transition:n,unmount:i.unmount},ge.createElement(d0,{ref:e,...i}))):ge.createElement(h0,null,ge.createElement(d0,{ref:e,open:r,...i}))}let m2="div";function g2(t,e){let n=O.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=Od("Dialog.Panel"),u=Er(e,l.panelRef),h=O.useMemo(()=>({open:o===0}),[o]),d=Ue(D=>{D.stopPropagation()}),f={ref:u,id:r,onClick:d},p=i?Iy:O.Fragment,g=i?{unmount:a}:{},k=Bn();return ge.createElement(p,{...g},k({ourProps:f,theirProps:s,slot:h,defaultTag:m2,name:"Dialog.Panel"}))}let y2="div";function v2(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=Od("Dialog.Backdrop"),o=O.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0},l=n?Iy:O.Fragment,u=n?{unmount:s}:{},h=Bn();return ge.createElement(l,{...u},h({ourProps:a,theirProps:r,slot:o,defaultTag:y2,name:"Dialog.Backdrop"}))}let _2="h2";function w2(t,e){let n=O.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Od("Dialog.Title"),a=Er(e);O.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=O.useMemo(()=>({open:s===0}),[s]),u={ref:a,id:r};return Bn()({ourProps:u,theirProps:i,slot:l,defaultTag:_2,name:"Dialog.Title"})}let E2=mn(p2),k2=mn(g2);mn(v2);let x2=mn(w2),vc=Object.assign(E2,{Panel:k2,Title:x2,Description:LN});function T2({isOpen:t,onClose:e,title:n,children:r,footer:i}){return E.jsx(Gc,{appear:!0,show:t,as:O.Fragment,children:E.jsxs(vc,{as:"div",className:"relative z-50",onClose:e,children:[E.jsx(Gc.Child,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50","aria-hidden":"true"})}),E.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:E.jsx(Gc.Child,{as:O.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:E.jsxs(vc.Panel,{className:"bg-surface-light dark:bg-surface-dark w-full max-w-md m-4 p-6 rounded-lg shadow-xl",role:"document",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx(vc.Title,{as:"h2",className:"text-xl font-bold",children:n}),E.jsx("button",{onClick:e,"aria-label":"Close modal",className:"text-gray-500 hover:text-gray-800 dark:hover:text-gray-200",children:""})]}),E.jsx(vc.Description,{as:"div",className:"mb-6",children:r}),E.jsx("div",{className:"flex justify-end gap-3",children:i})]})})})]})})}const Zt=({children:t,onClick:e,type:n="button",variant:r="primary",className:i="",...s})=>{const o="w-full text-center px-4 py-2 rounded-md font-semibold text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary text-white hover:bg-green-700",secondary:"bg-gray-500 dark:bg-gray-600 text-white hover:bg-gray-600 dark:hover:bg-gray-500",outline:"border border-current text-primary hover:bg-primary/10 dark:hover:bg-primary/20","outline-success":"border border-green-500 text-green-600 hover:bg-green-500/10"};return E.jsx("button",{type:n,onClick:e,className:`${o} ${a[r]} ${i}`,...s,children:t})},pr=({label:t,id:e,...n})=>E.jsxs("div",{children:[E.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),E.jsx("input",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...n})]}),S2=()=>{const[t,e]=O.useState(null),[n,r]=O.useState(null),i=O.useCallback(u=>(r(u),new Promise((h,d)=>{e({resolve:h})})),[]),s=()=>{e(null)},o=u=>{t==null||t.resolve(u),s()},a=()=>{t==null||t.resolve(!1),s()};return{confirm:i,ConfirmationModal:()=>{const[u,h]=O.useState({}),d=p=>{h(g=>({...g,[p.target.name]:p.target.value}))};if(O.useState(()=>{if((n==null?void 0:n.mode)==="form"&&n.inputs){const p={};n.inputs.forEach(g=>{p[g.name]=g.defaultValue||""}),h(p)}},[n]),!t)return null;const f=n.mode==="form";return E.jsx(T2,{isOpen:t!==null,onClose:s,title:n.title,footer:E.jsxs(E.Fragment,{children:[E.jsx(Zt,{onClick:a,variant:"secondary",children:"Cancel"}),E.jsx(Zt,{onClick:()=>o(f?u:!0),variant:"primary",children:n.confirmText||"Confirm"})]}),children:f?E.jsx("div",{className:"space-y-4",children:n.inputs.map(p=>E.jsx(pr,{label:p.label,id:p.name,name:p.name,type:p.type||"text",value:u[p.name]||"",onChange:d},p.name))}):E.jsx("p",{children:n.message})})}}};var f0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[h],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new I2;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=DT(t);return OT.encodeByteArray(e,!0)},Uh=function(t){return C2(t).replace(/\./g,"")},LT=function(t){try{return OT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=()=>A2().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof f0>"u")return;const t=f0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LT(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return P2()||R2()||N2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MT=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},D2=t=>{const e=MT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},FT=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},VT=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function F2(){var t;const e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U2(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function z2(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B2(){try{return typeof indexedDB=="object"}catch{return!1}}function H2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="FirebaseError";class ei extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W2,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?q2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ei(i,a,r)}}function q2(t,e){return t.replace(G2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const G2=/\{\$([^}]+)}/g;function K2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(p0(s)&&p0(o)){if(!zh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function p0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Q2(t,e){const n=new Y2(t,e);return n.subscribe.bind(n)}class Y2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");X2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lp),i.error===void 0&&(i.error=lp),i.complete===void 0&&(i.complete=lp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eO(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z2(t){return t===fs?void 0:t}function eO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const nO={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},rO=Ae.INFO,iO={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},sO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=rO,this._logHandler=sO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const oO=(t,e)=>e.some(n=>t instanceof n);let m0,g0;function aO(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lO(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jT=new WeakMap,$m=new WeakMap,$T=new WeakMap,up=new WeakMap,Py=new WeakMap;function uO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,t)}).catch(()=>{}),Py.set(e,t),e}function cO(t){if($m.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$m.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $m.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$T.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hO(t){Um=t(Um)}function dO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cp(this),e,...n);return $T.set(r,e.sort?e.sort():[e]),Fi(r)}:lO().includes(t)?function(...e){return t.apply(cp(this),e),Fi(jT.get(this))}:function(...e){return Fi(t.apply(cp(this),e))}}function fO(t){return typeof t=="function"?dO(t):(t instanceof IDBTransaction&&cO(t),oO(t,aO())?new Proxy(t,Um):t)}function Fi(t){if(t instanceof IDBRequest)return uO(t);if(up.has(t))return up.get(t);const e=fO(t);return e!==t&&(up.set(t,e),Py.set(e,t)),e}const cp=t=>Py.get(t);function pO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fi(o.result),l.oldVersion,l.newVersion,Fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const mO=["get","getKey","getAll","getAllKeys","count"],gO=["put","add","delete","clear"],hp=new Map;function y0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hp.set(e,s),s}hO(t=>({...t,get:(e,n,r)=>y0(e,n)||t.get(e,n,r),has:(e,n)=>!!y0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zm="@firebase/app",v0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Ay("@firebase/app"),_O="@firebase/app-compat",wO="@firebase/analytics-compat",EO="@firebase/analytics",kO="@firebase/app-check-compat",xO="@firebase/app-check",TO="@firebase/auth",SO="@firebase/auth-compat",bO="@firebase/database",IO="@firebase/data-connect",CO="@firebase/database-compat",AO="@firebase/functions",PO="@firebase/functions-compat",RO="@firebase/installations",NO="@firebase/installations-compat",DO="@firebase/messaging",OO="@firebase/messaging-compat",LO="@firebase/performance",MO="@firebase/performance-compat",FO="@firebase/remote-config",VO="@firebase/remote-config-compat",jO="@firebase/storage",$O="@firebase/storage-compat",UO="@firebase/firestore",zO="@firebase/vertexai-preview",BO="@firebase/firestore-compat",HO="firebase",WO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",qO={[zm]:"fire-core",[_O]:"fire-core-compat",[EO]:"fire-analytics",[wO]:"fire-analytics-compat",[xO]:"fire-app-check",[kO]:"fire-app-check-compat",[TO]:"fire-auth",[SO]:"fire-auth-compat",[bO]:"fire-rtdb",[IO]:"fire-data-connect",[CO]:"fire-rtdb-compat",[AO]:"fire-fn",[PO]:"fire-fn-compat",[RO]:"fire-iid",[NO]:"fire-iid-compat",[DO]:"fire-fcm",[OO]:"fire-fcm-compat",[LO]:"fire-perf",[MO]:"fire-perf-compat",[FO]:"fire-rc",[VO]:"fire-rc-compat",[jO]:"fire-gcs",[$O]:"fire-gcs-compat",[UO]:"fire-fst",[BO]:"fire-fst-compat",[zO]:"fire-vertex","fire-js":"fire-js",[HO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,GO=new Map,Hm=new Map;function _0(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bo(t){const e=t.name;if(Hm.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,t);for(const n of Bh.values())_0(n,t);for(const n of GO.values())_0(n,t);return!0}function Ry(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new cu("app","Firebase",KO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=WO;function UT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=FT()),!n)throw Vi.create("no-options");const s=Bh.get(i);if(s){if(zh(n,s.options)&&zh(r,s.config))return s;throw Vi.create("duplicate-app",{appName:i})}const o=new tO(i);for(const l of Hm.values())o.addComponent(l);const a=new QO(n,r,o);return Bh.set(i,a),a}function zT(t=Bm){const e=Bh.get(t);if(!e&&t===Bm&&FT())return UT();if(!e)throw Vi.create("no-app",{appName:t});return e}function ji(t,e,n){var r;let i=(r=qO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}Bo(new Os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="firebase-heartbeat-database",XO=1,$l="firebase-heartbeat-store";let dp=null;function BT(){return dp||(dp=pO(YO,XO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),dp}async function JO(t){try{const n=(await BT()).transaction($l),r=await n.objectStore($l).get(HT(t));return await n.done,r}catch(e){if(e instanceof ei)qr.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qr.warn(n.message)}}}async function w0(t,e){try{const r=(await BT()).transaction($l,"readwrite");await r.objectStore($l).put(e,HT(t)),await r.done}catch(n){if(n instanceof ei)qr.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qr.warn(r.message)}}}function HT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=1024,eL=30*24*60*60*1e3;class tL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=eL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:r,unsentEntries:i}=nL(this._heartbeatsCache.heartbeats),s=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return qr.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function nL(t,e=ZO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),k0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),k0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B2()?H2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function k0(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){Bo(new Os("platform-logger",e=>new yO(e),"PRIVATE")),Bo(new Os("heartbeat",e=>new tL(e),"PRIVATE")),ji(zm,v0,t),ji(zm,v0,"esm2017"),ji("fire-js","")}iL("");var sL="firebase",oL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(sL,oL,"app");function Ny(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aL=WT,qT=new cu("auth","Firebase",WT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Ay("@firebase/auth");function lL(t,...e){Hh.logLevel<=Ae.WARN&&Hh.warn(`Auth (${ta}): ${t}`,...e)}function Kc(t,...e){Hh.logLevel<=Ae.ERROR&&Hh.error(`Auth (${ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw Oy(t,...e)}function er(t,...e){return Oy(t,...e)}function Dy(t,e,n){const r=Object.assign(Object.assign({},aL()),{[e]:n});return new cu("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return Dy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_r(t,"argument-error"),Dy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qT.create(t,...e)}function pe(t,e,...n){if(!t)throw Oy(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function Gr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cL(){return x0()==="http:"||x0()==="https:"}function x0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cL()||j2()||"connection"in navigator)?navigator.onLine:!0}function dL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=M2()||$2()}get(){return hL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new du(3e4,6e4);function Md(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function na(t,e,n,r,i={}){return KT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return V2()||(u.referrerPolicy="no-referrer"),GT.fetch()(YT(t,t.config.apiHost,n,a),u)})}async function KT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fL),e);try{const i=new mL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _c(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _c(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _c(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw _c(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Dy(t,h,u);_r(t,h)}}catch(i){if(i instanceof ei)throw i;_r(t,"network-request-failed",{message:String(i)})}}async function QT(t,e,n,r,i={}){const s=await na(t,e,n,r,i);return"mfaPendingCredential"in s&&_r(t,"multi-factor-auth-required",{_serverResponse:s}),s}function YT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ly(t.config,i):`${t.config.apiScheme}://${i}`}class mL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),pL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _c(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function XT(t,e){return na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=My(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ml(fp(i.auth_time)),issuedAtTime:ml(fp(i.iat)),expirationTime:ml(fp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fp(t){return Number(t)*1e3}function My(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const i=LT(n);return i?JSON.parse(i):(Kc("Failed to decode base64 JWT payload"),null)}catch(i){return Kc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function T0(t){const e=My(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ei&&vL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ml(this.lastLoginAt),this.creationTime=ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ul(t,XT(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JT(s.providerUserInfo):[],a=EL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function wL(t){const e=vt(t);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JT(t){return t.map(e=>{var{providerId:n}=e,r=Ny(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL(t,e){const n=await KT(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=YT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xL(t,e){return na(t,"POST","/v2/accounts:revokeToken",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=T0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Po;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ny(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _L(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new qm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return wL(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Ul(this,gL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,k=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:M,isAnonymous:j,providerData:L,stsTokenManager:I}=n;pe(x&&I,e,"internal-error");const T=Po.fromJSON(this.name,I);pe(typeof x=="string",e,"internal-error"),li(d,e.name),li(f,e.name),pe(typeof M=="boolean",e,"internal-error"),pe(typeof j=="boolean",e,"internal-error"),li(p,e.name),li(g,e.name),li(k,e.name),li(D,e.name),li(v,e.name),li(w,e.name);const A=new Or({uid:x,auth:e,email:f,emailVerified:M,displayName:d,isAnonymous:j,photoURL:g,phoneNumber:p,tenantId:k,stsTokenManager:T,createdAt:v,lastLoginAt:w});return L&&Array.isArray(L)&&(A.providerData=L.map(_=>Object.assign({},_))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Po;i.updateFromServerResponse(n);const s=new Or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?JT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Po;a.updateFromIdToken(r);const l=new Or({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new qm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=new Map;function Lr(t){Gr(t instanceof Function,"Expected a class definition");let e=S0.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZT.type="NONE";const b0=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(Lr(b0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Lr(b0);const o=Qc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=Or._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ro(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ro(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sS(e))return"Blackberry";if(oS(e))return"Webos";if(tS(e))return"Safari";if((e.includes("chrome/")||nS(e))&&!e.includes("edge/"))return"Chrome";if(iS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eS(t=Bt()){return/firefox\//i.test(t)}function tS(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nS(t=Bt()){return/crios\//i.test(t)}function rS(t=Bt()){return/iemobile/i.test(t)}function iS(t=Bt()){return/android/i.test(t)}function sS(t=Bt()){return/blackberry/i.test(t)}function oS(t=Bt()){return/webos/i.test(t)}function Fy(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TL(t=Bt()){var e;return Fy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SL(){return U2()&&document.documentMode===10}function aS(t=Bt()){return Fy(t)||iS(t)||oS(t)||sS(t)||/windows phone/i.test(t)||rS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t,e=[]){let n;switch(t){case"Browser":n=I0(Bt());break;case"Worker":n=`${I0(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e={}){return na(t,"GET","/v2/passwordPolicy",Md(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=6;class AL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:CL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C0(this),this.idTokenSubscription=new C0(this),this.beforeStateQueue=new bL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await XT(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject($i(this));const n=e?vt(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IL(this),n=new AL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fu(t){return vt(t)}class C0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q2(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){Vy=t}function NL(t){return Vy.loadJS(t)}function DL(){return Vy.gapiScript}function OL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e){const n=Ry(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zh(s,e??{}))return i;_r(i,"already-initialized")}return n.initialize({options:e})}function ML(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FL(t,e,n){const r=fu(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=uS(e),{host:o,port:a}=VL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),jL()}function uS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VL(t){const e=uS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:A0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:A0(o)}}}function A0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return QT(t,"POST","/v1/accounts:signInWithIdp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L="http://localhost";class Ls extends cS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ny(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ls(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,No(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:$L,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends jy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends pu{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ls._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends pu{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends pu{constructor(){super("twitter.com")}static credential(e,n){return Ls._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wi.credential(n,r)}catch{return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com";wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e){return QT(t,"POST","/v1/accounts:signUp",Md(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Or._fromIdTokenResponse(e,r,i),o=P0(r);return new Wi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=P0(r);return new Wi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function P0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t){var e;if(ur(t.app))return Promise.reject($i(t));const n=fu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Wi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await UL(n,{returnSecureToken:!0}),i=await Wi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends ei{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new qh(e,n,r,i)}}function hS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(t,s,e,r):s})}async function BL(t,e,n=!1){const r=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const s=await Ul(t,hS(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=My(s.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),Wi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_r(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e,n=!1){if(ur(t.app))return Promise.reject($i(t));const r="signIn",i=await hS(t,r,e),s=await Wi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function qL(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function GL(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function KL(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=1e3,YL=10;class fS extends dS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,YL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fS.type="LOCAL";const XL=fS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends dS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pS.type="SESSION";const mS=pS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await JL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=$y("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function eM(t){mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function tM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rM(){return gS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="firebaseLocalStorageDb",iM=1,Kh="firebaseLocalStorage",vS="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function sM(){const t=indexedDB.deleteDatabase(yS);return new mu(t).toPromise()}function Gm(){const t=indexedDB.open(yS,iM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Kh,{keyPath:vS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Kh)?e(r):(r.close(),await sM(),e(await Gm()))})})}async function R0(t,e,n){const r=Vd(t,!0).put({[vS]:e,value:n});return new mu(r).toPromise()}async function oM(t,e){const n=Vd(t,!1).get(e),r=await new mu(n).toPromise();return r===void 0?null:r.value}function N0(t,e){const n=Vd(t,!0).delete(e);return new mu(n).toPromise()}const aM=800,lM=3;class _S{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>lM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(rM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new ZL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await R0(e,Gh,"1"),await N0(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>R0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>N0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vd(i,!1).getAll();return new mu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_S.type="LOCAL";const uM=_S;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e){return e?Lr(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends cS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function cM(t){return WL(t.auth,new Uy(t),t.bypassAuthState)}function hM(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),HL(n,new Uy(t),t.bypassAuthState)}async function dM(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),BL(n,new Uy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cM;case"linkViaPopup":case"linkViaRedirect":return dM;case"reauthViaPopup":case"reauthViaRedirect":return hM;default:_r(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new du(2e3,1e4);async function pM(t,e,n){if(ur(t.app))return Promise.reject(er(t,"operation-not-supported-in-this-environment"));const r=fu(t);uL(t,e,jy);const i=wS(r,n);return new Es(r,"signInViaPopup",e,i).executeNotNull()}class Es extends ES{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=$y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fM.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="pendingRedirect",Yc=new Map;class gM extends ES{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await yM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yM(t,e){const n=wM(e),r=_M(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function vM(t,e){Yc.set(t._key(),e)}function _M(t){return Lr(t._redirectPersistence)}function wM(t){return Qc(mM,t.config.apiKey,t.name)}async function EM(t,e,n=!1){if(ur(t.app))return Promise.reject($i(t));const r=fu(t),i=wS(r,e),o=await new gM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=10*60*1e3;class xM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kM&&this.cachedEventUids.clear(),this.cachedEventUids.has(D0(e))}saveEventToCache(e){this.cachedEventUids.add(D0(e)),this.lastProcessedEventTime=Date.now()}}function D0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(t,e={}){return na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IM=/^https?/;async function CM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SM(t);for(const n of e)try{if(AM(n))return}catch{}_r(t,"unauthorized-domain")}function AM(t){const e=Wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IM.test(n))return!1;if(bM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new du(3e4,6e4);function O0(){const t=mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RM(t){return new Promise((e,n)=>{var r,i,s;function o(){O0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{O0(),n(er(t,"network-request-failed"))},timeout:PM.get()})}if(!((i=(r=mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mr().gapi)===null||s===void 0)&&s.load)o();else{const a=OL("iframefcb");return mr()[a]=()=>{gapi.load?o():n(er(t,"network-request-failed"))},NL(`${DL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function NM(t){return Xc=Xc||RM(t),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=new du(5e3,15e3),OM="__/auth/iframe",LM="emulator/auth/iframe",MM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VM(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ly(e,LM):`https://${t.config.authDomain}/${OM}`,r={apiKey:e.apiKey,appName:t.name,v:ta},i=FM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function jM(t){const e=await NM(t),n=mr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:VM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=er(t,"network-request-failed"),a=mr().setTimeout(()=>{s(o)},DM.get());function l(){mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UM=500,zM=600,BM="_blank",HM="http://localhost";class L0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WM(t,e,n,r=UM,i=zM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$M),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Bt().toLowerCase();n&&(a=nS(u)?BM:n),eS(u)&&(e=e||HM,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(TL(u)&&a!=="_self")return qM(e||"",a),new L0(null);const d=window.open(e||"",a,h);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new L0(d)}function qM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM="__/auth/handler",KM="emulator/auth/handler",QM=encodeURIComponent("fac");async function M0(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ta,eventId:i};if(e instanceof jy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",K2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof pu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${QM}=${encodeURIComponent(l)}`:"";return`${YM(t)}?${hu(a).slice(1)}${u}`}function YM({config:t}){return t.emulator?Ly(t,KM):`https://${t.authDomain}/${GM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="webStorageSupport";class XM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mS,this._completeRedirectFn=EM,this._overrideRedirectResult=vM}async _openPopup(e,n,r,i){var s;Gr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await M0(e,n,r,Wm(),i);return WM(e,o,$y())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await M0(e,n,r,Wm(),i);return eM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Gr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jM(e),r=new xM(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pp,{type:pp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pp];o!==void 0&&n(!!o),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aS()||tS()||Fy()}}const JM=XM;var F0="@firebase/auth",V0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tF(t){Bo(new Os("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lS(t)},u=new PL(r,i,s,l);return ML(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new Os("auth-internal",e=>{const n=fu(e.getProvider("auth").getImmediate());return(r=>new ZM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(F0,V0,eF(t)),ji(F0,V0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=5*60,rF=VT("authIdTokenMaxAge")||nF;let j0=null;const iF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rF)return;const i=n==null?void 0:n.token;j0!==i&&(j0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sF(t=zT()){const e=Ry(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LL(t,{popupRedirectResolver:JM,persistence:[uM,XL,mS]}),r=VT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=iF(s.toString());GL(n,o,()=>o(n.currentUser)),qL(n,a=>o(a))}}const i=MT("auth");return i&&FL(n,`http://${i}`),n}function oF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",oF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tF("Browser");var $0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,xS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function A(){}A.prototype=T.prototype,I.D=T.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(_,P,C){for(var b=Array(arguments.length-2),F=2;F<arguments.length;F++)b[F-2]=arguments[F];return T.prototype[P].apply(_,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,A){A||(A=0);var _=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)_[P]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(P=0;16>P;++P)_[P]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=I.g[0],A=I.g[1],P=I.g[2];var C=I.g[3],b=T+(C^A&(P^C))+_[0]+3614090360&4294967295;T=A+(b<<7&4294967295|b>>>25),b=C+(P^T&(A^P))+_[1]+3905402710&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(A^C&(T^A))+_[2]+606105819&4294967295,P=C+(b<<17&4294967295|b>>>15),b=A+(T^P&(C^T))+_[3]+3250441966&4294967295,A=P+(b<<22&4294967295|b>>>10),b=T+(C^A&(P^C))+_[4]+4118548399&4294967295,T=A+(b<<7&4294967295|b>>>25),b=C+(P^T&(A^P))+_[5]+1200080426&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(A^C&(T^A))+_[6]+2821735955&4294967295,P=C+(b<<17&4294967295|b>>>15),b=A+(T^P&(C^T))+_[7]+4249261313&4294967295,A=P+(b<<22&4294967295|b>>>10),b=T+(C^A&(P^C))+_[8]+1770035416&4294967295,T=A+(b<<7&4294967295|b>>>25),b=C+(P^T&(A^P))+_[9]+2336552879&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(A^C&(T^A))+_[10]+4294925233&4294967295,P=C+(b<<17&4294967295|b>>>15),b=A+(T^P&(C^T))+_[11]+2304563134&4294967295,A=P+(b<<22&4294967295|b>>>10),b=T+(C^A&(P^C))+_[12]+1804603682&4294967295,T=A+(b<<7&4294967295|b>>>25),b=C+(P^T&(A^P))+_[13]+4254626195&4294967295,C=T+(b<<12&4294967295|b>>>20),b=P+(A^C&(T^A))+_[14]+2792965006&4294967295,P=C+(b<<17&4294967295|b>>>15),b=A+(T^P&(C^T))+_[15]+1236535329&4294967295,A=P+(b<<22&4294967295|b>>>10),b=T+(P^C&(A^P))+_[1]+4129170786&4294967295,T=A+(b<<5&4294967295|b>>>27),b=C+(A^P&(T^A))+_[6]+3225465664&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^A&(C^T))+_[11]+643717713&4294967295,P=C+(b<<14&4294967295|b>>>18),b=A+(C^T&(P^C))+_[0]+3921069994&4294967295,A=P+(b<<20&4294967295|b>>>12),b=T+(P^C&(A^P))+_[5]+3593408605&4294967295,T=A+(b<<5&4294967295|b>>>27),b=C+(A^P&(T^A))+_[10]+38016083&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^A&(C^T))+_[15]+3634488961&4294967295,P=C+(b<<14&4294967295|b>>>18),b=A+(C^T&(P^C))+_[4]+3889429448&4294967295,A=P+(b<<20&4294967295|b>>>12),b=T+(P^C&(A^P))+_[9]+568446438&4294967295,T=A+(b<<5&4294967295|b>>>27),b=C+(A^P&(T^A))+_[14]+3275163606&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^A&(C^T))+_[3]+4107603335&4294967295,P=C+(b<<14&4294967295|b>>>18),b=A+(C^T&(P^C))+_[8]+1163531501&4294967295,A=P+(b<<20&4294967295|b>>>12),b=T+(P^C&(A^P))+_[13]+2850285829&4294967295,T=A+(b<<5&4294967295|b>>>27),b=C+(A^P&(T^A))+_[2]+4243563512&4294967295,C=T+(b<<9&4294967295|b>>>23),b=P+(T^A&(C^T))+_[7]+1735328473&4294967295,P=C+(b<<14&4294967295|b>>>18),b=A+(C^T&(P^C))+_[12]+2368359562&4294967295,A=P+(b<<20&4294967295|b>>>12),b=T+(A^P^C)+_[5]+4294588738&4294967295,T=A+(b<<4&4294967295|b>>>28),b=C+(T^A^P)+_[8]+2272392833&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^A)+_[11]+1839030562&4294967295,P=C+(b<<16&4294967295|b>>>16),b=A+(P^C^T)+_[14]+4259657740&4294967295,A=P+(b<<23&4294967295|b>>>9),b=T+(A^P^C)+_[1]+2763975236&4294967295,T=A+(b<<4&4294967295|b>>>28),b=C+(T^A^P)+_[4]+1272893353&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^A)+_[7]+4139469664&4294967295,P=C+(b<<16&4294967295|b>>>16),b=A+(P^C^T)+_[10]+3200236656&4294967295,A=P+(b<<23&4294967295|b>>>9),b=T+(A^P^C)+_[13]+681279174&4294967295,T=A+(b<<4&4294967295|b>>>28),b=C+(T^A^P)+_[0]+3936430074&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^A)+_[3]+3572445317&4294967295,P=C+(b<<16&4294967295|b>>>16),b=A+(P^C^T)+_[6]+76029189&4294967295,A=P+(b<<23&4294967295|b>>>9),b=T+(A^P^C)+_[9]+3654602809&4294967295,T=A+(b<<4&4294967295|b>>>28),b=C+(T^A^P)+_[12]+3873151461&4294967295,C=T+(b<<11&4294967295|b>>>21),b=P+(C^T^A)+_[15]+530742520&4294967295,P=C+(b<<16&4294967295|b>>>16),b=A+(P^C^T)+_[2]+3299628645&4294967295,A=P+(b<<23&4294967295|b>>>9),b=T+(P^(A|~C))+_[0]+4096336452&4294967295,T=A+(b<<6&4294967295|b>>>26),b=C+(A^(T|~P))+_[7]+1126891415&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~A))+_[14]+2878612391&4294967295,P=C+(b<<15&4294967295|b>>>17),b=A+(C^(P|~T))+_[5]+4237533241&4294967295,A=P+(b<<21&4294967295|b>>>11),b=T+(P^(A|~C))+_[12]+1700485571&4294967295,T=A+(b<<6&4294967295|b>>>26),b=C+(A^(T|~P))+_[3]+2399980690&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~A))+_[10]+4293915773&4294967295,P=C+(b<<15&4294967295|b>>>17),b=A+(C^(P|~T))+_[1]+2240044497&4294967295,A=P+(b<<21&4294967295|b>>>11),b=T+(P^(A|~C))+_[8]+1873313359&4294967295,T=A+(b<<6&4294967295|b>>>26),b=C+(A^(T|~P))+_[15]+4264355552&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~A))+_[6]+2734768916&4294967295,P=C+(b<<15&4294967295|b>>>17),b=A+(C^(P|~T))+_[13]+1309151649&4294967295,A=P+(b<<21&4294967295|b>>>11),b=T+(P^(A|~C))+_[4]+4149444226&4294967295,T=A+(b<<6&4294967295|b>>>26),b=C+(A^(T|~P))+_[11]+3174756917&4294967295,C=T+(b<<10&4294967295|b>>>22),b=P+(T^(C|~A))+_[2]+718787259&4294967295,P=C+(b<<15&4294967295|b>>>17),b=A+(C^(P|~T))+_[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var A=T-this.blockSize,_=this.B,P=this.h,C=0;C<T;){if(P==0)for(;C<=A;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<T;)if(_[P++]=I.charCodeAt(C++),P==this.blockSize){i(this,_),P=0;break}}else for(;C<T;)if(_[P++]=I[C++],P==this.blockSize){i(this,_),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var A=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=A&255,A/=256;for(this.u(I),I=Array(16),T=A=0;4>T;++T)for(var _=0;32>_;_+=8)I[A++]=this.g[T]>>>_&255;return I};function s(I,T){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=T(I)}function o(I,T){this.h=T;for(var A=[],_=!0,P=I.length-1;0<=P;P--){var C=I[P]|0;_&&C==T||(A[P]=C,_=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?s(I,function(T){return new o([T|0],0>T?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return D(u(-I));for(var T=[],A=1,_=0;I>=A;_++)T[_]=I/A|0,A*=4294967296;return new o(T,0)}function h(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return D(h(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(T,8)),_=d,P=0;P<I.length;P+=8){var C=Math.min(8,I.length-P),b=parseInt(I.substring(P,P+C),T);8>C?(C=u(Math.pow(T,C)),_=_.j(C).add(u(b))):(_=_.j(A),_=_.add(u(b)))}return _}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(k(this))return-D(this).m();for(var I=0,T=1,A=0;A<this.g.length;A++){var _=this.i(A);I+=(0<=_?_:4294967296+_)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(g(this))return"0";if(k(this))return"-"+D(this).toString(I);for(var T=u(Math.pow(I,6)),A=this,_="";;){var P=M(A,T).g;A=v(A,P.j(T));var C=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=P,g(A))return C+_;for(;6>C.length;)C="0"+C;_=C+_}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function g(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=v(this,I),k(I)?-1:g(I)?0:1};function D(I){for(var T=I.g.length,A=[],_=0;_<T;_++)A[_]=~I.g[_];return new o(A,~I.h).add(f)}t.abs=function(){return k(this)?D(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],_=0,P=0;P<=T;P++){var C=_+(this.i(P)&65535)+(I.i(P)&65535),b=(C>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);_=b>>>16,C&=65535,b&=65535,A[P]=b<<16|C}return new o(A,A[A.length-1]&-2147483648?-1:0)};function v(I,T){return I.add(D(T))}t.j=function(I){if(g(this)||g(I))return d;if(k(this))return k(I)?D(this).j(D(I)):D(D(this).j(I));if(k(I))return D(this.j(D(I)));if(0>this.l(p)&&0>I.l(p))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,A=[],_=0;_<2*T;_++)A[_]=0;for(_=0;_<this.g.length;_++)for(var P=0;P<I.g.length;P++){var C=this.i(_)>>>16,b=this.i(_)&65535,F=I.i(P)>>>16,B=I.i(P)&65535;A[2*_+2*P]+=b*B,w(A,2*_+2*P),A[2*_+2*P+1]+=C*B,w(A,2*_+2*P+1),A[2*_+2*P+1]+=b*F,w(A,2*_+2*P+1),A[2*_+2*P+2]+=C*F,w(A,2*_+2*P+2)}for(_=0;_<T;_++)A[_]=A[2*_+1]<<16|A[2*_];for(_=T;_<2*T;_++)A[_]=0;return new o(A,0)};function w(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function x(I,T){this.g=I,this.h=T}function M(I,T){if(g(T))throw Error("division by zero");if(g(I))return new x(d,d);if(k(I))return T=M(D(I),T),new x(D(T.g),D(T.h));if(k(T))return T=M(I,D(T)),new x(D(T.g),T.h);if(30<I.g.length){if(k(I)||k(T))throw Error("slowDivide_ only works with positive integers.");for(var A=f,_=T;0>=_.l(I);)A=j(A),_=j(_);var P=L(A,1),C=L(_,1);for(_=L(_,2),A=L(A,2);!g(_);){var b=C.add(_);0>=b.l(I)&&(P=P.add(A),C=b),_=L(_,1),A=L(A,1)}return T=v(I,P.j(T)),new x(P,T)}for(P=d;0<=I.l(T);){for(A=Math.max(1,Math.floor(I.m()/T.m())),_=Math.ceil(Math.log(A)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),C=u(A),b=C.j(T);k(b)||0<b.l(I);)A-=_,C=u(A),b=C.j(T);g(C)&&(C=f),P=P.add(C),I=v(I,b)}return new x(P,I)}t.A=function(I){return M(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],_=0;_<T;_++)A[_]=this.i(_)&I.i(_);return new o(A,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],_=0;_<T;_++)A[_]=this.i(_)|I.i(_);return new o(A,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),A=[],_=0;_<T;_++)A[_]=this.i(_)^I.i(_);return new o(A,this.h^I.h)};function j(I){for(var T=I.g.length+1,A=[],_=0;_<T;_++)A[_]=I.i(_)<<1|I.i(_-1)>>>31;return new o(A,I.h)}function L(I,T){var A=T>>5;T%=32;for(var _=I.g.length-A,P=[],C=0;C<_;C++)P[C]=0<T?I.i(C+A)>>>T|I.i(C+A+1)<<32-T:I.i(C+A);return new o(P,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Is=o}).apply(typeof $0<"u"?$0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TS,Ka,SS,Jc,Km,bS,IS,CS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,y){return c==Array.prototype||c==Object.prototype||(c[m]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var y=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var V=c[S];if(!(V in y))break e;y=y[V]}c=c[c.length-1],S=y[c],m=m(S),m!=S&&m!=null&&e(y,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var y=0,S=!1,V={next:function(){if(!S&&y<c.length){var $=y++;return{value:m($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,y){return c.call.apply(c.bind,arguments)}function d(c,m,y){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),c.apply(m,V)}}return function(){return c.apply(m,arguments)}}function f(c,m,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function p(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function g(c,m){function y(){}y.prototype=m.prototype,c.aa=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(S,V,$){for(var Z=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Z[$e-2]=arguments[$e];return m.prototype[V].apply(S,Z)}}function k(c){const m=c.length;if(0<m){const y=Array(m);for(let S=0;S<m;S++)y[S]=c[S];return y}return[]}function D(c,m){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(l(S)){const V=c.length||0,$=S.length||0;c.length=V+$;for(let Z=0;Z<$;Z++)c[V+Z]=S[Z]}else c.push(S)}}class v{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function M(c){return M[" "](c),c}M[" "]=function(){};var j=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function L(c,m,y){for(const S in c)m.call(y,c[S],S,c)}function I(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function T(c){const m={};for(const y in c)m[y]=c[y];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(c,m){let y,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(y in S)c[y]=S[y];for(let $=0;$<A.length;$++)y=A[$],Object.prototype.hasOwnProperty.call(S,y)&&(c[y]=S[y])}}function P(c){var m=1;c=c.split(":");const y=[];for(;0<m&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function C(c){a.setTimeout(()=>{throw c},0)}function b(){var c=Y;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class F{constructor(){this.h=this.g=null}add(m,y){const S=B.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var B=new v(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,z=!1,Y=new F,R=()=>{const c=a.Promise.resolve(void 0);Q=()=>{c.then(te)}};var te=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(y){C(y)}var m=B;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}z=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return c}();function oe(c,m){if(N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(j){e:{try{M(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&oe.aa.h.call(this)}}g(oe,N);var ne={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ye="closure_listenable_"+(1e6*Math.random()|0),De=0;function Se(c,m,y,S,V){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=V,this.key=++De,this.da=this.fa=!1}function mt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,m,y,S,V){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var Z=ua(c,m,S,V);return-1<Z?(m=c[Z],y||(m.fa=!1)):(m=new Se(m,this.src,$,!!S,V),m.fa=y,c.push(m)),m};function la(c,m){var y=m.type;if(y in c.g){var S=c.g[y],V=Array.prototype.indexOf.call(S,m,void 0),$;($=0<=V)&&Array.prototype.splice.call(S,V,1),$&&(mt(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function ua(c,m,y,S){for(var V=0;V<c.length;++V){var $=c[V];if(!$.da&&$.listener==m&&$.capture==!!y&&$.ha==S)return V}return-1}var ca="closure_lm_"+(1e6*Math.random()|0),Ks={};function ha(c,m,y,S,V){if(Array.isArray(m)){for(var $=0;$<m.length;$++)ha(c,m[$],y,S,V);return null}return y=Nu(y),c&&c[ye]?c.K(m,y,u(S)?!!S.capture:!1,V):Pu(c,m,y,!1,S,V)}function Pu(c,m,y,S,V,$){if(!m)throw Error("Invalid event type");var Z=u(V)?!!V.capture:!!V,$e=fa(c);if($e||(c[ca]=$e=new Wt(c)),y=$e.add(m,y,S,Z,$),y.proxy)return y;if(S=af(),y.proxy=S,S.src=c,S.listener=y,c.addEventListener)ee||(V=Z),V===void 0&&(V=!1),c.addEventListener(m.toString(),S,V);else if(c.attachEvent)c.attachEvent(Ru(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function af(){function c(y){return m.call(c.src,c.listener,y)}const m=lf;return c}function da(c,m,y,S,V){if(Array.isArray(m))for(var $=0;$<m.length;$++)da(c,m[$],y,S,V);else S=u(S)?!!S.capture:!!S,y=Nu(y),c&&c[ye]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],y=ua($,y,S,V),-1<y&&(mt($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=fa(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ua(m,y,S,V)),(y=-1<c?m[c]:null)&&Qs(y))}function Qs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ye])la(m.i,c);else{var y=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(y,S,c.capture):m.detachEvent?m.detachEvent(Ru(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=fa(m))?(la(y,c),y.h==0&&(y.src=null,m[ca]=null)):mt(c)}}}function Ru(c){return c in Ks?Ks[c]:Ks[c]="on"+c}function lf(c,m){if(c.da)c=!0;else{m=new oe(m,this);var y=c.listener,S=c.ha||c.src;c.fa&&Qs(c),c=y.call(S,m)}return c}function fa(c){return c=c[ca],c instanceof Wt?c:null}var pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[pa]||(c[pa]=function(m){return c.handleEvent(m)}),c[pa])}function U(){ae.call(this),this.i=new Wt(this),this.M=this,this.F=null}g(U,ae),U.prototype[ye]=!0,U.prototype.removeEventListener=function(c,m,y,S){da(this,c,m,y,S)};function q(c,m){var y,S=c.F;if(S)for(y=[];S;S=S.F)y.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var V=m;m=new N(S,c),_(m,V)}if(V=!0,y)for(var $=y.length-1;0<=$;$--){var Z=m.g=y[$];V=he(Z,S,!0,m)&&V}if(Z=m.g=c,V=he(Z,S,!0,m)&&V,V=he(Z,S,!1,m)&&V,y)for($=0;$<y.length;$++)Z=m.g=y[$],V=he(Z,S,!1,m)&&V}U.prototype.N=function(){if(U.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var y=c.g[m],S=0;S<y.length;S++)mt(y[S]);delete c.g[m],c.h--}}this.F=null},U.prototype.K=function(c,m,y,S){return this.i.add(String(c),m,!1,y,S)},U.prototype.L=function(c,m,y,S){return this.i.add(String(c),m,!0,y,S)};function he(c,m,y,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,$=0;$<m.length;++$){var Z=m[$];if(Z&&!Z.da&&Z.capture==y){var $e=Z.listener,kt=Z.ha||Z.src;Z.fa&&la(c.i,Z),V=$e.call(kt,S)!==!1&&V}}return V&&!S.defaultPrevented}function ke(c,m,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function Me(c){c.g=ke(()=>{c.g=null,c.i&&(c.i=!1,Me(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class yn extends ae{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Me(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vn(c){ae.call(this),this.h=c,this.g={}}g(vn,ae);var Dn=[];function ni(c){L(c.g,function(m,y){this.g.hasOwnProperty(y)&&Qs(m)},c),c.g={}}vn.prototype.N=function(){vn.aa.N.call(this),ni(this)},vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xr=a.JSON.stringify,qt=a.JSON.parse,ri=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _n(){}_n.prototype.h=null;function zv(c){return c.h||(c.h=c.i())}function Bv(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uf(){N.call(this,"d")}g(uf,N);function cf(){N.call(this,"c")}g(cf,N);var ts={},Hv=null;function Du(){return Hv=Hv||new U}ts.La="serverreachability";function Wv(c){N.call(this,ts.La,c)}g(Wv,N);function ga(c){const m=Du();q(m,new Wv(m))}ts.STAT_EVENT="statevent";function qv(c,m){N.call(this,ts.STAT_EVENT,c),this.stat=m}g(qv,N);function Gt(c){const m=Du();q(m,new qv(m,c))}ts.Ma="timingevent";function Gv(c,m){N.call(this,ts.Ma,c),this.size=m}g(Gv,N);function ya(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function JI(c,m,y,S,V,$){c.info(function(){if(c.g)if($)for(var Z="",$e=$.split("&"),kt=0;kt<$e.length;kt++){var Oe=$e[kt].split("=");if(1<Oe.length){var Rt=Oe[0];Oe=Oe[1];var Nt=Rt.split("_");Z=2<=Nt.length&&Nt[1]=="type"?Z+(Rt+"="+Oe+"&"):Z+(Rt+"=redacted&")}}else Z=null;else Z=$;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+m+`
`+y+`
`+Z})}function ZI(c,m,y,S,V,$,Z){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+m+`
`+y+`
`+$+" "+Z})}function Ys(c,m,y,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+tC(c,y)+(S?" "+S:"")})}function eC(c,m){c.info(function(){return"TIMEOUT: "+m})}va.prototype.info=function(){};function tC(c,m){if(!c.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var S=y[c];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var $=V[0];if($!="noop"&&$!="stop"&&$!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return xr(y)}catch{return m}}var Ou={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hf;function Lu(){}g(Lu,_n),Lu.prototype.g=function(){return new XMLHttpRequest},Lu.prototype.i=function(){return{}},hf=new Lu;function ii(c,m,y,S){this.j=c,this.i=m,this.l=y,this.R=S||1,this.U=new vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}var Yv={},df={};function ff(c,m,y){c.L=1,c.v=ju(Tr(m)),c.m=y,c.P=!0,Xv(c,null)}function Xv(c,m){c.F=Date.now(),Mu(c),c.A=Tr(c.v);var y=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),h_(y.i,"t",S),c.C=0,y=c.j.J,c.h=new Qv,c.g=A_(c.j,y?m:null,!c.m),0<c.O&&(c.M=new yn(f(c.Y,c,c.g),c.O)),m=c.U,y=c.g,S=c.ca;var V="readystatechange";Array.isArray(V)||(V&&(Dn[0]=V.toString()),V=Dn);for(var $=0;$<V.length;$++){var Z=ha(y,V[$],S||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ga(),JI(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const m=this.M;m&&Sr(c)==3?m.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Sr(this.g);var m=this.g.Ba();const Zs=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||v_(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=Zs?ga(3):ga(2)),pf(this);var y=this.g.Z();this.X=y;t:if(Jv(this)){var S=v_(this.g);c="";var V=S.length,$=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),_a(this);var Z="";break t}this.h.i=new a.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,c+=this.h.i.decode(S[m],{stream:!($&&m==V-1)});S.length=0,this.h.g+=c,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,ZI(this.i,this.u,this.A,this.l,this.R,Nt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,kt=this.g;if(($e=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w($e)){var Oe=$e;break t}}Oe=null}if(y=Oe)Ys(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mf(this,y);else{this.o=!1,this.s=3,Gt(12),ns(this),_a(this);break e}}if(this.P){y=!0;let Hn;for(;!this.J&&this.C<Z.length;)if(Hn=nC(this,Z),Hn==df){Nt==4&&(this.s=4,Gt(14),y=!1),Ys(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Yv){this.s=4,Gt(15),Ys(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else Ys(this.i,this.l,Hn,null),mf(this,Hn);if(Jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Z.length!=0||this.h.h||(this.s=1,Gt(16),y=!1),this.o=this.o&&y,!y)Ys(this.i,this.l,Z,"[Invalid Chunked Response]"),ns(this),_a(this);else if(0<Z.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Ef(Rt),Rt.M=!0,Gt(11))}}else Ys(this.i,this.l,Z,null),mf(this,Z);Nt==4&&ns(this),this.o&&!this.J&&(Nt==4?S_(this.j,this):(this.o=!1,Mu(this)))}else _C(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),ns(this),_a(this)}}}catch{}finally{}};function Jv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nC(c,m){var y=c.C,S=m.indexOf(`
`,y);return S==-1?df:(y=Number(m.substring(y,S)),isNaN(y)?Yv:(S+=1,S+y>m.length?df:(m=m.slice(S,S+y),c.C=S+y,m)))}ii.prototype.cancel=function(){this.J=!0,ns(this)};function Mu(c){c.S=Date.now()+c.I,Zv(c,c.I)}function Zv(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ya(f(c.ba,c),m)}function pf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(eC(this.i,this.A),this.L!=2&&(ga(),Gt(17)),ns(this),this.s=2,_a(this)):Zv(this,this.S-c)};function _a(c){c.j.G==0||c.J||S_(c.j,c)}function ns(c){pf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ni(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function mf(c,m){try{var y=c.j;if(y.G!=0&&(y.g==c||gf(y.h,c))){if(!c.K&&gf(y.h,c)&&y.G==3){try{var S=y.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Wu(y),Bu(y);else break e;wf(y),Gt(18)}}else y.za=V[1],0<y.za-y.T&&37500>V[2]&&y.F&&y.v==0&&!y.C&&(y.C=ya(f(y.Za,y),6e3));if(1>=n_(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else is(y,11)}else if((c.K||y.g==c)&&Wu(y),!w(m))for(V=y.Da.g.parse(m),m=0;m<V.length;m++){let Oe=V[m];if(y.T=Oe[0],Oe=Oe[1],y.G==2)if(Oe[0]=="c"){y.K=Oe[1],y.ia=Oe[2];const Rt=Oe[3];Rt!=null&&(y.la=Rt,y.j.info("VER="+y.la));const Nt=Oe[4];Nt!=null&&(y.Aa=Nt,y.j.info("SVER="+y.Aa));const Zs=Oe[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(S=1.5*Zs,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Hn=c.g;if(Hn){const Gu=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var $=S.h;$.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(yf($,$.h),$.h=null))}if(S.D){const kf=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;kf&&(S.ya=kf,We(S.I,S.D,kf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var Z=c;if(S.qa=C_(S,S.J?S.ia:null,S.W),Z.K){r_(S.h,Z);var $e=Z,kt=S.L;kt&&($e.I=kt),$e.B&&(pf($e),Mu($e)),S.g=Z}else x_(S);0<y.i.length&&Hu(y)}else Oe[0]!="stop"&&Oe[0]!="close"||is(y,7);else y.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?is(y,7):_f(y):Oe[0]!="noop"&&y.l&&y.l.ta(Oe),y.v=0)}}ga(4)}catch{}}var rC=class{constructor(c,m){this.g=c,this.map=m}};function e_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n_(c){return c.h?1:c.g?c.g.size:0}function gf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function yf(c,m){c.g?c.g.add(m):c.h=m}function r_(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}e_.prototype.cancel=function(){if(this.i=i_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function i_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.D);return m}return k(c.i)}function iC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],y=c.length,S=0;S<y;S++)m.push(c[S]);return m}m=[],y=0;for(S in c)m[y++]=c[S];return m}function sC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var y=0;y<c;y++)m.push(y);return m}m=[],y=0;for(const S in c)m[y++]=S;return m}}}function s_(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var y=sC(c),S=iC(c),V=S.length,$=0;$<V;$++)m.call(void 0,S[$],y&&y[$],c)}var o_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oC(c,m){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var S=c[y].indexOf("="),V=null;if(0<=S){var $=c[y].substring(0,S);V=c[y].substring(S+1)}else $=c[y];m($,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function rs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof rs){this.h=c.h,Fu(this,c.j),this.o=c.o,this.g=c.g,Vu(this,c.s),this.l=c.l;var m=c.i,y=new ka;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),a_(this,y),this.m=c.m}else c&&(m=String(c).match(o_))?(this.h=!1,Fu(this,m[1]||"",!0),this.o=wa(m[2]||""),this.g=wa(m[3]||"",!0),Vu(this,m[4]),this.l=wa(m[5]||"",!0),a_(this,m[6]||"",!0),this.m=wa(m[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}rs.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ea(m,l_,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ea(m,l_,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ea(y,y.charAt(0)=="/"?uC:lC,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ea(y,hC)),c.join("")};function Tr(c){return new rs(c)}function Fu(c,m,y){c.j=y?wa(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Vu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function a_(c,m,y){m instanceof ka?(c.i=m,dC(c.i,c.h)):(y||(m=Ea(m,cC)),c.i=new ka(m,c.h))}function We(c,m,y){c.i.set(m,y)}function ju(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ea(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,aC),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var l_=/[#\/\?@]/g,lC=/[#\?:]/g,uC=/[#\?]/g,cC=/[#\?@]/g,hC=/#/g;function ka(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function si(c){c.g||(c.g=new Map,c.h=0,c.i&&oC(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=ka.prototype,t.add=function(c,m){si(this),this.i=null,c=Xs(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function u_(c,m){si(c),m=Xs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function c_(c,m){return si(c),m=Xs(c,m),c.g.has(m)}t.forEach=function(c,m){si(this),this.g.forEach(function(y,S){y.forEach(function(V){c.call(m,V,S,this)},this)},this)},t.na=function(){si(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let S=0;S<m.length;S++){const V=c[S];for(let $=0;$<V.length;$++)y.push(m[S])}return y},t.V=function(c){si(this);let m=[];if(typeof c=="string")c_(this,c)&&(m=m.concat(this.g.get(Xs(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)m=m.concat(c[y])}return m},t.set=function(c,m){return si(this),this.i=null,c=Xs(this,c),c_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function h_(c,m,y){u_(c,m),0<y.length&&(c.i=null,c.g.set(Xs(c,m),k(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var S=m[y];const $=encodeURIComponent(String(S)),Z=this.V(S);for(S=0;S<Z.length;S++){var V=$;Z[S]!==""&&(V+="="+encodeURIComponent(String(Z[S]))),c.push(V)}}return this.i=c.join("&")};function Xs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function dC(c,m){m&&!c.j&&(si(c),c.i=null,c.g.forEach(function(y,S){var V=S.toLowerCase();S!=V&&(u_(this,S),h_(this,V,y))},c)),c.j=m}function fC(c,m){const y=new va;if(a.Image){const S=new Image;S.onload=p(oi,y,"TestLoadImage: loaded",!0,m,S),S.onerror=p(oi,y,"TestLoadImage: error",!1,m,S),S.onabort=p(oi,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=p(oi,y,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function pC(c,m){const y=new va,S=new AbortController,V=setTimeout(()=>{S.abort(),oi(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(V),$.ok?oi(y,"TestPingServer: ok",!0,m):oi(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),oi(y,"TestPingServer: error",!1,m)})}function oi(c,m,y,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(y)}catch{}}function mC(){this.g=new ri}function gC(c,m,y){const S=y||"";try{s_(c,function(V,$){let Z=V;u(V)&&(Z=xr(V)),m.push(S+$+"="+encodeURIComponent(Z))})}catch(V){throw m.push(S+"type="+encodeURIComponent("_badmap")),V}}function $u(c){this.l=c.Ub||null,this.j=c.eb||!1}g($u,_n),$u.prototype.g=function(){return new Uu(this.l,this.j)},$u.prototype.i=function(c){return function(){return c}}({});function Uu(c,m){U.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Uu,U),t=Uu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ta(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function d_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?xa(this):Ta(this),this.readyState==3&&d_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,xa(this))},t.Qa=function(c){this.g&&(this.response=c,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ta(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function Ta(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f_(c){let m="";return L(c,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function vf(c,m,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=f_(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):We(c,m,y))}function nt(c){U.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(nt,U);var yC=/^https?$/i,vC=["POST","PUT"];t=nt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hf.g(),this.v=this.o?zv(this.o):zv(hf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){p_(this,$);return}if(c=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)y.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())y.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),V=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vC,m,void 0))||S||V||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Z]of y)this.g.setRequestHeader($,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y_(this),this.u=!0,this.g.send(c),this.u=!1}catch($){p_(this,$)}};function p_(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,m_(c),zu(c)}function m_(c){c.A||(c.A=!0,q(c,"complete"),q(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,q(this,"complete"),q(this,"abort"),zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zu(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g_(this):this.bb())},t.bb=function(){g_(this)};function g_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Sr(c)!=4||c.Z()!=2)){if(c.u&&Sr(c)==4)ke(c.Ea,0,c);else if(q(c,"readystatechange"),Sr(c)==4){c.h=!1;try{const Z=c.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var S;if(S=Z===0){var V=String(c.D).match(o_)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),S=!yC.test(V?V.toLowerCase():"")}y=S}if(y)q(c,"complete"),q(c,"success");else{c.m=6;try{var $=2<Sr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",m_(c)}}finally{zu(c)}}}}function zu(c,m){if(c.g){y_(c);const y=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||q(c,"ready");try{y.onreadystatechange=S}catch{}}}function y_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),qt(m)}};function v_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _C(c){const m={};c=(c.g&&2<=Sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(w(c[S]))continue;var y=P(c[S]);const V=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=m[V]||[];m[V]=$,$.push(y)}I(m,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sa(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function __(c){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sa("baseRetryDelayMs",5e3,c),this.cb=Sa("retryDelaySeedMs",1e4,c),this.Wa=Sa("forwardChannelMaxRetries",2,c),this.wa=Sa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new e_(c&&c.concurrentRequestLimit),this.Da=new mC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=__.prototype,t.la=8,t.G=1,t.connect=function(c,m,y,S){Gt(0),this.W=c,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=C_(this,null,this.W),Hu(this)};function _f(c){if(w_(c),c.G==3){var m=c.U++,y=Tr(c.I);if(We(y,"SID",c.K),We(y,"RID",m),We(y,"TYPE","terminate"),ba(c,y),m=new ii(c,c.j,m),m.L=2,m.v=ju(Tr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=A_(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Mu(m)}I_(c)}function Bu(c){c.g&&(Ef(c),c.g.cancel(),c.g=null)}function w_(c){Bu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hu(c){if(!t_(c.h)&&!c.s){c.s=!0;var m=c.Ga;Q||R(),z||(Q(),z=!0),Y.add(m,c),c.B=0}}function wC(c,m){return n_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ya(f(c.Ga,c,m),b_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const V=new ii(this,this.j,c);let $=this.o;if(this.S&&($?($=T($),_($,this.S)):$=this.S),this.m!==null||this.O||(V.H=$,$=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=k_(this,V,m),y=Tr(this.I),We(y,"RID",c),We(y,"CVER",22),this.D&&We(y,"X-HTTP-Session-Id",this.D),ba(this,y),$&&(this.O?m="headers="+encodeURIComponent(String(f_($)))+"&"+m:this.m&&vf(y,this.m,$)),yf(this.h,V),this.Ua&&We(y,"TYPE","init"),this.P?(We(y,"$req",m),We(y,"SID","null"),V.T=!0,ff(V,y,null)):ff(V,y,m),this.G=2}}else this.G==3&&(c?E_(this,c):this.i.length==0||t_(this.h)||E_(this))};function E_(c,m){var y;m?y=m.l:y=c.U++;const S=Tr(c.I);We(S,"SID",c.K),We(S,"RID",y),We(S,"AID",c.T),ba(c,S),c.m&&c.o&&vf(S,c.m,c.o),y=new ii(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),m&&(c.i=m.D.concat(c.i)),m=k_(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yf(c.h,y),ff(y,S,m)}function ba(c,m){c.H&&L(c.H,function(y,S){We(m,S,y)}),c.l&&s_({},function(y,S){We(m,S,y)})}function k_(c,m,y){y=Math.min(c.i.length,y);var S=c.l?f(c.l.Na,c.l,c):null;e:{var V=c.i;let $=-1;for(;;){const Z=["count="+y];$==-1?0<y?($=V[0].g,Z.push("ofs="+$)):$=0:Z.push("ofs="+$);let $e=!0;for(let kt=0;kt<y;kt++){let Oe=V[kt].g;const Rt=V[kt].map;if(Oe-=$,0>Oe)$=Math.max(0,V[kt].g-100),$e=!1;else try{gC(Rt,Z,"req"+Oe+"_")}catch{S&&S(Rt)}}if($e){S=Z.join("&");break e}}}return c=c.i.splice(0,y),m.D=c,S}function x_(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;Q||R(),z||(Q(),z=!0),Y.add(m,c),c.v=0}}function wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ya(f(c.Fa,c),b_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,T_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ya(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Bu(this),T_(this))};function Ef(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function T_(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Tr(c.qa);We(m,"RID","rpc"),We(m,"SID",c.K),We(m,"AID",c.T),We(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(m,"TO",c.ja),We(m,"TYPE","xmlhttp"),ba(c,m),c.m&&c.o&&vf(m,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=ju(Tr(m)),y.m=null,y.P=!0,Xv(y,c)}t.Za=function(){this.C!=null&&(this.C=null,Bu(this),wf(this),Gt(19))};function Wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function S_(c,m){var y=null;if(c.g==m){Wu(c),Ef(c),c.g=null;var S=2}else if(gf(c.h,m))y=m.D,r_(c.h,m),S=1;else return;if(c.G!=0){if(m.o)if(S==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var V=c.B;S=Du(),q(S,new Gv(S,y)),Hu(c)}else x_(c);else if(V=m.s,V==3||V==0&&0<m.X||!(S==1&&wC(c,m)||S==2&&wf(c)))switch(y&&0<y.length&&(m=c.h,m.i=m.i.concat(y)),V){case 1:is(c,5);break;case 4:is(c,10);break;case 3:is(c,6);break;default:is(c,2)}}}function b_(c,m){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*m}function is(c,m){if(c.j.info("Error code "+m),m==2){var y=f(c.fb,c),S=c.Xa;const V=!S;S=new rs(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fu(S,"https"),ju(S),V?fC(S.toString(),y):pC(S.toString(),y)}else Gt(2);c.G=0,c.l&&c.l.sa(m),I_(c),w_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function I_(c){if(c.G=0,c.ka=[],c.l){const m=i_(c.h);(m.length!=0||c.i.length!=0)&&(D(c.ka,m),D(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function C_(c,m,y){var S=y instanceof rs?Tr(y):new rs(y);if(S.g!="")m&&(S.g=m+"."+S.g),Vu(S,S.s);else{var V=a.location;S=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var $=new rs(null);S&&Fu($,S),m&&($.g=m),V&&Vu($,V),y&&($.l=y),S=$}return y=c.D,m=c.ya,y&&m&&We(S,y,m),We(S,"VER",c.la),ba(c,S),S}function A_(c,m,y){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new nt(new $u({eb:y})):new nt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function P_(){}t=P_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qu(){}qu.prototype.g=function(c,m){return new wn(c,m)};function wn(c,m){U.call(this),this.g=new __(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!w(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Js(this)}g(wn,U),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){_f(this.g)},wn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=xr(c),c=y);m.i.push(new rC(m.Ya++,c)),m.G==3&&Hu(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,_f(this.g),delete this.g,wn.aa.N.call(this)};function R_(c){uf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const y in m){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}g(R_,uf);function N_(){cf.call(this),this.status=1}g(N_,cf);function Js(c){this.g=c}g(Js,P_),Js.prototype.ua=function(){q(this.g,"a")},Js.prototype.ta=function(c){q(this.g,new R_(c))},Js.prototype.sa=function(c){q(this.g,new N_)},Js.prototype.ra=function(){q(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,CS=function(){return new qu},IS=function(){return Du()},bS=ts,Km={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ou.NO_ERROR=0,Ou.TIMEOUT=8,Ou.HTTP_ERROR=6,Jc=Ou,Kv.COMPLETE="complete",SS=Kv,Bv.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",U.prototype.listen=U.prototype.K,Ka=Bv,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,TS=nt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const U0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Ay("@firebase/firestore");function La(){return Ms.logLevel}function se(t,...e){if(Ms.logLevel<=Ae.DEBUG){const n=e.map(zy);Ms.debug(`Firestore (${ra}): ${t}`,...n)}}function Kr(t,...e){if(Ms.logLevel<=Ae.ERROR){const n=e.map(zy);Ms.error(`Firestore (${ra}): ${t}`,...n)}}function Ho(t,...e){if(Ms.logLevel<=Ae.WARN){const n=e.map(zy);Ms.warn(`Firestore (${ra}): ${t}`,...n)}}function zy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+t;throw Kr(e),new Error(e)}function je(t,e){t||me()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ei{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class lF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uF{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ui)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new AS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Ft(e)}}class cF{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hF{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new cF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new dF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=pF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _e(e)}static min(){return new _e(new lt(0,0))}static max(){return new _e(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends zl{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const mF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends zl{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return mF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ge.fromString(e))}static fromName(e){return new le(Ge.fromString(e).popFirst(5))}static empty(){return new le(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ge(e.slice()))}}function gF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_e.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new qi(i,le.empty(),e)}function yF(t){return new qi(t.readTime,t.key,-1)}class qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qi(_e.min(),le.empty(),-1)}static max(){return new qi(_e.max(),le.empty(),-1)}}function vF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==_F)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function EF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}By.oe=-1;function jd(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function kF(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??St.RED,this.left=i??St.EMPTY,this.right=s??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new St(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return St.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new B0(this.data.getIterator())}getIteratorFrom(e){return new B0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class B0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Ct(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new NS("Invalid base64 string: "+s):s}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const xF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(t){if(je(!!t),typeof t=="string"){let e=0;const n=xF.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wy(t){const e=t.mapValue.fields.__previous_value__;return Hy(e)?Wy(e):e}function Bl(t){const e=Gi(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Hl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc={mapValue:{}};function Vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hy(t)?4:bF(t)?9007199254740991:SF(t)?10:11:me()}function wr(t,e){if(t===e)return!0;const n=Vs(t);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gi(i.timestampValue),a=Gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Fs(i.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ot(i.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(i.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ot(i.integerValue)===ot(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ot(i.doubleValue),a=ot(s.doubleValue);return o===a?Qh(o)===Qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(z0(o)!==z0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wr(o[l],a[l])))return!1;return!0}(t,e);default:return me()}}function Wl(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function qo(t,e){if(t===e)return 0;const n=Vs(t),r=Vs(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return H0(t.timestampValue,e.timestampValue);case 4:return H0(Bl(t),Bl(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fs(s),l=Fs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Le(a[u],l[u]);if(h!==0)return h}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Le(ot(s.latitude),ot(o.latitude));return a!==0?a:Le(ot(s.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},f=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,k=Le(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((h=g==null?void 0:g.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:W0(p,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===kc.mapValue&&o===kc.mapValue)return 0;if(s===kc.mapValue)return 1;if(o===kc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Le(l[d],h[d]);if(f!==0)return f;const p=qo(a[l[d]],u[h[d]]);if(p!==0)return p}return Le(l.length,h.length)}(t.mapValue,e.mapValue);default:throw me()}}function H0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Gi(t),r=Gi(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function W0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=qo(n[i],r[i]);if(s)return s}return Le(n.length,r.length)}function Go(t){return Qm(t)}function Qm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qm(n.fields[o])}`;return i+"}"}(t.mapValue):me()}function q0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ym(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function G0(t){return!!t&&"nullValue"in t}function K0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}function SF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function gl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gl(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(gl(this.value))}}function DS(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new bt([n]);if(Zc(r)){const s=DS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,_e.min(),_e.min(),_e.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,_e.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,_e.min(),_e.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,_e.min(),_e.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.position=e,this.inclusive=n}}function Q0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=qo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function IF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class pt extends OS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AF(e,n,r):n==="array-contains"?new NF(e,r):n==="in"?new DF(e,r):n==="not-in"?new OF(e,r):n==="array-contains-any"?new LF(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PF(e,r):new RF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(qo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends OS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new rr(e,n)}matches(e){return LS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function LS(t){return t.op==="and"}function MS(t){return CF(t)&&LS(t)}function CF(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function Xm(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(MS(t))return t.filters.map(e=>Xm(e)).join(",");{const e=t.filters.map(n=>Xm(n)).join(",");return`${t.op}(${e})`}}function FS(t,e){return t instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&wr(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&FS(o,i.filters[a]),!0):!1}(t,e):void me()}function VS(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(VS).join(" ,")+"}"}(t):"Filter"}class AF extends pt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class PF extends pt{constructor(e,n){super(e,"in",n),this.keys=jS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RF extends pt{constructor(e,n){super(e,"not-in",n),this.keys=jS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class NF extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&Wl(n.arrayValue,this.value)}}class DF extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class OF extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class LF extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function X0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new MF(t,e,n,r,i,s,o)}function Gy(t){const e=we(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Go(r)).join(",")),e.ue=n}return e.ue}function Ky(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y0(t.startAt,e.startAt)&&Y0(t.endAt,e.endAt)}function Jm(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FF(t,e,n,r,i,s,o,a){return new vu(t,e,n,r,i,s,o,a)}function Qy(t){return new vu(t)}function J0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $S(t){return t.collectionGroup!==null}function yl(t){const e=we(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ct(bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xh(s,r))}),n.has(bt.keyField().canonicalString())||e.ce.push(new Xh(bt.keyField(),r))}return e.ce}function gr(t){const e=we(t);return e.le||(e.le=VF(e,yl(t))),e.le}function VF(t,e){if(t.limitType==="F")return X0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xh(i.field,s)});const n=t.endAt?new Yh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yh(t.startAt.position,t.startAt.inclusive):null;return X0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zm(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Ky(gr(t),gr(e))&&t.limitType===e.limitType}function US(t){return`${Gy(gr(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VS(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Go(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of yl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Q0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,yl(r),i)||r.endAt&&!function(o,a,l){const u=Q0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,yl(r),i))}(t,e)}function jF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let r=!1;for(const i of yl(t)){const s=$F(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $F(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?qo(l,u):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new tt(le.comparator);function Qr(){return UF}const BS=new tt(le.comparator);function Qa(...t){let e=BS;for(const n of t)e=e.insert(n.key,n);return e}function HS(t){let e=BS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ks(){return vl()}function WS(){return vl()}function vl(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const zF=new tt(le.comparator),BF=new Ct(le.comparator);function Ie(...t){let e=BF;for(const n of t)e=e.add(n);return e}const HF=new Ct(Le);function WF(){return HF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function qF(t,e){return kF(e)?qS(e):Yy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function GF(t,e,n){return t instanceof Jh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hy(s)&&(s=Wy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?KS(t,e):t instanceof Gl?QS(t,e):function(i,s){const o=GS(i,s),a=Z0(o)+Z0(i.Pe);return Ym(o)&&Ym(i.Pe)?qS(a):Yy(i.serializer,a)}(t,e)}function KF(t,e,n){return t instanceof ql?KS(t,e):t instanceof Gl?QS(t,e):n}function GS(t,e){return t instanceof Zh?function(r){return Ym(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Jh extends zd{}class ql extends zd{constructor(e){super(),this.elements=e}}function KS(t,e){const n=YS(e);for(const r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gl extends zd{constructor(e){super(),this.elements=e}}function QS(t,e){let n=YS(e);for(const r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}class Zh extends zd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Z0(t){return ot(t.integerValue||t.doubleValue)}function YS(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Gl&&i instanceof Gl?Wo(r.elements,i.elements,wr):r instanceof Zh&&i instanceof Zh?wr(r.Pe,i.Pe):r instanceof Jh&&i instanceof Jh}(t.transform,e.transform)}class YF{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,tn.none()):new _u(t.key,t.data,tn.none());{const n=t.data,r=cn.empty();let i=new Ct(bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new bn(i.toArray()),tn.none())}}function XF(t,e,n){t instanceof _u?function(i,s,o){const a=i.value.clone(),l=tE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=tE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(JS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _l(t,e,n,r){return t instanceof _u?function(s,o,a,l){if(!eh(s.precondition,o))return a;const u=s.value.clone(),h=nE(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!eh(s.precondition,o))return a;const u=nE(s.fieldTransforms,l,o),h=o.data;return h.setAll(JS(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function JF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GS(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function eE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(s,o)=>QF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends Bd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends Bd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tE(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,KF(o,a,n[i]))}return r}function nE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,GF(s,o,e))}return r}class Hd extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZF extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_l(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=XS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(_e.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>eE(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>eE(n,r))}}class Xy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return zF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Xy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Pe;function rV(t){switch(t){default:return me();case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0}}function ZS(t){if(t===void 0)return Kr("GRPC error has no .code"),H.UNKNOWN;switch(t){case ct.OK:return H.OK;case ct.CANCELLED:return H.CANCELLED;case ct.UNKNOWN:return H.UNKNOWN;case ct.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case ct.INTERNAL:return H.INTERNAL;case ct.UNAVAILABLE:return H.UNAVAILABLE;case ct.UNAUTHENTICATED:return H.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case ct.NOT_FOUND:return H.NOT_FOUND;case ct.ALREADY_EXISTS:return H.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return H.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case ct.ABORTED:return H.ABORTED;case ct.OUT_OF_RANGE:return H.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return H.UNIMPLEMENTED;case ct.DATA_LOSS:return H.DATA_LOSS;default:return me()}}(Pe=ct||(ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new Is([4294967295,4294967295],0);function rE(t){const e=iV().encode(t),n=new xS;return n.update(e),new Uint8Array(n.digest())}function iE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Is([n,r],0),new Is([i,s],0)]}class Jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ya(`Invalid padding: ${n}`);if(r<0)throw new Ya(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Is.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Is.fromNumber(r)));return i.compare(sV)===1&&(i=new Is([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=rE(e),[r,i]=iE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Jy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=rE(e),[r,i]=iE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(_e.min(),i,new tt(Le),Qr(),Ie())}}class wu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class eb{constructor(e,n){this.targetId=e,this.me=n}}class tb{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sE{constructor(){this.fe=0,this.ge=aE(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new wu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=aE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class oV{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=oE(),this.Qe=new tt(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Jm(s))if(r===0){const o=new le(s.path);this.Ue(n,o,jt.newNoDocument(o,_e.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(l){if(l instanceof NS)return Ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Jy(o,i,s)}catch(l){return Ho(l instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Jm(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,jt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wd(e,n,this.Qe,this.ke,r);return this.ke=Qr(),this.qe=oE(),this.Qe=new tt(Le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new sE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ct(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new sE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function oE(){return new tt(le.comparator)}function aE(){return new tt(le.comparator)}const aV={asc:"ASCENDING",desc:"DESCENDING"},lV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uV={and:"AND",or:"OR"};class cV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tg(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hV(t,e){return ed(t,e.toTimestamp())}function yr(t){return je(!!t),_e.fromTimestamp(function(n){const r=Gi(n);return new lt(r.seconds,r.nanos)}(t))}function Zy(t,e){return ng(t,e).canonicalString()}function ng(t,e){const n=function(i){return new Ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rb(t){const e=Ge.fromString(t);return je(lb(e)),e}function rg(t,e){return Zy(t.databaseId,e.path)}function mp(t,e){const n=rb(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(sb(n))}function ib(t,e){return Zy(t.databaseId,e)}function dV(t){const e=rb(t);return e.length===4?Ge.emptyPath():sb(e)}function ig(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sb(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lE(t,e,n){return{name:rg(t,e),fields:n.value.mapValue.fields}}function fV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(je(h===void 0||typeof h=="string"),Pt.fromBase64String(h||"")):(je(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?H.UNKNOWN:ZS(u.code);return new ie(h,u.message||"")}(o);n=new tb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mp(t,r.document.name),s=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):_e.min(),a=new cn({mapValue:{fields:r.document.fields}}),l=jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new th(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mp(t,r.document),s=r.readTime?yr(r.readTime):_e.min(),o=jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mp(t,r.document),s=r.removedTargetIds||[];n=new th([],s,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new nV(i,s),a=r.targetId;n=new eb(a,o)}}return n}function pV(t,e){let n;if(e instanceof _u)n={update:lE(t,e.key,e.value)};else if(e instanceof Hd)n={delete:rg(t,e.key)};else if(e instanceof Zi)n={update:lE(t,e.key,e.data),updateMask:xV(e.fieldMask)};else{if(!(e instanceof ZF))return me();n={verify:rg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Jh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:hV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),n}function mV(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yr(i.updateTime):yr(s);return o.isEqual(_e.min())&&(o=yr(s)),new YF(o,i.transformResults||[])}(n,e))):[]}function gV(t,e){return{documents:[ib(t,e.path)]}}function yV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ib(t,i);const s=function(u){if(u.length!==0)return ab(rr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:oo(f.field),direction:wV(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function vV(t){let e=dV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=ob(d);return f instanceof rr&&MS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Xh(ao(g.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,jd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new Yh(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new Yh(p,f)}(n.endAt)),FF(e,i,o,s,a,"F",l,u)}function _V(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ob(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ao(n.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ao(n.unaryFilter.field);return pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ao(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>ob(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function wV(t){return aV[t]}function EV(t){return lV[t]}function kV(t){return uV[t]}function oo(t){return{fieldPath:t.canonicalString()}}function ao(t){return bt.fromServerFormat(t.fieldPath)}function ab(t){return t instanceof pt?function(n){if(n.op==="=="){if(K0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(G0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(K0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(G0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:EV(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>ab(i));return r.length===1?r[0]:{compositeFilter:{op:kV(n.op),filters:r}}}(t):me()}function xV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,r,i,s=_e.min(),o=_e.min(),a=Pt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.ct=e}}function SV(t){const e=vV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.un=new IV}addToCollectionParentIndex(e,n){return this.un.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(qi.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class IV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ko(0)}static kn(){return new Ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_l(r.mutation,i,bn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Qa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qr();const o=vl(),a=function(){return vl()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Zi)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),_l(h.mutation,u,h.mutation.getFieldMask(),lt.now())):o.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new AV(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vl();let i=new tt((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||bn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=WS();h.forEach(f=>{if(!s.has(f)){const p=XS(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(ks());let a=-1,l=s;return o.next(u=>W.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ie())).next(h=>({batchId:a,changes:HS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=Qa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Qa();return this.indexManager.getCollectionParents(e,s).next(a=>W.forEach(a,l=>{const u=function(d,f){return new vu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,jt.newInvalidDocument(h)))});let a=Qa();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&_l(h.mutation,u,bn.empty(),lt.now()),Ud(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:SV(i.bundledQuery),readTime:yr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(){this.overlays=new tt(le.comparator),this.Ir=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ks();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=ks(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=ks(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return W.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new tV(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.Tr=new Ct(_t.Er),this.dr=new Ct(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new Ge([])),r=new _t(n,e),i=new _t(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new Ge([])),r=new _t(n,e),i=new _t(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ct(_t.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new eV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new _t(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Le);return n.forEach(i=>{const s=new _t(i,0),o=new _t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new _t(new le(s),0);let a=new Ct(Le);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),W.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,i=>{const s=new _t(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _t(n,0),i=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.Mr=e,this.docs=function(){return new tt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Qr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qr();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vF(yF(h),r)<=0||(i.has(h.key)||Ud(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){me()}Or(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MV(this)}getSize(e){return W.resolve(this.size)}}class MV extends CV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.persistence=e,this.Nr=new ia(n=>Gy(n),Ky),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ev,this.targetCount=0,this.kr=Ko.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Kn(n),W.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new By(0),this.Kr=!1,this.Kr=!0,this.$r=new DV,this.referenceDelegate=e(this),this.Ur=new FV(this),this.indexManager=new bV,this.remoteDocumentCache=function(i){return new LV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new TV(n),this.Gr=new RV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new OV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new jV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class jV extends wF{constructor(e){super(),this.currentSequenceNumber=e}}class tv{constructor(e){this.persistence=e,this.Jr=new ev,this.Yr=null}static Zr(e){return new tv(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,_e.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return z2()?8:EF(Bt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new $V;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(La()<=Ae.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(La()<=Ae.DEBUG&&se("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(La()<=Ae.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):W.resolve())}Yi(e,n){if(J0(n))return W.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eg(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,eg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return J0(n)||i.isEqual(_e.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?W.resolve(null):(La()<=Ae.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.rs(e,o,n,gF(i,-1)).next(a=>a))})}ts(e,n){let r=new Ct(zS(e));return n.forEach((i,s)=>{Ud(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return La()<=Ae.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",so(n)),this.Ji.getDocumentsMatchingQuery(e,n,qi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new tt(Le),this._s=new ia(s=>Gy(s),Ky),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function BV(t,e,n,r){return new zV(t,e,n,r)}async function ub(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function HV(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let p=W.resolve();return f.forEach(g=>{p=p.next(()=>h.getEntry(l,g)).next(k=>{const D=u.docVersions.get(g);je(D!==null),k.version.compareTo(D)<0&&(d.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cb(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function WV(t,e){const n=we(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Pt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),i=i.insert(d,p),function(k,D,v){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,h)&&a.push(n.Ur.updateTargetData(s,p))});let l=Qr(),u=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(qV(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(_e.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function qV(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Qr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_e.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function GV(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KV(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function sg(t,e,n){const r=we(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yu(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function uE(t,e,n){const r=we(t);let i=_e.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=we(l),f=d._s.get(h);return f!==void 0?W.resolve(d.os.get(f)):d.Ur.getTargetData(u,h)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:_e.min(),n?s:Ie())).next(a=>(QV(r,jF(e),a),{documents:a,Ts:s})))}function QV(t,e,n){let r=t.us.get(e)||_e.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class cE{constructor(){this.activeTargetIds=WF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YV{constructor(){this.so=new cE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function gp(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class e4 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=gp(),l=this.xo(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(h=>(se("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Ho("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=JV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=gp();return new Promise((o,a)=>{const l=new TS;l.setWithCredentials(!0),l.listenOnce(SS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Jc.NO_ERROR:const h=l.getResponseJson();se(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Jc.TIMEOUT:se(Mt,`RPC '${e}' ${s} timed out`),a(new ie(H.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const d=l.getStatus();if(se(Mt,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(D){const v=D.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(v)>=0?v:H.UNKNOWN}(p.status);a(new ie(g,p.message))}else a(new ie(H.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(H.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{se(Mt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);se(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=gp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CS(),a=IS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");se(Mt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,p=!1;const g=new ZV({Io:D=>{p?se(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(f||(se(Mt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),se(Mt,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},To:()=>d.close()}),k=(D,v,w)=>{D.listen(v,x=>{try{w(x)}catch(M){setTimeout(()=>{throw M},0)}})};return k(d,Ka.EventType.OPEN,()=>{p||(se(Mt,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),k(d,Ka.EventType.CLOSE,()=>{p||(p=!0,se(Mt,`RPC '${e}' stream ${i} transport closed`),g.So())}),k(d,Ka.EventType.ERROR,D=>{p||(p=!0,Ho(Mt,`RPC '${e}' stream ${i} transport errored:`,D),g.So(new ie(H.UNAVAILABLE,"The operation could not be completed")))}),k(d,Ka.EventType.MESSAGE,D=>{var v;if(!p){const w=D.data[0];je(!!w);const x=w,M=x.error||((v=x[0])===null||v===void 0?void 0:v.error);if(M){se(Mt,`RPC '${e}' stream ${i} received error:`,M);const j=M.status;let L=function(A){const _=ct[A];if(_!==void 0)return ZS(_)}(j),I=M.message;L===void 0&&(L=H.INTERNAL,I="Unknown error status: "+j+" with message "+M.message),p=!0,g.So(new ie(L,I)),d.close()}else se(Mt,`RPC '${e}' stream ${i} received:`,w),g.bo(w)}}),k(a,bS.STAT_EVENT,D=>{D.stat===Km.PROXY?se(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Km.NOPROXY&&se(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return new cV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hb(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t4 extends db{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fV(this.serializer,e),r=function(s){if(!("targetChange"in s))return _e.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?_e.min():o.readTime?yr(o.readTime):_e.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ig(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Jm(l)?{documents:gV(s,l)}:{query:yV(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nb(s,o.resumeToken);const u=tg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(_e.min())>0){a.readTime=ed(s,o.snapshotVersion.toTimestamp());const u=tg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=_V(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ig(this.serializer),n.removeTarget=e,this.a_(n)}}class n4 extends db{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mV(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ig(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>pV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,ng(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(H.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,ng(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(H.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class i4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kr(n),this.D_=!1):se("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ws(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.L_.add(4),await Eu(u),u.q_.set("Unknown"),u.L_.delete(4),await Gd(u)}(this))})}),this.q_=new i4(r,i)}}async function Gd(t){if(Ws(t))for(const e of t.B_)await e(!0)}async function Eu(t){for(const e of t.B_)await e(!1)}function fb(t,e){const n=we(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ov(n)?sv(n):sa(n).r_()&&iv(n,e))}function rv(t,e){const n=we(t),r=sa(n);n.N_.delete(e),r.r_()&&pb(n,e),n.N_.size===0&&(r.r_()?r.o_():Ws(n)&&n.q_.set("Unknown"))}function iv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sa(t).A_(e)}function pb(t,e){t.Q_.xe(e),sa(t).R_(e)}function sv(t){t.Q_=new oV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sa(t).start(),t.q_.v_()}function ov(t){return Ws(t)&&!sa(t).n_()&&t.N_.size>0}function Ws(t){return we(t).L_.size===0}function mb(t){t.Q_=void 0}async function o4(t){t.q_.set("Online")}async function a4(t){t.N_.forEach((e,n)=>{iv(t,e)})}async function l4(t,e){mb(t),ov(t)?(t.q_.M_(e),sv(t)):t.q_.set("Unknown")}async function u4(t,e,n){if(t.q_.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await td(t,r)}else if(e instanceof th?t.Q_.Ke(e):e instanceof eb?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_e.min()))try{const r=await cb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(Pt.EMPTY_BYTE_STRING,h.snapshotVersion)),pb(s,l);const d=new Ii(h.target,l,u,h.sequenceNumber);iv(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await td(t,r)}}async function td(t,e,n){if(!yu(e))throw e;t.L_.add(1),await Eu(t),t.q_.set("Offline"),n||(n=()=>cb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gd(t)})}function gb(t,e){return e().catch(n=>td(t,n,e))}async function Kd(t){const e=we(t),n=Ki(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;c4(e);)try{const i=await GV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,h4(e,i)}catch(i){await td(e,i)}yb(e)&&vb(e)}function c4(t){return Ws(t)&&t.O_.length<10}function h4(t,e){t.O_.push(e);const n=Ki(t);n.r_()&&n.V_&&n.m_(e.mutations)}function yb(t){return Ws(t)&&!Ki(t).n_()&&t.O_.length>0}function vb(t){Ki(t).start()}async function d4(t){Ki(t).p_()}async function f4(t){const e=Ki(t);for(const n of t.O_)e.m_(n.mutations)}async function p4(t,e,n){const r=t.O_.shift(),i=Xy.from(r,e,n);await gb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kd(t)}async function m4(t,e){e&&Ki(t).V_&&await async function(r,i){if(function(o){return rV(o)&&o!==H.ABORTED}(i.code)){const s=r.O_.shift();Ki(r).s_(),await gb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kd(r)}}(t,e),yb(t)&&vb(t)}async function dE(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Ws(n);n.L_.add(3),await Eu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gd(n)}async function g4(t,e){const n=we(t);e?(n.L_.delete(2),await Gd(n)):e||(n.L_.add(2),await Eu(n),n.q_.set("Unknown"))}function sa(t){return t.K_||(t.K_=function(n,r,i){const s=we(n);return s.w_(),new t4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:o4.bind(null,t),Ro:a4.bind(null,t),mo:l4.bind(null,t),d_:u4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ov(t)?sv(t):t.q_.set("Unknown")):(await t.K_.stop(),mb(t))})),t.K_}function Ki(t){return t.U_||(t.U_=function(n,r,i){const s=we(n);return s.w_(),new n4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d4.bind(null,t),mo:m4.bind(null,t),f_:f4.bind(null,t),g_:p4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kd(t)):(await t.U_.stop(),t.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new av(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lv(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),yu(t))return new ie(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Qa(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.W_=new tt(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qo(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class v4{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=we(n),s=i.queries;i.queries=pE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ie(H.ABORTED,"Firestore shutting down"))}}function pE(){return new ia(t=>US(t),$d)}async function _b(t,e){const n=we(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new y4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=lv(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&uv(n)}async function wb(t,e){const n=we(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _4(t,e){const n=we(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&uv(n)}function w4(t,e,n){const r=we(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function uv(t){t.Y_.forEach(e=>{e.next()})}var og,mE;(mE=og||(og={})).ea="default",mE.Cache="cache";class Eb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class E4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=zS(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new fE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),p=Ud(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),k=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;f&&p?f.data.isEqual(p.data)?g!==k&&(r.track({type:3,doc:p}),D=!0):this.ga(f,p)||(r.track({type:2,doc:p}),D=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),D=!0):f&&!p&&(r.track({type:1,doc:f}),D=!0,(l||u)&&(a=!0)),D&&(p?(o=o.add(p),s=k?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(p,g){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return k(p)-k(g)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Qo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new xb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new kb(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class k4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class x4{constructor(e){this.key=e,this.va=!1}}class T4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ia(a=>US(a),$d),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(le.comparator),this.Na=new Map,this.La=new ev,this.Ba={},this.ka=new Map,this.qa=Ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function S4(t,e,n=!0){const r=Ab(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Tb(r,e,n,!0),i}async function b4(t,e){const n=Ab(t);await Tb(n,e,!0,!1)}async function Tb(t,e,n,r){const i=await KV(t.localStore,gr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await I4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fb(t.remoteStore,i),a}async function I4(t,e,n,r,i){t.Ka=(d,f,p)=>async function(k,D,v,w){let x=D.view.ma(v);x.ns&&(x=await uE(k.localStore,D.query,!1).then(({documents:I})=>D.view.ma(I,x)));const M=w&&w.targetChanges.get(D.targetId),j=w&&w.targetMismatches.get(D.targetId)!=null,L=D.view.applyChanges(x,k.isPrimaryClient,M,j);return yE(k,D.targetId,L.wa),L.snapshot}(t,d,f,p);const s=await uE(t.localStore,e,!0),o=new E4(e,s.Ts),a=o.ma(s.documents),l=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);yE(t,n,u.wa);const h=new k4(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function C4(t,e,n){const r=we(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$d(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rv(r.remoteStore,i.targetId),ag(r,i.targetId)}).catch(gu)):(ag(r,i.targetId),await sg(r.localStore,i.targetId,!0))}async function A4(t,e){const n=we(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rv(n.remoteStore,r.targetId))}async function P4(t,e,n){const r=F4(t);try{const i=await function(o,a){const l=we(o),u=lt.now(),h=a.reduce((p,g)=>p.add(g.key),Ie());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Qr(),k=Ie();return l.cs.getEntries(p,h).next(D=>{g=D,g.forEach((v,w)=>{w.isValidDocument()||(k=k.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(D=>{d=D;const v=[];for(const w of a){const x=JF(w,d.get(w.key).overlayedDocument);x!=null&&v.push(new Zi(w.key,x,DS(x.value.mapValue),tn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(D=>{f=D;const v=D.applyToLocalDocumentSet(d,k);return l.documentOverlayCache.saveOverlays(p,D.batchId,v)})}).then(()=>({batchId:f.batchId,changes:HS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new tt(Le)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ku(r,i.changes),await Kd(r.remoteStore)}catch(i){const s=lv(i,"Failed to persist write");n.reject(s)}}async function Sb(t,e){const n=we(t);try{const r=await WV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await ku(n,r,e)}catch(r){await gu(r)}}function gE(t,e,n){const r=we(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=we(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&uv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function R4(t,e,n){const r=we(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new tt(le.comparator);o=o.insert(s,jt.newNoDocument(s,_e.min()));const a=Ie().add(s),l=new Wd(_e.min(),new Map,new tt(Le),o,a);await Sb(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),cv(r)}else await sg(r.localStore,e,!1).then(()=>ag(r,e,n)).catch(gu)}async function N4(t,e){const n=we(t),r=e.batch.batchId;try{const i=await HV(n.localStore,e);Ib(n,r,null),bb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,i)}catch(i){await gu(i)}}async function D4(t,e,n){const r=we(t);try{const i=await function(o,a){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(je(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);Ib(r,e,n),bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,i)}catch(i){await gu(i)}}function bb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ib(t,e,n){const r=we(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Cb(t,r)})}function Cb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(rv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cv(t))}function yE(t,e,n){for(const r of n)r instanceof kb?(t.La.addReference(r.key,e),O4(t,r)):r instanceof xb?(se("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Cb(t,r.key)):me()}function O4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(se("SyncEngine","New document in limbo: "+n),t.xa.add(r),cv(t))}function cv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(Ge.fromString(e)),r=t.qa.next();t.Na.set(r,new x4(n)),t.Oa=t.Oa.insert(n,r),fb(t.remoteStore,new Ii(gr(Qy(n.path)),r,"TargetPurposeLimboResolution",By.oe))}}async function ku(t,e,n){const r=we(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=nv.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const h=we(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(u,f=>W.forEach(f.$i,p=>h.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>W.forEach(f.Ui,p=>h.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!yu(d))throw d;se("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=h.os.get(f),g=p.snapshotVersion,k=p.withLastLimboFreeSnapshotVersion(g);h.os=h.os.insert(f,k)}}}(r.localStore,s))}async function L4(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await ub(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ie(H.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.hs)}}function M4(t,e){const n=we(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Ab(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R4.bind(null,e),e.Ca.d_=_4.bind(null,e.eventManager),e.Ca.$a=w4.bind(null,e.eventManager),e}function F4(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D4.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return BV(this.persistence,new UV,e.initialUser,this.serializer)}Ga(e){return new VV(tv.Zr,this.serializer)}Wa(e){return new YV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class lg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L4.bind(null,this.syncEngine),await g4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v4}()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),r=function(s){return new e4(s)}(e.databaseInfo);return function(s,o,a,l){return new r4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new s4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return hE.D()?new hE:new XV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new T4(i,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=we(i);se("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Eu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lg.provider={build:()=>new lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ft.UNAUTHENTICATED,this.clientId=PS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ub(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await j4(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dE(e.remoteStore,i)),t._onlineComponents=e}async function j4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===H.FAILED_PRECONDITION||i.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new nd)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await vp(t,new nd);return t._offlineComponents}async function Rb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await vE(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await vE(t,new lg))),t._onlineComponents}function $4(t){return Rb(t).then(e=>e.syncEngine)}async function ug(t){const e=await Rb(t),n=e.eventManager;return n.onListen=S4.bind(null,e.syncEngine),n.onUnlisten=C4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=b4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A4.bind(null,e.syncEngine),n}function U4(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new Pb({next:f=>{h.Za(),o.enqueueAndForget(()=>wb(s,d)),f.fromCache&&l.source==="server"?u.reject(new ie(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new Eb(a,h,{includeMetadataChanges:!0,_a:!0});return _b(s,d)}(await ug(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e,n){if(!n)throw new ie(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z4(t,e,n,r){if(e===!0&&r===!0)throw new ie(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wE(t){if(!le.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EE(t){if(le.isDocumentKey(t))throw new ie(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qd(t);throw new ie(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aF;switch(r.type){case"firstParty":return new hF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(se("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function B4(t,e,n,r={}){var i;const s=(t=Cn(t,Yd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=L2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}t._authCredentials=new lF(new AS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class zi extends qs{constructor(e,n,r){super(e,n,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new le(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function Xt(t,e,...n){if(t=vt(t),Db("collection","path",e),t instanceof Yd){const r=Ge.fromString(e,...n);return EE(r),new zi(t,null,r)}{if(!(t instanceof nn||t instanceof zi))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return EE(r),new zi(t.firestore,null,r)}}function st(t,e,...n){if(t=vt(t),arguments.length===1&&(e=PS.newId()),Db("doc","path",e),t instanceof Yd){const r=Ge.fromString(e,...n);return wE(r),new nn(t,null,new le(r))}{if(!(t instanceof nn||t instanceof zi))throw new ie(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return wE(r),new nn(t.firestore,t instanceof zi?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hb(this,"async_queue_retry"),this.Vu=()=>{const r=yp();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yu(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=av.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function TE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Yr extends Yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new xE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xE(e),this._firestoreClient=void 0,await e}}}function H4(t,e){const n=typeof t=="object"?t:zT(),r=typeof t=="string"?t:"(default)",i=Ry(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=D2("firestore");s&&B4(i,...s)}return i}function Xd(t){if(t._terminated)throw new ie(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||W4(t),t._firestoreClient}function W4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new TF(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Nb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new V4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Pt.fromBase64String(e))}catch(n){throw new ie(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yo(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=/^__.*__$/;class G4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class Ob{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class pv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return rd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Lb(this.Cu)&&q4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class K4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qd(e)}Qu(e,n,r,i=!1){return new pv({Cu:e,methodName:n,qu:r,path:bt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tu(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new K4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);gv("Data must be an object, but it was:",o,r);const a=Vb(r,o);let l,u;if(s.merge)l=new bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=cg(e,d,n);if(!o.contains(f))throw new ie(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);$b(h,f)||h.push(f)}l=new bn(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new G4(new cn(a),l,u)}class Jd extends hv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jd}}function Mb(t,e,n,r){const i=t.Qu(1,e,n);gv("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();Hs(r,(l,u)=>{const h=yv(e,l,n);u=vt(u);const d=i.Nu(h);if(u instanceof Jd)s.push(h);else{const f=Su(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new bn(s);return new Ob(o,a,i.fieldTransforms)}function Fb(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[cg(e,r,n)],l=[i];if(s.length%2!=0)throw new ie(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cg(e,s[f])),l.push(s[f+1]);const u=[],h=cn.empty();for(let f=a.length-1;f>=0;--f)if(!$b(u,a[f])){const p=a[f];let g=l[f];g=vt(g);const k=o.Nu(p);if(g instanceof Jd)u.push(p);else{const D=Su(g,k);D!=null&&(u.push(p),h.set(p,D))}}const d=new bn(u);return new Ob(h,d,o.fieldTransforms)}function Q4(t,e,n,r=!1){return Su(n,t.Qu(r?4:3,e))}function Su(t,e){if(jb(t=vt(t)))return gv("Unsupported field value:",e,t),Vb(t,e);if(t instanceof hv)return function(r,i){if(!Lb(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Su(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof dv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yo)return{bytesValue:nb(i.serializer,r._byteString)};if(r instanceof nn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Zy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Yy(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qd(r)}`)}(t,e)}function Vb(t,e){const n={};return RS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=Su(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof dv||t instanceof Yo||t instanceof nn||t instanceof hv||t instanceof fv)}function gv(t,e,n){if(!jb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function cg(t,e,n){if((e=vt(e))instanceof xu)return e._internalPath;if(typeof e=="string")return yv(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Y4=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(Y4)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(H.INVALID_ARGUMENT,a+t+l)}function $b(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X4 extends Ub{data(){return super.data()}}function vv(t,e){return typeof e=="string"?yv(t,e):e instanceof xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _v{}class J4 extends _v{}function Kl(t,e,...n){let r=[];e instanceof _v&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof wv).length,a=s.filter(l=>l instanceof Zd).length;if(o>1||o>0&&a>0)throw new ie(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zd extends J4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zd(e,n,r)}_apply(e){const n=this._parse(e);return Bb(e._query,n),new qs(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=Tu(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ie(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bE(d,h);const p=[];for(const g of d)p.push(SE(l,s,g));f={arrayValue:{values:p}}}else f=SE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bE(d,h),f=Q4(a,o,d,h==="in"||h==="not-in");return pt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ql(t,e,n){const r=e,i=vv("where",t);return Zd._create(i,r,n)}class wv extends _v{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Bb(o,l),o=Zm(o,l)}(e._query,n),new qs(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function SE(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new ie(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$S(e)&&n.indexOf("/")!==-1)throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!le.isDocumentKey(r))throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q0(t,new le(r))}if(n instanceof nn)return q0(t,n._key);throw new ie(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Z4{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>ot(o.doubleValue));return new fv(s)}convertGeoPoint(e){return new dv(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Gi(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);je(lb(r));const i=new Hl(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hb extends Ub{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nh extends Hb{data(e={}){return super.data(e)}}class Wb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Xa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new Xa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new nh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:ej(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ej(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class kv extends Z4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function IE(t){t=Cn(t,qs);const e=Cn(t.firestore,Yr),n=Xd(e),r=new kv(e);return zb(t._query),U4(n,t._query).then(i=>new Wb(e,r,t,i))}function rh(t,e,n){t=Cn(t,nn);const r=Cn(t.firestore,Yr),i=Ev(t.converter,e,n);return bu(r,[mv(Tu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tn.none())])}function Yl(t,e,n,...r){t=Cn(t,nn);const i=Cn(t.firestore,Yr),s=Tu(i);let o;return o=typeof(e=vt(e))=="string"||e instanceof xu?Fb(s,"updateDoc",t._key,e,n,r):Mb(s,"updateDoc",t._key,e),bu(i,[o.toMutation(t._key,tn.exists(!0))])}function tj(t){return bu(Cn(t.firestore,Yr),[new Hd(t._key,tn.none())])}function hg(t,e){const n=Cn(t.firestore,Yr),r=st(t),i=Ev(t.converter,e);return bu(n,[mv(Tu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then(()=>r)}function cr(t,...e){var n,r,i;t=vt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||TE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(TE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,h;if(t instanceof nn)u=Cn(t.firestore,Yr),h=Qy(t._key.path),l={next:d=>{e[o]&&e[o](nj(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Cn(t,qs);u=Cn(d.firestore,Yr),h=d._query;const f=new kv(u);l={next:p=>{e[o]&&e[o](new Wb(u,f,d,p))},error:e[o+1],complete:e[o+2]},zb(t._query)}return function(f,p,g,k){const D=new Pb(k),v=new Eb(p,D,g);return f.asyncQueue.enqueueAndForget(async()=>_b(await ug(f),v)),()=>{D.Za(),f.asyncQueue.enqueueAndForget(async()=>wb(await ug(f),v))}}(Xd(u),h,a,l)}function bu(t,e){return function(r,i){const s=new Ui;return r.asyncQueue.enqueueAndForget(async()=>P4(await $4(r),i,s)),s.promise}(Xd(t),e)}function nj(t,e,n){const r=n.docs.get(e._key),i=new kv(t);return new Hb(t,i,e._key,r,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,n,r){this._verifyNotCommitted();const i=_p(e,this._firestore),s=Ev(i.converter,n,r),o=mv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,tn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=_p(e,this._firestore);let o;return o=typeof(n=vt(n))=="string"||n instanceof xu?Fb(this._dataReader,"WriteBatch.update",s._key,n,r,i):Mb(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=_p(e,this._firestore);return this._mutations=this._mutations.concat(new Hd(n._key,tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(H.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _p(t,e){if((t=vt(t)).firestore!==e)throw new ie(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){return Xd(t=Cn(t,Yr)),new rj(t,e=>bu(t,e))}(function(e,n=!0){(function(i){ra=i})(ta),Bo(new Os("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Yr(new uF(r.getProvider("auth-internal")),new fF(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ji(U0,"4.7.3",e),ji(U0,"4.7.3","esm2017")})();const qb=UT(GP),as=sF(qb),ce=H4(qb),xs=({label:t,id:e,children:n,...r})=>E.jsxs("div",{children:[E.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),E.jsx("select",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...r,children:n})]});function ij({toast:t,confirm:e,allMeets:n}){const[r,i]=O.useState(""),[s,o]=O.useState(""),[a,l]=O.useState(null),[u,h]=O.useState(8),d=v=>v.toISOString().split("T")[0],f=v=>{l(v),i(v.name),o(d(v.date)),h(v.lanesAvailable||8)},p=()=>{i(""),o(""),l(null),h(8)},g=async(v,w)=>{if(await e({title:"Are you sure?",message:`This will permanently delete "${w}" and all of its scheduled events. This action cannot be undone.`,confirmText:"Delete"}))try{const M=Kl(Xt(ce,"meet_events"),Ql("meetId","==",v)),j=await IE(M),L=Ei(ce);j.forEach(I=>L.delete(I.ref)),L.delete(st(ce,"meets",v)),await L.commit(),t.success(`"${w}" and all its events were deleted.`)}catch(M){t.error("Failed to delete meet and its events."),console.error("Error deleting meet:",M)}},k=async v=>{v.preventDefault();const w={name:r,date:lt.fromDate(new Date(s+"T00:00:00")),lanesAvailable:parseInt(u,10)||8};try{a?(await Yl(st(ce,"meets",a.id),w),t.success("Meet updated successfully!")):(await hg(Xt(ce,"meets"),w),t.success("Meet successfully added!")),p()}catch{t.error("Failed to save meet.")}},D=async v=>{const w=await e({mode:"form",title:`Copy Meet: ${v.name}`,confirmText:"Copy Meet",inputs:[{name:"newName",label:"New Meet Name",defaultValue:`Copy of ${v.name}`},{name:"newDate",label:"New Meet Date",type:"date",defaultValue:d(new Date)},{name:"lanesAvailable",label:"Lanes Available",type:"number",defaultValue:v.lanesAvailable||8}]});if(w){const{newName:x,newDate:M,lanesAvailable:j}=w;if(!x||!M){t.error("New meet name and date are required.");return}try{const L=await hg(Xt(ce,"meets"),{name:x,date:lt.fromDate(new Date(M+"T00:00:00")),lanesAvailable:parseInt(j,10)||8}),I=Kl(Xt(ce,"meet_events"),Ql("meetId","==",v.id)),A=(await IE(I)).docs.map(P=>({...P.data(),id:P.id})),_=Ei(ce);A.forEach(P=>{const C=st(Xt(ce,"meet_events")),b={...P,meetId:L.id,heats:[]};delete b.id,_.set(C,b)}),await _.commit(),t.success("Successfully copied meet and its schedule.")}catch{t.error("Failed to copy meet.")}}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:a?"Edit Meet":"Create New Meet"}),E.jsxs("form",{onSubmit:k,className:"space-y-4 mt-2",children:[E.jsx(pr,{label:"Meet Name",id:"meetName",type:"text",value:r,onChange:v=>i(v.target.value)}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(pr,{label:"Meet Date",id:"meetDate",type:"date",value:s,onChange:v=>o(v.target.value)}),E.jsx(pr,{label:"Lanes Available",id:"lanesAvailable",type:"number",min:"1",max:"12",value:u,onChange:v=>h(v.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[E.jsx(Zt,{type:"submit",children:a?"Update Meet":"Add Meet"}),a&&E.jsx(Zt,{type:"button",variant:"secondary",onClick:p,children:"Cancel"})]})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Meets"}),E.jsx("ul",{className:"mt-2 space-y-2",children:n.map(v=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("span",{className:"font-medium",children:[v.name," ",E.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",v.date.toLocaleDateString(),")"]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>D(v),title:"Copy",children:E.jsx(Fe,{name:"copy"})}),E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>f(v),title:"Edit",children:E.jsx(Fe,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>g(v.id,v.name),title:"Delete",children:E.jsx(Fe,{name:"trash"})})]})]},v.id))})]})}function sj({toast:t,confirm:e,adminRole:n}){const[r,i]=O.useState(""),[s,o]=O.useState([]),[a,l]=O.useState(null);O.useEffect(()=>{const g=Xt(ce,"event_library"),k=cr(g,D=>{const v=D.docs.map(w=>({id:w.id,...w.data()})).sort((w,x)=>w.name.localeCompare(x.name));o(v)});return()=>k()},[]);const u=()=>{i(""),l(null)},h=g=>{l(g),i(g.name)},d=async(g,k)=>{if(await e("Are you sure?",`This will permanently delete "${k}" from the Event Library.`))try{await tj(st(ce,"event_library",g)),t.success("Library event deleted successfully.")}catch{t.error("Error deleting library event.")}},f=async g=>{if(g.preventDefault(),!r.trim()){t.warning("Event name cannot be empty.");return}try{a?(await Yl(st(ce,"event_library",a.id),{name:r}),t.success("Library event updated successfully.")):(await hg(Xt(ce,"event_library"),{name:r}),t.error("Library event created successfully.")),u()}catch{showNotification("Error saving library event.","danger")}},p=async()=>{if(!(await Swal.fire({title:"Bulk Load Events?",text:"This will add any missing standard events to the library. It will not create duplicates.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, load them!"})).isConfirmed)return;if(typeof $c>"u"||!Array.isArray($c)){showNotification("Standard event library is not defined in config.js.","danger");return}const k=new Set(s.map(w=>w.name)),D=$c.filter(w=>!k.has(w));if(D.length===0){showNotification("All standard library events already exist.","info");return}showNotification(`Adding ${D.length} new library events...`,"info");const v=Ei(ce);D.forEach(w=>{const x=st(Xt(ce,"event_library"));v.set(x,{name:w})});try{await v.commit(),showNotification("Bulk load complete!","success")}catch(w){showNotification("An error occurred during bulk load.","danger"),console.error("Bulk load error:",w)}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Event Library"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a master list of reusable event types."}),n==="SUPERADMIN"&&E.jsxs("div",{className:"my-4 space-y-4",children:[E.jsxs("form",{onSubmit:f,className:"space-y-4",children:[E.jsx(pr,{label:a?"Edit Event Name":"New Event Name",id:"libraryEventName",type:"text",value:r,onChange:g=>i(g.target.value),placeholder:"e.g., Girls 9-10 50m Freestyle"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[E.jsx(Zt,{type:"submit",children:a?"Update Event":"Create Event"}),a&&E.jsx(Zt,{type:"button",variant:"secondary",onClick:u,children:"Cancel"})]})]}),E.jsx(Zt,{variant:"outline",onClick:p,children:"Bulk Load Standard Events"})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Library Events"}),E.jsx("ul",{className:"mt-2 space-y-2",children:s.map(g=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsx("span",{className:"font-medium",children:g.name}),n==="SUPERADMIN"&&E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>h(g),title:"Edit",children:E.jsx(Fe,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>d(g.id,g.name),title:"Delete",children:E.jsx(Fe,{name:"trash"})})]})]},g.id))})]})}function oj({toast:t,confirm:e,allMeets:n}){const[r,i]=O.useState(""),[s,o]=O.useState([]),[a,l]=O.useState([]),[u,h]=O.useState(new Set),[d,f]=O.useState(new Set),[p,g]=O.useState(null),[k,D]=O.useState(""),v=O.useRef(null),w=O.useRef(null);O.useEffect(()=>{const C=cr(Xt(ce,"event_library"),b=>{const F=b.docs.map(B=>({id:B.id,...B.data()})).sort((B,X)=>B.name.localeCompare(X.name));o(F)});return()=>C()},[]),O.useEffect(()=>{if(!r){l([]);return}const C=Kl(Xt(ce,"meet_events"),Ql("meetId","==",r)),b=cr(C,F=>{const B=F.docs.map(X=>({id:X.id,...X.data()})).sort((X,Q)=>X.eventNumber-Q.eventNumber);l(B)},F=>{showNotification("Could not load schedule.","danger")});return()=>b()},[r]),O.useEffect(()=>{v.current&&(w.current&&w.current.destroy(),w.current=new fe(v.current,{animation:150,disabled:!!p,onEnd:async C=>{const{oldIndex:b,newIndex:F}=C;if(b===F)return;const B=[...a],[X]=B.splice(b,1);B.splice(F,0,X);const Q=Ei(ce);B.forEach((z,Y)=>{Q.update(st(ce,"meet_events",z.id),{eventNumber:Y+1})});try{await Q.commit(),showNotification("Event order updated.","success")}catch{showNotification("Failed to update event order.","danger")}}}))},[a,p]);const x=(C,b)=>{(b==="library"?h:f)(B=>{const X=new Set(B);return X.has(C)?X.delete(C):X.add(C),X})},M=O.useMemo(()=>{const C=new Set(a.map(b=>b.name));return s.filter(b=>!C.has(b.name))},[s,a]),j=async C=>{if(!r||C.length===0)return;const b=C.map((B,X)=>{const Q=s.find(z=>z.id===B);return{meetId:r,libraryEventId:Q.id,name:Q.name,eventNumber:a.length+1+X,heats:[]}}),F=Ei(ce);b.forEach(B=>F.set(st(Xt(ce,"meet_events")),B));try{await F.commit(),showNotification(`${b.length} event(s) added successfully.`,"success"),h(new Set)}catch{showNotification("Error adding events.","danger")}},L=async C=>{if(!r||C.length===0)return;if((await Swal.fire({title:"Are you sure?",text:`This will remove ${C.length} event(s) from this meet's schedule.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove them"})).isConfirmed){const F=Ei(ce);C.forEach(X=>F.delete(st(ce,"meet_events",X))),a.filter(X=>!C.includes(X.id)).sort((X,Q)=>X.eventNumber-Q.eventNumber).forEach((X,Q)=>F.update(st(ce,"meet_events",X.id),{eventNumber:Q+1}));try{await F.commit(),showNotification("Selected events removed.","success"),f(new Set)}catch{showNotification("Failed to remove events.","danger")}}},I=()=>{const C=new Set(a.map(B=>B.name)),F=$c.map(B=>s.find(X=>X.name===B)).filter(B=>B&&!C.has(B.name)).map(B=>B.id);j(F)},T=async()=>{if(a.length===0)return;if((await Swal.fire({title:"Are you sure?",text:"This will remove ALL events from this meet's schedule. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, clear the schedule!"})).isConfirmed){const b=Ei(ce);a.forEach(F=>b.delete(st(ce,"meet_events",F.id)));try{await b.commit(),showNotification("Complete schedule has been cleared.","success"),f(new Set)}catch{showNotification("Failed to clear schedule.","danger")}}},A=C=>{g(C.id),D(C.eventNumber)},_=()=>{g(null),D("")},P=async()=>{const C=p,b=parseInt(k,10);if(isNaN(b)||b<1||b>a.length){showNotification(`Please enter a valid event number between 1 and ${a.length}.`,"warning");return}const F=[...a],B=F.find(z=>z.id===C);if(!B)return;const X=F.findIndex(z=>z.id===C);F.splice(X,1),F.splice(b-1,0,B);const Q=Ei(ce);F.forEach((z,Y)=>{Q.update(st(ce,"meet_events",z.id),{eventNumber:Y+1})});try{await Q.commit(),showNotification("Event number updated successfully.","success"),_()}catch{showNotification("Failed to update event number.","danger")}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Manage a Meet's Schedule"}),E.jsx("div",{className:"my-4",children:E.jsxs(xs,{label:"1. Select Meet to Manage",id:"meetSelectForSchedule",value:r,onChange:C=>i(C.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),n.map(C=>E.jsx("option",{value:C.id,children:C.name},C.id))]})}),r&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center mt-4",children:[E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[E.jsxs("h6",{className:"font-semibold mb-2",children:["Event Library (",M.length,")"]}),E.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",children:M.map(C=>E.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[E.jsx("input",{type:"checkbox",id:`lib-${C.id}`,checked:u.has(C.id),onChange:()=>x(C.id,"library")}),E.jsx("label",{htmlFor:`lib-${C.id}`,className:"flex-grow cursor-pointer",children:C.name})]},C.id))})]}),E.jsxs("div",{className:"flex flex-row md:flex-col gap-2 justify-center",children:[E.jsx(Zt,{onClick:I,title:"Add All",children:E.jsx(Fe,{name:"angle-double-right"})}),E.jsx(Zt,{onClick:()=>j(Array.from(u)),title:"Add Selected",children:E.jsx(Fe,{name:"angle-right"})}),E.jsx(Zt,{onClick:()=>L(Array.from(d)),title:"Remove Selected",children:E.jsx(Fe,{name:"angle-left"})}),E.jsx(Zt,{onClick:T,title:"Remove All",children:E.jsx(Fe,{name:"angle-double-left"})})]}),E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[E.jsxs("h6",{className:"font-semibold mb-2",children:["Scheduled Events (",a.length,")"]}),E.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",ref:v,children:a.map(C=>E.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2","data-id":C.id,children:[E.jsx("input",{type:"checkbox",id:`sch-${C.id}`,checked:d.has(C.id),onChange:()=>x(C.id,"schedule"),disabled:!!p}),p===C.id?E.jsxs(E.Fragment,{children:[" ",E.jsx("input",{type:"number",className:"w-16 p-1 text-center rounded-md border border-primary bg-surface-light dark:bg-surface-dark",value:k,onChange:b=>D(b.target.value),onKeyDown:b=>{b.key==="Enter"&&P(),b.key==="Escape"&&_()},autoFocus:!0}),E.jsx("span",{className:"flex-grow",children:C.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:P,title:"Save",className:"text-green-500 hover:text-green-700",children:E.jsx(Fe,{name:"check"})}),E.jsx("button",{onClick:_,title:"Cancel",className:"text-red-500 hover:text-red-700",children:E.jsx(Fe,{name:"times"})})]})]}):E.jsxs(E.Fragment,{children:[" ",E.jsxs("label",{htmlFor:`sch-${C.id}`,className:"flex-grow cursor-grab",children:[E.jsxs("strong",{className:"mr-2 w-8 inline-block text-center",children:["E",C.eventNumber,":"]}),C.name]}),E.jsx("div",{className:"ml-auto",children:E.jsx("button",{onClick:()=>A(C),title:"Edit Number",className:"text-gray-500 hover:text-gray-700",children:E.jsx(Fe,{name:"pencil-alt"})})})]})]},C.id))})]})]})]})}function aj({toast:t,confirm:e,adminRole:n}){const r=n==="SUPERADMIN",[i,s]=O.useState(r?"":n),[o,a]=O.useState([]),[l,u]=O.useState({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),h=O.useMemo(()=>Object.values(Rh).filter(v=>v!=="SUPERADMIN").sort(),[]),d=O.useRef(null);O.useEffect(()=>{if(i){const v=cr(st(ce,"rosters",i),w=>{a(w.exists()?w.data().swimmers||[]:[])});return()=>v()}else a([])},[i]);const f=()=>u({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),p=async v=>{v.preventDefault();const{id:w,firstName:x,lastName:M,age:j,gender:L}=l;if(!x.trim()||!M.trim()||!j||!i){showNotification("Please select a team and fill out all swimmer fields.","warning");return}let I=w?o.map(T=>T.id===w?{...T,firstName:x,lastName:M,age:parseInt(j),gender:L}:T):[...o,{id:crypto.randomUUID(),firstName:x,lastName:M,age:parseInt(j),gender:L}];await rh(st(ce,"rosters",i),{swimmers:I},{merge:!0}),showNotification(`Swimmer ${w?"updated":"added"} successfully!`,"success"),f()},g=v=>u(v),k=async v=>{if((await Swal.fire({title:"Are you sure?",text:`This removes ${v.firstName} from the team roster. It does NOT remove them from any events they are already entered in.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove from roster"})).isConfirmed)try{const x=o.filter(M=>M.id!==v.id);await rh(st(ce,"rosters",i),{swimmers:x}),showNotification("Swimmer removed from roster.","success")}catch(x){showNotification("Failed to remove swimmer from roster.","danger"),console.error("Error removing swimmer:",x)}},D=v=>{const w=v.target.files[0];if(!w)return;const x=new FileReader;x.onload=async M=>{const L=M.target.result.split(`
`).filter(_=>_.trim()!==""),I=L.shift().toLowerCase().split(",").map(_=>_.trim());if(I[0]!=="firstname"||I[1]!=="lastname"||I[2]!=="age"||I[3]!=="gender"){showNotification("Invalid CSV headers. Must be: firstName,lastName,age,gender","danger");return}const T=L.map(_=>{const[P,C,b,F]=_.split(",");return{id:crypto.randomUUID(),firstName:P.trim(),lastName:C.trim(),age:parseInt(b),gender:F.trim()}}),A=[...o,...T];await rh(st(ce,"rosters",i),{swimmers:A},{merge:!0}),showNotification(`Bulk upload successful! Added ${T.length} swimmers.`,"success"),d.current.value=""},x.readAsText(w)};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Manage Team Rosters"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add or view swimmers for a specific team."}),E.jsx("div",{className:"my-4 space-y-4",children:r&&E.jsxs(xs,{label:"1. Select Team",id:"teamSelectRoster",value:i||"",onChange:v=>s(v.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),h.map(v=>E.jsx("option",{value:v,children:v},v))]})}),i&&E.jsxs(E.Fragment,{children:[E.jsxs("h6",{className:"font-semibold mt-6",children:[l.id?"Edit Swimmer":"Add Swimmer"," to ",i]}),E.jsxs("form",{onSubmit:p,className:"my-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:flex lg:items-end gap-3",children:[E.jsx("div",{className:"lg:flex-grow",children:E.jsx(pr,{label:"First Name",id:"swimmerFirstName",type:"text",value:l.firstName,onChange:v=>u({...l,firstName:v.target.value})})}),E.jsx("div",{className:"lg:flex-grow",children:E.jsx(pr,{label:"Last Name",id:"swimmerLastName",type:"text",value:l.lastName,onChange:v=>u({...l,lastName:v.target.value})})}),E.jsx("div",{className:"lg:w-20",children:E.jsx(pr,{label:"Age",id:"swimmerAge",type:"number",value:l.age,onChange:v=>u({...l,age:v.target.value})})}),E.jsx("div",{className:"lg:w-28",children:E.jsxs(xs,{label:"Gender",id:"swimmerGender",value:l.gender,onChange:v=>u({...l,gender:v.target.value}),children:[E.jsx("option",{value:"Boy",children:"Boy"}),E.jsx("option",{value:"Girl",children:"Girl"})]})}),E.jsxs("div",{className:"flex space-x-2 pt-5 lg:pt-0",children:[E.jsx(Zt,{type:"submit",className:"flex-1",children:l.id?"Update":"Add"}),l.id&&E.jsx(Zt,{type:"button",variant:"secondary",onClick:f,className:"flex-1",children:"Cancel"})]})]}),E.jsxs("div",{className:"mt-6",children:[E.jsx("label",{htmlFor:"csvUpload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bulk Upload Roster (CSV)"}),E.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20",id:"csvUpload",accept:".csv",ref:d,onChange:D}),E.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: firstName,lastName,age,gender (with header row)"})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Team Roster for ",i]}),E.jsx("ul",{className:"mt-2 space-y-2",children:o.length>0?o.map(v=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("span",{className:"font-medium",children:[v.firstName," ",v.lastName," (Age: ",v.age,", ",v.gender,")"]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>g(v),title:"Edit",children:E.jsx(Fe,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>k(v),title:"Delete",children:E.jsx(Fe,{name:"trash"})})]})]},v.id)):E.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No swimmers on this roster yet."})})]})]})}function lj({adminRole:t,allMeets:e,showNotification:n,selectedMeet:r}){const i=t==="SUPERADMIN",[s,o]=O.useState(""),[a,l]=O.useState(i?"":t),[u,h]=O.useState([]),[d,f]=O.useState(""),[p,g]=O.useState(""),[k,D]=O.useState({heat:"",lane:""}),[v,w]=O.useState([]),[x,M]=O.useState([]),[j,L]=O.useState(null),I=u.find(F=>F.id===d),T=O.useMemo(()=>Object.values(Rh).filter(F=>F!=="SUPERADMIN").sort(),[]),A=O.useMemo(()=>{if(!I||!v)return[];const F=B=>{const X=B.toLowerCase(),Q=X.startsWith("girls")?"Girl":X.startsWith("boys")?"Boy":"Mixed",z=B.match(/(\d+)(-(\d+))?(\s*&\s*Under)?/);return z?z[4]?{minAge:0,maxAge:parseInt(z[1]),gender:Q}:z[3]?{minAge:parseInt(z[1]),maxAge:parseInt(z[3]),gender:Q}:{minAge:parseInt(z[1]),maxAge:parseInt(z[1]),gender:Q}:{minAge:0,maxAge:100,gender:Q}};return v.filter(B=>{const{minAge:X,maxAge:Q,gender:z}=F(B.name),Y=I.age>=X&&I.age<=Q,R=z==="Mixed"||z===I.gender;return Y&&R})},[I,v]);O.useEffect(()=>{if(!ce||!s){w([]);return}const F=Kl(Xt(ce,"meet_events"),Ql("meetId","==",s)),B=cr(F,X=>{w(X.docs.map(Q=>({id:Q.id,...Q.data()})).sort((Q,z)=>Q.eventNumber-z.eventNumber))});return()=>B()},[s]),O.useEffect(()=>{if(a){const F=cr(st(ce,"rosters",a),B=>{h(B.exists()?B.data().swimmers||[]:[])});return()=>F()}else h([])},[a]),O.useEffect(()=>{if(!v||v.length===0){M([]);return}let F=[];v.forEach(B=>{B.heats&&B.heats.forEach(X=>{X.lanes.forEach(Q=>{F.push({swimmerId:Q.id,swimmerName:`${Q.firstName} ${Q.lastName}`,team:Q.team,eventId:B.id,eventName:B.name,eventNumber:B.eventNumber,heatNumber:X.heatNumber,laneNumber:Q.lane})})})}),i||(F=F.filter(B=>B.team===t)),F.sort((B,X)=>B.eventNumber!==X.eventNumber?B.eventNumber-X.eventNumber:B.swimmerName.localeCompare(X.swimmerName)),M(F)},[v,t,i]);const _=()=>{L(null),f(""),g(""),D({heat:"",lane:""})},P=F=>{L(F),i||l(F.team),f(F.swimmerId),g(F.eventId),D({heat:F.heatNumber,lane:F.laneNumber});const B=document.querySelector(".admin-view");B&&B.scrollIntoView({behavior:"smooth"})},C=async F=>{if(!(await Swal.fire({title:"Are you sure?",text:`Remove ${F.swimmerName} from E${F.eventNumber}: ${F.eventName}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove them!"})).isConfirmed)return;const X=st(ce,"meet_events",F.eventId);try{const Q=v.find(Y=>Y.id===F.eventId);if(!Q)throw new Error("Event not found");const z=Q.heats.map(Y=>({...Y,lanes:Y.lanes.filter(R=>R.id!==F.swimmerId)})).filter(Y=>Y.lanes.length>0);await Yl(X,{heats:z}),n("Entry deleted successfully.","success")}catch(Q){n("Failed to delete entry.","danger"),console.error("Error deleting entry:",Q)}},b=async()=>{const F=u.find(te=>te.id===d);if(!F||!p||!a||!s){n("Please select a meet, team, swimmer, and event.","warning");return}const B=st(ce,"meet_events",p),X=v.find(te=>te.id===p);if(!X)return;let Q=JSON.parse(JSON.stringify(X.heats||[]));j&&(Q=Q.map(te=>({...te,lanes:te.lanes.filter(ae=>ae.id!==j.swimmerId)})).filter(te=>te.lanes.length>0));const z=(r==null?void 0:r.lanesAvailable)||8,Y=parseInt(k.heat,10),R=parseInt(k.lane,10);if(Y&&R){if(R>z){n(`Invalid lane. Only ${z} lanes are available for this meet.`,"danger");return}let te=Q.find(N=>N.heatNumber===Y);if(te||(te={heatNumber:Y,lanes:[]},Q.push(te)),te.lanes.some(N=>N.lane===R)){n(`Lane ${R} in Heat ${Y} is already occupied.`,"danger");return}te.lanes.push({...F,team:a,seedTime:"NT",lane:R})}else{let te=!1;for(const ae of Q)if(ae.lanes.length<z){const N=new Set(ae.lanes.map(ee=>ee.lane));for(let ee=1;ee<=z;ee++)if(!N.has(ee)){ae.lanes.push({...F,team:a,seedTime:"NT",lane:ee}),te=!0;break}if(te)break}te||Q.push({heatNumber:Q.length+1,lanes:[{...F,team:a,seedTime:"NT",lane:1}]})}Q.sort((te,ae)=>te.heatNumber-ae.heatNumber),Q.forEach(te=>te.lanes.sort((ae,N)=>ae.lane-N.lane));try{await Yl(B,{heats:Q}),n(`${F.firstName} was ${j?"updated":"entered"} successfully.`,"success"),_()}catch(te){n(`Failed to ${j?"update":"add"} entry.`,"danger"),console.error("Error in entry transaction:",te)}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:j?"Edit Entry":"Enter Swimmers into Events"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Assign swimmers to events for the selected meet."}),E.jsxs("div",{className:"my-4 space-y-4",children:[E.jsxs(xs,{label:"1. Select Meet",id:"meetSelectEntries",value:s,onChange:F=>o(F.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),e.map(F=>E.jsx("option",{value:F.id,children:F.name},F.id))]}),i&&s&&E.jsxs(xs,{label:"2. Select Team",id:"teamSelectManage",value:a||"",onChange:F=>l(F.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),T.map(F=>E.jsx("option",{value:F,children:F},F))]})]}),a&&s&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs(xs,{label:"3. Select Swimmer",id:"swimmerSelect",value:d,onChange:F=>f(F.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose from roster --"}),u.map(F=>E.jsxs("option",{value:F.id,children:[F.firstName," ",F.lastName," (Age: ",F.age,")"]},F.id))]}),E.jsxs(xs,{label:"4. Select Event",id:"eventSelect",value:p,onChange:F=>g(F.target.value),disabled:!d,children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose an event --"}),A.map(F=>E.jsxs("option",{value:F.id,children:["E",F.eventNumber," - ",F.name]},F.id))]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(pr,{label:"Heat (Optional)",id:"heatNumber",type:"number",min:"1",placeholder:"Auto",value:k.heat,onChange:F=>D({...k,heat:F.target.value})}),E.jsx(pr,{label:"Lane (Optional)",id:"laneNumber",type:"number",min:"1",placeholder:"Auto",value:k.lane,onChange:F=>D({...k,lane:F.target.value})})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Zt,{onClick:b,disabled:!d||!p,variant:"primary",children:j?"Update Entry":"Add Entry"}),j&&E.jsx(Zt,{onClick:_,variant:"secondary",children:"Cancel Edit"})]})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Current Entries for ",i?"All Teams":a]}),E.jsx("ul",{className:"mt-2 space-y-2",children:x.length>0?x.map(F=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:F.swimmerName})," (",F.team,")",E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["E",F.eventNumber,": ",F.eventName]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",onClick:()=>P(F),title:"Edit",children:E.jsx(Fe,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>C(F),title:"Delete",children:E.jsx(Fe,{name:"trash"})})]})]},`${F.swimmerId}-${F.eventId}`)):E.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No entries found for the selected team."})})]})]})}function uj({toast:t,adminRole:e,allMeets:n}){var d;const{confirm:r,ConfirmationModal:i}=S2(),[s,o]=O.useState("meets"),[a,l]=O.useState(((d=n[0])==null?void 0:d.id)||""),u=O.useMemo(()=>n.find(f=>f.id===a),[n,a]);if(!e)return E.jsx("div",{className:"p-4 text-yellow-800 bg-yellow-100 border border-yellow-200 rounded-md",children:"You are not authorized to view this page."});const h=()=>{const f={toast:t,confirm:r,adminRole:e,allMeets:n,activeMeetId:a,setActiveMeetId:l,selectedMeet:u};switch(s){case"meets":return E.jsx(ij,{...f});case"library":return E.jsx(sj,{...f});case"schedule":return E.jsx(oj,{...f});case"rosters":return E.jsx(aj,{...f});case"entries":return E.jsx(lj,{...f});default:return null}};return E.jsxs("div",{className:"admin-view",children:[E.jsx("h2",{className:"text-xl font-bold mb-3",children:"Admin Panel"}),E.jsx(i,{}),E.jsxs("ul",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 mb-4",children:[E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="meets"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("meets"),children:"Meets"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="library"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("library"),children:"Library"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="schedule"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("schedule"),children:"Schedule"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="rosters"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("rosters"),children:"Rosters"})}),E.jsx("li",{children:E.jsx("button",{className:`block w-full text-center px-4 py-2 rounded-md font-semibold text-sm ${s==="entries"?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:()=>o("entries"),children:"Entries"})})]}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsx("div",{className:"p-4",children:h()})})]})}function cj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const hj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fj={};function CE(t,e){return(fj.jsx?dj:hj).test(t)}const pj=/[ \t\n\f\r]/g;function mj(t){return typeof t=="object"?t.type==="text"?AE(t.value):!1:AE(t)}function AE(t){return t.replace(pj,"")===""}class Iu{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Iu.prototype.normal={};Iu.prototype.property={};Iu.prototype.space=void 0;function Gb(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Iu(n,r,e)}function dg(t){return t.toLowerCase()}class gn{constructor(e,n){this.attribute=n,this.property=e}}gn.prototype.attribute="";gn.prototype.booleanish=!1;gn.prototype.boolean=!1;gn.prototype.commaOrSpaceSeparated=!1;gn.prototype.commaSeparated=!1;gn.prototype.defined=!1;gn.prototype.mustUseProperty=!1;gn.prototype.number=!1;gn.prototype.overloadedBoolean=!1;gn.prototype.property="";gn.prototype.spaceSeparated=!1;gn.prototype.space=void 0;let gj=0;const Ee=Gs(),ht=Gs(),fg=Gs(),K=Gs(),Be=Gs(),Oo=Gs(),kn=Gs();function Gs(){return 2**++gj}const pg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:ht,commaOrSpaceSeparated:kn,commaSeparated:Oo,number:K,overloadedBoolean:fg,spaceSeparated:Be},Symbol.toStringTag,{value:"Module"})),wp=Object.keys(pg);class xv extends gn{constructor(e,n,r,i){let s=-1;if(super(e,n),PE(this,"space",i),typeof r=="number")for(;++s<wp.length;){const o=wp[s];PE(this,wp[s],(r&pg[o])===pg[o])}}}xv.prototype.defined=!0;function PE(t,e,n){n&&(t[e]=n)}function oa(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new xv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[dg(r)]=r,n[dg(s.attribute)]=r}return new Iu(e,n,t.space)}const Kb=oa({properties:{ariaActiveDescendant:null,ariaAtomic:ht,ariaAutoComplete:null,ariaBusy:ht,ariaChecked:ht,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:Be,ariaCurrent:null,ariaDescribedBy:Be,ariaDetails:null,ariaDisabled:ht,ariaDropEffect:Be,ariaErrorMessage:null,ariaExpanded:ht,ariaFlowTo:Be,ariaGrabbed:ht,ariaHasPopup:null,ariaHidden:ht,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Be,ariaLevel:K,ariaLive:null,ariaModal:ht,ariaMultiLine:ht,ariaMultiSelectable:ht,ariaOrientation:null,ariaOwns:Be,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:ht,ariaReadOnly:ht,ariaRelevant:null,ariaRequired:ht,ariaRoleDescription:Be,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:ht,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Qb(t,e){return e in t?t[e]:e}function Yb(t,e){return Qb(t,e.toLowerCase())}const yj=oa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Oo,acceptCharset:Be,accessKey:Be,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:Be,autoFocus:Ee,autoPlay:Ee,blocking:Be,capture:null,charSet:null,checked:Ee,cite:null,className:Be,cols:K,colSpan:null,content:null,contentEditable:ht,controls:Ee,controlsList:Be,coords:K|Oo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:fg,draggable:ht,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:Be,height:K,hidden:fg,high:K,href:null,hrefLang:null,htmlFor:Be,httpEquiv:Be,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:Be,itemRef:Be,itemScope:Ee,itemType:Be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:K,pattern:null,ping:Be,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:Be,required:Ee,reversed:Ee,rows:K,rowSpan:K,sandbox:Be,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:ht,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:ht,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Be,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:ht,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:Yb}),vj=oa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:kn,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:Be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Oo,g2:Oo,glyphName:Oo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:kn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kn,rev:kn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kn,requiredFeatures:kn,requiredFonts:kn,requiredFormats:kn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:kn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kn,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Qb}),Xb=oa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Jb=oa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Yb}),Zb=oa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),_j={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wj=/[A-Z]/g,RE=/-[a-z]/g,Ej=/^data[-\w.:]+$/i;function kj(t,e){const n=dg(e);let r=e,i=gn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ej.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(RE,Tj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!RE.test(s)){let o=s.replace(wj,xj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=xv}return new i(r,e)}function xj(t){return"-"+t.toLowerCase()}function Tj(t){return t.charAt(1).toUpperCase()}const Sj=Gb([Kb,yj,Xb,Jb,Zb],"html"),Tv=Gb([Kb,vj,Xb,Jb,Zb],"svg");function bj(t){return t.join(" ").trim()}var Sv={},NE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ij=/\n/g,Cj=/^\s*/,Aj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pj=/^:\s*/,Rj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nj=/^[;\s]*/,Dj=/^\s+|\s+$/g,Oj=`
`,DE="/",OE="*",ms="",Lj="comment",Mj="declaration",Fj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var k=g.match(Ij);k&&(n+=k.length);var D=g.lastIndexOf(Oj);r=~D?g.length-D:r+g.length}function s(){var g={line:n,column:r};return function(k){return k.position=new o(g),u(),k}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var k=new Error(e.source+":"+n+":"+r+": "+g);if(k.reason=g,k.filename=e.source,k.line=n,k.column=r,k.source=t,!e.silent)throw k}function l(g){var k=g.exec(t);if(k){var D=k[0];return i(D),t=t.slice(D.length),k}}function u(){l(Cj)}function h(g){var k;for(g=g||[];k=d();)k!==!1&&g.push(k);return g}function d(){var g=s();if(!(DE!=t.charAt(0)||OE!=t.charAt(1))){for(var k=2;ms!=t.charAt(k)&&(OE!=t.charAt(k)||DE!=t.charAt(k+1));)++k;if(k+=2,ms===t.charAt(k-1))return a("End of comment missing");var D=t.slice(2,k-2);return r+=2,i(D),t=t.slice(k),r+=2,g({type:Lj,comment:D})}}function f(){var g=s(),k=l(Aj);if(k){if(d(),!l(Pj))return a("property missing ':'");var D=l(Rj),v=g({type:Mj,property:LE(k[0].replace(NE,ms)),value:D?LE(D[0].replace(NE,ms)):ms});return l(Nj),v}}function p(){var g=[];h(g);for(var k;k=f();)k!==!1&&(g.push(k),h(g));return g}return u(),p()};function LE(t){return t?t.replace(Dj,ms):ms}var Vj=oh&&oh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.default=$j;var jj=Vj(Fj);function $j(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,jj.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.camelCase=void 0;var Uj=/^--[a-zA-Z0-9_-]+$/,zj=/-([a-z])/g,Bj=/^[^-]+$/,Hj=/^-(webkit|moz|ms|o|khtml)-/,Wj=/^-(ms)-/,qj=function(t){return!t||Bj.test(t)||Uj.test(t)},Gj=function(t,e){return e.toUpperCase()},ME=function(t,e){return"".concat(e,"-")},Kj=function(t,e){return e===void 0&&(e={}),qj(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Wj,ME):t=t.replace(Hj,ME),t.replace(zj,Gj))};ef.camelCase=Kj;var Qj=oh&&oh.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Yj=Qj(Sv),Xj=ef;function mg(t,e){var n={};return!t||typeof t!="string"||(0,Yj.default)(t,function(r,i){r&&i&&(n[(0,Xj.camelCase)(r,e)]=i)}),n}mg.default=mg;var Jj=mg;const Zj=Tg(Jj),eI=tI("end"),bv=tI("start");function tI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function e$(t){const e=bv(t),n=eI(t);if(e&&n)return{start:e,end:n}}function wl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?FE(t.position):"start"in t||"end"in t?FE(t):"line"in t||"column"in t?gg(t):""}function gg(t){return VE(t&&t.line)+":"+VE(t&&t.column)}function FE(t){return gg(t&&t.start)+"-"+gg(t&&t.end)}function VE(t){return t&&typeof t=="number"?t:1}class Ht extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=wl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const Iv={}.hasOwnProperty,t$=new Map,n$=/[A-Z]/g,r$=new Set(["table","tbody","thead","tfoot","tr"]),i$=new Set(["td","th"]),nI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function s$(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=f$(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=d$(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Tv:Sj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=rI(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function rI(t,e,n){if(e.type==="element")return o$(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return a$(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return u$(t,e,n);if(e.type==="mdxjsEsm")return l$(t,e);if(e.type==="root")return c$(t,e,n);if(e.type==="text")return h$(t,e)}function o$(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Tv,t.schema=i),t.ancestors.push(e);const s=sI(t,e.tagName,!1),o=p$(t,e);let a=Av(t,e);return r$.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!mj(l):!0})),iI(t,o,s,e),Cv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function a$(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Xl(t,e.position)}function l$(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Xl(t,e.position)}function u$(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Tv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:sI(t,e.name,!0),o=m$(t,e),a=Av(t,e);return iI(t,o,s,e),Cv(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function c$(t,e,n){const r={};return Cv(r,Av(t,e)),t.create(e,t.Fragment,r,n)}function h$(t,e){return e.value}function iI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Cv(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function d$(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function f$(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=bv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function p$(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Iv.call(e.properties,i)){const s=g$(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&i$.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function m$(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Xl(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Xl(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Av(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:t$;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=rI(t,s,o);a!==void 0&&n.push(a)}return n}function g$(t,e,n){const r=kj(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?cj(n):bj(n)),r.property==="style"){let i=typeof n=="object"?n:y$(t,String(n));return t.stylePropertyNameCase==="css"&&(i=v$(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?_j[r.property]||r.property:r.attribute,n]}}function y$(t,e){try{return Zj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Ht("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=nI+"#cannot-parse-style-attribute",i}}function sI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=CE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=CE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Iv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Xl(t)}function Xl(t,e){const n=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=nI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function v$(t){const e={};let n;for(n in t)Iv.call(t,n)&&(e[_$(n)]=t[n]);return e}function _$(t){let e=t.replace(n$,w$);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function w$(t){return"-"+t.toLowerCase()}const Ep={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},E$={};function Pv(t,e){const n=E$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return oI(t,r,i)}function oI(t,e,n){if(k$(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return jE(t.children,e,n)}return Array.isArray(t)?jE(t,e,n):""}function jE(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=oI(t[i],e,n);return r.join("")}function k$(t){return!!(t&&typeof t=="object")}const $E=document.createElement("i");function Rv(t){const e="&"+t+";";$E.innerHTML=e;const n=$E.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function An(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Vn(t,e){return t.length>0?(An(t,t.length,0,e),t):e}const UE={}.hasOwnProperty;function aI(t){const e={};let n=-1;for(;++n<t.length;)x$(e,t[n]);return e}function x$(t,e){let n;for(n in e){const i=(UE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){UE.call(i,o)||(i[o]=[]);const a=s[o];T$(i[o],Array.isArray(a)?a:a?[a]:[])}}}function T$(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);An(t,0,0,r)}function lI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function tr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jt=es(/[A-Za-z]/),$t=es(/[\dA-Za-z]/),S$=es(/[#-'*+\--9=?A-Z^-~]/);function id(t){return t!==null&&(t<32||t===127)}const yg=es(/\d/),b$=es(/[\dA-Fa-f]/),I$=es(/[!-/:-@[-`{-~]/);function ue(t){return t!==null&&t<-2}function ze(t){return t!==null&&(t<0||t===32)}function xe(t){return t===-2||t===-1||t===32}const tf=es(new RegExp("\\p{P}|\\p{S}","u")),js=es(/\s/);function es(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function aa(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&$t(t.charCodeAt(n+1))&&$t(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Re(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return xe(l)?(t.enter(n),a(l)):e(l)}function a(l){return xe(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const C$={tokenize:A$};function A$(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Re(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ue(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const P$={tokenize:R$},zE={tokenize:N$};function R$(t){const e=this,n=[];let r=0,i,s,o;return a;function a(x){if(r<n.length){const M=n[r];return e.containerState=M[1],t.attempt(M[0].continuation,l,u)(x)}return u(x)}function l(x){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&w();const M=e.events.length;let j=M,L;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){L=e.events[j][1].end;break}v(r);let I=M;for(;I<e.events.length;)e.events[I][1].end={...L},I++;return An(e.events,j+1,0,e.events.slice(M)),e.events.length=I,u(x)}return a(x)}function u(x){if(r===n.length){if(!i)return f(x);if(i.currentConstruct&&i.currentConstruct.concrete)return g(x);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(zE,h,d)(x)}function h(x){return i&&w(),v(r),f(x)}function d(x){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(x)}function f(x){return e.containerState={},t.attempt(zE,p,g)(x)}function p(x){return r++,n.push([e.currentConstruct,e.containerState]),f(x)}function g(x){if(x===null){i&&w(),v(0),t.consume(x);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(x)}function k(x){if(x===null){D(t.exit("chunkFlow"),!0),v(0),t.consume(x);return}return ue(x)?(t.consume(x),D(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(x),k)}function D(x,M){const j=e.sliceStream(x);if(M&&j.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(j),e.parser.lazy[x.start.line]){let L=i.events.length;for(;L--;)if(i.events[L][1].start.offset<o&&(!i.events[L][1].end||i.events[L][1].end.offset>o))return;const I=e.events.length;let T=I,A,_;for(;T--;)if(e.events[T][0]==="exit"&&e.events[T][1].type==="chunkFlow"){if(A){_=e.events[T][1].end;break}A=!0}for(v(r),L=I;L<e.events.length;)e.events[L][1].end={..._},L++;An(e.events,T+1,0,e.events.slice(I)),e.events.length=L}}function v(x){let M=n.length;for(;M-- >x;){const j=n[M];e.containerState=j[1],j[0].exit.call(e,t)}n.length=x}function w(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function N$(t,e,n){return Re(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Xo(t){if(t===null||ze(t)||js(t))return 1;if(tf(t))return 2}function nf(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const vg={name:"attention",resolveAll:D$,tokenize:O$};function D$(t,e){let n=-1,r,i,s,o,a,l,u,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const d={...t[r][1].end},f={...t[n][1].start};BE(d,-l),BE(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Vn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Vn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Vn(u,nf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Vn(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,u=Vn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,An(t,r-1,n-r+3,u),n=r+u.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function O$(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Xo(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),h=Xo(l),d=!h||h===2&&i||n.includes(l),f=!i||i===2&&h||n.includes(r);return u._open=!!(s===42?d:d&&(i||!f)),u._close=!!(s===42?f:f&&(h||!d)),e(l)}}function BE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const L$={name:"autolink",tokenize:M$};function M$(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Jt(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||$t(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||$t(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||id(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),h):S$(p)?(t.consume(p),u):n(p)}function h(p){return $t(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||$t(p))&&r++<63){const g=p===45?f:d;return t.consume(p),g}return n(p)}}const Cu={partial:!0,tokenize:F$};function F$(t,e,n){return r;function r(s){return xe(s)?Re(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ue(s)?e(s):n(s)}}const uI={continuation:{tokenize:j$},exit:$$,name:"blockQuote",tokenize:V$};function V$(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return xe(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function j$(t,e,n){const r=this;return i;function i(o){return xe(o)?Re(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(uI,e,n)(o)}}function $$(t){t.exit("blockQuote")}const cI={name:"characterEscape",tokenize:U$};function U$(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return I$(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const hI={name:"characterReference",tokenize:z$};function z$(t,e,n){const r=this;let i=0,s,o;return a;function a(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),l}function l(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=$t,h(d))}function u(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=b$,h):(t.enter("characterReferenceValue"),s=7,o=yg,h(d))}function h(d){if(d===59&&i){const f=t.exit("characterReferenceValue");return o===$t&&!Rv(r.sliceSerialize(f))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(d)&&i++<s?(t.consume(d),h):n(d)}}const HE={partial:!0,tokenize:H$},WE={concrete:!0,name:"codeFenced",tokenize:B$};function B$(t,e,n){const r=this,i={partial:!0,tokenize:j};let s=0,o=0,a;return l;function l(L){return u(L)}function u(L){const I=r.events[r.events.length-1];return s=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,a=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===a?(o++,t.consume(L),h):o<3?n(L):(t.exit("codeFencedFenceSequence"),xe(L)?Re(t,d,"whitespace")(L):d(L))}function d(L){return L===null||ue(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(HE,k,M)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(L))}function f(L){return L===null||ue(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(L)):xe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Re(t,p,"whitespace")(L)):L===96&&L===a?n(L):(t.consume(L),f)}function p(L){return L===null||ue(L)?d(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(L))}function g(L){return L===null||ue(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(L)):L===96&&L===a?n(L):(t.consume(L),g)}function k(L){return t.attempt(i,M,D)(L)}function D(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),v}function v(L){return s>0&&xe(L)?Re(t,w,"linePrefix",s+1)(L):w(L)}function w(L){return L===null||ue(L)?t.check(HE,k,M)(L):(t.enter("codeFlowValue"),x(L))}function x(L){return L===null||ue(L)?(t.exit("codeFlowValue"),w(L)):(t.consume(L),x)}function M(L){return t.exit("codeFenced"),e(L)}function j(L,I,T){let A=0;return _;function _(B){return L.enter("lineEnding"),L.consume(B),L.exit("lineEnding"),P}function P(B){return L.enter("codeFencedFence"),xe(B)?Re(L,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):C(B)}function C(B){return B===a?(L.enter("codeFencedFenceSequence"),b(B)):T(B)}function b(B){return B===a?(A++,L.consume(B),b):A>=o?(L.exit("codeFencedFenceSequence"),xe(B)?Re(L,F,"whitespace")(B):F(B)):T(B)}function F(B){return B===null||ue(B)?(L.exit("codeFencedFence"),I(B)):T(B)}}}function H$(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const kp={name:"codeIndented",tokenize:q$},W$={partial:!0,tokenize:G$};function q$(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Re(t,s,"linePrefix",5)(u)}function s(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ue(u)?t.attempt(W$,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||ue(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function G$(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ue(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Re(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ue(o)?i(o):n(o)}}const K$={name:"codeText",previous:Y$,resolve:Q$,tokenize:X$};function Q$(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Y$(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function X$(t,e,n){let r=0,i,s;return o;function o(d){return t.enter("codeText"),t.enter("codeTextSequence"),a(d)}function a(d){return d===96?(t.consume(d),r++,a):(t.exit("codeTextSequence"),l(d))}function l(d){return d===null?n(d):d===32?(t.enter("space"),t.consume(d),t.exit("space"),l):d===96?(s=t.enter("codeTextSequence"),i=0,h(d)):ue(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(d))}function u(d){return d===null||d===32||d===96||ue(d)?(t.exit("codeTextData"),l(d)):(t.consume(d),u)}function h(d){return d===96?(t.consume(d),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(d)):(s.type="codeTextData",u(d))}}class J${constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ma(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ma(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ma(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ma(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ma(this.left,n.reverse())}}}function Ma(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function dI(t){const e={};let n=-1,r,i,s,o,a,l,u;const h=new J$(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Z$(h,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},a=h.slice(i,n),a.unshift(r),h.splice(i,n-i+1,a))}}return An(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function Z$(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let h,d,f=-1,p=n,g=0,k=0;const D=[k];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(h=r.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(k=f+1,D.push(k),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):D.pop(),f=D.length;f--;){const v=a.slice(D[f],D[f+1]),w=s.pop();l.push([w,w+v.length-1]),t.splice(w,2,v)}for(l.reverse(),f=-1;++f<l.length;)u[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return u}const e3={resolve:n3,tokenize:r3},t3={partial:!0,tokenize:i3};function n3(t){return dI(t),t}function r3(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ue(a)?t.check(t3,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function i3(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Re(t,s,"linePrefix")}function s(o){if(o===null||ue(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function fI(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let h=0;return d;function d(v){return v===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(v),t.exit(s),f):v===null||v===32||v===41||id(v)?n(v):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),k(v))}function f(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(a),f(v)):v===null||v===60||ue(v)?n(v):(t.consume(v),v===92?g:p)}function g(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function k(v){return!h&&(v===null||v===41||ze(v))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(v)):h<u&&v===40?(t.consume(v),h++,k):v===41?(t.consume(v),h--,k):v===null||v===32||v===40||id(v)?n(v):(t.consume(v),v===92?D:k)}function D(v){return v===40||v===41||v===92?(t.consume(v),k):k(v)}}function pI(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),h}function h(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):ue(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||ue(p)||a++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!xe(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,d):d(p)}}function mI(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):ue(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Re(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||ue(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?d:h)}function d(f){return f===o||f===92?(t.consume(f),h):h(f)}}function El(t,e){let n;return r;function r(i){return ue(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):xe(i)?Re(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const s3={name:"definition",tokenize:a3},o3={partial:!0,tokenize:l3};function a3(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return pI.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=tr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return ze(p)?El(t,u)(p):u(p)}function u(p){return fI(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(o3,d,d)(p)}function d(p){return xe(p)?Re(t,f,"whitespace")(p):f(p)}function f(p){return p===null||ue(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function l3(t,e,n){return r;function r(a){return ze(a)?El(t,i)(a):n(a)}function i(a){return mI(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return xe(a)?Re(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ue(a)?e(a):n(a)}}const u3={name:"hardBreakEscape",tokenize:c3};function c3(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ue(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const h3={name:"headingAtx",resolve:d3,tokenize:f3};function d3(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},An(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function f3(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&r++<6?(t.consume(h),o):h===null||ze(h)?(t.exit("atxHeadingSequence"),a(h)):n(h)}function a(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||ue(h)?(t.exit("atxHeading"),e(h)):xe(h)?Re(t,a,"whitespace")(h):(t.enter("atxHeadingText"),u(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),a(h))}function u(h){return h===null||h===35||ze(h)?(t.exit("atxHeadingText"),a(h)):(t.consume(h),u)}}const p3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qE=["pre","script","style","textarea"],m3={concrete:!0,name:"htmlFlow",resolveTo:v3,tokenize:_3},g3={partial:!0,tokenize:E3},y3={partial:!0,tokenize:w3};function v3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function _3(t,e,n){const r=this;let i,s,o,a,l;return u;function u(N){return h(N)}function h(N){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(N),d}function d(N){return N===33?(t.consume(N),f):N===47?(t.consume(N),s=!0,k):N===63?(t.consume(N),i=3,r.interrupt?e:R):Jt(N)?(t.consume(N),o=String.fromCharCode(N),D):n(N)}function f(N){return N===45?(t.consume(N),i=2,p):N===91?(t.consume(N),i=5,a=0,g):Jt(N)?(t.consume(N),i=4,r.interrupt?e:R):n(N)}function p(N){return N===45?(t.consume(N),r.interrupt?e:R):n(N)}function g(N){const ee="CDATA[";return N===ee.charCodeAt(a++)?(t.consume(N),a===ee.length?r.interrupt?e:C:g):n(N)}function k(N){return Jt(N)?(t.consume(N),o=String.fromCharCode(N),D):n(N)}function D(N){if(N===null||N===47||N===62||ze(N)){const ee=N===47,oe=o.toLowerCase();return!ee&&!s&&qE.includes(oe)?(i=1,r.interrupt?e(N):C(N)):p3.includes(o.toLowerCase())?(i=6,ee?(t.consume(N),v):r.interrupt?e(N):C(N)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(N):s?w(N):x(N))}return N===45||$t(N)?(t.consume(N),o+=String.fromCharCode(N),D):n(N)}function v(N){return N===62?(t.consume(N),r.interrupt?e:C):n(N)}function w(N){return xe(N)?(t.consume(N),w):_(N)}function x(N){return N===47?(t.consume(N),_):N===58||N===95||Jt(N)?(t.consume(N),M):xe(N)?(t.consume(N),x):_(N)}function M(N){return N===45||N===46||N===58||N===95||$t(N)?(t.consume(N),M):j(N)}function j(N){return N===61?(t.consume(N),L):xe(N)?(t.consume(N),j):x(N)}function L(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),l=N,I):xe(N)?(t.consume(N),L):T(N)}function I(N){return N===l?(t.consume(N),l=null,A):N===null||ue(N)?n(N):(t.consume(N),I)}function T(N){return N===null||N===34||N===39||N===47||N===60||N===61||N===62||N===96||ze(N)?j(N):(t.consume(N),T)}function A(N){return N===47||N===62||xe(N)?x(N):n(N)}function _(N){return N===62?(t.consume(N),P):n(N)}function P(N){return N===null||ue(N)?C(N):xe(N)?(t.consume(N),P):n(N)}function C(N){return N===45&&i===2?(t.consume(N),X):N===60&&i===1?(t.consume(N),Q):N===62&&i===4?(t.consume(N),te):N===63&&i===3?(t.consume(N),R):N===93&&i===5?(t.consume(N),Y):ue(N)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(g3,ae,b)(N)):N===null||ue(N)?(t.exit("htmlFlowData"),b(N)):(t.consume(N),C)}function b(N){return t.check(y3,F,ae)(N)}function F(N){return t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),B}function B(N){return N===null||ue(N)?b(N):(t.enter("htmlFlowData"),C(N))}function X(N){return N===45?(t.consume(N),R):C(N)}function Q(N){return N===47?(t.consume(N),o="",z):C(N)}function z(N){if(N===62){const ee=o.toLowerCase();return qE.includes(ee)?(t.consume(N),te):C(N)}return Jt(N)&&o.length<8?(t.consume(N),o+=String.fromCharCode(N),z):C(N)}function Y(N){return N===93?(t.consume(N),R):C(N)}function R(N){return N===62?(t.consume(N),te):N===45&&i===2?(t.consume(N),R):C(N)}function te(N){return N===null||ue(N)?(t.exit("htmlFlowData"),ae(N)):(t.consume(N),te)}function ae(N){return t.exit("htmlFlow"),e(N)}}function w3(t,e,n){const r=this;return i;function i(o){return ue(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function E3(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Cu,e,n)}}const k3={name:"htmlText",tokenize:x3};function x3(t,e,n){const r=this;let i,s,o;return a;function a(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),l}function l(R){return R===33?(t.consume(R),u):R===47?(t.consume(R),j):R===63?(t.consume(R),x):Jt(R)?(t.consume(R),T):n(R)}function u(R){return R===45?(t.consume(R),h):R===91?(t.consume(R),s=0,g):Jt(R)?(t.consume(R),w):n(R)}function h(R){return R===45?(t.consume(R),p):n(R)}function d(R){return R===null?n(R):R===45?(t.consume(R),f):ue(R)?(o=d,Q(R)):(t.consume(R),d)}function f(R){return R===45?(t.consume(R),p):d(R)}function p(R){return R===62?X(R):R===45?f(R):d(R)}function g(R){const te="CDATA[";return R===te.charCodeAt(s++)?(t.consume(R),s===te.length?k:g):n(R)}function k(R){return R===null?n(R):R===93?(t.consume(R),D):ue(R)?(o=k,Q(R)):(t.consume(R),k)}function D(R){return R===93?(t.consume(R),v):k(R)}function v(R){return R===62?X(R):R===93?(t.consume(R),v):k(R)}function w(R){return R===null||R===62?X(R):ue(R)?(o=w,Q(R)):(t.consume(R),w)}function x(R){return R===null?n(R):R===63?(t.consume(R),M):ue(R)?(o=x,Q(R)):(t.consume(R),x)}function M(R){return R===62?X(R):x(R)}function j(R){return Jt(R)?(t.consume(R),L):n(R)}function L(R){return R===45||$t(R)?(t.consume(R),L):I(R)}function I(R){return ue(R)?(o=I,Q(R)):xe(R)?(t.consume(R),I):X(R)}function T(R){return R===45||$t(R)?(t.consume(R),T):R===47||R===62||ze(R)?A(R):n(R)}function A(R){return R===47?(t.consume(R),X):R===58||R===95||Jt(R)?(t.consume(R),_):ue(R)?(o=A,Q(R)):xe(R)?(t.consume(R),A):X(R)}function _(R){return R===45||R===46||R===58||R===95||$t(R)?(t.consume(R),_):P(R)}function P(R){return R===61?(t.consume(R),C):ue(R)?(o=P,Q(R)):xe(R)?(t.consume(R),P):A(R)}function C(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,b):ue(R)?(o=C,Q(R)):xe(R)?(t.consume(R),C):(t.consume(R),F)}function b(R){return R===i?(t.consume(R),i=void 0,B):R===null?n(R):ue(R)?(o=b,Q(R)):(t.consume(R),b)}function F(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||ze(R)?A(R):(t.consume(R),F)}function B(R){return R===47||R===62||ze(R)?A(R):n(R)}function X(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function Q(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),z}function z(R){return xe(R)?Re(t,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):Y(R)}function Y(R){return t.enter("htmlTextData"),o(R)}}const Nv={name:"labelEnd",resolveAll:I3,resolveTo:C3,tokenize:A3},T3={tokenize:P3},S3={tokenize:R3},b3={tokenize:N3};function I3(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&An(t,0,t.length,n),t}function C3(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Vn(a,t.slice(s+1,s+r+3)),a=Vn(a,[["enter",h,e]]),a=Vn(a,nf(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Vn(a,[["exit",h,e],t[o-2],t[o-1],["exit",u,e]]),a=Vn(a,t.slice(o+1)),a=Vn(a,[["exit",l,e]]),An(t,s,t.length,a),t}function A3(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?d(f):(o=r.parser.defined.includes(tr(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(T3,h,o?h:d)(f):f===91?t.attempt(S3,h,o?u:d)(f):o?h(f):d(f)}function u(f){return t.attempt(b3,h,d)(f)}function h(f){return e(f)}function d(f){return s._balanced=!0,n(f)}}function P3(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return ze(d)?El(t,s)(d):s(d)}function s(d){return d===41?h(d):fI(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return ze(d)?El(t,l)(d):h(d)}function a(d){return n(d)}function l(d){return d===34||d===39||d===40?mI(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function u(d){return ze(d)?El(t,h)(d):h(d)}function h(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}function R3(t,e,n){const r=this;return i;function i(a){return pI.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(tr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function N3(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const D3={name:"labelStartImage",resolveAll:Nv.resolveAll,tokenize:O3};function O3(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const L3={name:"labelStartLink",resolveAll:Nv.resolveAll,tokenize:M3};function M3(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const xp={name:"lineEnding",tokenize:F3};function F3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Re(t,e,"linePrefix")}}const ih={name:"thematicBreak",tokenize:V3};function V3(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ue(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),xe(u)?Re(t,a,"whitespace")(u):a(u))}}const an={continuation:{tokenize:z3},exit:H3,name:"list",tokenize:U3},j3={partial:!0,tokenize:W3},$3={partial:!0,tokenize:B3};function U3(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const g=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:yg(p)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(ih,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return yg(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Cu,r.interrupt?n:h,t.attempt(j3,f,d))}function h(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return xe(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function z3(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Cu,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!xe(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt($3,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(t,t.attempt(an,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function B3(t,e,n){const r=this;return Re(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function H3(t){t.exit(this.containerState.type)}function W3(t,e,n){const r=this;return Re(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!xe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const GE={name:"setextUnderline",resolveTo:q3,tokenize:G3};function q3(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function G3(t,e,n){const r=this;let i;return s;function s(u){let h=r.events.length,d;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){d=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),xe(u)?Re(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ue(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const K3={tokenize:Q3};function Q3(t){const e=this,n=t.attempt(Cu,r,t.attempt(this.parser.constructs.flowInitial,i,Re(t,t.attempt(this.parser.constructs.flow,i,t.attempt(e3,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Y3={resolveAll:yI()},X3=gI("string"),J3=gI("text");function gI(t){return{resolveAll:yI(t==="text"?Z3:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(h){return u(h)?s(h):a(h)}function a(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return u(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function u(h){if(h===null)return!0;const d=i[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function yI(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Z3(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const eU={42:an,43:an,45:an,48:an,49:an,50:an,51:an,52:an,53:an,54:an,55:an,56:an,57:an,62:uI},tU={91:s3},nU={[-2]:kp,[-1]:kp,32:kp},rU={35:h3,42:ih,45:[GE,ih],60:m3,61:GE,95:ih,96:WE,126:WE},iU={38:hI,92:cI},sU={[-5]:xp,[-4]:xp,[-3]:xp,33:D3,38:hI,42:vg,60:[L$,k3],91:L3,92:[u3,cI],93:Nv,95:vg,96:K$},oU={null:[vg,Y3]},aU={null:[42,95]},lU={null:[]},uU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:aU,contentInitial:tU,disable:lU,document:eU,flow:rU,flowInitial:nU,insideSpan:oU,string:iU,text:sU},Symbol.toStringTag,{value:"Module"}));function cU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:I(j),check:I(L),consume:w,enter:x,exit:M,interrupt:I(L,{interrupt:!0})},u={code:null,containerState:{},defineSkip:k,events:[],now:g,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:d};let h=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function d(P){return o=Vn(o,P),D(),o[o.length-1]!==null?[]:(T(e,0),u.events=nf(s,u.events,u),u.events)}function f(P,C){return dU(p(P),C)}function p(P){return hU(o,P)}function g(){const{_bufferIndex:P,_index:C,line:b,column:F,offset:B}=r;return{_bufferIndex:P,_index:C,line:b,column:F,offset:B}}function k(P){i[P.line]=P.column,_()}function D(){let P;for(;r._index<o.length;){const C=o[r._index];if(typeof C=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<C.length;)v(C.charCodeAt(r._bufferIndex));else v(C)}}function v(P){h=h(P)}function w(P){ue(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,_()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=P}function x(P,C){const b=C||{};return b.type=P,b.start=g(),u.events.push(["enter",b,u]),a.push(b),b}function M(P){const C=a.pop();return C.end=g(),u.events.push(["exit",C,u]),C}function j(P,C){T(P,C.from)}function L(P,C){C.restore()}function I(P,C){return b;function b(F,B,X){let Q,z,Y,R;return Array.isArray(F)?ae(F):"tokenize"in F?ae([F]):te(F);function te(ne){return ye;function ye(De){const Se=De!==null&&ne[De],mt=De!==null&&ne.null,Wt=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(mt)?mt:mt?[mt]:[]];return ae(Wt)(De)}}function ae(ne){return Q=ne,z=0,ne.length===0?X:N(ne[z])}function N(ne){return ye;function ye(De){return R=A(),Y=ne,ne.partial||(u.currentConstruct=ne),ne.name&&u.parser.constructs.disable.null.includes(ne.name)?oe():ne.tokenize.call(C?Object.assign(Object.create(u),C):u,l,ee,oe)(De)}}function ee(ne){return P(Y,R),B}function oe(ne){return R.restore(),++z<Q.length?N(Q[z]):X}}}function T(P,C){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&An(u.events,C,u.events.length-C,P.resolve(u.events.slice(C),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function A(){const P=g(),C=u.previous,b=u.currentConstruct,F=u.events.length,B=Array.from(a);return{from:F,restore:X};function X(){r=P,u.previous=C,u.currentConstruct=b,u.events.length=F,a=B,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function hU(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function dU(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function fU(t){const r={constructs:aI([uU,...(t||{}).extensions||[]]),content:i(C$),defined:[],document:i(P$),flow:i(K3),lazy:{},string:i(X3),text:i(J3)};return r;function i(s){return o;function o(a){return cU(r,s,a)}}}function pU(t){for(;!dI(t););return t}const KE=/[\0\t\n\r]/g;function mU(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,h,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(KE.lastIndex=d,u=KE.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(d);break}if(p===10&&d===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<f&&(l.push(s.slice(d,f)),t+=f-d),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}d=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const gU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function yU(t){return t.replace(gU,vU)}function vU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return lI(n.slice(s?2:1),s?16:10)}return Rv(n)||t}const vI={}.hasOwnProperty;function _U(t,e,n){return typeof e!="string"&&(n=e,e=void 0),wU(n)(pU(fU(n).document().write(mU()(t,e,!0))))}function wU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(da),autolinkProtocol:A,autolinkEmail:A,atxHeading:s(Ks),blockQuote:s(mt),characterEscape:A,characterReference:A,codeFenced:s(Wt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Wt,o),codeText:s(la,o),codeTextData:A,data:A,codeFlowValue:A,definition:s(ua),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ca),hardBreakEscape:s(ha),hardBreakTrailing:s(ha),htmlFlow:s(Pu,o),htmlFlowData:A,htmlText:s(Pu,o),htmlTextData:A,image:s(af),label:o,link:s(da),listItem:s(Ru),listItemValue:f,listOrdered:s(Qs,d),listUnordered:s(Qs),paragraph:s(lf),reference:N,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ks),strong:s(fa),thematicBreak:s(Nu)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:Se,autolinkProtocol:De,blockQuote:l(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:ne,characterReference:ye,codeFenced:l(D),codeFencedFence:k,codeFencedFenceInfo:p,codeFencedFenceMeta:g,codeFlowValue:_,codeIndented:l(v),codeText:l(B),codeTextData:_,data:_,definition:l(),definitionDestinationString:M,definitionLabelString:w,definitionTitleString:x,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(b),htmlFlowData:_,htmlText:l(F),htmlTextData:_,image:l(Q),label:Y,labelText:z,lineEnding:P,link:l(X),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:R,resourceTitleString:te,resource:ae,setextHeading:l(T),setextHeadingLineSequence:I,setextHeadingText:L,strong:l(),thematicBreak:l()}};_I(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(U){let q={type:"root",children:[]};const he={stack:[q],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:h,data:n},ke=[];let Me=-1;for(;++Me<U.length;)if(U[Me][1].type==="listOrdered"||U[Me][1].type==="listUnordered")if(U[Me][0]==="enter")ke.push(Me);else{const yn=ke.pop();Me=i(U,yn,Me)}for(Me=-1;++Me<U.length;){const yn=e[U[Me][0]];vI.call(yn,U[Me][1].type)&&yn[U[Me][1].type].call(Object.assign({sliceSerialize:U[Me][2].sliceSerialize},he),U[Me][1])}if(he.tokenStack.length>0){const yn=he.tokenStack[he.tokenStack.length-1];(yn[1]||QE).call(he,void 0,yn[0])}for(q.position={start:ui(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:ui(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Me=-1;++Me<e.transforms.length;)q=e.transforms[Me](q)||q;return q}function i(U,q,he){let ke=q-1,Me=-1,yn=!1,vn,Dn,ni,xr;for(;++ke<=he;){const qt=U[ke];switch(qt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{qt[0]==="enter"?Me++:Me--,xr=void 0;break}case"lineEndingBlank":{qt[0]==="enter"&&(vn&&!xr&&!Me&&!ni&&(ni=ke),xr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:xr=void 0}if(!Me&&qt[0]==="enter"&&qt[1].type==="listItemPrefix"||Me===-1&&qt[0]==="exit"&&(qt[1].type==="listUnordered"||qt[1].type==="listOrdered")){if(vn){let ri=ke;for(Dn=void 0;ri--;){const _n=U[ri];if(_n[1].type==="lineEnding"||_n[1].type==="lineEndingBlank"){if(_n[0]==="exit")continue;Dn&&(U[Dn][1].type="lineEndingBlank",yn=!0),_n[1].type="lineEnding",Dn=ri}else if(!(_n[1].type==="linePrefix"||_n[1].type==="blockQuotePrefix"||_n[1].type==="blockQuotePrefixWhitespace"||_n[1].type==="blockQuoteMarker"||_n[1].type==="listItemIndent"))break}ni&&(!Dn||ni<Dn)&&(vn._spread=!0),vn.end=Object.assign({},Dn?U[Dn][1].start:qt[1].end),U.splice(Dn||ke,0,["exit",vn,qt[2]]),ke++,he++}if(qt[1].type==="listItemPrefix"){const ri={type:"listItem",_spread:!1,start:Object.assign({},qt[1].start),end:void 0};vn=ri,U.splice(ke,0,["enter",ri,qt[2]]),ke++,he++,ni=void 0,xr=!0}}}return U[q][1]._spread=yn,he}function s(U,q){return he;function he(ke){a.call(this,U(ke),ke),q&&q.call(this,ke)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(U,q,he){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([q,he||void 0]),U.position={start:ui(q.start),end:void 0}}function l(U){return q;function q(he){U&&U.call(this,he),u.call(this,he)}}function u(U,q){const he=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==U.type&&(q?q.call(this,U,ke[0]):(ke[1]||QE).call(this,U,ke[0]));else throw new Error("Cannot close `"+U.type+"` ("+wl({start:U.start,end:U.end})+"): its not open");he.position.end=ui(U.end)}function h(){return Pv(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(U){if(this.data.expectingFirstListItemValue){const q=this.stack[this.stack.length-2];q.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function p(){const U=this.resume(),q=this.stack[this.stack.length-1];q.lang=U}function g(){const U=this.resume(),q=this.stack[this.stack.length-1];q.meta=U}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const U=this.resume(),q=this.stack[this.stack.length-1];q.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const U=this.resume(),q=this.stack[this.stack.length-1];q.value=U.replace(/(\r?\n|\r)$/g,"")}function w(U){const q=this.resume(),he=this.stack[this.stack.length-1];he.label=q,he.identifier=tr(this.sliceSerialize(U)).toLowerCase()}function x(){const U=this.resume(),q=this.stack[this.stack.length-1];q.title=U}function M(){const U=this.resume(),q=this.stack[this.stack.length-1];q.url=U}function j(U){const q=this.stack[this.stack.length-1];if(!q.depth){const he=this.sliceSerialize(U).length;q.depth=he}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function I(U){const q=this.stack[this.stack.length-1];q.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function A(U){const he=this.stack[this.stack.length-1].children;let ke=he[he.length-1];(!ke||ke.type!=="text")&&(ke=pa(),ke.position={start:ui(U.start),end:void 0},he.push(ke)),this.stack.push(ke)}function _(U){const q=this.stack.pop();q.value+=this.sliceSerialize(U),q.position.end=ui(U.end)}function P(U){const q=this.stack[this.stack.length-1];if(this.data.atHardBreak){const he=q.children[q.children.length-1];he.position.end=ui(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(q.type)&&(A.call(this,U),_.call(this,U))}function C(){this.data.atHardBreak=!0}function b(){const U=this.resume(),q=this.stack[this.stack.length-1];q.value=U}function F(){const U=this.resume(),q=this.stack[this.stack.length-1];q.value=U}function B(){const U=this.resume(),q=this.stack[this.stack.length-1];q.value=U}function X(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=q,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function Q(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const q=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=q,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function z(U){const q=this.sliceSerialize(U),he=this.stack[this.stack.length-2];he.label=yU(q),he.identifier=tr(q).toLowerCase()}function Y(){const U=this.stack[this.stack.length-1],q=this.resume(),he=this.stack[this.stack.length-1];if(this.data.inReference=!0,he.type==="link"){const ke=U.children;he.children=ke}else he.alt=q}function R(){const U=this.resume(),q=this.stack[this.stack.length-1];q.url=U}function te(){const U=this.resume(),q=this.stack[this.stack.length-1];q.title=U}function ae(){this.data.inReference=void 0}function N(){this.data.referenceType="collapsed"}function ee(U){const q=this.resume(),he=this.stack[this.stack.length-1];he.label=q,he.identifier=tr(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function oe(U){this.data.characterReferenceType=U.type}function ne(U){const q=this.sliceSerialize(U),he=this.data.characterReferenceType;let ke;he?(ke=lI(q,he==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=Rv(q);const Me=this.stack[this.stack.length-1];Me.value+=ke}function ye(U){const q=this.stack.pop();q.position.end=ui(U.end)}function De(U){_.call(this,U);const q=this.stack[this.stack.length-1];q.url=this.sliceSerialize(U)}function Se(U){_.call(this,U);const q=this.stack[this.stack.length-1];q.url="mailto:"+this.sliceSerialize(U)}function mt(){return{type:"blockquote",children:[]}}function Wt(){return{type:"code",lang:null,meta:null,value:""}}function la(){return{type:"inlineCode",value:""}}function ua(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ca(){return{type:"emphasis",children:[]}}function Ks(){return{type:"heading",depth:0,children:[]}}function ha(){return{type:"break"}}function Pu(){return{type:"html",value:""}}function af(){return{type:"image",title:null,url:"",alt:null}}function da(){return{type:"link",title:null,url:"",children:[]}}function Qs(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function Ru(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function lf(){return{type:"paragraph",children:[]}}function fa(){return{type:"strong",children:[]}}function pa(){return{type:"text",value:""}}function Nu(){return{type:"thematicBreak"}}}function ui(t){return{line:t.line,column:t.column,offset:t.offset}}function _I(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?_I(t,r):EU(t,r)}}function EU(t,e){let n;for(n in e)if(vI.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function QE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+wl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+wl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+wl({start:e.start,end:e.end})+") is still open")}function kU(t){const e=this;e.parser=n;function n(r){return _U(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function xU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function TU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function SU(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function bU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function IU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function CU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=aa(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function AU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function PU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function wI(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function RU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return wI(t,e);const i={src:aa(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function NU(t,e){const n={src:aa(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function DU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function OU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return wI(t,e);const i={href:aa(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function LU(t,e){const n={href:aa(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function MU(t,e,n){const r=t.all(e),i=n?FU(n):EI(e),s={},o=[];if(typeof e.checked=="boolean"){const h=r[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const h=r[a];(i||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?o.push(...h.children):o.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function FU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=EI(n[r])}return e}function EI(t){const e=t.spread;return e??t.children.length>1}function VU(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function jU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $U(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function UU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zU(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=bv(e.children[1]),l=eI(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function BU(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const d=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let g={type:"element",tagName:s,properties:f,children:[]};d&&(g.children=t.all(d),t.patch(d,g),g=t.applyData(d,g)),u.push(g)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,h),t.applyData(e,h)}function HU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const YE=9,XE=32;function WU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(JE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(JE(e.slice(i),i>0,!1)),s.join("")}function JE(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===YE||s===XE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===YE||s===XE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function qU(t,e){const n={type:"text",value:WU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function GU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const KU={blockquote:xU,break:TU,code:SU,delete:bU,emphasis:IU,footnoteReference:CU,heading:AU,html:PU,imageReference:RU,image:NU,inlineCode:DU,linkReference:OU,link:LU,listItem:MU,list:VU,paragraph:jU,root:$U,strong:UU,table:zU,tableCell:HU,tableRow:BU,text:qU,thematicBreak:GU,toml:Tc,yaml:Tc,definition:Tc,footnoteDefinition:Tc};function Tc(){}const kI=-1,rf=0,kl=1,sd=2,Dv=3,Ov=4,Lv=5,Mv=6,xI=7,TI=8,ZE=typeof self=="object"?self:globalThis,QU=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case rf:case kI:return n(o,i);case kl:{const a=n([],i);for(const l of o)a.push(r(l));return a}case sd:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case Dv:return n(new Date(o),i);case Ov:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Lv:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Mv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case xI:{const{name:a,message:l}=o;return n(new ZE[a](l),i)}case TI:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new ZE[s](o),i)};return r},ek=t=>QU(new Map,t)(0),ro="",{toString:YU}={},{keys:XU}=Object,Fa=t=>{const e=typeof t;if(e!=="object"||!t)return[rf,e];const n=YU.call(t).slice(8,-1);switch(n){case"Array":return[kl,ro];case"Object":return[sd,ro];case"Date":return[Dv,ro];case"RegExp":return[Ov,ro];case"Map":return[Lv,ro];case"Set":return[Mv,ro];case"DataView":return[kl,n]}return n.includes("Array")?[kl,n]:n.includes("Error")?[xI,n]:[sd,n]},Sc=([t,e])=>t===rf&&(e==="function"||e==="symbol"),JU=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Fa(o);switch(a){case rf:{let h=o;switch(l){case"bigint":a=TI,h=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([kI],o)}return i([a,h],o)}case kl:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const h=[],d=i([a,h],o);for(const f of o)h.push(s(f));return d}case sd:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],d=i([a,h],o);for(const f of XU(o))(t||!Sc(Fa(o[f])))&&h.push([s(f),s(o[f])]);return d}case Dv:return i([a,o.toISOString()],o);case Ov:{const{source:h,flags:d}=o;return i([a,{source:h,flags:d}],o)}case Lv:{const h=[],d=i([a,h],o);for(const[f,p]of o)(t||!(Sc(Fa(f))||Sc(Fa(p))))&&h.push([s(f),s(p)]);return d}case Mv:{const h=[],d=i([a,h],o);for(const f of o)(t||!Sc(Fa(f)))&&h.push(s(f));return d}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},tk=(t,{json:e,lossy:n}={})=>{const r=[];return JU(!(e||n),!!e,new Map,r)(t),r},od=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ek(tk(t,e)):structuredClone(t):(t,e)=>ek(tk(t,e));function ZU(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function ez(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function tz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||ZU,r=t.options.footnoteBackLabel||ez,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const h=t.all(u),d=String(u.identifier).toUpperCase(),f=aa(d.toLowerCase());let p=0;const g=[],k=t.footnoteCounts.get(d);for(;k!==void 0&&++p<=k;){g.length>0&&g.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,p);typeof w=="string"&&(w={type:"text",value:w}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const D=h[h.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const w=D.children[D.children.length-1];w&&w.type==="text"?w.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...g)}else h.push(...g);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(h,!0)};t.patch(u,v),a.push(v)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...od(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const sf=function(t){if(t==null)return sz;if(typeof t=="function")return of(t);if(typeof t=="object")return Array.isArray(t)?nz(t):rz(t);if(typeof t=="string")return iz(t);throw new Error("Expected function, string, or object as test")};function nz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sf(t[n]);return of(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function rz(t){const e=t;return of(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function iz(t){return of(e);function e(n){return n&&n.type===t}}function of(t){return e;function e(n,r,i){return!!(oz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function sz(){return!0}function oz(t){return t!==null&&typeof t=="object"&&"type"in t}const SI=[],az=!0,_g=!1,lz="skip";function bI(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=sf(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,h){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=SI,g,k,D;if((!e||s(l,u,h[h.length-1]||void 0))&&(p=uz(n(l,h)),p[0]===_g))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==lz)for(k=(r?v.children.length:-1)+o,D=h.concat(v);k>-1&&k<v.children.length;){const w=v.children[k];if(g=a(w,k,D)(),g[0]===_g)return g;k=typeof g[1]=="number"?g[1]:k+o}}return p}}}function uz(t){return Array.isArray(t)?t:typeof t=="number"?[az,t]:t==null?SI:[t]}function Fv(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),bI(t,s,a,i);function a(l,u){const h=u[u.length-1],d=h?h.children.indexOf(l):void 0;return o(l,d,h)}}const wg={}.hasOwnProperty,cz={};function hz(t,e){const n=e||cz,r=new Map,i=new Map,s=new Map,o={...KU,...n.handlers},a={all:u,applyData:fz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:dz,wrap:mz};return Fv(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?r:i,f=String(h.identifier).toUpperCase();d.has(f)||d.set(f,h)}}),a;function l(h,d){const f=h.type,p=a.handlers[f];if(wg.call(a.handlers,f)&&p)return p(a,h,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in h){const{children:k,...D}=h,v=od(D);return v.children=a.all(h),v}return od(h)}return(a.options.unknownHandler||pz)(a,h,d)}function u(h){const d=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const g=a.one(f[p],h);if(g){if(p&&f[p-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=nk(g.value)),!Array.isArray(g)&&g.type==="element")){const k=g.children[0];k&&k.type==="text"&&(k.value=nk(k.value))}Array.isArray(g)?d.push(...g):d.push(g)}}}return d}}function dz(t,e){t.position&&(e.position=e$(t))}function fz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,od(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function pz(t,e){const n=e.data||{},r="value"in e&&!(wg.call(n,"hProperties")||wg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function mz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function nk(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function rk(t,e){const n=hz(t,e),r=n.one(t,void 0),i=tz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function gz(t,e){return t&&"run"in t?async function(n,r){const i=rk(n,{file:r,...e});await t.run(i,r)}:function(n,r){return rk(n,{file:r,...t||e})}}function ik(t){if(t)throw t}var sh=Object.prototype.hasOwnProperty,II=Object.prototype.toString,sk=Object.defineProperty,ok=Object.getOwnPropertyDescriptor,ak=function(e){return typeof Array.isArray=="function"?Array.isArray(e):II.call(e)==="[object Array]"},lk=function(e){if(!e||II.call(e)!=="[object Object]")return!1;var n=sh.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&sh.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||sh.call(e,i)},uk=function(e,n){sk&&n.name==="__proto__"?sk(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},ck=function(e,n){if(n==="__proto__")if(sh.call(e,n)){if(ok)return ok(e,n).value}else return;return e[n]},yz=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=ck(a,n),i=ck(e,n),a!==i&&(h&&i&&(lk(i)||(s=ak(i)))?(s?(s=!1,o=r&&ak(r)?r:[]):o=r&&lk(r)?r:{},uk(a,{name:n,newValue:t(h,o,i)})):typeof i<"u"&&uk(a,{name:n,newValue:i}));return a};const Tp=Tg(yz);function Eg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function vz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const h=t[++s];let d=-1;if(l){o(l);return}for(;++d<i.length;)(u[d]===null||u[d]===void 0)&&(u[d]=i[d]);i=u,h?_z(h,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function _z(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const h=u;if(a&&n)throw h;return i(h)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const ar={basename:wz,dirname:Ez,extname:kz,join:xz,sep:"/"};function wz(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Au(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Ez(t){if(Au(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function kz(t){Au(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function xz(...t){let e=-1,n;for(;++e<t.length;)Au(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Tz(n)}function Tz(t){Au(t);const e=t.codePointAt(0)===47;let n=Sz(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Sz(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Au(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const bz={cwd:Iz};function Iz(){return"/"}function kg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Cz(t){if(typeof t=="string")t=new URL(t);else if(!kg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Az(t)}function Az(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const Sp=["history","path","basename","stem","extname","dirname"];class CI{constructor(e){let n;e?kg(e)?n={path:e}:typeof e=="string"||Pz(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":bz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Sp.length;){const s=Sp[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)Sp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ar.basename(this.path):void 0}set basename(e){Ip(e,"basename"),bp(e,"basename"),this.path=ar.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ar.dirname(this.path):void 0}set dirname(e){hk(this.basename,"dirname"),this.path=ar.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ar.extname(this.path):void 0}set extname(e){if(bp(e,"extname"),hk(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ar.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){kg(e)&&(e=Cz(e)),Ip(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ar.basename(this.path,this.extname):void 0}set stem(e){Ip(e,"stem"),bp(e,"stem"),this.path=ar.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Ht(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function bp(t,e){if(t&&t.includes(ar.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ar.sep+"`")}function Ip(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hk(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Pz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Rz=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Nz={}.hasOwnProperty;class Vv extends Rz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vz()}copy(){const e=new Vv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Tp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Pp("data",this.frozen),this.namespace[e]=n,this):Nz.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Pp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=bc(e),r=this.parser||this.Parser;return Cp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Cp("process",this.parser||this.Parser),Ap("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=bc(e),l=r.parse(a);r.run(l,a,function(h,d,f){if(h||!d||!f)return u(h);const p=d,g=r.stringify(p,f);Lz(g)?f.value=g:f.result=g,u(h,f)});function u(h,d){h||!d?o(h):s?s(d):n(void 0,d)}}}processSync(e){let n=!1,r;return this.freeze(),Cp("processSync",this.parser||this.Parser),Ap("processSync",this.compiler||this.Compiler),this.process(e,i),fk("processSync","process",n),r;function i(s,o){n=!0,ik(s),r=o}}run(e,n,r){dk(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=bc(n);i.run(e,l,u);function u(h,d,f){const p=d||e;h?a(h):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),fk("runSync","run",r),i;function s(o,a){ik(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=bc(n),i=this.compiler||this.Compiler;return Ap("stringify",i),dk(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Pp("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...d]=u;l(h,d)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=Tp(!0,i.settings,u.settings))}function a(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const d=u[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,h){let d=-1,f=-1;for(;++d<r.length;)if(r[d][0]===u){f=d;break}if(f===-1)r.push([u,...h]);else if(h.length>0){let[p,...g]=h;const k=r[f][1];Eg(k)&&Eg(p)&&(p=Tp(!0,k,p)),r[f]=[u,p,...g]}}}}const Dz=new Vv().freeze();function Cp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ap(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Pp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dk(t){if(!Eg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function fk(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function bc(t){return Oz(t)?t:new CI(t)}function Oz(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Lz(t){return typeof t=="string"||Mz(t)}function Mz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Fz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pk=[],mk={allowDangerousHtml:!0},Vz=/^(https?|ircs?|mailto|xmpp)$/i,jz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $z(t){const e=Uz(t),n=zz(t);return Bz(e.runSync(e.parse(n),n),t)}function Uz(t){const e=t.rehypePlugins||pk,n=t.remarkPlugins||pk,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...mk}:mk;return Dz().use(kU).use(n).use(gz,r).use(e)}function zz(t){const e=t.children||"",n=new CI;return typeof e=="string"&&(n.value=e),n}function Bz(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Hz;for(const h of jz)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+Fz+h.id,void 0);return Fv(t,u),s$(t,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function u(h,d,f){if(h.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let p;for(p in Ep)if(Object.hasOwn(Ep,p)&&Object.hasOwn(h.properties,p)){const g=h.properties[p],k=Ep[p];(k===null||k.includes(h.tagName))&&(h.properties[p]=l(String(g||""),p,h))}}if(h.type==="element"){let p=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!p&&r&&typeof d=="number"&&(p=!r(h,d,f)),p&&f&&typeof d=="number")return a&&h.children?f.children.splice(d,1,...h.children):f.children.splice(d,1),d}}}function Hz(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Vz.test(t.slice(0,e))?t:""}function gk(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Wz(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function qz(t,e,n){const i=sf((n||{}).ignore||[]),s=Gz(e);let o=-1;for(;++o<s.length;)bI(t,"text",a);function a(u,h){let d=-1,f;for(;++d<h.length;){const p=h[d],g=f?f.children:void 0;if(i(p,g?g.indexOf(p):void 0,f))return;f=p}if(f)return l(u,h)}function l(u,h){const d=h[h.length-1],f=s[o][0],p=s[o][1];let g=0;const D=d.children.indexOf(u);let v=!1,w=[];f.lastIndex=0;let x=f.exec(u.value);for(;x;){const M=x.index,j={index:x.index,input:x.input,stack:[...h,u]};let L=p(...x,j);if(typeof L=="string"&&(L=L.length>0?{type:"text",value:L}:void 0),L===!1?f.lastIndex=M+1:(g!==M&&w.push({type:"text",value:u.value.slice(g,M)}),Array.isArray(L)?w.push(...L):L&&w.push(L),g=M+x[0].length,v=!0),!f.global)break;x=f.exec(u.value)}return v?(g<u.value.length&&w.push({type:"text",value:u.value.slice(g)}),d.children.splice(D,1,...w)):w=[u],D+w.length}}function Gz(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Kz(i[0]),Qz(i[1])])}return e}function Kz(t){return typeof t=="string"?new RegExp(Wz(t),"g"):t}function Qz(t){return typeof t=="function"?t:function(){return t}}const Rp="phrasing",Np=["autolink","link","image","label"];function Yz(){return{transforms:[r9],enter:{literalAutolink:Jz,literalAutolinkEmail:Dp,literalAutolinkHttp:Dp,literalAutolinkWww:Dp},exit:{literalAutolink:n9,literalAutolinkEmail:t9,literalAutolinkHttp:Zz,literalAutolinkWww:e9}}}function Xz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Rp,notInConstruct:Np},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Rp,notInConstruct:Np},{character:":",before:"[ps]",after:"\\/",inConstruct:Rp,notInConstruct:Np}]}}function Jz(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Dp(t){this.config.enter.autolinkProtocol.call(this,t)}function Zz(t){this.config.exit.autolinkProtocol.call(this,t)}function e9(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function t9(t){this.config.exit.autolinkEmail.call(this,t)}function n9(t){this.exit(t)}function r9(t){qz(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,i9],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),s9]],{ignore:["link","linkReference"]})}function i9(t,e,n,r,i){let s="";if(!AI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!o9(n)))return!1;const o=a9(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function s9(t,e,n,r){return!AI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function o9(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function a9(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=gk(t,"(");let s=gk(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function AI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||js(n)||tf(n))&&(!e||n!==47)}PI.peek=g9;function l9(){this.buffer()}function u9(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function c9(){this.buffer()}function h9(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function d9(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=tr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function f9(t){this.exit(t)}function p9(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=tr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function m9(t){this.exit(t)}function g9(){return"["}function PI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function y9(){return{enter:{gfmFootnoteCallString:l9,gfmFootnoteCall:u9,gfmFootnoteDefinitionLabelString:c9,gfmFootnoteDefinition:h9},exit:{gfmFootnoteCallString:d9,gfmFootnoteCall:f9,gfmFootnoteDefinitionLabelString:p9,gfmFootnoteDefinition:m9}}}function v9(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:PI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),h=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),h(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?RI:_9))),u(),l}}function _9(t,e,n){return e===0?t:RI(t,e,n)}function RI(t,e,n){return(n?"":"    ")+t}const w9=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];NI.peek=S9;function E9(){return{canContainEols:["delete"],enter:{strikethrough:x9},exit:{strikethrough:T9}}}function k9(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:w9}],handlers:{delete:NI}}}function x9(t){this.enter({type:"delete",children:[]},t)}function T9(t){this.exit(t)}function NI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function S9(){return"~"}function b9(t){return t.length}function I9(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||b9,s=[],o=[],a=[],l=[];let u=0,h=-1;for(;++h<t.length;){const k=[],D=[];let v=-1;for(t[h].length>u&&(u=t[h].length);++v<t[h].length;){const w=C9(t[h][v]);if(n.alignDelimiters!==!1){const x=i(w);D[v]=x,(l[v]===void 0||x>l[v])&&(l[v]=x)}k.push(w)}o[h]=k,a[h]=D}let d=-1;if(typeof r=="object"&&"length"in r)for(;++d<u;)s[d]=yk(r[d]);else{const k=yk(r);for(;++d<u;)s[d]=k}d=-1;const f=[],p=[];for(;++d<u;){const k=s[d];let D="",v="";k===99?(D=":",v=":"):k===108?D=":":k===114&&(v=":");let w=n.alignDelimiters===!1?1:Math.max(1,l[d]-D.length-v.length);const x=D+"-".repeat(w)+v;n.alignDelimiters!==!1&&(w=D.length+w+v.length,w>l[d]&&(l[d]=w),p[d]=w),f[d]=x}o.splice(1,0,f),a.splice(1,0,p),h=-1;const g=[];for(;++h<o.length;){const k=o[h],D=a[h];d=-1;const v=[];for(;++d<u;){const w=k[d]||"";let x="",M="";if(n.alignDelimiters!==!1){const j=l[d]-(D[d]||0),L=s[d];L===114?x=" ".repeat(j):L===99?j%2?(x=" ".repeat(j/2+.5),M=" ".repeat(j/2-.5)):(x=" ".repeat(j/2),M=x):M=" ".repeat(j)}n.delimiterStart!==!1&&!d&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||d)&&v.push(" "),n.alignDelimiters!==!1&&v.push(x),v.push(w),n.alignDelimiters!==!1&&v.push(M),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||d!==u-1)&&v.push("|")}g.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return g.join(`
`)}function C9(t){return t==null?"":String(t)}function yk(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function A9(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),P9);return i(),o}function P9(t,e,n){return">"+(n?"":" ")+t}function R9(t,e){return vk(t,e.inConstruct,!0)&&!vk(t,e.notInConstruct,!1)}function vk(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function _k(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&R9(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function N9(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function D9(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function O9(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function L9(t,e,n,r){const i=O9(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(D9(t,n)){const d=n.enter("codeIndented"),f=n.indentLines(s,M9);return d(),f}const a=n.createTracker(r),l=i.repeat(Math.max(N9(s,i)+1,3)),u=n.enter("codeFenced");let h=a.move(l);if(t.lang){const d=n.enter(`codeFencedLang${o}`);h+=a.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...a.current()})),d()}if(t.lang&&t.meta){const d=n.enter(`codeFencedMeta${o}`);h+=a.move(" "),h+=a.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...a.current()})),d()}return h+=a.move(`
`),s&&(h+=a.move(s+`
`)),h+=a.move(l),u(),h}function M9(t,e,n){return(n?"":"    ")+t}function jv(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function F9(t,e,n,r){const i=jv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function V9(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Jl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ad(t,e,n){const r=Xo(t),i=Xo(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}DI.peek=j9;function DI(t,e,n,r){const i=V9(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=ad(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=Jl(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=ad(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+Jl(d));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},a+l+p}function j9(t,e,n){return n.options.emphasis||"*"}function $9(t,e){let n=!1;return Fv(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,_g}),!!((!t.depth||t.depth<3)&&Pv(t)&&(e.options.setext||n))}function U9(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if($9(t,n)){const h=n.enter("headingSetext"),d=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),h(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Jl(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}OI.peek=z9;function OI(t){return t.value||""}function z9(){return"<"}LI.peek=B9;function LI(t,e,n,r){const i=jv(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function B9(){return"!"}MI.peek=H9;function MI(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function H9(){return"!"}FI.peek=W9;function FI(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function W9(){return"`"}function VI(t,e){const n=Pv(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}jI.peek=q9;function jI(t,e,n,r){const i=jv(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(VI(t,n)){const h=n.stack;n.stack=[],a=n.enter("autolink");let d=o.move("<");return d+=o.move(n.containerPhrasing(t,{before:d,after:">",...o.current()})),d+=o.move(">"),a(),n.stack=h,d}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function q9(t,e,n){return VI(t,n)?"<":"["}$I.peek=G9;function $I(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const h=n.stack;n.stack=[],o=n.enter("reference");const d=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=h,s(),i==="full"||!u||u!==d?l+=a.move(d+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function G9(){return"["}function $v(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function K9(t){const e=$v(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Q9(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function UI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Y9(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?Q9(n):$v(n);const a=t.ordered?o==="."?")":".":K9(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),UI(n)===o&&h){let d=-1;for(;++d<t.children.length;){const f=t.children[d];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function X9(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function J9(t,e,n,r){const i=X9(n);let s=n.bulletCurrent||$v(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),h);return l(),u;function h(d,f,p){return f?(p?"":" ".repeat(o))+d:(p?s:s+" ".repeat(o-s.length))+d}}function Z9(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const eB=sf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function tB(t,e,n,r){return(t.children.some(function(o){return eB(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function nB(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}zI.peek=rB;function zI(t,e,n,r){const i=nB(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),h=ad(r.before.charCodeAt(r.before.length-1),u,i);h.inside&&(l=Jl(u)+l.slice(1));const d=l.charCodeAt(l.length-1),f=ad(r.after.charCodeAt(0),d,i);f.inside&&(l=l.slice(0,-1)+Jl(d));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:h.outside},a+l+p}function rB(t,e,n){return n.options.strong||"*"}function iB(t,e,n,r){return n.safe(t.value,r)}function sB(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function oB(t,e,n){const r=(UI(n)+(n.options.ruleSpaces?" ":"")).repeat(sB(n));return n.options.ruleSpaces?r.slice(0,-1):r}const BI={blockquote:A9,break:_k,code:L9,definition:F9,emphasis:DI,hardBreak:_k,heading:U9,html:OI,image:LI,imageReference:MI,inlineCode:FI,link:jI,linkReference:$I,list:Y9,listItem:J9,paragraph:Z9,root:tB,strong:zI,text:iB,thematicBreak:oB};function aB(){return{enter:{table:lB,tableData:wk,tableHeader:wk,tableRow:cB},exit:{codeText:hB,table:uB,tableData:Op,tableHeader:Op,tableRow:Op}}}function lB(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function uB(t){this.exit(t),this.data.inTable=void 0}function cB(t){this.enter({type:"tableRow",children:[]},t)}function Op(t){this.exit(t)}function wk(t){this.enter({type:"tableCell",children:[]},t)}function hB(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,dB));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function dB(t,e){return e==="|"?e:t}function fB(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,g,k,D){return u(h(p,k,D),p.align)}function a(p,g,k,D){const v=d(p,k,D),w=u([v]);return w.slice(0,w.indexOf(`
`))}function l(p,g,k,D){const v=k.enter("tableCell"),w=k.enter("phrasing"),x=k.containerPhrasing(p,{...D,before:s,after:s});return w(),v(),x}function u(p,g){return I9(p,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function h(p,g,k){const D=p.children;let v=-1;const w=[],x=g.enter("table");for(;++v<D.length;)w[v]=d(D[v],g,k);return x(),w}function d(p,g,k){const D=p.children;let v=-1;const w=[],x=g.enter("tableRow");for(;++v<D.length;)w[v]=l(D[v],p,g,k);return x(),w}function f(p,g,k){let D=BI.inlineCode(p,g,k);return k.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function pB(){return{exit:{taskListCheckValueChecked:Ek,taskListCheckValueUnchecked:Ek,paragraph:gB}}}function mB(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:yB}}}function Ek(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function gB(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function yB(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=BI.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(h){return h+o}}function vB(){return[Yz(),y9(),E9(),aB(),pB()]}function _B(t){return{extensions:[Xz(),v9(t),k9(),fB(t),mB()]}}const wB={tokenize:bB,partial:!0},HI={tokenize:IB,partial:!0},WI={tokenize:CB,partial:!0},qI={tokenize:AB,partial:!0},EB={tokenize:PB,partial:!0},GI={name:"wwwAutolink",tokenize:TB,previous:QI},KI={name:"protocolAutolink",tokenize:SB,previous:YI},ti={name:"emailAutolink",tokenize:xB,previous:XI},kr={};function kB(){return{text:kr}}let ls=48;for(;ls<123;)kr[ls]=ti,ls++,ls===58?ls=65:ls===91&&(ls=97);kr[43]=ti;kr[45]=ti;kr[46]=ti;kr[95]=ti;kr[72]=[ti,KI];kr[104]=[ti,KI];kr[87]=[ti,GI];kr[119]=[ti,GI];function xB(t,e,n){const r=this;let i,s;return o;function o(d){return!xg(d)||!XI.call(r,r.previous)||Uv(r.events)?n(d):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(d))}function a(d){return xg(d)?(t.consume(d),a):d===64?(t.consume(d),l):n(d)}function l(d){return d===46?t.check(EB,h,u)(d):d===45||d===95||$t(d)?(s=!0,t.consume(d),l):h(d)}function u(d){return t.consume(d),i=!0,l}function h(d){return s&&i&&Jt(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(d)):n(d)}}function TB(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!QI.call(r,r.previous)||Uv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(wB,t.attempt(HI,t.attempt(WI,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function SB(t,e,n){const r=this;let i="",s=!1;return o;function o(d){return(d===72||d===104)&&YI.call(r,r.previous)&&!Uv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(d),t.consume(d),a):n(d)}function a(d){if(Jt(d)&&i.length<5)return i+=String.fromCodePoint(d),t.consume(d),a;if(d===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(d),l}return n(d)}function l(d){return d===47?(t.consume(d),s?u:(s=!0,l)):n(d)}function u(d){return d===null||id(d)||ze(d)||js(d)||tf(d)?n(d):t.attempt(HI,t.attempt(WI,h),n)(d)}function h(d){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(d)}}function bB(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function IB(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(qI,l,a)(u):u===null||ze(u)||js(u)||u!==45&&tf(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function CB(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(qI,e,s)(o):o===null||ze(o)||js(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function AB(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||ze(a)||js(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||ze(a)||js(a)?e(a):r(a)}function s(a){return Jt(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):Jt(a)?(t.consume(a),o):n(a)}}function PB(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return $t(s)?n(s):e(s)}}function QI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||ze(t)}function YI(t){return!Jt(t)}function XI(t){return!(t===47||xg(t))}function xg(t){return t===43||t===45||t===46||t===95||$t(t)}function Uv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const RB={tokenize:jB,partial:!0};function NB(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:MB,continuation:{tokenize:FB},exit:VB}},text:{91:{name:"gfmFootnoteCall",tokenize:LB},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:DB,resolveTo:OB}}}}function DB(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=tr(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function OB(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function LB(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(d){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),l}function l(d){return d!==94?n(d):(t.enter("gfmFootnoteCallMarker"),t.consume(d),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(d){if(s>999||d===93&&!o||d===null||d===91||ze(d))return n(d);if(d===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(tr(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(d),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(d)}return ze(d)||(o=!0),s++,t.consume(d),d===92?h:u}function h(d){return d===91||d===92||d===93?(t.consume(d),s++,u):u(d)}}function MB(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(g)}function h(g){if(o>999||g===93&&!a||g===null||g===91||ze(g))return n(g);if(g===93){t.exit("chunkString");const k=t.exit("gfmFootnoteDefinitionLabelString");return s=tr(r.sliceSerialize(k)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return ze(g)||(a=!0),o++,t.consume(g),g===92?d:h}function d(g){return g===91||g===92||g===93?(t.consume(g),o++,h):h(g)}function f(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),i.includes(s)||i.push(s),Re(t,p,"gfmFootnoteDefinitionWhitespace")):n(g)}function p(g){return e(g)}}function FB(t,e,n){return t.check(Cu,e,t.attempt(RB,e,n))}function VB(t){t.exit("gfmFootnoteDefinition")}function jB(t,e,n){const r=this;return Re(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function $B(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},d={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",h,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",d,a]],p=a.parser.constructs.insideSpan.null;p&&An(f,f.length,0,nf(p,o.slice(u+1,l),a)),An(f,f.length,0,[["exit",d,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",h,a]]),An(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,h=this.events;let d=0;return f;function f(g){return u===126&&h[h.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),p(g))}function p(g){const k=Xo(u);if(g===126)return d>1?l(g):(o.consume(g),d++,p);if(d<2&&!n)return l(g);const D=o.exit("strikethroughSequenceTemporary"),v=Xo(g);return D._open=!v||v===2&&!!k,D._close=!k||k===2&&!!v,a(g)}}}class UB{constructor(){this.map=[]}add(e,n,r){zB(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function zB(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function BB(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function HB(){return{flow:{null:{name:"table",tokenize:WB,resolveAll:qB}}}}function WB(t,e,n){const r=this;let i=0,s=0,o;return a;function a(_){let P=r.events.length-1;for(;P>-1;){const F=r.events[P][1].type;if(F==="lineEnding"||F==="linePrefix")P--;else break}const C=P>-1?r.events[P][1].type:null,b=C==="tableHead"||C==="tableRow"?L:l;return b===L&&r.parser.lazy[r.now().line]?n(_):b(_)}function l(_){return t.enter("tableHead"),t.enter("tableRow"),u(_)}function u(_){return _===124||(o=!0,s+=1),h(_)}function h(_){return _===null?n(_):ue(_)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),p):n(_):xe(_)?Re(t,h,"whitespace")(_):(s+=1,o&&(o=!1,i+=1),_===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),o=!0,h):(t.enter("data"),d(_)))}function d(_){return _===null||_===124||ze(_)?(t.exit("data"),h(_)):(t.consume(_),_===92?f:d)}function f(_){return _===92||_===124?(t.consume(_),d):d(_)}function p(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(t.enter("tableDelimiterRow"),o=!1,xe(_)?Re(t,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):g(_))}function g(_){return _===45||_===58?D(_):_===124?(o=!0,t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),k):j(_)}function k(_){return xe(_)?Re(t,D,"whitespace")(_):D(_)}function D(_){return _===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),v):_===45?(s+=1,v(_)):_===null||ue(_)?M(_):j(_)}function v(_){return _===45?(t.enter("tableDelimiterFiller"),w(_)):j(_)}function w(_){return _===45?(t.consume(_),w):_===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(_),t.exit("tableDelimiterMarker"),x):(t.exit("tableDelimiterFiller"),x(_))}function x(_){return xe(_)?Re(t,M,"whitespace")(_):M(_)}function M(_){return _===124?g(_):_===null||ue(_)?!o||i!==s?j(_):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(_)):j(_)}function j(_){return n(_)}function L(_){return t.enter("tableRow"),I(_)}function I(_){return _===124?(t.enter("tableCellDivider"),t.consume(_),t.exit("tableCellDivider"),I):_===null||ue(_)?(t.exit("tableRow"),e(_)):xe(_)?Re(t,I,"whitespace")(_):(t.enter("data"),T(_))}function T(_){return _===null||_===124||ze(_)?(t.exit("data"),I(_)):(t.consume(_),_===92?A:T)}function A(_){return _===92||_===124?(t.consume(_),T):T(_)}}function qB(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,h,d;const f=new UB;for(;++n<t.length;){const p=t[n],g=p[1];p[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(kk(f,e,l,u,h),h=void 0,l=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",u,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,d=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,h={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",h,e]])),i=g.type==="tableDelimiterRow"?2:h?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],d=Ic(f,e,s,i,void 0,d),s=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],d=Ic(f,e,s,i,void 0,d)),s=o,o=[s[1],n,0,0])):g.type==="tableHead"?(a=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],d=Ic(f,e,s,i,n,d)):o[1]!==0&&(d=Ic(f,e,o,i,n,d)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&kk(f,e,l,u,h),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=BB(e.events,n))}return t}function Ic(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},lo(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=lo(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=lo(e.events,n[2]),h=lo(e.events,n[3]),d={type:a,start:Object.assign({},u),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",d,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,k=n[3]-n[2]-1;t.add(g,k,[])}}t.add(n[3]+1,0,[["exit",d,e]])}return i!==void 0&&(s.end=Object.assign({},lo(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function kk(t,e,n,r,i){const s=[],o=lo(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function lo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const GB={name:"tasklistCheck",tokenize:QB};function KB(){return{text:{91:GB}}}function QB(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return ze(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return ue(l)?e(l):xe(l)?t.check({tokenize:YB},e,n)(l):n(l)}}function YB(t,e,n){return Re(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function XB(t){return aI([kB(),NB(),$B(t),HB(),KB()])}const JB={};function ZB(t){const e=this,n=t||JB,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(XB(n)),s.push(vB()),o.push(_B(n))}function e5({theme:t,setTheme:e,user:n,isAuthorized:r,handleSignIn:i,handleSignOut:s}){const[o,a]=O.useState(!1),[l,u]=O.useState("Loading...");O.useEffect(()=>{o&&l==="Loading..."&&fetch("CHANGELOG.md").then(d=>{if(d.ok)return d.text();throw new Error("Could not load changelog.")}).then(d=>u(d)).catch(d=>u(d.message))},[o]);const h=()=>n?n.isAnonymous?E.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 rounded-md font-semibold text-sm bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:[E.jsx(Fe,{name:"google",type:"fab",className:"mr-2"})," Admin Sign-In"]}):E.jsxs("div",{className:"space-y-3 text-center",children:[E.jsxs("p",{children:["Signed in as ",E.jsx("span",{className:"font-semibold",children:n.email})]}),r&&E.jsx("p",{className:"text-green-600 dark:text-green-400 font-bold",children:"You have admin privileges."}),E.jsx("button",{className:"w-full px-4 py-2 rounded-md font-semibold text-sm bg-gray-500 text-white hover:bg-gray-600",onClick:s,children:"Sign Out"})]}):null;return E.jsxs("div",{className:"settings-view space-y-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold mb-2",children:"Theme"}),E.jsxs("div",{className:"flex w-full rounded-md shadow-sm",children:[E.jsx("button",{onClick:()=>e("light"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-l-md border ${t==="light"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Light"}),E.jsx("button",{onClick:()=>e("dark"),className:`flex-1 px-4 py-2 text-sm font-medium border-t border-b ${t==="dark"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Dark"}),E.jsx("button",{onClick:()=>e("system"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-r-md border ${t==="system"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"System"})]})]})}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsxs("button",{className:"flex justify-between items-center w-full font-semibold",onClick:()=>a(!o),"aria-expanded":o,children:[E.jsx("span",{children:"Version History & Changelog"}),E.jsx(Fe,{name:o?"chevron-up":"chevron-down"})]}),o&&E.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none mt-4 pt-4 border-t border-border-light dark:border-border-dark",children:E.jsx($z,{remarkPlugins:[ZB],children:l})})]})}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold mb-2 text-center",children:"Account"}),h()]})})]})}const xk=new Pr,t5=t=>{try{localStorage.setItem("swimMeetFavorites",JSON.stringify(Array.from(t)))}catch(e){console.error("Error saving favorites:",e)}},n5=()=>{try{const t=localStorage.getItem("swimMeetFavorites");return t?new Set(JSON.parse(t)):new Set}catch(t){return console.error("Error loading favorites:",t),new Set}};function r5(){const[t,e]=O.useState(localStorage.getItem("theme")||"system"),[n,r]=O.useState(null),[i,s]=O.useState(null),[o,a]=O.useState(n5),[l,u]=O.useState("schedule"),[h,d]=O.useState({eventNumber:1,heatNumber:1,isTracking:!1}),[f,p]=O.useState(""),[g,k]=O.useState(""),[D,v]=O.useState({show:!1,message:"",type:""}),[w,x]=O.useState(!1),[M,j]=O.useState(null),[L,I]=O.useState(!0),[T,A]=O.useState(null),[_,P]=O.useState([]),[C,b]=O.useState(null),[F,B]=O.useState({});O.useEffect(()=>{const ee=ye=>{const De=ye==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":ye,Se=document.documentElement;De==="dark"?Se.classList.add("dark"):Se.classList.remove("dark")};ee(t),localStorage.setItem("theme",t);const oe=window.matchMedia("(prefers-color-scheme: dark)"),ne=()=>ee(t);return oe.addEventListener("change",ne),()=>oe.removeEventListener("change",ne)},[t]),O.useEffect(()=>{if(!as){A("Authentication service is not available.");return}const ee=KL(as,oe=>{oe?(r(oe),oe.email&&typeof Rh<"u"?s(Rh[oe.email]||null):s(null)):zL(as).catch(ne=>{console.error("Anonymous sign-in failed:",ne)})});return()=>ee()},[]),O.useEffect(()=>{if(!ce)return;const ee=Xt(ce,"rosters"),oe=cr(ee,ne=>{const ye={};ne.forEach(De=>{const Se=De.id;(De.data().swimmers||[]).forEach(Wt=>{ye[Wt.id]={...Wt,team:Se}})}),B(ye)});return()=>oe()},[]),O.useEffect(()=>{if(!ce)return;const ee=Xt(ce,"meets"),oe=cr(ee,ne=>{const ye=ne.docs.map(De=>({id:De.id,...De.data(),date:De.data().date.toDate()})).sort((De,Se)=>De.date-Se.date);if(P(ye),!C&&ye.length>0){const De=new Date,Se=ye.find(mt=>mt.date>=De);b(Se?Se.id:ye[ye.length-1].id)}I(!1)},ne=>{console.error("Error fetching meets:",ne),A("Could not load meets from the database."),I(!1)});return()=>oe()},[]),O.useEffect(()=>{if(!ce||!C){j(null);return}const ee=_.find(ye=>ye.id===C);if(!ee)return;const oe=Kl(Xt(ce,"meet_events"),Ql("meetId","==",C)),ne=cr(oe,ye=>{const De=ye.docs.map(Se=>({id:Se.id,...Se.data()})).sort((Se,mt)=>Se.eventNumber-mt.eventNumber);j({...ee,events:De})},ye=>{console.error(`Error fetching events for meet ${C}:`,ye),A("Could not load events for the selected meet.")});return()=>ne()},[ce,C,_]);const X=()=>{!as||!xk||pM(as,xk).catch(ee=>console.error("Sign-in failed:",ee))},Q=()=>as&&as.signOut();O.useEffect(()=>{if(!ce||!C)return;const ee=st(ce,"meet_status",C),oe=cr(ee,ne=>{ne.exists()?d(ne.data()):rh(ee,{eventNumber:1,heatNumber:1,isTracking:!1})});return()=>oe()},[ce,C]);const z=async ee=>{if(!ce||!i||!C)return;const oe=st(ce,"meet_status",C);await Yl(oe,ee)};O.useEffect(()=>t5(o),[o]);const Y=ee=>{a(oe=>{const ne=new Set(oe);return ne.has(ee)?ne.delete(ee):ne.add(ee),ne})};O.useEffect(()=>{if(Object.keys(F).length===0)return;let ee=!1;const oe=new Set(o);for(const ne of oe)F[ne]||(oe.delete(ne),ee=!0);ee&&(console.log("Cleaned stale swimmer IDs from favorites."),a(oe))},[F,o]);const R=O.useMemo(()=>Array.from(o).map(oe=>{const ne=F[oe];if(!ne)return{id:oe,name:"Loading swimmer...",team:"",events:[]};const ye=[];if(M&&M.events){const De=Se=>(Se||"").replace("Freestyle","Free").replace("Backstroke","Back").replace("Breaststroke","Breast").replace("Butterfly","Fly");M.events.forEach(Se=>{Se.heats&&Se.heats.forEach(mt=>{mt.lanes.forEach(Wt=>{Wt.id===oe&&ye.push(`E${Se.eventNumber} H${mt.heatNumber} L${Wt.lane}: ${De(Se.name)}`)})})})}return{id:oe,name:`${ne.firstName} ${ne.lastName}`,team:ne.team,events:ye,isInCurrentMeet:ye.length>0}}).sort((oe,ne)=>oe.name.localeCompare(ne.name)),[o,F,M]),te=O.useMemo(()=>{if(!g.trim()||Object.keys(F).length===0)return[];const ee=g.toLowerCase();return Object.values(F).filter(ne=>`${ne.firstName} ${ne.lastName}`.toLowerCase().includes(ee)).map(ne=>({id:ne.id,name:`${ne.firstName} ${ne.lastName}`,team:ne.team})).sort((ne,ye)=>ne.name.localeCompare(ye.name))},[g,F]),ae=O.useMemo(()=>{if(!f.trim()||!M||!M.events)return[];const ee=f.toLowerCase();return M.events.filter(oe=>oe.name.toLowerCase().includes(ee)||String(oe.eventNumber).includes(ee))},[f,M]);if(L)return E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h4",{className:"text-lg font-semibold",children:"Loading Meet Data..."})});if(T)return E.jsx("div",{className:"container mx-auto mt-4",children:E.jsx("div",{className:"p-4 text-red-800 bg-red-100 border border-red-200 rounded-md",children:T})});const N=()=>{switch(l){case"schedule":return M?E.jsx(Ww,{events:M.events,favorites:o,currentEvent:h,toggleFavorite:Y,adminRole:i,updateMeetStatus:z}):E.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."});case"searchEvents":return M?E.jsx(BR,{search:f,setSearch:p,results:ae,favorites:o,currentEvent:h,toggleFavorite:Y}):E.jsx("p",{className:"text-center",children:"Select a meet to search events."});case"searchSwimmers":return M?E.jsx(HR,{search:g,setSearch:k,results:te,favorites:o,toggleFavorite:Y}):E.jsx("p",{className:"text-center",children:"Select a meet to search swimmers."});case"admin":return E.jsx(uj,{adminRole:i,allMeets:_,toast:Yt});case"settings":return E.jsx(e5,{theme:t,setTheme:e,user:n,isAuthorized:!!i,handleSignIn:X,handleSignOut:Q});default:return M?E.jsx(Ww,{events:M.events,favorites:o,currentEvent:h,toggleFavorite:Y,adminRole:i,updateMeetStatus:z}):E.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."})}};return E.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark text-text-dark dark:text-text-light transition-colors duration-300 pb-20 min-h-screen",children:[E.jsx(FR,{position:"top-center",reverseOrder:!1,toastOptions:{className:"dark:bg-surface-dark dark:text-text-light"}}),E.jsx(zR,{}),E.jsxs("div",{className:"container mx-auto px-4 py-4",children:[E.jsxs("header",{className:"text-center mb-4",children:[l!=="admin"&&M?E.jsx("h1",{className:"font-bold text-3xl text-primary",children:M.name}):E.jsx("h1",{className:"font-bold text-3xl text-primary",children:"Swim Meet Live"}),_.length>0&&l!=="admin"&&E.jsx("div",{className:"mt-2 max-w-md mx-auto",children:E.jsx("select",{className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md text-sm bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",value:C||"",onChange:ee=>b(ee.target.value),children:_.map(ee=>E.jsxs("option",{value:ee.id,children:[ee.name," - ",ee.date.toLocaleDateString()]},ee.id))})})]}),l!=="settings"&&l!=="admin"&&M&&E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden mb-3",children:[E.jsx("h2",{className:"accordion-header",id:"favorites-header",children:E.jsxs("button",{className:"flex justify-between items-center w-full p-4 font-semibold text-left bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",onClick:()=>x(!w),"aria-expanded":w,"aria-controls":"favorites-content",children:[E.jsxs("span",{children:["My Favorites (",o.size,")"]}),E.jsx(Fe,{name:w?"chevron-up":"chevron-down",className:`transition-transform duration-200 ${w?"rotate-180":""}`})]})}),w&&E.jsx("div",{id:"favorites-content",className:"p-4 bg-white dark:bg-surface-dark border-t border-border-light dark:border-border-dark",role:"region","aria-labelledby":"favorites-header",children:R.length>0?E.jsx("div",{className:"divide-y divide-border-light dark:divide-border-dark -mx-4",children:R.map(ee=>E.jsxs("div",{className:"px-4 py-3 flex justify-between items-start",children:[E.jsxs("div",{className:"mr-auto",children:[E.jsxs("div",{className:"font-bold flex items-center",children:[E.jsx("span",{children:ee.name}),ee.isInCurrentMeet&&E.jsx("span",{className:"ml-2 h-2.5 w-2.5 bg-green-500 rounded-full",title:"Swimming in this meet"})]}),E.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ee.events.length>0?ee.events.map((oe,ne)=>E.jsx("div",{children:oe},ne)):E.jsx("p",{className:"italic text-gray-400 dark:text-gray-500 mt-1",children:"Not in this meet"})})]}),l==="searchSwimmers"&&E.jsx("button",{className:"p-2 -m-2",onClick:()=>Y(ee.id),"aria-label":`Toggle favorite for ${ee.name}`,children:E.jsx("div",{className:"text-secondary",children:E.jsx(Fe,{name:"star",type:"fas"})})})]},ee.id))}):E.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-0",children:"No favorites added yet. Tap the star next to a swimmer's name to add them."})})]}),E.jsx("main",{children:N()})]}),E.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark z-30",children:E.jsxs("div",{className:"flex justify-around items-center",children:[E.jsxs("button",{onClick:()=>u("schedule"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="schedule"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Fe,{name:"list-ol"})}),E.jsx("div",{className:"text-xs",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>u("searchEvents"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="searchEvents"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Fe,{name:"magnifying-glass"})}),E.jsx("div",{className:"text-xs",children:"Events"})]}),E.jsxs("button",{onClick:()=>u("searchSwimmers"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="searchSwimmers"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Fe,{name:"user"})}),E.jsx("div",{className:"text-xs",children:"Swimmers"})]}),i&&E.jsxs("button",{onClick:()=>u("admin"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="admin"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Fe,{name:"user-shield"})}),E.jsx("div",{className:"text-xs",children:"Admin"})]}),E.jsxs("button",{onClick:()=>u("settings"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="settings"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Fe,{name:"gear"})}),E.jsx("div",{className:"text-xs",children:"Settings"})]})]})})]})}Lp.createRoot(document.getElementById("root")).render(E.jsx(ge.StrictMode,{children:E.jsx(r5,{})}));
