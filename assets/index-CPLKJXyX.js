function TC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tx={exports:{}},lh={},Sx={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nu=Symbol.for("react.element"),SC=Symbol.for("react.portal"),IC=Symbol.for("react.fragment"),CC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),PC=Symbol.for("react.provider"),NC=Symbol.for("react.context"),RC=Symbol.for("react.forward_ref"),DC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),Ow=Symbol.iterator;function MC(t){return t===null||typeof t!="object"?null:(t=Ow&&t[Ow]||t["@@iterator"],typeof t=="function"?t:null)}var Ix={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cx=Object.assign,Ax={};function aa(t,e,n){this.props=t,this.context=e,this.refs=Ax,this.updater=n||Ix}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Px(){}Px.prototype=aa.prototype;function bg(t,e,n){this.props=t,this.context=e,this.refs=Ax,this.updater=n||Ix}var Tg=bg.prototype=new Px;Tg.constructor=bg;Cx(Tg,aa.prototype);Tg.isPureReactComponent=!0;var Lw=Array.isArray,Nx=Object.prototype.hasOwnProperty,Sg={current:null},Rx={key:!0,ref:!0,__self:!0,__source:!0};function Dx(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Nx.call(e,r)&&!Rx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:nu,type:t,key:s,ref:o,props:i,_owner:Sg.current}}function FC(t,e){return{$$typeof:nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===nu}function VC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mw=/\/+/g;function xf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VC(""+t.key):e.toString(36)}function Pc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nu:case SC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xf(o,0):r,Lw(i)?(n="",t!=null&&(n=t.replace(Mw,"$&/")+"/"),Pc(i,e,n,"",function(u){return u})):i!=null&&(Ig(i)&&(i=FC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Mw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Lw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+xf(s,a);o+=Pc(s,e,n,l,i)}else if(l=MC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+xf(s,a++),o+=Pc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xu(t,e,n){if(t==null)return t;var r=[],i=0;return Pc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Nc={transition:null},$C={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:Sg};function Ox(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Xu,forEach:function(t,e,n){Xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xu(t,function(){e++}),e},toArray:function(t){return Xu(t,function(e){return e})||[]},only:function(t){if(!Ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=aa;Ne.Fragment=IC;Ne.Profiler=AC;Ne.PureComponent=bg;Ne.StrictMode=CC;Ne.Suspense=DC;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$C;Ne.act=Ox;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Nx.call(e,l)&&!Rx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:nu,type:t.type,key:i,ref:s,props:r,_owner:o}};Ne.createContext=function(t){return t={$$typeof:NC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PC,_context:t},t.Consumer=t};Ne.createElement=Dx;Ne.createFactory=function(t){var e=Dx.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:RC,render:t}};Ne.isValidElement=Ig;Ne.lazy=function(t){return{$$typeof:LC,_payload:{_status:-1,_result:t},_init:jC}};Ne.memo=function(t,e){return{$$typeof:OC,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Nc.transition;Nc.transition={};try{t()}finally{Nc.transition=e}};Ne.unstable_act=Ox;Ne.useCallback=function(t,e){return mn.current.useCallback(t,e)};Ne.useContext=function(t){return mn.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return mn.current.useEffect(t,e)};Ne.useId=function(){return mn.current.useId()};Ne.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return mn.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};Ne.useRef=function(t){return mn.current.useRef(t)};Ne.useState=function(t){return mn.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return mn.current.useTransition()};Ne.version="18.3.1";Sx.exports=Ne;var D=Sx.exports;const be=kg(D),Fw=TC({__proto__:null,default:be},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC=D,zC=Symbol.for("react.element"),BC=Symbol.for("react.fragment"),HC=Object.prototype.hasOwnProperty,WC=UC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qC={key:!0,ref:!0,__self:!0,__source:!0};function Lx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HC.call(e,r)&&!qC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zC,type:t,key:s,ref:o,props:i,_owner:WC.current}}lh.Fragment=BC;lh.jsx=Lx;lh.jsxs=Lx;Tx.exports=lh;var g=Tx.exports,Op={},Mx={exports:{}},zn={},Fx={exports:{}},Vx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,ee){var O=B.length;B.push(ee);e:for(;0<O;){var ie=O-1>>>1,V=B[ie];if(0<i(V,ee))B[ie]=ee,B[O]=V,O=ie;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ee=B[0],O=B.pop();if(O!==ee){B[0]=O;e:for(var ie=0,V=B.length,S=V>>>1;ie<S;){var G=2*(ie+1)-1,te=B[G],z=G+1,X=B[z];if(0>i(te,O))z<V&&0>i(X,te)?(B[ie]=X,B[z]=O,ie=z):(B[ie]=te,B[G]=O,ie=G);else if(z<V&&0>i(X,O))B[ie]=X,B[z]=O,ie=z;else break e}}return ee}function i(B,ee){var O=B.sortIndex-ee.sortIndex;return O!==0?O:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,p=!1,w=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=B)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(u)}}function L(B){if(b=!1,k(B),!w)if(n(l)!==null)w=!0,ne(F);else{var ee=n(u);ee!==null&&re(L,ee.startTime-B)}}function F(B,ee){w=!1,b&&(b=!1,_(x),x=-1),p=!0;var O=f;try{for(k(ee),h=n(l);h!==null&&(!(h.expirationTime>ee)||B&&!A());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var V=ie(h.expirationTime<=ee);ee=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),k(ee)}else r(l);h=n(l)}if(h!==null)var S=!0;else{var G=n(u);G!==null&&re(L,G.startTime-ee),S=!1}return S}finally{h=null,f=O,p=!1}}var M=!1,P=null,x=-1,T=5,E=-1;function A(){return!(t.unstable_now()-E<T)}function C(){if(P!==null){var B=t.unstable_now();E=B;var ee=!0;try{ee=P(!0,B)}finally{ee?I():(M=!1,P=null)}}else M=!1}var I;if(typeof v=="function")I=function(){v(C)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=C,I=function(){H.postMessage(null)}}else I=function(){R(C,0)};function ne(B){P=B,M||(M=!0,I())}function re(B,ee){x=R(function(){B(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,ne(F))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var O=f;f=ee;try{return B()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var O=f;f=B;try{return ee()}finally{f=O}},t.unstable_scheduleCallback=function(B,ee,O){var ie=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?ie+O:ie):O=ie,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=O+V,B={id:d++,callback:ee,priorityLevel:B,startTime:O,expirationTime:V,sortIndex:-1},O>ie?(B.sortIndex=O,e(u,B),n(l)===null&&B===n(u)&&(b?(_(x),x=-1):b=!0,re(L,O-ie))):(B.sortIndex=V,e(l,B),w||p||(w=!0,ne(F))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var ee=f;return function(){var O=f;f=ee;try{return B.apply(this,arguments)}finally{f=O}}}})(Vx);Fx.exports=Vx;var GC=Fx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC=D,Un=GC;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jx=new Set,Cl={};function Ys(t,e){Bo(t,e),Bo(t+"Capture",e)}function Bo(t,e){for(Cl[t]=e,t=0;t<e.length;t++)jx.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,QC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vw={},jw={};function YC(t){return Lp.call(jw,t)?!0:Lp.call(Vw,t)?!1:QC.test(t)?jw[t]=!0:(Vw[t]=!0,!1)}function XC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JC(t,e,n,r){if(e===null||typeof e>"u"||XC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cg=/[\-:]([a-z])/g;function Ag(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);zt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cg,Ag);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cg,Ag);zt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});zt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Pg(t,e,n,r){var i=zt.hasOwnProperty(e)?zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JC(e,n,i,r)&&(n=null),r||i===null?YC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var li=KC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ju=Symbol.for("react.element"),vo=Symbol.for("react.portal"),wo=Symbol.for("react.fragment"),Ng=Symbol.for("react.strict_mode"),Mp=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Ux=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Fp=Symbol.for("react.suspense"),Vp=Symbol.for("react.suspense_list"),Dg=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),zx=Symbol.for("react.offscreen"),$w=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=$w&&t[$w]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,kf;function za(t){if(kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kf=e&&e[1]||""}return`
`+kf+t}var bf=!1;function Tf(t,e){if(!t||bf)return"";bf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{bf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?za(t):""}function ZC(t){switch(t.tag){case 5:return za(t.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return t=Tf(t.type,!1),t;case 11:return t=Tf(t.type.render,!1),t;case 1:return t=Tf(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wo:return"Fragment";case vo:return"Portal";case Mp:return"Profiler";case Ng:return"StrictMode";case Fp:return"Suspense";case Vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ux:return(t.displayName||"Context")+".Consumer";case $x:return(t._context.displayName||"Context")+".Provider";case Rg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dg:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case xi:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function eA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===Ng?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tA(t){var e=Bx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zu(t){t._valueTracker||(t._valueTracker=tA(t))}function Hx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $p(t,e){var n=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Uw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wx(t,e){e=e.checked,e!=null&&Pg(t,"checked",e,!1)}function Up(t,e){Wx(t,e);var n=Zi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,n):e.hasOwnProperty("defaultValue")&&zp(t,e.type,Zi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zp(t,e,n){(e!=="number"||sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function No(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(Ba(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zi(n)}}function qx(t,e){var n=Zi(e.value),r=Zi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Hw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ec,Kx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Al(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nA=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){nA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function Qx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function Yx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rA=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(rA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=null;function Og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kp=null,Ro=null,Do=null;function Ww(t){if(t=su(t)){if(typeof Kp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=fh(e),Kp(t.stateNode,t.type,e))}}function Xx(t){Ro?Do?Do.push(t):Do=[t]:Ro=t}function Jx(){if(Ro){var t=Ro,e=Do;if(Do=Ro=null,Ww(t),e)for(t=0;t<e.length;t++)Ww(e[t])}}function Zx(t,e){return t(e)}function ek(){}var Sf=!1;function tk(t,e,n){if(Sf)return t(e,n);Sf=!0;try{return Zx(t,e,n)}finally{Sf=!1,(Ro!==null||Do!==null)&&(ek(),Jx())}}function Pl(t,e){var n=t.stateNode;if(n===null)return null;var r=fh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Qp=!1;if(Xr)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Qp=!1}function iA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var rl=!1,od=null,ad=!1,Yp=null,sA={onError:function(t){rl=!0,od=t}};function oA(t,e,n,r,i,s,o,a,l){rl=!1,od=null,iA.apply(sA,arguments)}function aA(t,e,n,r,i,s,o,a,l){if(oA.apply(this,arguments),rl){if(rl){var u=od;rl=!1,od=null}else throw Error(J(198));ad||(ad=!0,Yp=u)}}function Xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qw(t){if(Xs(t)!==t)throw Error(J(188))}function lA(t){var e=t.alternate;if(!e){if(e=Xs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qw(i),t;if(s===r)return qw(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function rk(t){return t=lA(t),t!==null?ik(t):null}function ik(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ik(t);if(e!==null)return e;t=t.sibling}return null}var sk=Un.unstable_scheduleCallback,Gw=Un.unstable_cancelCallback,uA=Un.unstable_shouldYield,cA=Un.unstable_requestPaint,yt=Un.unstable_now,dA=Un.unstable_getCurrentPriorityLevel,Lg=Un.unstable_ImmediatePriority,ok=Un.unstable_UserBlockingPriority,ld=Un.unstable_NormalPriority,hA=Un.unstable_LowPriority,ak=Un.unstable_IdlePriority,uh=null,xr=null;function fA(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(uh,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:gA,pA=Math.log,mA=Math.LN2;function gA(t){return t>>>=0,t===0?32:31-(pA(t)/mA|0)|0}var tc=64,nc=4194304;function Ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ha(a):(s&=o,s!==0&&(r=Ha(s)))}else o=n&~i,o!==0?r=Ha(o):s!==0&&(r=Ha(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),i=1<<n,r|=t[n],e&=~i;return r}function yA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lk(){var t=tc;return tc<<=1,!(tc&4194240)&&(tc=64),t}function If(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function wA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Mg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function uk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ck,Fg,dk,hk,fk,Jp=!1,rc=[],ji=null,$i=null,Ui=null,Nl=new Map,Rl=new Map,Ti=[],_A="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kw(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Nl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(e.pointerId)}}function Da(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=su(e),e!==null&&Fg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function EA(t,e,n,r,i){switch(e){case"focusin":return ji=Da(ji,t,e,n,r,i),!0;case"dragenter":return $i=Da($i,t,e,n,r,i),!0;case"mouseover":return Ui=Da(Ui,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Nl.set(s,Da(Nl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rl.set(s,Da(Rl.get(s)||null,t,e,n,r,i)),!0}return!1}function pk(t){var e=Ss(t.target);if(e!==null){var n=Xs(e);if(n!==null){if(e=n.tag,e===13){if(e=nk(n),e!==null){t.blockedOn=e,fk(t.priority,function(){dk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=su(n),e!==null&&Fg(e),t.blockedOn=n,!1;e.shift()}return!0}function Qw(t,e,n){Rc(t)&&n.delete(e)}function xA(){Jp=!1,ji!==null&&Rc(ji)&&(ji=null),$i!==null&&Rc($i)&&($i=null),Ui!==null&&Rc(Ui)&&(Ui=null),Nl.forEach(Qw),Rl.forEach(Qw)}function Oa(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,xA)))}function Dl(t){function e(i){return Oa(i,t)}if(0<rc.length){Oa(rc[0],t);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&Oa(ji,t),$i!==null&&Oa($i,t),Ui!==null&&Oa(Ui,t),Nl.forEach(e),Rl.forEach(e),n=0;n<Ti.length;n++)r=Ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)pk(n),n.blockedOn===null&&Ti.shift()}var Oo=li.ReactCurrentBatchConfig,cd=!0;function kA(t,e,n,r){var i=qe,s=Oo.transition;Oo.transition=null;try{qe=1,Vg(t,e,n,r)}finally{qe=i,Oo.transition=s}}function bA(t,e,n,r){var i=qe,s=Oo.transition;Oo.transition=null;try{qe=4,Vg(t,e,n,r)}finally{qe=i,Oo.transition=s}}function Vg(t,e,n,r){if(cd){var i=Zp(t,e,n,r);if(i===null)Ff(t,e,r,dd,n),Kw(t,r);else if(EA(i,t,e,n,r))r.stopPropagation();else if(Kw(t,r),e&4&&-1<_A.indexOf(t)){for(;i!==null;){var s=su(i);if(s!==null&&ck(s),s=Zp(t,e,n,r),s===null&&Ff(t,e,r,dd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ff(t,e,r,null,n)}}var dd=null;function Zp(t,e,n,r){if(dd=null,t=Og(r),t=Ss(t),t!==null)if(e=Xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return dd=t,null}function mk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dA()){case Lg:return 1;case ok:return 4;case ld:case hA:return 16;case ak:return 536870912;default:return 16}default:return 16}}var Di=null,jg=null,Dc=null;function gk(){if(Dc)return Dc;var t,e=jg,n=e.length,r,i="value"in Di?Di.value:Di.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Oc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ic(){return!0}function Yw(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ic:Yw,this.isPropagationStopped=Yw,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=Bn(la),iu=ct({},la,{view:0,detail:0}),TA=Bn(iu),Cf,Af,La,ch=ct({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==La&&(La&&t.type==="mousemove"?(Cf=t.screenX-La.screenX,Af=t.screenY-La.screenY):Af=Cf=0,La=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:Af}}),Xw=Bn(ch),SA=ct({},ch,{dataTransfer:0}),IA=Bn(SA),CA=ct({},iu,{relatedTarget:0}),Pf=Bn(CA),AA=ct({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),PA=Bn(AA),NA=ct({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RA=Bn(NA),DA=ct({},la,{data:0}),Jw=Bn(DA),OA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MA[t])?!!e[t]:!1}function Ug(){return FA}var VA=ct({},iu,{key:function(t){if(t.key){var e=OA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ug,charCode:function(t){return t.type==="keypress"?Oc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jA=Bn(VA),$A=ct({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zw=Bn($A),UA=ct({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ug}),zA=Bn(UA),BA=ct({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),HA=Bn(BA),WA=ct({},ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qA=Bn(WA),GA=[9,13,27,32],zg=Xr&&"CompositionEvent"in window,il=null;Xr&&"documentMode"in document&&(il=document.documentMode);var KA=Xr&&"TextEvent"in window&&!il,yk=Xr&&(!zg||il&&8<il&&11>=il),e_=" ",t_=!1;function vk(t,e){switch(t){case"keyup":return GA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function QA(t,e){switch(t){case"compositionend":return wk(e);case"keypress":return e.which!==32?null:(t_=!0,e_);case"textInput":return t=e.data,t===e_&&t_?null:t;default:return null}}function YA(t,e){if(_o)return t==="compositionend"||!zg&&vk(t,e)?(t=gk(),Dc=jg=Di=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yk&&e.locale!=="ko"?null:e.data;default:return null}}var XA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XA[t.type]:e==="textarea"}function _k(t,e,n,r){Xx(r),e=hd(e,"onChange"),0<e.length&&(n=new $g("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sl=null,Ol=null;function JA(t){Nk(t,0)}function dh(t){var e=ko(t);if(Hx(e))return t}function ZA(t,e){if(t==="change")return e}var Ek=!1;if(Xr){var Nf;if(Xr){var Rf="oninput"in document;if(!Rf){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),Rf=typeof r_.oninput=="function"}Nf=Rf}else Nf=!1;Ek=Nf&&(!document.documentMode||9<document.documentMode)}function i_(){sl&&(sl.detachEvent("onpropertychange",xk),Ol=sl=null)}function xk(t){if(t.propertyName==="value"&&dh(Ol)){var e=[];_k(e,Ol,t,Og(t)),tk(JA,e)}}function eP(t,e,n){t==="focusin"?(i_(),sl=e,Ol=n,sl.attachEvent("onpropertychange",xk)):t==="focusout"&&i_()}function tP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dh(Ol)}function nP(t,e){if(t==="click")return dh(e)}function rP(t,e){if(t==="input"||t==="change")return dh(e)}function iP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pr=typeof Object.is=="function"?Object.is:iP;function Ll(t,e){if(pr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lp.call(e,i)||!pr(t[i],e[i]))return!1}return!0}function s_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function o_(t,e){var n=s_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=s_(n)}}function kk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bk(){for(var t=window,e=sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sd(t.document)}return e}function Bg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sP(t){var e=bk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kk(n.ownerDocument.documentElement,n)){if(r!==null&&Bg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=o_(n,s);var o=o_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oP=Xr&&"documentMode"in document&&11>=document.documentMode,Eo=null,em=null,ol=null,tm=!1;function a_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tm||Eo==null||Eo!==sd(r)||(r=Eo,"selectionStart"in r&&Bg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ol&&Ll(ol,r)||(ol=r,r=hd(em,"onSelect"),0<r.length&&(e=new $g("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Eo)))}function sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xo={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Df={},Tk={};Xr&&(Tk=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function hh(t){if(Df[t])return Df[t];if(!xo[t])return t;var e=xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tk)return Df[t]=e[n];return t}var Sk=hh("animationend"),Ik=hh("animationiteration"),Ck=hh("animationstart"),Ak=hh("transitionend"),Pk=new Map,l_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){Pk.set(t,e),Ys(e,[t])}for(var Of=0;Of<l_.length;Of++){var Lf=l_[Of],aP=Lf.toLowerCase(),lP=Lf[0].toUpperCase()+Lf.slice(1);ss(aP,"on"+lP)}ss(Sk,"onAnimationEnd");ss(Ik,"onAnimationIteration");ss(Ck,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(Ak,"onTransitionEnd");Bo("onMouseEnter",["mouseout","mouseover"]);Bo("onMouseLeave",["mouseout","mouseover"]);Bo("onPointerEnter",["pointerout","pointerover"]);Bo("onPointerLeave",["pointerout","pointerover"]);Ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function u_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aA(r,e,void 0,t),t.currentTarget=null}function Nk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;u_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;u_(i,a,u),s=l}}}if(ad)throw t=Yp,ad=!1,Yp=null,t}function et(t,e){var n=e[om];n===void 0&&(n=e[om]=new Set);var r=t+"__bubble";n.has(r)||(Rk(e,t,2,!1),n.add(r))}function Mf(t,e,n){var r=0;e&&(r|=4),Rk(n,t,r,e)}var oc="_reactListening"+Math.random().toString(36).slice(2);function Ml(t){if(!t[oc]){t[oc]=!0,jx.forEach(function(n){n!=="selectionchange"&&(uP.has(n)||Mf(n,!1,t),Mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oc]||(e[oc]=!0,Mf("selectionchange",!1,e))}}function Rk(t,e,n,r){switch(mk(e)){case 1:var i=kA;break;case 4:i=bA;break;default:i=Vg}n=i.bind(null,e,n,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ff(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tk(function(){var u=s,d=Og(n),h=[];e:{var f=Pk.get(t);if(f!==void 0){var p=$g,w=t;switch(t){case"keypress":if(Oc(n)===0)break e;case"keydown":case"keyup":p=jA;break;case"focusin":w="focus",p=Pf;break;case"focusout":w="blur",p=Pf;break;case"beforeblur":case"afterblur":p=Pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=IA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zA;break;case Sk:case Ik:case Ck:p=PA;break;case Ak:p=HA;break;case"scroll":p=TA;break;case"wheel":p=qA;break;case"copy":case"cut":case"paste":p=RA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Zw}var b=(e&4)!==0,R=!b&&t==="scroll",_=b?f!==null?f+"Capture":null:f;b=[];for(var v=u,k;v!==null;){k=v;var L=k.stateNode;if(k.tag===5&&L!==null&&(k=L,_!==null&&(L=Pl(v,_),L!=null&&b.push(Fl(v,L,k)))),R)break;v=v.return}0<b.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Gp&&(w=n.relatedTarget||n.fromElement)&&(Ss(w)||w[Jr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Ss(w):null,w!==null&&(R=Xs(w),w!==R||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(b=Xw,L="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(b=Zw,L="onPointerLeave",_="onPointerEnter",v="pointer"),R=p==null?f:ko(p),k=w==null?f:ko(w),f=new b(L,v+"leave",p,n,d),f.target=R,f.relatedTarget=k,L=null,Ss(d)===u&&(b=new b(_,v+"enter",w,n,d),b.target=k,b.relatedTarget=R,L=b),R=L,p&&w)t:{for(b=p,_=w,v=0,k=b;k;k=lo(k))v++;for(k=0,L=_;L;L=lo(L))k++;for(;0<v-k;)b=lo(b),v--;for(;0<k-v;)_=lo(_),k--;for(;v--;){if(b===_||_!==null&&b===_.alternate)break t;b=lo(b),_=lo(_)}b=null}else b=null;p!==null&&c_(h,f,p,b,!1),w!==null&&R!==null&&c_(h,R,w,b,!0)}}e:{if(f=u?ko(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var F=ZA;else if(n_(f))if(Ek)F=rP;else{F=tP;var M=eP}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=nP);if(F&&(F=F(t,u))){_k(h,F,n,d);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&zp(f,"number",f.value)}switch(M=u?ko(u):window,t){case"focusin":(n_(M)||M.contentEditable==="true")&&(Eo=M,em=u,ol=null);break;case"focusout":ol=em=Eo=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,a_(h,n,d);break;case"selectionchange":if(oP)break;case"keydown":case"keyup":a_(h,n,d)}var P;if(zg)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else _o?vk(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(yk&&n.locale!=="ko"&&(_o||x!=="onCompositionStart"?x==="onCompositionEnd"&&_o&&(P=gk()):(Di=d,jg="value"in Di?Di.value:Di.textContent,_o=!0)),M=hd(u,x),0<M.length&&(x=new Jw(x,t,null,n,d),h.push({event:x,listeners:M}),P?x.data=P:(P=wk(n),P!==null&&(x.data=P)))),(P=KA?QA(t,n):YA(t,n))&&(u=hd(u,"onBeforeInput"),0<u.length&&(d=new Jw("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=P))}Nk(h,e)})}function Fl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Pl(t,n),s!=null&&r.unshift(Fl(t,s,i)),s=Pl(t,e),s!=null&&r.push(Fl(t,s,i))),t=t.return}return r}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function c_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Pl(n,s),l!=null&&o.unshift(Fl(n,l,a))):i||(l=Pl(n,s),l!=null&&o.push(Fl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function d_(t){return(typeof t=="string"?t:""+t).replace(cP,`
`).replace(dP,"")}function ac(t,e,n){if(e=d_(e),d_(t)!==e&&n)throw Error(J(425))}function fd(){}var nm=null,rm=null;function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,fP=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(t){return h_.resolve(null).then(t).catch(pP)}:sm;function pP(t){setTimeout(function(){throw t})}function Vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Dl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Dl(e)}function zi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function f_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),_r="__reactFiber$"+ua,Vl="__reactProps$"+ua,Jr="__reactContainer$"+ua,om="__reactEvents$"+ua,mP="__reactListeners$"+ua,gP="__reactHandles$"+ua;function Ss(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=f_(t);t!==null;){if(n=t[_r])return n;t=f_(t)}return e}t=n,n=t.parentNode}return null}function su(t){return t=t[_r]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function fh(t){return t[Vl]||null}var am=[],bo=-1;function os(t){return{current:t}}function nt(t){0>bo||(t.current=am[bo],am[bo]=null,bo--)}function Je(t,e){bo++,am[bo]=t.current,t.current=e}var es={},nn=os(es),bn=os(!1),Vs=es;function Ho(t,e){var n=t.type.contextTypes;if(!n)return es;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function pd(){nt(bn),nt(nn)}function p_(t,e,n){if(nn.current!==es)throw Error(J(168));Je(nn,e),Je(bn,n)}function Dk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,eA(t)||"Unknown",i));return ct({},n,r)}function md(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,Vs=nn.current,Je(nn,t),Je(bn,bn.current),!0}function m_(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=Dk(t,e,Vs),r.__reactInternalMemoizedMergedChildContext=t,nt(bn),nt(nn),Je(nn,t)):nt(bn),Je(bn,n)}var jr=null,ph=!1,jf=!1;function Ok(t){jr===null?jr=[t]:jr.push(t)}function yP(t){ph=!0,Ok(t)}function as(){if(!jf&&jr!==null){jf=!0;var t=0,e=qe;try{var n=jr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,ph=!1}catch(i){throw jr!==null&&(jr=jr.slice(t+1)),sk(Lg,as),i}finally{qe=e,jf=!1}}return null}var To=[],So=0,gd=null,yd=0,Gn=[],Kn=0,js=null,zr=1,Br="";function ws(t,e){To[So++]=yd,To[So++]=gd,gd=t,yd=e}function Lk(t,e,n){Gn[Kn++]=zr,Gn[Kn++]=Br,Gn[Kn++]=js,js=t;var r=zr;t=Br;var i=32-cr(r)-1;r&=~(1<<i),n+=1;var s=32-cr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zr=1<<32-cr(e)+i|n<<i|r,Br=s+t}else zr=1<<s|n<<i|r,Br=t}function Hg(t){t.return!==null&&(ws(t,1),Lk(t,1,0))}function Wg(t){for(;t===gd;)gd=To[--So],To[So]=null,yd=To[--So],To[So]=null;for(;t===js;)js=Gn[--Kn],Gn[Kn]=null,Br=Gn[--Kn],Gn[Kn]=null,zr=Gn[--Kn],Gn[Kn]=null}var jn=null,Fn=null,st=!1,ar=null;function Mk(t,e){var n=Yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function g_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Fn=zi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=js!==null?{id:zr,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Fn=null,!0):!1;default:return!1}}function lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function um(t){if(st){var e=Fn;if(e){var n=e;if(!g_(t,e)){if(lm(t))throw Error(J(418));e=zi(n.nextSibling);var r=jn;e&&g_(t,e)?Mk(r,n):(t.flags=t.flags&-4097|2,st=!1,jn=t)}}else{if(lm(t))throw Error(J(418));t.flags=t.flags&-4097|2,st=!1,jn=t}}}function y_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function lc(t){if(t!==jn)return!1;if(!st)return y_(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!im(t.type,t.memoizedProps)),e&&(e=Fn)){if(lm(t))throw Fk(),Error(J(418));for(;e;)Mk(t,e),e=zi(e.nextSibling)}if(y_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fn=zi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=jn?zi(t.stateNode.nextSibling):null;return!0}function Fk(){for(var t=Fn;t;)t=zi(t.nextSibling)}function Wo(){Fn=jn=null,st=!1}function qg(t){ar===null?ar=[t]:ar.push(t)}var vP=li.ReactCurrentBatchConfig;function Ma(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function uc(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function v_(t){var e=t._init;return e(t._payload)}function Vk(t){function e(_,v){if(t){var k=_.deletions;k===null?(_.deletions=[v],_.flags|=16):k.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=qi(_,v),_.index=0,_.sibling=null,_}function s(_,v,k){return _.index=k,t?(k=_.alternate,k!==null?(k=k.index,k<v?(_.flags|=2,v):k):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,k,L){return v===null||v.tag!==6?(v=qf(k,_.mode,L),v.return=_,v):(v=i(v,k),v.return=_,v)}function l(_,v,k,L){var F=k.type;return F===wo?d(_,v,k.props.children,L,k.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===xi&&v_(F)===v.type)?(L=i(v,k.props),L.ref=Ma(_,v,k),L.return=_,L):(L=Uc(k.type,k.key,k.props,null,_.mode,L),L.ref=Ma(_,v,k),L.return=_,L)}function u(_,v,k,L){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=Gf(k,_.mode,L),v.return=_,v):(v=i(v,k.children||[]),v.return=_,v)}function d(_,v,k,L,F){return v===null||v.tag!==7?(v=Os(k,_.mode,L,F),v.return=_,v):(v=i(v,k),v.return=_,v)}function h(_,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qf(""+v,_.mode,k),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ju:return k=Uc(v.type,v.key,v.props,null,_.mode,k),k.ref=Ma(_,null,v),k.return=_,k;case vo:return v=Gf(v,_.mode,k),v.return=_,v;case xi:var L=v._init;return h(_,L(v._payload),k)}if(Ba(v)||Na(v))return v=Os(v,_.mode,k,null),v.return=_,v;uc(_,v)}return null}function f(_,v,k,L){var F=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:a(_,v,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ju:return k.key===F?l(_,v,k,L):null;case vo:return k.key===F?u(_,v,k,L):null;case xi:return F=k._init,f(_,v,F(k._payload),L)}if(Ba(k)||Na(k))return F!==null?null:d(_,v,k,L,null);uc(_,k)}return null}function p(_,v,k,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return _=_.get(k)||null,a(v,_,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ju:return _=_.get(L.key===null?k:L.key)||null,l(v,_,L,F);case vo:return _=_.get(L.key===null?k:L.key)||null,u(v,_,L,F);case xi:var M=L._init;return p(_,v,k,M(L._payload),F)}if(Ba(L)||Na(L))return _=_.get(k)||null,d(v,_,L,F,null);uc(v,L)}return null}function w(_,v,k,L){for(var F=null,M=null,P=v,x=v=0,T=null;P!==null&&x<k.length;x++){P.index>x?(T=P,P=null):T=P.sibling;var E=f(_,P,k[x],L);if(E===null){P===null&&(P=T);break}t&&P&&E.alternate===null&&e(_,P),v=s(E,v,x),M===null?F=E:M.sibling=E,M=E,P=T}if(x===k.length)return n(_,P),st&&ws(_,x),F;if(P===null){for(;x<k.length;x++)P=h(_,k[x],L),P!==null&&(v=s(P,v,x),M===null?F=P:M.sibling=P,M=P);return st&&ws(_,x),F}for(P=r(_,P);x<k.length;x++)T=p(P,_,x,k[x],L),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?x:T.key),v=s(T,v,x),M===null?F=T:M.sibling=T,M=T);return t&&P.forEach(function(A){return e(_,A)}),st&&ws(_,x),F}function b(_,v,k,L){var F=Na(k);if(typeof F!="function")throw Error(J(150));if(k=F.call(k),k==null)throw Error(J(151));for(var M=F=null,P=v,x=v=0,T=null,E=k.next();P!==null&&!E.done;x++,E=k.next()){P.index>x?(T=P,P=null):T=P.sibling;var A=f(_,P,E.value,L);if(A===null){P===null&&(P=T);break}t&&P&&A.alternate===null&&e(_,P),v=s(A,v,x),M===null?F=A:M.sibling=A,M=A,P=T}if(E.done)return n(_,P),st&&ws(_,x),F;if(P===null){for(;!E.done;x++,E=k.next())E=h(_,E.value,L),E!==null&&(v=s(E,v,x),M===null?F=E:M.sibling=E,M=E);return st&&ws(_,x),F}for(P=r(_,P);!E.done;x++,E=k.next())E=p(P,_,x,E.value,L),E!==null&&(t&&E.alternate!==null&&P.delete(E.key===null?x:E.key),v=s(E,v,x),M===null?F=E:M.sibling=E,M=E);return t&&P.forEach(function(C){return e(_,C)}),st&&ws(_,x),F}function R(_,v,k,L){if(typeof k=="object"&&k!==null&&k.type===wo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ju:e:{for(var F=k.key,M=v;M!==null;){if(M.key===F){if(F=k.type,F===wo){if(M.tag===7){n(_,M.sibling),v=i(M,k.props.children),v.return=_,_=v;break e}}else if(M.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===xi&&v_(F)===M.type){n(_,M.sibling),v=i(M,k.props),v.ref=Ma(_,M,k),v.return=_,_=v;break e}n(_,M);break}else e(_,M);M=M.sibling}k.type===wo?(v=Os(k.props.children,_.mode,L,k.key),v.return=_,_=v):(L=Uc(k.type,k.key,k.props,null,_.mode,L),L.ref=Ma(_,v,k),L.return=_,_=L)}return o(_);case vo:e:{for(M=k.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){n(_,v.sibling),v=i(v,k.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Gf(k,_.mode,L),v.return=_,_=v}return o(_);case xi:return M=k._init,R(_,v,M(k._payload),L)}if(Ba(k))return w(_,v,k,L);if(Na(k))return b(_,v,k,L);uc(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,k),v.return=_,_=v):(n(_,v),v=qf(k,_.mode,L),v.return=_,_=v),o(_)):n(_,v)}return R}var qo=Vk(!0),jk=Vk(!1),vd=os(null),wd=null,Io=null,Gg=null;function Kg(){Gg=Io=wd=null}function Qg(t){var e=vd.current;nt(vd),t._currentValue=e}function cm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){wd=t,Gg=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(Gg!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(wd===null)throw Error(J(308));Io=t,wd.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var Is=null;function Yg(t){Is===null?Is=[t]:Is.push(t)}function $k(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Yg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Zr(t,n)}return i=r.interleaved,i===null?(e.next=e,Yg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Zr(t,n)}function Lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}function w_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _d(t,e,n,r){var i=t.updateQueue;ki=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,b=a;switch(f=e,p=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=ct({},h,f);break e;case 2:ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Us|=o,t.lanes=o,t.memoizedState=h}}function __(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var ou={},kr=os(ou),jl=os(ou),$l=os(ou);function Cs(t){if(t===ou)throw Error(J(174));return t}function Jg(t,e){switch(Je($l,e),Je(jl,t),Je(kr,ou),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}nt(kr),Je(kr,e)}function Go(){nt(kr),nt(jl),nt($l)}function zk(t){Cs($l.current);var e=Cs(kr.current),n=Hp(e,t.type);e!==n&&(Je(jl,t),Je(kr,n))}function Zg(t){jl.current===t&&(nt(kr),nt(jl))}var at=os(0);function Ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function ey(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var Mc=li.ReactCurrentDispatcher,Uf=li.ReactCurrentBatchConfig,$s=0,ut=null,St=null,Nt=null,xd=!1,al=!1,Ul=0,wP=0;function qt(){throw Error(J(321))}function ty(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pr(t[n],e[n]))return!1;return!0}function ny(t,e,n,r,i,s){if($s=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=t===null||t.memoizedState===null?kP:bP,t=n(r,i),al){s=0;do{if(al=!1,Ul=0,25<=s)throw Error(J(301));s+=1,Nt=St=null,e.updateQueue=null,Mc.current=TP,t=n(r,i)}while(al)}if(Mc.current=kd,e=St!==null&&St.next!==null,$s=0,Nt=St=ut=null,xd=!1,e)throw Error(J(300));return t}function ry(){var t=Ul!==0;return Ul=0,t}function vr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ut.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Zn(){if(St===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Nt===null?ut.memoizedState:Nt.next;if(e!==null)Nt=e,St=t;else{if(t===null)throw Error(J(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Nt===null?ut.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function zl(t,e){return typeof e=="function"?e(t):e}function zf(t){var e=Zn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if(($s&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ut.lanes|=d,Us|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,pr(r,e.memoizedState)||(xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,Us|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Zn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pr(s,e.memoizedState)||(xn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bk(){}function Hk(t,e){var n=ut,r=Zn(),i=e(),s=!pr(r.memoizedState,i);if(s&&(r.memoizedState=i,xn=!0),r=r.queue,iy(Gk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,Bl(9,qk.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(J(349));$s&30||Wk(n,e,i)}return i}function Wk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qk(t,e,n,r){e.value=n,e.getSnapshot=r,Kk(e)&&Qk(t)}function Gk(t,e,n){return n(function(){Kk(e)&&Qk(t)})}function Kk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pr(t,n)}catch{return!0}}function Qk(t){var e=Zr(t,1);e!==null&&dr(e,t,1,-1)}function E_(t){var e=vr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:t},e.queue=t,t=t.dispatch=xP.bind(null,ut,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yk(){return Zn().memoizedState}function Fc(t,e,n,r){var i=vr();ut.flags|=t,i.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function mh(t,e,n,r){var i=Zn();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&ty(r,o.deps)){i.memoizedState=Bl(e,n,s,r);return}}ut.flags|=t,i.memoizedState=Bl(1|e,n,s,r)}function x_(t,e){return Fc(8390656,8,t,e)}function iy(t,e){return mh(2048,8,t,e)}function Xk(t,e){return mh(4,2,t,e)}function Jk(t,e){return mh(4,4,t,e)}function Zk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eb(t,e,n){return n=n!=null?n.concat([t]):null,mh(4,4,Zk.bind(null,e,t),n)}function sy(){}function tb(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nb(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ty(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rb(t,e,n){return $s&21?(pr(n,e)||(n=lk(),ut.lanes|=n,Us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=n)}function _P(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=Uf.transition;Uf.transition={};try{t(!1),e()}finally{qe=n,Uf.transition=r}}function ib(){return Zn().memoizedState}function EP(t,e,n){var r=Wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sb(t))ob(e,n);else if(n=$k(t,e,n,r),n!==null){var i=hn();dr(n,t,r,i),ab(n,e,r)}}function xP(t,e,n){var r=Wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sb(t))ob(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pr(a,o)){var l=e.interleaved;l===null?(i.next=i,Yg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=$k(t,e,i,r),n!==null&&(i=hn(),dr(n,t,r,i),ab(n,e,r))}}function sb(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function ob(t,e){al=xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ab(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mg(t,n)}}var kd={readContext:Jn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},kP={readContext:Jn,useCallback:function(t,e){return vr().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:x_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,Zk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=vr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EP.bind(null,ut,t),[r.memoizedState,t]},useRef:function(t){var e=vr();return t={current:t},e.memoizedState=t},useState:E_,useDebugValue:sy,useDeferredValue:function(t){return vr().memoizedState=t},useTransition:function(){var t=E_(!1),e=t[0];return t=_P.bind(null,t[1]),vr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ut,i=vr();if(st){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Rt===null)throw Error(J(349));$s&30||Wk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,x_(Gk.bind(null,r,s,t),[t]),r.flags|=2048,Bl(9,qk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vr(),e=Rt.identifierPrefix;if(st){var n=Br,r=zr;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ul++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bP={readContext:Jn,useCallback:tb,useContext:Jn,useEffect:iy,useImperativeHandle:eb,useInsertionEffect:Xk,useLayoutEffect:Jk,useMemo:nb,useReducer:zf,useRef:Yk,useState:function(){return zf(zl)},useDebugValue:sy,useDeferredValue:function(t){var e=Zn();return rb(e,St.memoizedState,t)},useTransition:function(){var t=zf(zl)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Bk,useSyncExternalStore:Hk,useId:ib,unstable_isNewReconciler:!1},TP={readContext:Jn,useCallback:tb,useContext:Jn,useEffect:iy,useImperativeHandle:eb,useInsertionEffect:Xk,useLayoutEffect:Jk,useMemo:nb,useReducer:Bf,useRef:Yk,useState:function(){return Bf(zl)},useDebugValue:sy,useDeferredValue:function(t){var e=Zn();return St===null?e.memoizedState=t:rb(e,St.memoizedState,t)},useTransition:function(){var t=Bf(zl)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:Bk,useSyncExternalStore:Hk,useId:ib,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gh={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Wi(t),s=Gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(dr(e,t,i,r),Lc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Wi(t),s=Gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bi(t,s,i),e!==null&&(dr(e,t,i,r),Lc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=Wi(t),i=Gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(dr(e,t,r,n),Lc(e,t,r))}};function k_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,r)||!Ll(i,s):!0}function lb(t,e,n){var r=!1,i=es,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(i=Tn(e)?Vs:nn.current,r=e.contextTypes,s=(r=r!=null)?Ho(t,i):es),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function b_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gh.enqueueReplaceState(e,e.state,null)}function hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jn(s):(s=Tn(e)?Vs:nn.current,i.context=Ho(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gh.enqueueReplaceState(i,i.state,null),_d(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ko(t,e){try{var n="",r=e;do n+=ZC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SP=typeof WeakMap=="function"?WeakMap:Map;function ub(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Td||(Td=!0,km=r),fm(t,e)},n}function cb(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fm(t,e),typeof r!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function T_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new SP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$P.bind(null,t,e,n),e.then(t,t))}function S_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t)}var IP=li.ReactCurrentOwner,xn=!1;function un(t,e,n,r){e.child=t===null?jk(e,null,n,r):qo(e,t.child,n,r)}function C_(t,e,n,r,i){n=n.render;var s=e.ref;return Lo(e,i),r=ny(t,e,n,r,s,i),n=ry(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(st&&n&&Hg(e),e.flags|=1,un(t,e,r,i),e.child)}function A_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!fy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,db(t,e,s,r,i)):(t=Uc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(o,r)&&t.ref===e.ref)return ei(t,e,i)}return e.flags|=1,t=qi(s,r),t.ref=e.ref,t.return=e,e.child=t}function db(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ll(s,r)&&t.ref===e.ref)if(xn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,ei(t,e,i)}return pm(t,e,n,r,i)}function hb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ao,Mn),Mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Ao,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Je(Ao,Mn),Mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Je(Ao,Mn),Mn|=r;return un(t,e,i,n),e.child}function fb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,n,r,i){var s=Tn(n)?Vs:nn.current;return s=Ho(e,s),Lo(e,i),n=ny(t,e,n,r,s,i),r=ry(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ei(t,e,i)):(st&&r&&Hg(e),e.flags|=1,un(t,e,n,i),e.child)}function P_(t,e,n,r,i){if(Tn(n)){var s=!0;md(e)}else s=!1;if(Lo(e,i),e.stateNode===null)Vc(t,e),lb(e,n,r),hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Jn(u):(u=Tn(n)?Vs:nn.current,u=Ho(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&b_(e,o,r,u),ki=!1;var f=e.memoizedState;o.state=f,_d(e,r,o,i),l=e.memoizedState,a!==r||f!==l||bn.current||ki?(typeof d=="function"&&(dm(e,n,d,r),l=e.memoizedState),(a=ki||k_(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Uk(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ir(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jn(l):(l=Tn(n)?Vs:nn.current,l=Ho(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&b_(e,o,r,l),ki=!1,f=e.memoizedState,o.state=f,_d(e,r,o,i);var w=e.memoizedState;a!==h||f!==w||bn.current||ki?(typeof p=="function"&&(dm(e,n,p,r),w=e.memoizedState),(u=ki||k_(e,n,u,r,f,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return mm(t,e,n,r,s,i)}function mm(t,e,n,r,i,s){fb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&m_(e,n,!1),ei(t,e,s);r=e.stateNode,IP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qo(e,t.child,null,s),e.child=qo(e,null,a,s)):un(t,e,a,s),e.memoizedState=r.state,i&&m_(e,n,!0),e.child}function pb(t){var e=t.stateNode;e.pendingContext?p_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&p_(t,e.context,!1),Jg(t,e.containerInfo)}function N_(t,e,n,r,i){return Wo(),qg(i),e.flags|=256,un(t,e,n,r),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function mb(t,e,n){var r=e.pendingProps,i=at.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(at,i&1),t===null)return um(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wh(o,r,0,null),t=Os(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ym(n),e.memoizedState=gm,t):oy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=qi(a,s):(s=Os(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gm,r}return s=t.child,t=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function oy(t,e){return e=wh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cc(t,e,n,r){return r!==null&&qg(r),qo(e,t.child,null,n),t=oy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hf(Error(J(422))),cc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wh({mode:"visible",children:r.children},i,0,null),s=Os(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&qo(e,t.child,null,o),e.child.memoizedState=ym(o),e.memoizedState=gm,s);if(!(e.mode&1))return cc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Hf(s,r,void 0),cc(t,e,o,r)}if(a=(o&t.childLanes)!==0,xn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zr(t,i),dr(r,t,i,-1))}return hy(),r=Hf(Error(J(421))),cc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fn=zi(i.nextSibling),jn=e,st=!0,ar=null,t!==null&&(Gn[Kn++]=zr,Gn[Kn++]=Br,Gn[Kn++]=js,zr=t.id,Br=t.overflow,js=e),e=oy(e,r.children),e.flags|=4096,e)}function R_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cm(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(un(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R_(t,n,e);else if(t.tag===19)R_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(at,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AP(t,e,n){switch(e.tag){case 3:pb(e),Wo();break;case 5:zk(e);break;case 1:Tn(e.type)&&md(e);break;case 4:Jg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(vd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?mb(t,e,n):(Je(at,at.current&1),t=ei(t,e,n),t!==null?t.sibling:null);Je(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,hb(t,e,n)}return ei(t,e,n)}var yb,vm,vb,wb;yb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vm=function(){};vb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cs(kr.current);var s=null;switch(n){case"input":i=$p(t,i),r=$p(t,r),s=[];break;case"select":i=ct({},i,{value:void 0}),r=ct({},r,{value:void 0}),s=[];break;case"textarea":i=Bp(t,i),r=Bp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fd)}Wp(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PP(t,e,n){var r=e.pendingProps;switch(Wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Tn(e.type)&&pd(),Gt(e),null;case 3:return r=e.stateNode,Go(),nt(bn),nt(nn),ey(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(Sm(ar),ar=null))),vm(t,e),Gt(e),null;case 5:Zg(e);var i=Cs($l.current);if(n=e.type,t!==null&&e.stateNode!=null)vb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Gt(e),null}if(t=Cs(kr.current),lc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_r]=e,r[Vl]=s,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<Wa.length;i++)et(Wa[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":Uw(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":Bw(r,s),et("invalid",r)}Wp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ac(r.textContent,a,t),i=["children",""+a]):Cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(n){case"input":Zu(r),zw(r,s,!0);break;case"textarea":Zu(r),Hw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[Vl]=r,yb(t,e,!1,!1),e.stateNode=t;e:{switch(o=qp(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wa.length;i++)et(Wa[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":Uw(t,r),i=$p(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ct({},r,{value:void 0}),et("invalid",t);break;case"textarea":Bw(t,r),i=Bp(t,r),et("invalid",t);break;default:i=r}Wp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Yx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Al(t,l):typeof l=="number"&&Al(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&Pg(t,s,l,o))}switch(n){case"input":Zu(t),zw(t,r,!1);break;case"textarea":Zu(t),Hw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?No(t,!!r.multiple,s,!1):r.defaultValue!=null&&No(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gt(e),null;case 6:if(t&&e.stateNode!=null)wb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Cs($l.current),Cs(kr.current),lc(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(s=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ac(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Gt(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Fn!==null&&e.mode&1&&!(e.flags&128))Fk(),Wo(),e.flags|=98560,s=!1;else if(s=lc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[_r]=e}else Wo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),s=!1}else ar!==null&&(Sm(ar),ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?It===0&&(It=3):hy())),e.updateQueue!==null&&(e.flags|=4),Gt(e),null);case 4:return Go(),vm(t,e),t===null&&Ml(e.stateNode.containerInfo),Gt(e),null;case 10:return Qg(e.type._context),Gt(e),null;case 17:return Tn(e.type)&&pd(),Gt(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return Gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fa(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ed(t),o!==null){for(e.flags|=128,Fa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&yt()>Qo&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ed(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return Gt(e),null}else 2*yt()-s.renderingStartTime>Qo&&n!==1073741824&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,n=at.current,Je(at,r?n&1|2:n&1),e):(Gt(e),null);case 22:case 23:return dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function NP(t,e){switch(Wg(e),e.tag){case 1:return Tn(e.type)&&pd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),nt(bn),nt(nn),ey(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zg(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Wo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return Go(),null;case 10:return Qg(e.type._context),null;case 22:case 23:return dy(),null;case 24:return null;default:return null}}var dc=!1,Xt=!1,RP=typeof WeakSet=="function"?WeakSet:Set,de=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function wm(t,e,n){try{n()}catch(r){pt(t,e,r)}}var D_=!1;function DP(t,e){if(nm=cd,t=bk(),Bg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:t,selectionRange:n},cd=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,R=w.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:ir(e.type,b),R);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(L){pt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return w=D_,D_=!1,w}function ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&wm(e,n,s)}i=i.next}while(i!==r)}}function yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _m(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _b(t){var e=t.alternate;e!==null&&(t.alternate=null,_b(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[Vl],delete e[om],delete e[mP],delete e[gP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eb(t){return t.tag===5||t.tag===3||t.tag===4}function O_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fd));else if(r!==4&&(t=t.child,t!==null))for(Em(t,e,n),t=t.sibling;t!==null;)Em(t,e,n),t=t.sibling}function xm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xm(t,e,n),t=t.sibling;t!==null;)xm(t,e,n),t=t.sibling}var Mt=null,sr=!1;function wi(t,e,n){for(n=n.child;n!==null;)xb(t,e,n),n=n.sibling}function xb(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(uh,n)}catch{}switch(n.tag){case 5:Xt||Co(n,e);case 6:var r=Mt,i=sr;Mt=null,wi(t,e,n),Mt=r,sr=i,Mt!==null&&(sr?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(sr?(t=Mt,n=n.stateNode,t.nodeType===8?Vf(t.parentNode,n):t.nodeType===1&&Vf(t,n),Dl(t)):Vf(Mt,n.stateNode));break;case 4:r=Mt,i=sr,Mt=n.stateNode.containerInfo,sr=!0,wi(t,e,n),Mt=r,sr=i;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wm(n,e,o),i=i.next}while(i!==r)}wi(t,e,n);break;case 1:if(!Xt&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}wi(t,e,n);break;case 21:wi(t,e,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,wi(t,e,n),Xt=r):wi(t,e,n);break;default:wi(t,e,n)}}function L_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RP),e.forEach(function(r){var i=zP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,sr=!1;break e;case 3:Mt=a.stateNode.containerInfo,sr=!0;break e;case 4:Mt=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(Mt===null)throw Error(J(160));xb(s,o,i),Mt=null,sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kb(e,t),e=e.sibling}function kb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nr(e,t),gr(t),r&4){try{ll(3,t,t.return),yh(3,t)}catch(b){pt(t,t.return,b)}try{ll(5,t,t.return)}catch(b){pt(t,t.return,b)}}break;case 1:nr(e,t),gr(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(nr(e,t),gr(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var i=t.stateNode;try{Al(i,"")}catch(b){pt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Wx(i,s),qp(a,o);var u=qp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Yx(i,h):d==="dangerouslySetInnerHTML"?Kx(i,h):d==="children"?Al(i,h):Pg(i,d,h,u)}switch(a){case"input":Up(i,s);break;case"textarea":qx(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?No(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?No(i,!!s.multiple,s.defaultValue,!0):No(i,!!s.multiple,s.multiple?[]:"",!1))}i[Vl]=s}catch(b){pt(t,t.return,b)}}break;case 6:if(nr(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){pt(t,t.return,b)}}break;case 3:if(nr(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(e.containerInfo)}catch(b){pt(t,t.return,b)}break;case 4:nr(e,t),gr(t);break;case 13:nr(e,t),gr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(uy=yt())),r&4&&L_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Xt=(u=Xt)||d,nr(e,t),Xt=u):nr(e,t),gr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(de=t,d=t.child;d!==null;){for(h=de=d;de!==null;){switch(f=de,p=f.child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:Co(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){pt(r,n,b)}}break;case 5:Co(f,f.return);break;case 22:if(f.memoizedState!==null){F_(h);continue}}p!==null?(p.return=f,de=p):F_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qx("display",o))}catch(b){pt(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){pt(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nr(e,t),gr(t),r&4&&L_(t);break;case 21:break;default:nr(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Eb(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Al(i,""),r.flags&=-33);var s=O_(t);xm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=O_(t);Em(t,a,o);break;default:throw Error(J(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OP(t,e,n){de=t,bb(t)}function bb(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xt;a=dc;var u=Xt;if(dc=o,(Xt=l)&&!u)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?V_(i):l!==null?(l.return=o,de=l):V_(i);for(;s!==null;)de=s,bb(s),s=s.sibling;de=i,dc=a,Xt=u}M_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):M_(t)}}function M_(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xt||yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&__(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}__(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Xt||e.flags&512&&_m(e)}catch(f){pt(e,e.return,f)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function F_(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function V_(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yh(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var s=e.return;try{_m(e)}catch(l){pt(e,s,l)}break;case 5:var o=e.return;try{_m(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var LP=Math.ceil,bd=li.ReactCurrentDispatcher,ay=li.ReactCurrentOwner,Xn=li.ReactCurrentBatchConfig,je=0,Rt=null,bt=null,$t=0,Mn=0,Ao=os(0),It=0,Hl=null,Us=0,vh=0,ly=0,ul=null,wn=null,uy=0,Qo=1/0,Vr=null,Td=!1,km=null,Hi=null,hc=!1,Oi=null,Sd=0,cl=0,bm=null,jc=-1,$c=0;function hn(){return je&6?yt():jc!==-1?jc:jc=yt()}function Wi(t){return t.mode&1?je&2&&$t!==0?$t&-$t:vP.transition!==null?($c===0&&($c=lk()),$c):(t=qe,t!==0||(t=window.event,t=t===void 0?16:mk(t.type)),t):1}function dr(t,e,n,r){if(50<cl)throw cl=0,bm=null,Error(J(185));ru(t,n,r),(!(je&2)||t!==Rt)&&(t===Rt&&(!(je&2)&&(vh|=n),It===4&&Si(t,$t)),Sn(t,r),n===1&&je===0&&!(e.mode&1)&&(Qo=yt()+500,ph&&as()))}function Sn(t,e){var n=t.callbackNode;vA(t,e);var r=ud(t,t===Rt?$t:0);if(r===0)n!==null&&Gw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gw(n),e===1)t.tag===0?yP(j_.bind(null,t)):Ok(j_.bind(null,t)),fP(function(){!(je&6)&&as()}),n=null;else{switch(uk(r)){case 1:n=Lg;break;case 4:n=ok;break;case 16:n=ld;break;case 536870912:n=ak;break;default:n=ld}n=Rb(n,Tb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tb(t,e){if(jc=-1,$c=0,je&6)throw Error(J(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=ud(t,t===Rt?$t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Id(t,r);else{e=r;var i=je;je|=2;var s=Ib();(Rt!==t||$t!==e)&&(Vr=null,Qo=yt()+500,Ds(t,e));do try{VP();break}catch(a){Sb(t,a)}while(!0);Kg(),bd.current=s,je=i,bt!==null?e=0:(Rt=null,$t=0,e=It)}if(e!==0){if(e===2&&(i=Xp(t),i!==0&&(r=i,e=Tm(t,i))),e===1)throw n=Hl,Ds(t,0),Si(t,r),Sn(t,yt()),n;if(e===6)Si(t,r);else{if(i=t.current.alternate,!(r&30)&&!MP(i)&&(e=Id(t,r),e===2&&(s=Xp(t),s!==0&&(r=s,e=Tm(t,s))),e===1))throw n=Hl,Ds(t,0),Si(t,r),Sn(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:_s(t,wn,Vr);break;case 3:if(Si(t,r),(r&130023424)===r&&(e=uy+500-yt(),10<e)){if(ud(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sm(_s.bind(null,t,wn,Vr),e);break}_s(t,wn,Vr);break;case 4:if(Si(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LP(r/1960))-r,10<r){t.timeoutHandle=sm(_s.bind(null,t,wn,Vr),r);break}_s(t,wn,Vr);break;case 5:_s(t,wn,Vr);break;default:throw Error(J(329))}}}return Sn(t,yt()),t.callbackNode===n?Tb.bind(null,t):null}function Tm(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Id(t,e),t!==2&&(e=wn,wn=n,e!==null&&Sm(e)),t}function Sm(t){wn===null?wn=t:wn.push.apply(wn,t)}function MP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Si(t,e){for(e&=~ly,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function j_(t){if(je&6)throw Error(J(327));Mo();var e=ud(t,0);if(!(e&1))return Sn(t,yt()),null;var n=Id(t,e);if(t.tag!==0&&n===2){var r=Xp(t);r!==0&&(e=r,n=Tm(t,r))}if(n===1)throw n=Hl,Ds(t,0),Si(t,e),Sn(t,yt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,wn,Vr),Sn(t,yt()),null}function cy(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(Qo=yt()+500,ph&&as())}}function zs(t){Oi!==null&&Oi.tag===0&&!(je&6)&&Mo();var e=je;je|=1;var n=Xn.transition,r=qe;try{if(Xn.transition=null,qe=1,t)return t()}finally{qe=r,Xn.transition=n,je=e,!(je&6)&&as()}}function dy(){Mn=Ao.current,nt(Ao)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hP(n)),bt!==null)for(n=bt.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pd();break;case 3:Go(),nt(bn),nt(nn),ey();break;case 5:Zg(r);break;case 4:Go();break;case 13:nt(at);break;case 19:nt(at);break;case 10:Qg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(Rt=t,bt=t=qi(t.current,null),$t=Mn=e,It=0,Hl=null,ly=vh=Us=0,wn=ul=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function Sb(t,e){do{var n=bt;try{if(Kg(),Mc.current=kd,xd){for(var r=ut.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}xd=!1}if($s=0,Nt=St=ut=null,al=!1,Ul=0,ay.current=null,n===null||n.return===null){It=1,Hl=e,bt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=S_(o);if(p!==null){p.flags&=-257,I_(p,o,a,s,e),p.mode&1&&T_(s,u,e),e=p,l=u;var w=e.updateQueue;if(w===null){var b=new Set;b.add(l),e.updateQueue=b}else w.add(l);break e}else{if(!(e&1)){T_(s,u,e),hy();break e}l=Error(J(426))}}else if(st&&a.mode&1){var R=S_(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),I_(R,o,a,s,e),qg(Ko(l,a));break e}}s=l=Ko(l,a),It!==4&&(It=2),ul===null?ul=[s]:ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=ub(s,l,e);w_(s,_);break e;case 1:a=l;var v=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Hi===null||!Hi.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=cb(s,a,e);w_(s,L);break e}}s=s.return}while(s!==null)}Ab(n)}catch(F){e=F,bt===n&&n!==null&&(bt=n=n.return);continue}break}while(!0)}function Ib(){var t=bd.current;return bd.current=kd,t===null?kd:t}function hy(){(It===0||It===3||It===2)&&(It=4),Rt===null||!(Us&268435455)&&!(vh&268435455)||Si(Rt,$t)}function Id(t,e){var n=je;je|=2;var r=Ib();(Rt!==t||$t!==e)&&(Vr=null,Ds(t,e));do try{FP();break}catch(i){Sb(t,i)}while(!0);if(Kg(),je=n,bd.current=r,bt!==null)throw Error(J(261));return Rt=null,$t=0,It}function FP(){for(;bt!==null;)Cb(bt)}function VP(){for(;bt!==null&&!uA();)Cb(bt)}function Cb(t){var e=Nb(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?Ab(t):bt=e,ay.current=null}function Ab(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NP(n,e),n!==null){n.flags&=32767,bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,bt=null;return}}else if(n=PP(n,e,Mn),n!==null){bt=n;return}if(e=e.sibling,e!==null){bt=e;return}bt=e=t}while(e!==null);It===0&&(It=5)}function _s(t,e,n){var r=qe,i=Xn.transition;try{Xn.transition=null,qe=1,jP(t,e,n,r)}finally{Xn.transition=i,qe=r}return null}function jP(t,e,n,r){do Mo();while(Oi!==null);if(je&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wA(t,s),t===Rt&&(bt=Rt=null,$t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,Rb(ld,function(){return Mo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xn.transition,Xn.transition=null;var o=qe;qe=1;var a=je;je|=4,ay.current=null,DP(t,n),kb(n,t),sP(rm),cd=!!nm,rm=nm=null,t.current=n,OP(n),cA(),je=a,qe=o,Xn.transition=s}else t.current=n;if(hc&&(hc=!1,Oi=t,Sd=i),s=t.pendingLanes,s===0&&(Hi=null),fA(n.stateNode),Sn(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Td)throw Td=!1,t=km,km=null,t;return Sd&1&&t.tag!==0&&Mo(),s=t.pendingLanes,s&1?t===bm?cl++:(cl=0,bm=t):cl=0,as(),null}function Mo(){if(Oi!==null){var t=uk(Sd),e=Xn.transition,n=qe;try{if(Xn.transition=null,qe=16>t?16:t,Oi===null)var r=!1;else{if(t=Oi,Oi=null,Sd=0,je&6)throw Error(J(331));var i=je;for(je|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:ll(8,d,s)}var h=d.child;if(h!==null)h.return=d,de=h;else for(;de!==null;){d=de;var f=d.sibling,p=d.return;if(_b(d),d===u){de=null;break}if(f!==null){f.return=p,de=f;break}de=p}}}var w=s.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var R=b.sibling;b.sibling=null,b=R}while(b!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,de=_;break e}de=s.return}}var v=t.current;for(de=v;de!==null;){o=de;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,de=k;else e:for(o=v;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yh(9,a)}}catch(F){pt(a,a.return,F)}if(a===o){de=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,de=L;break e}de=a.return}}if(je=i,as(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(uh,t)}catch{}r=!0}return r}finally{qe=n,Xn.transition=e}}return!1}function $_(t,e,n){e=Ko(n,e),e=ub(t,e,1),t=Bi(t,e,1),e=hn(),t!==null&&(ru(t,1,e),Sn(t,e))}function pt(t,e,n){if(t.tag===3)$_(t,t,n);else for(;e!==null;){if(e.tag===3){$_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hi===null||!Hi.has(r))){t=Ko(n,t),t=cb(e,t,1),e=Bi(e,t,1),t=hn(),e!==null&&(ru(e,1,t),Sn(e,t));break}}e=e.return}}function $P(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&($t&n)===n&&(It===4||It===3&&($t&130023424)===$t&&500>yt()-uy?Ds(t,0):ly|=n),Sn(t,e)}function Pb(t,e){e===0&&(t.mode&1?(e=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):e=1);var n=hn();t=Zr(t,e),t!==null&&(ru(t,e,n),Sn(t,n))}function UP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pb(t,n)}function zP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),Pb(t,n)}var Nb;Nb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xn=!1,AP(t,e,n);xn=!!(t.flags&131072)}else xn=!1,st&&e.flags&1048576&&Lk(e,yd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vc(t,e),t=e.pendingProps;var i=Ho(e,nn.current);Lo(e,n),i=ny(null,e,r,t,i,n);var s=ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,md(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xg(e),i.updater=gh,e.stateNode=i,i._reactInternals=e,hm(e,r,t,n),e=mm(null,e,r,!0,s,n)):(e.tag=0,st&&s&&Hg(e),un(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HP(r),t=ir(r,t),i){case 0:e=pm(null,e,r,t,n);break e;case 1:e=P_(null,e,r,t,n);break e;case 11:e=C_(null,e,r,t,n);break e;case 14:e=A_(null,e,r,ir(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),P_(t,e,r,i,n);case 3:e:{if(pb(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Uk(t,e),_d(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ko(Error(J(423)),e),e=N_(t,e,r,n,i);break e}else if(r!==i){i=Ko(Error(J(424)),e),e=N_(t,e,r,n,i);break e}else for(Fn=zi(e.stateNode.containerInfo.firstChild),jn=e,st=!0,ar=null,n=jk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wo(),r===i){e=ei(t,e,n);break e}un(t,e,r,n)}e=e.child}return e;case 5:return zk(e),t===null&&um(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,im(r,i)?o=null:s!==null&&im(r,s)&&(e.flags|=32),fb(t,e),un(t,e,o,n),e.child;case 6:return t===null&&um(e),null;case 13:return mb(t,e,n);case 4:return Jg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qo(e,null,r,n):un(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),C_(t,e,r,i,n);case 7:return un(t,e,e.pendingProps,n),e.child;case 8:return un(t,e,e.pendingProps.children,n),e.child;case 12:return un(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Je(vd,r._currentValue),r._currentValue=o,s!==null)if(pr(s.value,o)){if(s.children===i.children&&!bn.current){e=ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Gr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}un(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lo(e,n),i=Jn(i),r=r(i),e.flags|=1,un(t,e,r,n),e.child;case 14:return r=e.type,i=ir(r,e.pendingProps),i=ir(r.type,i),A_(t,e,r,i,n);case 15:return db(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ir(r,i),Vc(t,e),e.tag=1,Tn(r)?(t=!0,md(e)):t=!1,Lo(e,n),lb(e,r,i),hm(e,r,i,n),mm(null,e,r,!0,t,n);case 19:return gb(t,e,n);case 22:return hb(t,e,n)}throw Error(J(156,e.tag))};function Rb(t,e){return sk(t,e)}function BP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(t,e,n,r){return new BP(t,e,n,r)}function fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HP(t){if(typeof t=="function")return fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rg)return 11;if(t===Dg)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=Yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wo:return Os(n.children,i,s,e);case Ng:o=8,i|=8;break;case Mp:return t=Yn(12,n,e,i|2),t.elementType=Mp,t.lanes=s,t;case Fp:return t=Yn(13,n,e,i),t.elementType=Fp,t.lanes=s,t;case Vp:return t=Yn(19,n,e,i),t.elementType=Vp,t.lanes=s,t;case zx:return wh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $x:o=10;break e;case Ux:o=9;break e;case Rg:o=11;break e;case Dg:o=14;break e;case xi:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=Yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Os(t,e,n,r){return t=Yn(7,t,r,e),t.lanes=n,t}function wh(t,e,n,r){return t=Yn(22,t,r,e),t.elementType=zx,t.lanes=n,t.stateNode={isHidden:!1},t}function qf(t,e,n){return t=Yn(6,t,null,e),t.lanes=n,t}function Gf(t,e,n){return e=Yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=If(0),this.expirationTimes=If(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=If(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function py(t,e,n,r,i,s,o,a,l){return t=new WP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xg(s),t}function qP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Db(t){if(!t)return es;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Tn(n))return Dk(t,n,e)}return e}function Ob(t,e,n,r,i,s,o,a,l){return t=py(n,r,!0,t,i,s,o,a,l),t.context=Db(null),n=t.current,r=hn(),i=Wi(n),s=Gr(r,i),s.callback=e??null,Bi(n,s,i),t.current.lanes=i,ru(t,i,r),Sn(t,r),t}function _h(t,e,n,r){var i=e.current,s=hn(),o=Wi(i);return n=Db(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,o),t!==null&&(dr(t,i,o,s),Lc(t,i,o)),o}function Cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function U_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function my(t,e){U_(t,e),(t=t.alternate)&&U_(t,e)}function GP(){return null}var Lb=typeof reportError=="function"?reportError:function(t){console.error(t)};function gy(t){this._internalRoot=t}Eh.prototype.render=gy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));_h(t,e,null,null)};Eh.prototype.unmount=gy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){_h(null,t,null,null)}),e[Jr]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var e=hk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ti.length&&e!==0&&e<Ti[n].priority;n++);Ti.splice(n,0,t),n===0&&pk(t)}};function yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z_(){}function KP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Cd(o);s.call(u)}}var o=Ob(e,r,t,0,null,!1,!1,"",z_);return t._reactRootContainer=o,t[Jr]=o.current,Ml(t.nodeType===8?t.parentNode:t),zs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Cd(l);a.call(u)}}var l=py(t,0,!1,null,null,!1,!1,"",z_);return t._reactRootContainer=l,t[Jr]=l.current,Ml(t.nodeType===8?t.parentNode:t),zs(function(){_h(e,l,n,r)}),l}function kh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Cd(o);a.call(l)}}_h(e,o,t,i)}else o=KP(n,e,t,i,r);return Cd(o)}ck=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ha(e.pendingLanes);n!==0&&(Mg(e,n|1),Sn(e,yt()),!(je&6)&&(Qo=yt()+500,as()))}break;case 13:zs(function(){var r=Zr(t,1);if(r!==null){var i=hn();dr(r,t,1,i)}}),my(t,1)}};Fg=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=hn();dr(e,t,134217728,n)}my(t,134217728)}};dk=function(t){if(t.tag===13){var e=Wi(t),n=Zr(t,e);if(n!==null){var r=hn();dr(n,t,e,r)}my(t,e)}};hk=function(){return qe};fk=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};Kp=function(t,e,n){switch(e){case"input":if(Up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fh(r);if(!i)throw Error(J(90));Hx(r),Up(r,i)}}}break;case"textarea":qx(t,n);break;case"select":e=n.value,e!=null&&No(t,!!n.multiple,e,!1)}};Zx=cy;ek=zs;var QP={usingClientEntryPoint:!1,Events:[su,ko,fh,Xx,Jx,cy]},Va={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YP={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rk(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||GP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{uh=fc.inject(YP),xr=fc}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yy(e))throw Error(J(200));return qP(t,e,null,n)};zn.createRoot=function(t,e){if(!yy(t))throw Error(J(299));var n=!1,r="",i=Lb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=py(t,1,!1,null,null,n,!1,r,i),t[Jr]=e.current,Ml(t.nodeType===8?t.parentNode:t),new gy(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=rk(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return zs(t)};zn.hydrate=function(t,e,n){if(!xh(e))throw Error(J(200));return kh(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!yy(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Lb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ob(e,null,t,1,n??null,i,!1,s,o),t[Jr]=e.current,Ml(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Eh(e)};zn.render=function(t,e,n){if(!xh(e))throw Error(J(200));return kh(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!xh(t))throw Error(J(40));return t._reactRootContainer?(zs(function(){kh(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};zn.unstable_batchedUpdates=cy;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xh(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return kh(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function Mb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mb)}catch(t){console.error(t)}}Mb(),Mx.exports=zn;var Fb=Mx.exports,B_=Fb;Op.createRoot=B_.createRoot,Op.hydrateRoot=B_.hydrateRoot;let XP={data:""},JP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||XP,ZP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eN=/\/\*[^]*?\*\/|  +/g,H_=/\n+/g,Ii=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Ii(o,s):s+"{"+Ii(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Ii(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ii.p?Ii.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Fr={},Vb=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+Vb(t[n]);return e}return t},tN=(t,e,n,r,i)=>{let s=Vb(t),o=Fr[s]||(Fr[s]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(s));if(!Fr[o]){let l=s!==t?t:(u=>{let d,h,f=[{}];for(;d=ZP.exec(u.replace(eN,""));)d[4]?f.shift():d[3]?(h=d[3].replace(H_," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(H_," ").trim();return f[0]})(t);Fr[o]=Ii(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Fr.g?Fr.g:null;return n&&(Fr.g=Fr[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Fr[o],e,r,a),o},nN=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Ii(a,""):a===!1?"":a}return r+i+(o??"")},"");function bh(t){let e=this||{},n=t.call?t(e.p):t;return tN(n.unshift?n.raw?nN(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,JP(e.target),e.g,e.o,e.k)}let jb,Im,Cm;bh.bind({g:1});let ti=bh.bind({k:1});function rN(t,e,n,r){Ii.p=e,jb=t,Im=n,Cm=r}function ls(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:Im&&Im()},a),n.o=/ *go\d+/.test(l),a.className=bh.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),Cm&&u[0]&&Cm(a),jb(u,a)}return i}}var iN=t=>typeof t=="function",Ad=(t,e)=>iN(t)?t(e):t,sN=(()=>{let t=0;return()=>(++t).toString()})(),$b=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),oN=20,Ub=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,oN)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Ub(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},zc=[],As={toasts:[],pausedAt:void 0},Js=t=>{As=Ub(As,t),zc.forEach(e=>{e(As)})},aN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},lN=(t={})=>{let[e,n]=D.useState(As),r=D.useRef(As);D.useEffect(()=>(r.current!==As&&n(As),zc.push(n),()=>{let s=zc.indexOf(n);s>-1&&zc.splice(s,1)}),[]);let i=e.toasts.map(s=>{var o,a,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||aN[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},uN=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||sN()}),au=t=>(e,n)=>{let r=uN(e,t,n);return Js({type:2,toast:r}),r.id},Ue=(t,e)=>au("blank")(t,e);Ue.error=au("error");Ue.success=au("success");Ue.loading=au("loading");Ue.custom=au("custom");Ue.dismiss=t=>{Js({type:3,toastId:t})};Ue.remove=t=>Js({type:4,toastId:t});Ue.promise=(t,e,n)=>{let r=Ue.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Ad(e.success,i):void 0;return s?Ue.success(s,{id:r,...n,...n==null?void 0:n.success}):Ue.dismiss(r),i}).catch(i=>{let s=e.error?Ad(e.error,i):void 0;s?Ue.error(s,{id:r,...n,...n==null?void 0:n.error}):Ue.dismiss(r)}),t};var cN=(t,e)=>{Js({type:1,toast:{id:t,height:e}})},dN=()=>{Js({type:5,time:Date.now()})},dl=new Map,hN=1e3,fN=(t,e=hN)=>{if(dl.has(t))return;let n=setTimeout(()=>{dl.delete(t),Js({type:4,toastId:t})},e);dl.set(t,n)},pN=t=>{let{toasts:e,pausedAt:n}=lN(t);D.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Ue.dismiss(a.id);return}return setTimeout(()=>Ue.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=D.useCallback(()=>{n&&Js({type:6,time:Date.now()})},[n]),i=D.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},d=e.filter(p=>(p.position||u)===(s.position||u)&&p.height),h=d.findIndex(p=>p.id===s.id),f=d.filter((p,w)=>w<h&&p.visible).length;return d.filter(p=>p.visible).slice(...a?[f+1]:[0,f]).reduce((p,w)=>p+(w.height||0)+l,0)},[e]);return D.useEffect(()=>{e.forEach(s=>{if(s.dismissed)fN(s.id,s.removeDelay);else{let o=dl.get(s.id);o&&(clearTimeout(o),dl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:cN,startPause:dN,endPause:r,calculateOffset:i}}},mN=ti`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gN=ti`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yN=ti`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vN=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${yN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wN=ti`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_N=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wN} 1s linear infinite;
`,EN=ti`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xN=ti`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kN=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bN=ls("div")`
  position: absolute;
`,TN=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,SN=ti`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,IN=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${SN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CN=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?D.createElement(IN,null,e):e:n==="blank"?null:D.createElement(TN,null,D.createElement(_N,{...r}),n!=="loading"&&D.createElement(bN,null,n==="error"?D.createElement(vN,{...r}):D.createElement(kN,{...r})))},AN=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PN=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,NN="0%{opacity:0;} 100%{opacity:1;}",RN="0%{opacity:1;} 100%{opacity:0;}",DN=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ON=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,LN=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=$b()?[NN,RN]:[AN(n),PN(n)];return{animation:e?`${ti(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ti(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},MN=D.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?LN(t.position||e||"top-center",t.visible):{opacity:0},s=D.createElement(CN,{toast:t}),o=D.createElement(ON,{...t.ariaProps},Ad(t.message,t));return D.createElement(DN,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):D.createElement(D.Fragment,null,s,o))});rN(D.createElement);var FN=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=D.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return D.createElement("div",{ref:s,className:e,style:n},i)},VN=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},jN=bh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pc=16,$N=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=pN(n);return D.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:pc,left:pc,right:pc,bottom:pc,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let d=u.position||e,h=l.calculateOffset(u,{reverseOrder:t,gutter:r,defaultPosition:e}),f=VN(d,h);return D.createElement(FN,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?jN:"",style:f},u.type==="custom"?Ad(u.message,u):i?i(u):D.createElement(MN,{toast:u,position:d}))}))};const Fe=({name:t,type:e="fas",...n})=>g.jsx("i",{className:`${e} fa-${t}`,"aria-hidden":"true",...n}),UN="modulepreload",zN=function(t){return"/swim-meet-app/"+t},W_={},BN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=zN(l),l in W_)return;W_[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":UN,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function HN(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await BN(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/swim-meet-app/sw.js",{scope:"/swim-meet-app/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:e}).then(h=>{s?s("/swim-meet-app/sw.js",h):i==null||i(h)}).catch(h=>{o==null||o(h)})}}return l=d(),u}function WN(){return D.useEffect(()=>{const t=HN({onNeedRefresh(){confirm("New content is available, do you want to reload?")&&t(!0)},onOfflineReady(){console.log("App is ready to work offline")}})},[]),null}function zb({event:t,favorites:e,currentEvent:n,toggleFavorite:r}){const i=(t.heats||[]).some(a=>a.lanes.some(l=>e.has(l.id))),s=n.isTracking&&t.eventNumber===n.eventNumber,o=["bg-surface-light dark:bg-surface-dark rounded-lg mb-3 border border-border-light dark:border-border-dark overflow-hidden transition-all",i?"border-l-4 border-l-secondary":"",s?"border-2 border-primary dark:border-primary-light scale-[1.02]":""].join(" ");return g.jsxs("div",{className:o,children:[g.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark font-bold",children:["Event ",t.eventNumber,": ",t.name]}),g.jsx("div",{className:"p-4 space-y-4",children:t.heats&&t.heats.length>0?t.heats.map(a=>g.jsxs("div",{className:`p-3 rounded-lg ${s&&a.heatNumber===n.heatNumber?"bg-primary/10 dark:bg-primary/20":""}`,children:[g.jsxs("h6",{className:"mb-2 font-semibold text-gray-600 dark:text-gray-400",children:["Heat ",a.heatNumber]}),g.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark -m-3",children:a.lanes.map(l=>g.jsx("li",{className:"p-3 flex justify-between items-start",children:g.jsxs("div",{className:"flex-grow",children:[g.jsxs("strong",{className:"font-semibold",children:["Lane ",l.lane,":"]}),l.swimmers.map(u=>g.jsxs("div",{className:"ml-4 flex justify-between items-center",children:[g.jsxs("span",{children:[`${u.firstName} ${u.lastName}`," ",g.jsxs("span",{className:"text-gray-500",children:["(",u.team,")"]})]}),g.jsx("button",{className:"p-2 -m-2",onClick:()=>r(u.id),children:g.jsx("div",{className:`${e.has(u.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:g.jsx(Fe,{name:"star",type:e.has(u.id)?"fas":"far"})})})]},u.id))]})},l.lane))})]},a.heatNumber)):g.jsx("p",{className:"text-center text-gray-500",children:"No heats or swimmers for this event yet."})})]})}function q_({events:t,favorites:e,currentEvent:n,toggleFavorite:r,adminRole:i,updateMeetStatus:s}){if(!t||t.length===0)return g.jsx("p",{className:"text-center text-gray-500",children:"No events found for this meet."});const o=()=>{const u=Math.min(t.length,n.eventNumber+1);s({eventNumber:u,heatNumber:1})},a=()=>{const u=Math.max(1,n.eventNumber-1);s({eventNumber:u,heatNumber:1})},l=()=>{s({isTracking:!n.isTracking})};return g.jsxs("div",{children:[i&&g.jsxs("div",{className:"sticky top-0 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-sm z-10 p-2 rounded-lg border border-border-light dark:border-border-dark mb-4 flex items-center justify-between gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:a,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Previous Event",children:g.jsx(Fe,{name:"backward-step"})}),g.jsx("div",{className:"text-center",children:g.jsxs("div",{className:"font-semibold text-sm",children:["Event ",n.eventNumber]})}),g.jsx("button",{onClick:o,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Next Event",children:g.jsx(Fe,{name:"forward-step"})})]}),g.jsx("button",{onClick:l,className:`py-2 px-3 rounded-md font-semibold text-xs flex-shrink-0 ${n.isTracking?"bg-yellow-500 text-black":"bg-blue-600 text-white"}`,children:n.isTracking?"Stop Tracking":"Start Tracking"})]}),n.isTracking&&!i&&g.jsxs("div",{className:"bg-primary text-white p-3 rounded-lg mb-4 shadow-md text-center",children:[g.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Now Swimming"}),g.jsxs("div",{className:"text-lg mt-1 font-semibold",children:["Event #",n.eventNumber]})]}),t.map(u=>g.jsx(zb,{event:u,favorites:e,currentEvent:n,toggleFavorite:r},u.id))]})}function qN({search:t,setSearch:e,results:n,favorites:r,currentEvent:i,toggleFavorite:s}){return g.jsxs("div",{children:[g.jsx("label",{htmlFor:"event-search-input",className:"sr-only",children:"Search by event name or number"}),g.jsx("input",{id:"event-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search by event name or number...",value:t,onChange:o=>e(o.target.value)}),t&&n.length===0&&g.jsx("p",{className:"text-center text-gray-500",children:"No events found."}),n.map(o=>g.jsx(zb,{event:o,favorites:r,currentEvent:i,toggleFavorite:s},o.id))]})}function GN({search:t,setSearch:e,results:n,favorites:r,toggleFavorite:i}){return g.jsxs("div",{children:[g.jsx("label",{htmlFor:"swimmer-search-input",className:"sr-only",children:"Search for a swimmer"}),g.jsx("input",{id:"swimmer-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search for a swimmer...",value:t,onChange:s=>e(s.target.value)}),t&&n.length===0&&g.jsx("p",{className:"text-center text-gray-500",children:"No swimmers found."}),g.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md overflow-hidden border border-border-light dark:border-border-dark",children:g.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:n.map(s=>g.jsxs("li",{className:"p-4 flex justify-between items-center",children:[g.jsxs("div",{className:"mr-auto font-bold",children:[s.name," (",s.team,")"]}),g.jsx("button",{className:"p-2 -m-2",onClick:()=>i(s.id),"aria-label":`Toggle favorite for ${s.name}`,children:g.jsx("div",{className:`${r.has(s.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:g.jsx(Fe,{name:"star",type:r.has(s.id)?"fas":"far"})})})]},s.id))})})]})}var KN=Object.defineProperty,QN=(t,e,n)=>e in t?KN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Kf=(t,e,n)=>(QN(t,typeof e!="symbol"?e+"":e,n),n);let YN=class{constructor(){Kf(this,"current",this.detect()),Kf(this,"handoffState","pending"),Kf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ls=new YN;function Th(t){var e,n;return Ls.isServer?null:t?"ownerDocument"in t?t.ownerDocument:"current"in t?(n=(e=t.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function Sh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ui(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Sh(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=ui();return n(r),this.add(()=>r.dispose())},add(n){return t.includes(n)||t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function vy(){let[t]=D.useState(ui);return D.useEffect(()=>()=>t.dispose(),[t]),t}let en=(t,e)=>{Ls.isServer?D.useEffect(t,e):D.useLayoutEffect(t,e)};function Zs(t){let e=D.useRef(t);return en(()=>{e.current=t},[t]),e}let Qe=function(t){let e=Zs(t);return be.useCallback((...n)=>e.current(...n),[e])},XN=D.createContext(void 0);function JN(){return D.useContext(XN)}function Am(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ni(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ni),r}var Pd=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Pd||{}),Li=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Li||{});function er(){let t=eR();return D.useCallback(e=>ZN({mergeRefs:t,...e}),[t])}function ZN({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o,mergeRefs:a}){a=a??tR;let l=Bb(e,t);if(s)return mc(l,n,r,o,a);let u=i??0;if(u&2){let{static:d=!1,...h}=l;if(d)return mc(h,n,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return ni(d?0:1,{0(){return null},1(){return mc({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return mc(l,n,r,o,a)}function mc(t,e={},n,r,i){let{as:s=n,children:o,refName:a="ref",...l}=Qf(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let h={};if(e){let f=!1,p=[];for(let[w,b]of Object.entries(e))typeof b=="boolean"&&(f=!0),b===!0&&p.push(w.replace(/([A-Z])/g,R=>`-${R.toLowerCase()}`));if(f){h["data-headlessui-state"]=p.join(" ");for(let w of p)h[`data-${w}`]=""}}if(s===D.Fragment&&(Object.keys(Es(l)).length>0||Object.keys(Es(h)).length>0))if(!D.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Es(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Es(l)).concat(Object.keys(Es(h))).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}else{let f=d.props,p=f==null?void 0:f.className,w=typeof p=="function"?(..._)=>Am(p(..._),l.className):Am(p,l.className),b=w?{className:w}:{},R=Bb(d.props,Es(Qf(l,["ref"])));for(let _ in h)_ in R&&delete h[_];return D.cloneElement(d,Object.assign({},R,h,u,{ref:i(nR(d),u.ref)},b))}return D.createElement(s,Object.assign({},Qf(l,["ref"]),s!==D.Fragment&&u,s!==D.Fragment&&h),d)}function eR(){let t=D.useRef([]),e=D.useCallback(n=>{for(let r of t.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return t.current=n,e}}function tR(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Bb(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function In(t){var e;return Object.assign(D.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Es(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Qf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function nR(t){return be.version.split(".")[0]>="19"?t.props.ref:t.ref}let rR="span";var Nd=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Nd||{});function iR(t,e){var n;let{features:r=1,...i}=t,s={ref:e,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return er()({ourProps:s,theirProps:i,slot:{},defaultTag:rR,name:"Hidden"})}let Pm=In(iR);function Hb(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function Gi(t){return Hb(t)&&"tagName"in t}function Bs(t){return Gi(t)&&"accessKey"in t}function Mi(t){return Gi(t)&&"tabIndex"in t}function sR(t){return Gi(t)&&"style"in t}function oR(t){return Bs(t)&&t.nodeName==="IFRAME"}function aR(t){return Bs(t)&&t.nodeName==="INPUT"}let Wb=Symbol();function lR(t,e=!0){return Object.assign(t,{[Wb]:e})}function Rr(...t){let e=D.useRef(t);D.useEffect(()=>{e.current=t},[t]);let n=Qe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[Wb]))?void 0:n}let wy=D.createContext(null);wy.displayName="DescriptionContext";function qb(){let t=D.useContext(wy);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,qb),e}return t}function uR(){let[t,e]=D.useState([]);return[t.length>0?t.join(" "):void 0,D.useMemo(()=>function(n){let r=Qe(s=>(e(o=>[...o,s]),()=>e(o=>{let a=o.slice(),l=a.indexOf(s);return l!==-1&&a.splice(l,1),a}))),i=D.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return be.createElement(wy.Provider,{value:i},n.children)},[e])]}let cR="p";function dR(t,e){let n=D.useId(),r=JN(),{id:i=`headlessui-description-${n}`,...s}=t,o=qb(),a=Rr(e);en(()=>o.register(i),[i,o.register]);let l=r||!1,u=D.useMemo(()=>({...o.slot,disabled:l}),[o.slot,l]),d={ref:a,...o.props,id:i};return er()({ourProps:d,theirProps:s,slot:u,defaultTag:cR,name:o.name||"Description"})}let hR=In(dR),Gb=Object.assign(hR,{});var Kb=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Kb||{});let fR=D.createContext(()=>{});function pR({value:t,children:e}){return be.createElement(fR.Provider,{value:t},e)}let Qb=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var mR=Object.defineProperty,gR=(t,e,n)=>e in t?mR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yR=(t,e,n)=>(gR(t,e+"",n),n),Yb=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Wn=(t,e,n)=>(Yb(t,e,"read from private field"),n?n.call(t):e.get(t)),Yf=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},G_=(t,e,n,r)=>(Yb(t,e,"write to private field"),e.set(t,n),n),yr,qa,Ga;let vR=class{constructor(e){Yf(this,yr,{}),Yf(this,qa,new Qb(()=>new Set)),Yf(this,Ga,new Set),yR(this,"disposables",ui()),G_(this,yr,e)}dispose(){this.disposables.dispose()}get state(){return Wn(this,yr)}subscribe(e,n){let r={selector:e,callback:n,current:e(Wn(this,yr))};return Wn(this,Ga).add(r),this.disposables.add(()=>{Wn(this,Ga).delete(r)})}on(e,n){return Wn(this,qa).get(e).add(n),this.disposables.add(()=>{Wn(this,qa).get(e).delete(n)})}send(e){let n=this.reduce(Wn(this,yr),e);if(n!==Wn(this,yr)){G_(this,yr,n);for(let r of Wn(this,Ga)){let i=r.selector(Wn(this,yr));Xb(r.current,i)||(r.current=i,r.callback(i))}for(let r of Wn(this,qa).get(e.type))r(Wn(this,yr),e)}}};yr=new WeakMap,qa=new WeakMap,Ga=new WeakMap;function Xb(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:Xf(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:Xf(t.entries(),e.entries()):K_(t)&&K_(e)?Xf(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function Xf(t,e){do{let n=t.next(),r=e.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function K_(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}var wR=Object.defineProperty,_R=(t,e,n)=>e in t?wR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q_=(t,e,n)=>(_R(t,typeof e!="symbol"?e+"":e,n),n),ER=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(ER||{});let xR={0(t,e){let n=e.id,r=t.stack,i=t.stack.indexOf(n);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(n),r=s,{...t,stack:r}}return{...t,stack:[...t.stack,n]}},1(t,e){let n=e.id,r=t.stack.indexOf(n);if(r===-1)return t;let i=t.stack.slice();return i.splice(r,1),{...t,stack:i}}},kR=class Jb extends vR{constructor(){super(...arguments),Q_(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),Q_(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new Jb({stack:[]})}reduce(e,n){return ni(n.type,xR,e,n)}};const Zb=new Qb(()=>kR.new());var eT={exports:{}},tT={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=D;function bR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TR=typeof Object.is=="function"?Object.is:bR,SR=lu.useSyncExternalStore,IR=lu.useRef,CR=lu.useEffect,AR=lu.useMemo,PR=lu.useDebugValue;tT.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=IR(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=AR(function(){function l(p){if(!u){if(u=!0,d=p,p=r(p),i!==void 0&&o.hasValue){var w=o.value;if(i(w,p))return h=w}return h=p}if(w=h,TR(d,p))return w;var b=r(p);return i!==void 0&&i(w,b)?(d=p,w):(d=p,h=b)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=SR(t,s[0],s[1]);return CR(function(){o.hasValue=!0,o.value=a},[a]),PR(a),a};eT.exports=tT;var NR=eT.exports;function nT(t,e,n=Xb){return NR.useSyncExternalStoreWithSelector(Qe(r=>t.subscribe(RR,r)),Qe(()=>t.state),Qe(()=>t.state),Qe(e),n)}function RR(t){return t}function uu(t,e){let n=D.useId(),r=Zb.get(e),[i,s]=nT(r,D.useCallback(o=>[r.selectors.isTop(o,n),r.selectors.inStack(o,n)],[r,n]));return en(()=>{if(t)return r.actions.push(n),()=>r.actions.pop(n)},[r,t,n]),t?s?i:!0:!1}let Nm=new Map,hl=new Map;function Y_(t){var e;let n=(e=hl.get(t))!=null?e:0;return hl.set(t,n+1),n!==0?()=>X_(t):(Nm.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>X_(t))}function X_(t){var e;let n=(e=hl.get(t))!=null?e:1;if(n===1?hl.delete(t):hl.set(t,n-1),n!==1)return;let r=Nm.get(t);r&&(r["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",r["aria-hidden"]),t.inert=r.inert,Nm.delete(t))}function DR(t,{allowed:e,disallowed:n}={}){let r=uu(t,"inert-others");en(()=>{var i,s;if(!r)return;let o=ui();for(let l of(i=n==null?void 0:n())!=null?i:[])l&&o.add(Y_(l));let a=(s=e==null?void 0:e())!=null?s:[];for(let l of a){if(!l)continue;let u=Th(l);if(!u)continue;let d=l.parentElement;for(;d&&d!==u.body;){for(let h of d.children)a.some(f=>h.contains(f))||o.add(Y_(h));d=d.parentElement}}return o.dispose},[r,e,n])}function OR(t,e,n){let r=Zs(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});D.useEffect(()=>{if(!t)return;let i=e===null?null:Bs(e)?e:e.current;if(!i)return;let s=ui();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),s.add(()=>o.disconnect())}return()=>s.dispose()},[e,r,t])}let Rd=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),LR=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var $r=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))($r||{}),Rm=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Rm||{}),MR=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(MR||{});function FR(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(Rd)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function VR(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(LR)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var rT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(rT||{});function jR(t,e=0){var n;return t===((n=Th(t))==null?void 0:n.body)?!1:ni(e,{0(){return t.matches(Rd)},1(){let r=t;for(;r!==null;){if(r.matches(Rd))return!0;r=r.parentElement}return!1}})}var $R=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))($R||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Kr(t){t==null||t.focus({preventScroll:!0})}let UR=["textarea","input"].join(",");function zR(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,UR))!=null?n:!1}function BR(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fl(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?BR(t):t:e&64?VR(t):FR(t);i.length>0&&o.length>1&&(o=o.filter(p=>!i.some(w=>w!=null&&"current"in w?(w==null?void 0:w.current)===p:w===p))),r=r??s.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let p=l+d;if(e&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=o[p],f==null||f.focus(u),d+=a}while(f!==s.activeElement);return e&6&&zR(f)&&f.select(),2}function iT(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function HR(){return/Android/gi.test(window.navigator.userAgent)}function J_(){return iT()||HR()}function gc(t,e,n,r){let i=Zs(n);D.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return document.addEventListener(e,s,r),()=>document.removeEventListener(e,s,r)},[t,e,r])}function sT(t,e,n,r){let i=Zs(n);D.useEffect(()=>{if(!t)return;function s(o){i.current(o)}return window.addEventListener(e,s,r),()=>window.removeEventListener(e,s,r)},[t,e,r])}const Z_=30;function WR(t,e,n){let r=Zs(n),i=D.useCallback(function(a,l){if(a.defaultPrevented)return;let u=l(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let d=function h(f){return typeof f=="function"?h(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let h of d)if(h!==null&&(h.contains(u)||a.composed&&a.composedPath().includes(h)))return;return!jR(u,rT.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,e]),s=D.useRef(null);gc(t,"pointerdown",a=>{var l,u;J_()||(s.current=((u=(l=a.composedPath)==null?void 0:l.call(a))==null?void 0:u[0])||a.target)},!0),gc(t,"pointerup",a=>{if(J_()||!s.current)return;let l=s.current;return s.current=null,i(a,()=>l)},!0);let o=D.useRef({x:0,y:0});gc(t,"touchstart",a=>{o.current.x=a.touches[0].clientX,o.current.y=a.touches[0].clientY},!0),gc(t,"touchend",a=>{let l={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(l.x-o.current.x)>=Z_||Math.abs(l.y-o.current.y)>=Z_))return i(a,()=>Mi(a.target)?a.target:null)},!0),sT(t,"blur",a=>i(a,()=>oR(window.document.activeElement)?window.document.activeElement:null),!0)}function Ih(...t){return D.useMemo(()=>Th(...t),[...t])}function oT(t,e,n,r){let i=Zs(n);D.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,r),()=>t.removeEventListener(e,s,r)},[t,e,r])}function qR(t){return D.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function GR(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=e[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function KR(){let t;return{before({doc:e}){var n;let r=e.documentElement,i=(n=e.defaultView)!=null?n:window;t=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:e,d:n}){let r=e.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,t-i);n.style(r,"paddingRight",`${s}px`)}}}function QR(){return iT()?{before({doc:t,d:e,meta:n}){function r(i){return n.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ui();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(Mi(a.target))try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=t.querySelector(u);Mi(d)&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(Mi(a.target)&&sR(a.target))if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(Mi(a.target)){if(aR(a.target))return;if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;s!==l&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function YR(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function XR(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let Ps=GR(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ui(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:XR(n)},i=[QR(),KR(),YR()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ps.subscribe(()=>{let t=Ps.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Ps.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ps.dispatch("TEARDOWN",n)}});function JR(t,e,n=()=>({containers:[]})){let r=qR(Ps),i=e?r.get(e):void 0,s=i?i.count>0:!1;return en(()=>{if(!(!e||!t))return Ps.dispatch("PUSH",e,n),()=>Ps.dispatch("POP",e,n)},[t,e]),s}function ZR(t,e,n=()=>[document.body]){let r=uu(t,"scroll-lock");JR(r,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],n]}})}function eD(t=0){let[e,n]=D.useState(t),r=D.useCallback(l=>n(l),[e]),i=D.useCallback(l=>n(u=>u|l),[e]),s=D.useCallback(l=>(e&l)===l,[e]),o=D.useCallback(l=>n(u=>u&~l),[n]),a=D.useCallback(l=>n(u=>u^l),[n]);return{flags:e,setFlag:r,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}var tD={},e0,t0;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((e0=process==null?void 0:tD)==null?void 0:e0.NODE_ENV)==="test"&&typeof((t0=Element==null?void 0:Element.prototype)==null?void 0:t0.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var nD=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(nD||{});function rD(t){let e={};for(let n in t)t[n]===!0&&(e[`data-${n}`]="");return e}function iD(t,e,n,r){let[i,s]=D.useState(n),{hasFlag:o,addFlag:a,removeFlag:l}=eD(t&&i?3:0),u=D.useRef(!1),d=D.useRef(!1),h=vy();return en(()=>{var f;if(t){if(n&&s(!0),!e){n&&a(3);return}return(f=r==null?void 0:r.start)==null||f.call(r,n),sD(e,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(a(3),l(4)):(a(4),l(2)))},run(){d.current?n?(l(3),a(4)):(l(4),a(3)):n?l(1):a(1)},done(){var p;d.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(u.current=!1,l(7),n||s(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[t,n,e,h]),t?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function sD(t,{prepare:e,run:n,done:r,inFlight:i}){let s=ui();return aD(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(oD(t,r))})}),s.dispose}function oD(t,e){var n,r;let i=ui();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let o=(r=(n=t.getAnimations)==null?void 0:n.call(t).filter(a=>a instanceof CSSTransition))!=null?r:[];return o.length===0?(e(),i.dispose):(Promise.allSettled(o.map(a=>a.finished)).then(()=>{s||e()}),i.dispose)}function aD(t,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let r=t.style.transition;t.style.transition="none",n(),t.offsetHeight,t.style.transition=r}function _y(t,e){let n=D.useRef([]),r=Qe(t);D.useEffect(()=>{let i=[...n.current];for(let[s,o]of e.entries())if(n.current[s]!==o){let a=r(e,i);return n.current=e,a}},[r,...e])}let Ch=D.createContext(null);Ch.displayName="OpenClosedContext";var ur=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ur||{});function Ah(){return D.useContext(Ch)}function lD({value:t,children:e}){return be.createElement(Ch.Provider,{value:t},e)}function uD({children:t}){return be.createElement(Ch.Provider,{value:null},t)}function cD(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ci=[];cD(()=>{function t(e){if(!Mi(e.target)||e.target===document.body||Ci[0]===e.target)return;let n=e.target;n=n.closest(Rd),Ci.unshift(n??e.target),Ci=Ci.filter(r=>r!=null&&r.isConnected),Ci.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function aT(t){let e=Qe(t),n=D.useRef(!1);D.useEffect(()=>(n.current=!1,()=>{n.current=!0,Sh(()=>{n.current&&e()})}),[e])}function dD(){let t=typeof document>"u";return"useSyncExternalStore"in Fw?(e=>e.useSyncExternalStore)(Fw)(()=>()=>{},()=>!1,()=>!t):!1}function cu(){let t=dD(),[e,n]=D.useState(Ls.isHandoffComplete);return e&&Ls.isHandoffComplete===!1&&n(!1),D.useEffect(()=>{e!==!0&&n(!0)},[e]),D.useEffect(()=>Ls.handoff(),[]),t?!1:e}let lT=D.createContext(!1);function hD(){return D.useContext(lT)}function n0(t){return be.createElement(lT.Provider,{value:t.force},t.children)}function fD(t){let e=hD(),n=D.useContext(cT),[r,i]=D.useState(()=>{var s;if(!e&&n!==null)return(s=n.current)!=null?s:null;if(Ls.isServer)return null;let o=t==null?void 0:t.getElementById("headlessui-portal-root");if(o)return o;if(t===null)return null;let a=t.createElement("div");return a.setAttribute("id","headlessui-portal-root"),t.body.appendChild(a)});return D.useEffect(()=>{r!==null&&(t!=null&&t.body.contains(r)||t==null||t.body.appendChild(r))},[r,t]),D.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),r}let uT=D.Fragment,pD=In(function(t,e){let{ownerDocument:n=null,...r}=t,i=D.useRef(null),s=Rr(lR(p=>{i.current=p}),e),o=Ih(i),a=n??o,l=fD(a),[u]=D.useState(()=>{var p;return Ls.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),d=D.useContext(Dm),h=cu();en(()=>{!l||!u||l.contains(u)||(u.setAttribute("data-headlessui-portal",""),l.appendChild(u))},[l,u]),en(()=>{if(u&&d)return d.register(u)},[d,u]),aT(()=>{var p;!l||!u||(Hb(u)&&l.contains(u)&&l.removeChild(u),l.childNodes.length<=0&&((p=l.parentElement)==null||p.removeChild(l)))});let f=er();return h?!l||!u?null:Fb.createPortal(f({ourProps:{ref:s},theirProps:r,slot:{},defaultTag:uT,name:"Portal"}),u):null});function mD(t,e){let n=Rr(e),{enabled:r=!0,ownerDocument:i,...s}=t,o=er();return r?be.createElement(pD,{...s,ownerDocument:i,ref:n}):o({ourProps:{ref:n},theirProps:s,slot:{},defaultTag:uT,name:"Portal"})}let gD=D.Fragment,cT=D.createContext(null);function yD(t,e){let{target:n,...r}=t,i={ref:Rr(e)},s=er();return be.createElement(cT.Provider,{value:n},s({ourProps:i,theirProps:r,defaultTag:gD,name:"Popover.Group"}))}let Dm=D.createContext(null);function vD(){let t=D.useContext(Dm),e=D.useRef([]),n=Qe(s=>(e.current.push(s),t&&t.register(s),()=>r(s))),r=Qe(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=D.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,D.useMemo(()=>function({children:s}){return be.createElement(Dm.Provider,{value:i},s)},[i])]}let wD=In(mD),dT=In(yD),_D=Object.assign(wD,{Group:dT});function ED(t,e=typeof document<"u"?document.defaultView:null,n){let r=uu(t,"escape");oT(e,"keydown",i=>{r&&(i.defaultPrevented||i.key===Kb.Escape&&n(i))})}function xD(){var t;let[e]=D.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=D.useState((t=e==null?void 0:e.matches)!=null?t:!1);return en(()=>{if(!e)return;function i(s){r(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),n}function kD({defaultContainers:t=[],portals:e,mainTreeNode:n}={}){let r=Ih(n),i=Qe(()=>{var s,o;let a=[];for(let l of t)l!==null&&(Gi(l)?a.push(l):"current"in l&&Gi(l.current)&&a.push(l.current));if(e!=null&&e.current)for(let l of e.current)a.push(l);for(let l of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])l!==document.body&&l!==document.head&&Gi(l)&&l.id!=="headlessui-portal-root"&&(n&&(l.contains(n)||l.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||a.some(u=>l.contains(u))||a.push(l));return a});return{resolveContainers:i,contains:Qe(s=>i().some(o=>o.contains(s)))}}let hT=D.createContext(null);function r0({children:t,node:e}){let[n,r]=D.useState(null),i=fT(e??n);return be.createElement(hT.Provider,{value:i},t,i===null&&be.createElement(Pm,{features:Nd.Hidden,ref:s=>{var o,a;if(s){for(let l of(a=(o=Th(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?a:[])if(l!==document.body&&l!==document.head&&Gi(l)&&l!=null&&l.contains(s)){r(l);break}}}}))}function fT(t=null){var e;return(e=D.useContext(hT))!=null?e:t}function Ey(){let t=D.useRef(!1);return en(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var Ka=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Ka||{});function bD(){let t=D.useRef(0);return sT(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function pT(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)Gi(n.current)&&e.add(n.current);return e}let TD="div";var bs=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(bs||{});function SD(t,e){let n=D.useRef(null),r=Rr(n,e),{initialFocus:i,initialFocusFallback:s,containers:o,features:a=15,...l}=t;cu()||(a=0);let u=Ih(n);PD(a,{ownerDocument:u});let d=ND(a,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:s});RD(a,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let h=bD(),f=Qe(v=>{if(!Bs(n.current))return;let k=n.current;(L=>L())(()=>{ni(h.current,{[Ka.Forwards]:()=>{fl(k,$r.First,{skipElements:[v.relatedTarget,s]})},[Ka.Backwards]:()=>{fl(k,$r.Last,{skipElements:[v.relatedTarget,s]})}})})}),p=uu(!!(a&2),"focus-trap#tab-lock"),w=vy(),b=D.useRef(!1),R={ref:r,onKeyDown(v){v.key=="Tab"&&(b.current=!0,w.requestAnimationFrame(()=>{b.current=!1}))},onBlur(v){if(!(a&4))return;let k=pT(o);Bs(n.current)&&k.add(n.current);let L=v.relatedTarget;Mi(L)&&L.dataset.headlessuiFocusGuard!=="true"&&(mT(k,L)||(b.current?fl(n.current,ni(h.current,{[Ka.Forwards]:()=>$r.Next,[Ka.Backwards]:()=>$r.Previous})|$r.WrapAround,{relativeTo:v.target}):Mi(v.target)&&Kr(v.target)))}},_=er();return be.createElement(be.Fragment,null,p&&be.createElement(Pm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Nd.Focusable}),_({ourProps:R,theirProps:l,defaultTag:TD,name:"FocusTrap"}),p&&be.createElement(Pm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Nd.Focusable}))}let ID=In(SD),CD=Object.assign(ID,{features:bs});function AD(t=!0){let e=D.useRef(Ci.slice());return _y(([n],[r])=>{r===!0&&n===!1&&Sh(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Ci.slice())},[t,Ci,e]),Qe(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function PD(t,{ownerDocument:e}){let n=!!(t&8),r=AD(n);_y(()=>{n||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&Kr(r())},[n]),aT(()=>{n&&Kr(r())})}function ND(t,{ownerDocument:e,container:n,initialFocus:r,initialFocusFallback:i}){let s=D.useRef(null),o=uu(!!(t&1),"focus-trap#initial-focus"),a=Ey();return _y(()=>{if(t===0)return;if(!o){i!=null&&i.current&&Kr(i.current);return}let l=n.current;l&&Sh(()=>{if(!a.current)return;let u=e==null?void 0:e.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(r!=null&&r.current)Kr(r.current);else{if(t&16){if(fl(l,$r.First|$r.AutoFocus)!==Rm.Error)return}else if(fl(l,$r.First)!==Rm.Error)return;if(i!=null&&i.current&&(Kr(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,o,t]),s}function RD(t,{ownerDocument:e,container:n,containers:r,previousActiveElement:i}){let s=Ey(),o=!!(t&4);oT(e==null?void 0:e.defaultView,"focus",a=>{if(!o||!s.current)return;let l=pT(r);Bs(n.current)&&l.add(n.current);let u=i.current;if(!u)return;let d=a.target;Bs(d)?mT(l,d)?(i.current=d,Kr(d)):(a.preventDefault(),a.stopPropagation(),Kr(u)):Kr(i.current)},!0)}function mT(t,e){for(let n of t)if(n.contains(e))return!0;return!1}function gT(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||((e=t.as)!=null?e:vT)!==D.Fragment||be.Children.count(t.children)===1}let Ph=D.createContext(null);Ph.displayName="TransitionContext";var DD=(t=>(t.Visible="visible",t.Hidden="hidden",t))(DD||{});function OD(){let t=D.useContext(Ph);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function LD(){let t=D.useContext(Nh);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let Nh=D.createContext(null);Nh.displayName="NestingContext";function Rh(t){return"children"in t?Rh(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function yT(t,e){let n=Zs(t),r=D.useRef([]),i=Ey(),s=vy(),o=Qe((p,w=Li.Hidden)=>{let b=r.current.findIndex(({el:R})=>R===p);b!==-1&&(ni(w,{[Li.Unmount](){r.current.splice(b,1)},[Li.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var R;!Rh(r)&&i.current&&((R=n.current)==null||R.call(n))}))}),a=Qe(p=>{let w=r.current.find(({el:b})=>b===p);return w?w.state!=="visible"&&(w.state="visible"):r.current.push({el:p,state:"visible"}),()=>o(p,Li.Unmount)}),l=D.useRef([]),u=D.useRef(Promise.resolve()),d=D.useRef({enter:[],leave:[]}),h=Qe((p,w,b)=>{l.current.splice(0),e&&(e.chains.current[w]=e.chains.current[w].filter(([R])=>R!==p)),e==null||e.chains.current[w].push([p,new Promise(R=>{l.current.push(R)})]),e==null||e.chains.current[w].push([p,new Promise(R=>{Promise.all(d.current[w].map(([_,v])=>v)).then(()=>R())})]),w==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>b(w)):b(w)}),f=Qe((p,w,b)=>{Promise.all(d.current[w].splice(0).map(([R,_])=>_)).then(()=>{var R;(R=l.current.shift())==null||R()}).then(()=>b(w))});return D.useMemo(()=>({children:r,register:a,unregister:o,onStart:h,onStop:f,wait:u,chains:d}),[a,o,r,h,f,d,u])}let vT=D.Fragment,wT=Pd.RenderStrategy;function MD(t,e){var n,r;let{transition:i=!0,beforeEnter:s,afterEnter:o,beforeLeave:a,afterLeave:l,enter:u,enterFrom:d,enterTo:h,entered:f,leave:p,leaveFrom:w,leaveTo:b,...R}=t,[_,v]=D.useState(null),k=D.useRef(null),L=gT(t),F=Rr(...L?[k,e,v]:e===null?[]:[e]),M=(n=R.unmount)==null||n?Li.Unmount:Li.Hidden,{show:P,appear:x,initial:T}=OD(),[E,A]=D.useState(P?"visible":"hidden"),C=LD(),{register:I,unregister:W}=C;en(()=>I(k),[I,k]),en(()=>{if(M===Li.Hidden&&k.current){if(P&&E!=="visible"){A("visible");return}return ni(E,{hidden:()=>W(k),visible:()=>I(k)})}},[E,k,I,W,P,M]);let H=cu();en(()=>{if(L&&H&&E==="visible"&&k.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[k,E,H,L]);let ne=T&&!x,re=x&&P&&T,B=D.useRef(!1),ee=yT(()=>{B.current||(A("hidden"),W(k))},C),O=Qe(X=>{B.current=!0;let Q=X?"enter":"leave";ee.onStart(k,Q,me=>{me==="enter"?s==null||s():me==="leave"&&(a==null||a())})}),ie=Qe(X=>{let Q=X?"enter":"leave";B.current=!1,ee.onStop(k,Q,me=>{me==="enter"?o==null||o():me==="leave"&&(l==null||l())}),Q==="leave"&&!Rh(ee)&&(A("hidden"),W(k))});D.useEffect(()=>{L&&i||(O(P),ie(P))},[P,L,i]);let V=!(!i||!L||!H||ne),[,S]=iD(V,_,P,{start:O,end:ie}),G=Es({ref:F,className:((r=Am(R.className,re&&u,re&&d,S.enter&&u,S.enter&&S.closed&&d,S.enter&&!S.closed&&h,S.leave&&p,S.leave&&!S.closed&&w,S.leave&&S.closed&&b,!S.transition&&P&&f))==null?void 0:r.trim())||void 0,...rD(S)}),te=0;E==="visible"&&(te|=ur.Open),E==="hidden"&&(te|=ur.Closed),P&&E==="hidden"&&(te|=ur.Opening),!P&&E==="visible"&&(te|=ur.Closing);let z=er();return be.createElement(Nh.Provider,{value:ee},be.createElement(lD,{value:te},z({ourProps:G,theirProps:R,defaultTag:vT,features:wT,visible:E==="visible",name:"Transition.Child"})))}function FD(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=D.useRef(null),a=gT(t),l=Rr(...a?[o,e]:e===null?[]:[e]);cu();let u=Ah();if(n===void 0&&u!==null&&(n=(u&ur.Open)===ur.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=D.useState(n?"visible":"hidden"),f=yT(()=>{n||h("hidden")}),[p,w]=D.useState(!0),b=D.useRef([n]);en(()=>{p!==!1&&b.current[b.current.length-1]!==n&&(b.current.push(n),w(!1))},[b,n]);let R=D.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);en(()=>{n?h("visible"):!Rh(f)&&o.current!==null&&h("hidden")},[n,f]);let _={unmount:i},v=Qe(()=>{var F;p&&w(!1),(F=t.beforeEnter)==null||F.call(t)}),k=Qe(()=>{var F;p&&w(!1),(F=t.beforeLeave)==null||F.call(t)}),L=er();return be.createElement(Nh.Provider,{value:f},be.createElement(Ph.Provider,{value:R},L({ourProps:{..._,as:D.Fragment,children:be.createElement(_T,{ref:l,..._,...s,beforeEnter:v,beforeLeave:k})},theirProps:{},defaultTag:D.Fragment,features:wT,visible:d==="visible",name:"Transition"})))}function VD(t,e){let n=D.useContext(Ph)!==null,r=Ah()!==null;return be.createElement(be.Fragment,null,!n&&r?be.createElement(Om,{ref:e,...t}):be.createElement(_T,{ref:e,...t}))}let Om=In(FD),_T=In(MD),Wl=In(VD),ET=Object.assign(Om,{Child:Wl,Root:Om});var jD=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(jD||{}),$D=(t=>(t[t.SetTitleId=0]="SetTitleId",t))($D||{});let UD={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},xy=D.createContext(null);xy.displayName="DialogContext";function Dh(t){let e=D.useContext(xy);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dh),n}return e}function zD(t,e){return ni(e.type,UD,t,e)}let i0=In(function(t,e){let n=D.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:s,initialFocus:o,role:a="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:d=!1,...h}=t,f=D.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Ah();i===void 0&&p!==null&&(i=(p&ur.Open)===ur.Open);let w=D.useRef(null),b=Rr(w,e),R=Ih(w),_=i?0:1,[v,k]=D.useReducer(zD,{titleId:null,descriptionId:null,panelRef:D.createRef()}),L=Qe(()=>s(!1)),F=Qe(S=>k({type:0,id:S})),M=cu()?_===0:!1,[P,x]=vD(),T={get current(){var S;return(S=v.panelRef.current)!=null?S:w.current}},E=fT(),{resolveContainers:A}=kD({mainTreeNode:E,portals:P,defaultContainers:[T]}),C=p!==null?(p&ur.Closing)===ur.Closing:!1;DR(u||C?!1:M,{allowed:Qe(()=>{var S,G;return[(G=(S=w.current)==null?void 0:S.closest("[data-headlessui-portal]"))!=null?G:null]}),disallowed:Qe(()=>{var S;return[(S=E==null?void 0:E.closest("body > *:not(#headlessui-portal-root)"))!=null?S:null]})});let I=Zb.get(null);en(()=>{if(M)return I.actions.push(r),()=>I.actions.pop(r)},[I,r,M]);let W=nT(I,D.useCallback(S=>I.selectors.isTop(S,r),[I,r]));WR(W,A,S=>{S.preventDefault(),L()}),ED(W,R==null?void 0:R.defaultView,S=>{S.preventDefault(),S.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),L()}),ZR(u||C?!1:M,R,A),OR(M,w,L);let[H,ne]=uR(),re=D.useMemo(()=>[{dialogState:_,close:L,setTitleId:F,unmount:d},v],[_,v,L,F,d]),B=D.useMemo(()=>({open:_===0}),[_]),ee={ref:b,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:_===0?!0:void 0,"aria-labelledby":v.titleId,"aria-describedby":H,unmount:d},O=!xD(),ie=bs.None;M&&!u&&(ie|=bs.RestoreFocus,ie|=bs.TabLock,l&&(ie|=bs.AutoFocus),O&&(ie|=bs.InitialFocus));let V=er();return be.createElement(uD,null,be.createElement(n0,{force:!0},be.createElement(_D,null,be.createElement(xy.Provider,{value:re},be.createElement(dT,{target:w},be.createElement(n0,{force:!1},be.createElement(ne,{slot:B},be.createElement(x,null,be.createElement(CD,{initialFocus:o,initialFocusFallback:w,containers:A,features:ie},be.createElement(pR,{value:L},V({ourProps:ee,theirProps:h,slot:B,defaultTag:BD,features:HD,visible:_===0,name:"Dialog"})))))))))))}),BD="div",HD=Pd.RenderStrategy|Pd.Static;function WD(t,e){let{transition:n=!1,open:r,...i}=t,s=Ah(),o=t.hasOwnProperty("open")||s!==null,a=t.hasOwnProperty("onClose");if(!o&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(r!==void 0||n)&&!i.static?be.createElement(r0,null,be.createElement(ET,{show:r,transition:n,unmount:i.unmount},be.createElement(i0,{ref:e,...i}))):be.createElement(r0,null,be.createElement(i0,{ref:e,open:r,...i}))}let qD="div";function GD(t,e){let n=D.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...s}=t,[{dialogState:o,unmount:a},l]=Dh("Dialog.Panel"),u=Rr(e,l.panelRef),d=D.useMemo(()=>({open:o===0}),[o]),h=Qe(R=>{R.stopPropagation()}),f={ref:u,id:r,onClick:h},p=i?Wl:D.Fragment,w=i?{unmount:a}:{},b=er();return be.createElement(p,{...w},b({ourProps:f,theirProps:s,slot:d,defaultTag:qD,name:"Dialog.Panel"}))}let KD="div";function QD(t,e){let{transition:n=!1,...r}=t,[{dialogState:i,unmount:s}]=Dh("Dialog.Backdrop"),o=D.useMemo(()=>({open:i===0}),[i]),a={ref:e,"aria-hidden":!0},l=n?Wl:D.Fragment,u=n?{unmount:s}:{},d=er();return be.createElement(l,{...u},d({ourProps:a,theirProps:r,slot:o,defaultTag:KD,name:"Dialog.Backdrop"}))}let YD="h2";function XD(t,e){let n=D.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=t,[{dialogState:s,setTitleId:o}]=Dh("Dialog.Title"),a=Rr(e);D.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=D.useMemo(()=>({open:s===0}),[s]),u={ref:a,id:r};return er()({ourProps:u,theirProps:i,slot:l,defaultTag:YD,name:"Dialog.Title"})}let JD=In(WD),xT=In(GD);In(QD);let kT=In(XD),ZD=Object.assign(JD,{Panel:xT,Title:kT,Description:Gb});function e2({isOpen:t,onClose:e,title:n,children:r,footer:i}){return g.jsx(ET,{appear:!0,show:t,as:D.Fragment,children:g.jsxs(ZD,{as:"div",className:"relative z-50",onClose:e,children:[g.jsx(Wl,{as:D.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50","aria-hidden":"true"})}),g.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:g.jsx(Wl,{as:D.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:g.jsxs(xT,{className:"bg-surface-light dark:bg-surface-dark w-full max-w-md m-4 p-6 rounded-lg shadow-xl",role:"document",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsx(kT,{as:"h2",className:"text-xl font-bold text-text-dark dark:text-text-light",children:n}),g.jsx("button",{onClick:e,"aria-label":"Close modal",className:"text-gray-500 hover:text-gray-800 dark:hover:text-gray-200",children:""})]}),g.jsx(Gb,{as:"div",className:"mb-6 text-text-dark dark:text-text-light",children:r}),g.jsx("div",{className:"flex justify-end gap-3",children:i})]})})})]})})}const mt=({children:t,onClick:e,type:n="button",variant:r="primary",className:i="",...s})=>{const o="w-full text-center px-4 py-2 rounded-md font-semibold text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary text-white hover:bg-green-700",secondary:"bg-gray-500 dark:bg-gray-600 text-white hover:bg-gray-600 dark:hover:bg-gray-500",outline:"border border-current text-primary hover:bg-primary/10 dark:hover:bg-primary/20","outline-success":"border border-green-500 text-green-600 hover:bg-green-500/10"};return g.jsx("button",{type:n,onClick:e,className:`${o} ${a[r]} ${i}`,...s,children:t})},t2=()=>{const[t,e]=D.useState(null),n=D.useCallback(a=>new Promise(l=>{e({...a,resolve:l})}),[]),r=()=>{e(null)},i=()=>{t==null||t.resolve(!0),r()},s=()=>{t==null||t.resolve(!1),r()};return{confirm:n,ConfirmationModal:()=>g.jsx(e2,{isOpen:t!==null,onClose:s,title:(t==null?void 0:t.title)||"Confirmation",footer:g.jsxs(g.Fragment,{children:[g.jsx(mt,{onClick:s,variant:"secondary",children:(t==null?void 0:t.cancelText)||"Cancel"}),g.jsx(mt,{onClick:i,variant:"primary",children:(t==null?void 0:t.confirmText)||"Confirm"})]}),children:t==null?void 0:t.content})}};var s0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new r2;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const w=u<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i2=function(t){const e=bT(t);return TT.encodeByteArray(e,!0)},Dd=function(t){return i2(t).replace(/\./g,"")},ST=function(t){try{return TT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>s2().__FIREBASE_DEFAULTS__,a2=()=>{if(typeof process>"u"||typeof s0>"u")return;const t=s0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ST(t[1]);return e&&JSON.parse(e)},Oh=()=>{try{return o2()||a2()||l2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IT=t=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u2=t=>{const e=IT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CT=()=>{var t;return(t=Oh())===null||t===void 0?void 0:t.config},AT=t=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dd(JSON.stringify(n)),Dd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function f2(){var t;const e=(t=Oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v2(){return!f2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w2(){try{return typeof indexedDB=="object"}catch{return!1}}function _2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="FirebaseError";class ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=E2,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?x2(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ci(i,a,r)}}function x2(t,e){return t.replace(k2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const k2=/\{\$([^}]+)}/g;function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Od(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(o0(s)&&o0(o)){if(!Od(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function o0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function T2(t,e){const n=new S2(t,e);return n.subscribe.bind(n)}class S2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jf),i.error===void 0&&(i.error=Jf),i.complete===void 0&&(i.complete=Jf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A2(t){return t===xs?void 0:t}function P2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const R2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},D2=Le.INFO,O2={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},L2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=O2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ky{constructor(e){this.name=e,this._logLevel=D2,this._logHandler=L2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const M2=(t,e)=>e.some(n=>t instanceof n);let a0,l0;function F2(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,Lm=new WeakMap,NT=new WeakMap,Zf=new WeakMap,by=new WeakMap;function j2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PT.set(n,t)}).catch(()=>{}),by.set(e,t),e}function $2(t){if(Lm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lm.set(t,e)}let Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U2(t){Mm=t(Mm)}function z2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ep(this),e,...n);return NT.set(r,e.sort?e.sort():[e]),Ki(r)}:V2().includes(t)?function(...e){return t.apply(ep(this),e),Ki(PT.get(this))}:function(...e){return Ki(t.apply(ep(this),e))}}function B2(t){return typeof t=="function"?z2(t):(t instanceof IDBTransaction&&$2(t),M2(t,F2())?new Proxy(t,Mm):t)}function Ki(t){if(t instanceof IDBRequest)return j2(t);if(Zf.has(t))return Zf.get(t);const e=B2(t);return e!==t&&(Zf.set(t,e),by.set(e,t)),e}const ep=t=>by.get(t);function H2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ki(o.result),l.oldVersion,l.newVersion,Ki(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const W2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],tp=new Map;function u0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=q2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W2.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tp.set(e,s),s}U2(t=>({...t,get:(e,n,r)=>u0(e,n)||t.get(e,n,r),has:(e,n)=>!!u0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",c0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new ky("@firebase/app"),Q2="@firebase/app-compat",Y2="@firebase/analytics-compat",X2="@firebase/analytics",J2="@firebase/app-check-compat",Z2="@firebase/app-check",eO="@firebase/auth",tO="@firebase/auth-compat",nO="@firebase/database",rO="@firebase/data-connect",iO="@firebase/database-compat",sO="@firebase/functions",oO="@firebase/functions-compat",aO="@firebase/installations",lO="@firebase/installations-compat",uO="@firebase/messaging",cO="@firebase/messaging-compat",dO="@firebase/performance",hO="@firebase/performance-compat",fO="@firebase/remote-config",pO="@firebase/remote-config-compat",mO="@firebase/storage",gO="@firebase/storage-compat",yO="@firebase/firestore",vO="@firebase/vertexai-preview",wO="@firebase/firestore-compat",_O="firebase",EO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",xO={[Fm]:"fire-core",[Q2]:"fire-core-compat",[X2]:"fire-analytics",[Y2]:"fire-analytics-compat",[Z2]:"fire-app-check",[J2]:"fire-app-check-compat",[eO]:"fire-auth",[tO]:"fire-auth-compat",[nO]:"fire-rtdb",[rO]:"fire-data-connect",[iO]:"fire-rtdb-compat",[sO]:"fire-fn",[oO]:"fire-fn-compat",[aO]:"fire-iid",[lO]:"fire-iid-compat",[uO]:"fire-fcm",[cO]:"fire-fcm-compat",[dO]:"fire-perf",[hO]:"fire-perf-compat",[fO]:"fire-rc",[pO]:"fire-rc-compat",[mO]:"fire-gcs",[gO]:"fire-gcs-compat",[yO]:"fire-fst",[wO]:"fire-fst-compat",[vO]:"fire-vertex","fire-js":"fire-js",[_O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,kO=new Map,jm=new Map;function d0(t,e){try{t.container.addComponent(e)}catch(n){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yo(t){const e=t.name;if(jm.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,t);for(const n of Ld.values())d0(n,t);for(const n of kO.values())d0(n,t);return!0}function Ty(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Er(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new du("app","Firebase",bO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=EO;function RT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qi.create("bad-app-name",{appName:String(i)});if(n||(n=CT()),!n)throw Qi.create("no-options");const s=Ld.get(i);if(s){if(Od(n,s.options)&&Od(r,s.config))return s;throw Qi.create("duplicate-app",{appName:i})}const o=new N2(i);for(const l of jm.values())o.addComponent(l);const a=new TO(n,r,o);return Ld.set(i,a),a}function DT(t=Vm){const e=Ld.get(t);if(!e&&t===Vm&&CT())return RT();if(!e)throw Qi.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let i=(r=xO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(a.join(" "));return}Yo(new Hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="firebase-heartbeat-database",IO=1,ql="firebase-heartbeat-store";let np=null;function OT(){return np||(np=H2(SO,IO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qi.create("idb-open",{originalErrorMessage:t.message})})),np}async function CO(t){try{const n=(await OT()).transaction(ql),r=await n.objectStore(ql).get(LT(t));return await n.done,r}catch(e){if(e instanceof ci)ri.warn(e.message);else{const n=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(n.message)}}}async function h0(t,e){try{const r=(await OT()).transaction(ql,"readwrite");await r.objectStore(ql).put(e,LT(t)),await r.done}catch(n){if(n instanceof ci)ri.warn(n.message);else{const r=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ri.warn(r.message)}}}function LT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=1024,PO=30*24*60*60*1e3;class NO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=f0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=PO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ri.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f0(),{heartbeatsToSend:r,unsentEntries:i}=RO(this._heartbeatsCache.heartbeats),s=Dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ri.warn(n),""}}}function f0(){return new Date().toISOString().substring(0,10)}function RO(t,e=AO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),p0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),p0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w2()?_2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return h0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function p0(t){return Dd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){Yo(new Hs("platform-logger",e=>new G2(e),"PRIVATE")),Yo(new Hs("heartbeat",e=>new NO(e),"PRIVATE")),Yi(Fm,c0,t),Yi(Fm,c0,"esm2017"),Yi("fire-js","")}OO("");var LO="firebase",MO="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(LO,MO,"app");function Sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=MT,FT=new du("auth","Firebase",MT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md=new ky("@firebase/auth");function VO(t,...e){Md.logLevel<=Le.WARN&&Md.warn(`Auth (${ca}): ${t}`,...e)}function Bc(t,...e){Md.logLevel<=Le.ERROR&&Md.error(`Auth (${ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,...e){throw Cy(t,...e)}function hr(t,...e){return Cy(t,...e)}function Iy(t,e,n){const r=Object.assign(Object.assign({},FO()),{[e]:n});return new du("auth","Firebase",r).create(e,{appName:t.name})}function Xi(t){return Iy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cr(t,"argument-error"),Iy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FT.create(t,...e)}function Ee(t,e,...n){if(!t)throw Cy(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bc(e),new Error(e)}function ii(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $O(){return m0()==="http:"||m0()==="https:"}function m0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($O()||m2()||"connection"in navigator)?navigator.onLine:!0}function zO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=h2()||g2()}get(){return UO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new fu(3e4,6e4);function Lh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function da(t,e,n,r,i={}){return jT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return p2()||(u.referrerPolicy="no-referrer"),VT.fetch()(UT(t,t.config.apiHost,n,a),u)})}async function jT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},BO),e);try{const i=new WO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Iy(t,d,u);Cr(t,d)}}catch(i){if(i instanceof ci)throw i;Cr(t,"network-request-failed",{message:String(i)})}}async function $T(t,e,n,r,i={}){const s=await da(t,e,n,r,i);return"mfaPendingCredential"in s&&Cr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function UT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ay(t.config,i):`${t.config.apiScheme}://${i}`}class WO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),HO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(t,e){return da(t,"POST","/v1/accounts:delete",e)}async function zT(t,e){return da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=Py(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pl(rp(i.auth_time)),issuedAtTime:pl(rp(i.iat)),expirationTime:pl(rp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rp(t){return Number(t)*1e3}function Py(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=ST(n);return i?JSON.parse(i):(Bc("Failed to decode base64 JWT payload"),null)}catch(i){return Bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g0(t){const e=Py(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ci&&KO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Gl(t,zT(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BT(s.providerUserInfo):[],a=XO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Um(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function YO(t){const e=Ct(t);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BT(t){return t.map(e=>{var{providerId:n}=e,r=Sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e){const n=await jT(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZO(t,e){return da(t,"POST","/v2/accounts:revokeToken",Lh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=g0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GO(this,e)}reload(){return YO(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Er(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Gl(this,qO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:L,isAnonymous:F,providerData:M,stsTokenManager:P}=n;Ee(k&&P,e,"internal-error");const x=Fo.fromJSON(this.name,P);Ee(typeof k=="string",e,"internal-error"),_i(h,e.name),_i(f,e.name),Ee(typeof L=="boolean",e,"internal-error"),Ee(typeof F=="boolean",e,"internal-error"),_i(p,e.name),_i(w,e.name),_i(b,e.name),_i(R,e.name),_i(_,e.name),_i(v,e.name);const T=new Wr({uid:k,auth:e,email:f,emailVerified:L,displayName:h,isAnonymous:F,photoURL:w,phoneNumber:p,tenantId:b,stsTokenManager:x,createdAt:_,lastLoginAt:v});return M&&Array.isArray(M)&&(T.providerData=M.map(E=>Object.assign({},E))),R&&(T._redirectEventId=R),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fo;i.updateFromServerResponse(n);const s=new Wr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fo;a.updateFromIdToken(r);const l=new Wr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;function qr(t){ii(t instanceof Function,"Expected a class definition");let e=y0.get(t);return e?(ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HT.type="NONE";const v0=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vo(qr(v0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qr(v0);const o=Hc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Wr._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Vo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Vo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YT(e))return"Blackberry";if(XT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||GT(e))&&!e.includes("edge/"))return"Chrome";if(QT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WT(t=rn()){return/firefox\//i.test(t)}function qT(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GT(t=rn()){return/crios\//i.test(t)}function KT(t=rn()){return/iemobile/i.test(t)}function QT(t=rn()){return/android/i.test(t)}function YT(t=rn()){return/blackberry/i.test(t)}function XT(t=rn()){return/webos/i.test(t)}function Ny(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eL(t=rn()){var e;return Ny(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tL(){return y2()&&document.documentMode===10}function JT(t=rn()){return Ny(t)||QT(t)||XT(t)||YT(t)||/windows phone/i.test(t)||KT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e=[]){let n;switch(t){case"Browser":n=w0(rn());break;case"Worker":n=`${w0(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e={}){return da(t,"GET","/v2/passwordPolicy",Lh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=6;class sL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _0(this),this.idTokenSubscription=new _0(this),this.beforeStateQueue=new nL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zT(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Er(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Er(this.app))return Promise.reject(Xi(this));const n=e?Ct(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Er(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Er(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rL(this),n=new sL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pu(t){return Ct(t)}class _0{constructor(e){this.auth=e,this.observer=null,this.addObserver=T2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ry={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aL(t){Ry=t}function lL(t){return Ry.loadJS(t)}function uL(){return Ry.gapiScript}function cL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t,e){const n=Ty(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Od(s,e??{}))return i;Cr(i,"already-initialized")}return n.initialize({options:e})}function hL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fL(t,e,n){const r=pu(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=eS(e),{host:o,port:a}=pL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),mL()}function eS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pL(t){const e=eS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:E0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:E0(o)}}}function E0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e){return $T(t,"POST","/v1/accounts:signInWithIdp",Lh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="http://localhost";class Ws extends tS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Sy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ws(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:gL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Dy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends mu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends mu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends mu{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){return $T(t,"POST","/v1/accounts:signUp",Lh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Wr._fromIdTokenResponse(e,r,i),o=x0(r);return new ts({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=x0(r);return new ts({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function x0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t){var e;if(Er(t.app))return Promise.reject(Xi(t));const n=pu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new ts({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await yL(n,{returnSecureToken:!0}),i=await ts._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd extends ci{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vd(e,n,r,i)}}function nS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Vd._fromErrorAndOperation(t,s,e,r):s})}async function wL(t,e,n=!1){const r=await Gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ts._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e,n=!1){const{auth:r}=t;if(Er(r.app))return Promise.reject(Xi(r));const i="reauthenticate";try{const s=await Gl(t,nS(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=Py(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),ts._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e,n=!1){if(Er(t.app))return Promise.reject(Xi(t));const r="signIn",i=await nS(t,r,e),s=await ts._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function xL(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function kL(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function bL(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=1e3,SL=10;class iS extends rS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);tL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iS.type="LOCAL";const IL=iS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends rS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sS.type="SESSION";const oS=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await CL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Oy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(){return window}function PL(t){br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return typeof br().WorkerGlobalScope<"u"&&typeof br().importScripts=="function"}async function NL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DL(){return aS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebaseLocalStorageDb",OL=1,$d="firebaseLocalStorage",uS="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(t,e){return t.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function LL(){const t=indexedDB.deleteDatabase(lS);return new gu(t).toPromise()}function zm(){const t=indexedDB.open(lS,OL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($d,{keyPath:uS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await LL(),e(await zm()))})})}async function k0(t,e,n){const r=Fh(t,!0).put({[uS]:e,value:n});return new gu(r).toPromise()}async function ML(t,e){const n=Fh(t,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function b0(t,e){const n=Fh(t,!0).delete(e);return new gu(n).toPromise()}const FL=800,VL=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>VL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(DL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await NL(),!this.activeServiceWorker)return;this.sender=new AL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await k0(e,jd,"1"),await b0(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ML(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>b0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fh(i,!1).getAll();return new gu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const jL=cS;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e){return e?qr(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends tS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $L(t){return EL(t.auth,new Ly(t),t.bypassAuthState)}function UL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),_L(n,new Ly(t),t.bypassAuthState)}async function zL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),wL(n,new Ly(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $L;case"linkViaPopup":case"linkViaRedirect":return zL;case"reauthViaPopup":case"reauthViaRedirect":return UL;default:Cr(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new fu(2e3,1e4);async function HL(t,e,n){if(Er(t.app))return Promise.reject(hr(t,"operation-not-supported-in-this-environment"));const r=pu(t);jO(t,e,Dy);const i=dS(r,n);return new Ns(r,"signInViaPopup",e,i).executeNotNull()}class Ns extends hS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BL.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="pendingRedirect",Wc=new Map;class qL extends hS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await GL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GL(t,e){const n=YL(e),r=QL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function KL(t,e){Wc.set(t._key(),e)}function QL(t){return qr(t._redirectPersistence)}function YL(t){return Hc(WL,t.config.apiKey,t.name)}async function XL(t,e,n=!1){if(Er(t.app))return Promise.reject(Xi(t));const r=pu(t),i=dS(r,e),o=await new qL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL=10*60*1e3;class ZL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fS(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JL&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(e))}saveEventToCache(e){this.cachedEventUids.add(T0(e)),this.lastProcessedEventTime=Date.now()}}function T0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e={}){return da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rM=/^https?/;async function iM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tM(t);for(const n of e)try{if(sM(n))return}catch{}Cr(t,"unauthorized-domain")}function sM(t){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rM.test(n))return!1;if(nM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new fu(3e4,6e4);function S0(){const t=br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aM(t){return new Promise((e,n)=>{var r,i,s;function o(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),n(hr(t,"network-request-failed"))},timeout:oM.get()})}if(!((i=(r=br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=br().gapi)===null||s===void 0)&&s.load)o();else{const a=cL("iframefcb");return br()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},lL(`${uL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw qc=null,e})}let qc=null;function lM(t){return qc=qc||aM(t),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new fu(5e3,15e3),cM="__/auth/iframe",dM="emulator/auth/iframe",hM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pM(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,dM):`https://${t.config.authDomain}/${cM}`,r={apiKey:e.apiKey,appName:t.name,v:ca},i=fM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function mM(t){const e=await lM(t),n=br().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:pM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=br().setTimeout(()=>{s(o)},uM.get());function l(){br().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,vM=600,wM="_blank",_M="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function EM(t,e,n,r=yM,i=vM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},gM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=rn().toLowerCase();n&&(a=GT(u)?wM:n),WT(u)&&(e=e||_M,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,w])=>`${f}${p}=${w},`,"");if(eL(u)&&a!=="_self")return xM(e||"",a),new I0(null);const h=window.open(e||"",a,d);Ee(h,t,"popup-blocked");try{h.focus()}catch{}return new I0(h)}function xM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="__/auth/handler",bM="emulator/auth/handler",TM=encodeURIComponent("fac");async function C0(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ca,eventId:i};if(e instanceof Dy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof mu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${TM}=${encodeURIComponent(l)}`:"";return`${SM(t)}?${hu(a).slice(1)}${u}`}function SM({config:t}){return t.emulator?Ay(t,bM):`https://${t.authDomain}/${kM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="webStorageSupport";class IM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oS,this._completeRedirectFn=XL,this._overrideRedirectResult=KL}async _openPopup(e,n,r,i){var s;ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await C0(e,n,r,$m(),i);return EM(e,o,Oy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await C0(e,n,r,$m(),i);return PL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mM(e),r=new ZL(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ip];o!==void 0&&n(!!o),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JT()||qT()||Ny()}}const CM=IM;var A0="@firebase/auth",P0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NM(t){Yo(new Hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZT(t)},u=new oL(r,i,s,l);return hL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new Hs("auth-internal",e=>{const n=pu(e.getProvider("auth").getImmediate());return(r=>new AM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(A0,P0,PM(t)),Yi(A0,P0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=5*60,DM=AT("authIdTokenMaxAge")||RM;let N0=null;const OM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DM)return;const i=n==null?void 0:n.token;N0!==i&&(N0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function LM(t=DT()){const e=Ty(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dL(t,{popupRedirectResolver:CM,persistence:[jL,IL,oS]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=OM(s.toString());kL(n,o,()=>o(n.currentUser)),xL(n,a=>o(a))}}const i=IT("auth");return i&&fL(n,`http://${i}`),n}function MM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",MM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NM("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ms,pS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function T(){}T.prototype=x.prototype,P.D=x.prototype,P.prototype=new T,P.prototype.constructor=P,P.C=function(E,A,C){for(var I=Array(arguments.length-2),W=2;W<arguments.length;W++)I[W-2]=arguments[W];return x.prototype[A].apply(E,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,x,T){T||(T=0);var E=Array(16);if(typeof x=="string")for(var A=0;16>A;++A)E[A]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(A=0;16>A;++A)E[A]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=P.g[0],T=P.g[1],A=P.g[2];var C=P.g[3],I=x+(C^T&(A^C))+E[0]+3614090360&4294967295;x=T+(I<<7&4294967295|I>>>25),I=C+(A^x&(T^A))+E[1]+3905402710&4294967295,C=x+(I<<12&4294967295|I>>>20),I=A+(T^C&(x^T))+E[2]+606105819&4294967295,A=C+(I<<17&4294967295|I>>>15),I=T+(x^A&(C^x))+E[3]+3250441966&4294967295,T=A+(I<<22&4294967295|I>>>10),I=x+(C^T&(A^C))+E[4]+4118548399&4294967295,x=T+(I<<7&4294967295|I>>>25),I=C+(A^x&(T^A))+E[5]+1200080426&4294967295,C=x+(I<<12&4294967295|I>>>20),I=A+(T^C&(x^T))+E[6]+2821735955&4294967295,A=C+(I<<17&4294967295|I>>>15),I=T+(x^A&(C^x))+E[7]+4249261313&4294967295,T=A+(I<<22&4294967295|I>>>10),I=x+(C^T&(A^C))+E[8]+1770035416&4294967295,x=T+(I<<7&4294967295|I>>>25),I=C+(A^x&(T^A))+E[9]+2336552879&4294967295,C=x+(I<<12&4294967295|I>>>20),I=A+(T^C&(x^T))+E[10]+4294925233&4294967295,A=C+(I<<17&4294967295|I>>>15),I=T+(x^A&(C^x))+E[11]+2304563134&4294967295,T=A+(I<<22&4294967295|I>>>10),I=x+(C^T&(A^C))+E[12]+1804603682&4294967295,x=T+(I<<7&4294967295|I>>>25),I=C+(A^x&(T^A))+E[13]+4254626195&4294967295,C=x+(I<<12&4294967295|I>>>20),I=A+(T^C&(x^T))+E[14]+2792965006&4294967295,A=C+(I<<17&4294967295|I>>>15),I=T+(x^A&(C^x))+E[15]+1236535329&4294967295,T=A+(I<<22&4294967295|I>>>10),I=x+(A^C&(T^A))+E[1]+4129170786&4294967295,x=T+(I<<5&4294967295|I>>>27),I=C+(T^A&(x^T))+E[6]+3225465664&4294967295,C=x+(I<<9&4294967295|I>>>23),I=A+(x^T&(C^x))+E[11]+643717713&4294967295,A=C+(I<<14&4294967295|I>>>18),I=T+(C^x&(A^C))+E[0]+3921069994&4294967295,T=A+(I<<20&4294967295|I>>>12),I=x+(A^C&(T^A))+E[5]+3593408605&4294967295,x=T+(I<<5&4294967295|I>>>27),I=C+(T^A&(x^T))+E[10]+38016083&4294967295,C=x+(I<<9&4294967295|I>>>23),I=A+(x^T&(C^x))+E[15]+3634488961&4294967295,A=C+(I<<14&4294967295|I>>>18),I=T+(C^x&(A^C))+E[4]+3889429448&4294967295,T=A+(I<<20&4294967295|I>>>12),I=x+(A^C&(T^A))+E[9]+568446438&4294967295,x=T+(I<<5&4294967295|I>>>27),I=C+(T^A&(x^T))+E[14]+3275163606&4294967295,C=x+(I<<9&4294967295|I>>>23),I=A+(x^T&(C^x))+E[3]+4107603335&4294967295,A=C+(I<<14&4294967295|I>>>18),I=T+(C^x&(A^C))+E[8]+1163531501&4294967295,T=A+(I<<20&4294967295|I>>>12),I=x+(A^C&(T^A))+E[13]+2850285829&4294967295,x=T+(I<<5&4294967295|I>>>27),I=C+(T^A&(x^T))+E[2]+4243563512&4294967295,C=x+(I<<9&4294967295|I>>>23),I=A+(x^T&(C^x))+E[7]+1735328473&4294967295,A=C+(I<<14&4294967295|I>>>18),I=T+(C^x&(A^C))+E[12]+2368359562&4294967295,T=A+(I<<20&4294967295|I>>>12),I=x+(T^A^C)+E[5]+4294588738&4294967295,x=T+(I<<4&4294967295|I>>>28),I=C+(x^T^A)+E[8]+2272392833&4294967295,C=x+(I<<11&4294967295|I>>>21),I=A+(C^x^T)+E[11]+1839030562&4294967295,A=C+(I<<16&4294967295|I>>>16),I=T+(A^C^x)+E[14]+4259657740&4294967295,T=A+(I<<23&4294967295|I>>>9),I=x+(T^A^C)+E[1]+2763975236&4294967295,x=T+(I<<4&4294967295|I>>>28),I=C+(x^T^A)+E[4]+1272893353&4294967295,C=x+(I<<11&4294967295|I>>>21),I=A+(C^x^T)+E[7]+4139469664&4294967295,A=C+(I<<16&4294967295|I>>>16),I=T+(A^C^x)+E[10]+3200236656&4294967295,T=A+(I<<23&4294967295|I>>>9),I=x+(T^A^C)+E[13]+681279174&4294967295,x=T+(I<<4&4294967295|I>>>28),I=C+(x^T^A)+E[0]+3936430074&4294967295,C=x+(I<<11&4294967295|I>>>21),I=A+(C^x^T)+E[3]+3572445317&4294967295,A=C+(I<<16&4294967295|I>>>16),I=T+(A^C^x)+E[6]+76029189&4294967295,T=A+(I<<23&4294967295|I>>>9),I=x+(T^A^C)+E[9]+3654602809&4294967295,x=T+(I<<4&4294967295|I>>>28),I=C+(x^T^A)+E[12]+3873151461&4294967295,C=x+(I<<11&4294967295|I>>>21),I=A+(C^x^T)+E[15]+530742520&4294967295,A=C+(I<<16&4294967295|I>>>16),I=T+(A^C^x)+E[2]+3299628645&4294967295,T=A+(I<<23&4294967295|I>>>9),I=x+(A^(T|~C))+E[0]+4096336452&4294967295,x=T+(I<<6&4294967295|I>>>26),I=C+(T^(x|~A))+E[7]+1126891415&4294967295,C=x+(I<<10&4294967295|I>>>22),I=A+(x^(C|~T))+E[14]+2878612391&4294967295,A=C+(I<<15&4294967295|I>>>17),I=T+(C^(A|~x))+E[5]+4237533241&4294967295,T=A+(I<<21&4294967295|I>>>11),I=x+(A^(T|~C))+E[12]+1700485571&4294967295,x=T+(I<<6&4294967295|I>>>26),I=C+(T^(x|~A))+E[3]+2399980690&4294967295,C=x+(I<<10&4294967295|I>>>22),I=A+(x^(C|~T))+E[10]+4293915773&4294967295,A=C+(I<<15&4294967295|I>>>17),I=T+(C^(A|~x))+E[1]+2240044497&4294967295,T=A+(I<<21&4294967295|I>>>11),I=x+(A^(T|~C))+E[8]+1873313359&4294967295,x=T+(I<<6&4294967295|I>>>26),I=C+(T^(x|~A))+E[15]+4264355552&4294967295,C=x+(I<<10&4294967295|I>>>22),I=A+(x^(C|~T))+E[6]+2734768916&4294967295,A=C+(I<<15&4294967295|I>>>17),I=T+(C^(A|~x))+E[13]+1309151649&4294967295,T=A+(I<<21&4294967295|I>>>11),I=x+(A^(T|~C))+E[4]+4149444226&4294967295,x=T+(I<<6&4294967295|I>>>26),I=C+(T^(x|~A))+E[11]+3174756917&4294967295,C=x+(I<<10&4294967295|I>>>22),I=A+(x^(C|~T))+E[2]+718787259&4294967295,A=C+(I<<15&4294967295|I>>>17),I=T+(C^(A|~x))+E[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+A&4294967295,P.g[3]=P.g[3]+C&4294967295}r.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var T=x-this.blockSize,E=this.B,A=this.h,C=0;C<x;){if(A==0)for(;C<=T;)i(this,P,C),C+=this.blockSize;if(typeof P=="string"){for(;C<x;)if(E[A++]=P.charCodeAt(C++),A==this.blockSize){i(this,E),A=0;break}}else for(;C<x;)if(E[A++]=P[C++],A==this.blockSize){i(this,E),A=0;break}}this.h=A,this.o+=x},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var T=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=T&255,T/=256;for(this.u(P),P=Array(16),x=T=0;4>x;++x)for(var E=0;32>E;E+=8)P[T++]=this.g[x]>>>E&255;return P};function s(P,x){var T=a;return Object.prototype.hasOwnProperty.call(T,P)?T[P]:T[P]=x(P)}function o(P,x){this.h=x;for(var T=[],E=!0,A=P.length-1;0<=A;A--){var C=P[A]|0;E&&C==x||(T[A]=C,E=!1)}this.g=T}var a={};function l(P){return-128<=P&&128>P?s(P,function(x){return new o([x|0],0>x?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return h;if(0>P)return R(u(-P));for(var x=[],T=1,E=0;P>=T;E++)x[E]=P/T|0,T*=4294967296;return new o(x,0)}function d(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return R(d(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(x,8)),E=h,A=0;A<P.length;A+=8){var C=Math.min(8,P.length-A),I=parseInt(P.substring(A,A+C),x);8>C?(C=u(Math.pow(x,C)),E=E.j(C).add(u(I))):(E=E.j(T),E=E.add(u(I)))}return E}var h=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(b(this))return-R(this).m();for(var P=0,x=1,T=0;T<this.g.length;T++){var E=this.i(T);P+=(0<=E?E:4294967296+E)*x,x*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(b(this))return"-"+R(this).toString(P);for(var x=u(Math.pow(P,6)),T=this,E="";;){var A=L(T,x).g;T=_(T,A.j(x));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(P);if(T=A,w(T))return C+E;for(;6>C.length;)C="0"+C;E=C+E}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function b(P){return P.h==-1}t.l=function(P){return P=_(this,P),b(P)?-1:w(P)?0:1};function R(P){for(var x=P.g.length,T=[],E=0;E<x;E++)T[E]=~P.g[E];return new o(T,~P.h).add(f)}t.abs=function(){return b(this)?R(this):this},t.add=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],E=0,A=0;A<=x;A++){var C=E+(this.i(A)&65535)+(P.i(A)&65535),I=(C>>>16)+(this.i(A)>>>16)+(P.i(A)>>>16);E=I>>>16,C&=65535,I&=65535,T[A]=I<<16|C}return new o(T,T[T.length-1]&-2147483648?-1:0)};function _(P,x){return P.add(R(x))}t.j=function(P){if(w(this)||w(P))return h;if(b(this))return b(P)?R(this).j(R(P)):R(R(this).j(P));if(b(P))return R(this.j(R(P)));if(0>this.l(p)&&0>P.l(p))return u(this.m()*P.m());for(var x=this.g.length+P.g.length,T=[],E=0;E<2*x;E++)T[E]=0;for(E=0;E<this.g.length;E++)for(var A=0;A<P.g.length;A++){var C=this.i(E)>>>16,I=this.i(E)&65535,W=P.i(A)>>>16,H=P.i(A)&65535;T[2*E+2*A]+=I*H,v(T,2*E+2*A),T[2*E+2*A+1]+=C*H,v(T,2*E+2*A+1),T[2*E+2*A+1]+=I*W,v(T,2*E+2*A+1),T[2*E+2*A+2]+=C*W,v(T,2*E+2*A+2)}for(E=0;E<x;E++)T[E]=T[2*E+1]<<16|T[2*E];for(E=x;E<2*x;E++)T[E]=0;return new o(T,0)};function v(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function k(P,x){this.g=P,this.h=x}function L(P,x){if(w(x))throw Error("division by zero");if(w(P))return new k(h,h);if(b(P))return x=L(R(P),x),new k(R(x.g),R(x.h));if(b(x))return x=L(P,R(x)),new k(R(x.g),x.h);if(30<P.g.length){if(b(P)||b(x))throw Error("slowDivide_ only works with positive integers.");for(var T=f,E=x;0>=E.l(P);)T=F(T),E=F(E);var A=M(T,1),C=M(E,1);for(E=M(E,2),T=M(T,2);!w(E);){var I=C.add(E);0>=I.l(P)&&(A=A.add(T),C=I),E=M(E,1),T=M(T,1)}return x=_(P,A.j(x)),new k(A,x)}for(A=h;0<=P.l(x);){for(T=Math.max(1,Math.floor(P.m()/x.m())),E=Math.ceil(Math.log(T)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),C=u(T),I=C.j(x);b(I)||0<I.l(P);)T-=E,C=u(T),I=C.j(x);w(C)&&(C=f),A=A.add(C),P=_(P,I)}return new k(A,P)}t.A=function(P){return L(this,P).h},t.and=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],E=0;E<x;E++)T[E]=this.i(E)&P.i(E);return new o(T,this.h&P.h)},t.or=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],E=0;E<x;E++)T[E]=this.i(E)|P.i(E);return new o(T,this.h|P.h)},t.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),T=[],E=0;E<x;E++)T[E]=this.i(E)^P.i(E);return new o(T,this.h^P.h)};function F(P){for(var x=P.g.length+1,T=[],E=0;E<x;E++)T[E]=P.i(E)<<1|P.i(E-1)>>>31;return new o(T,P.h)}function M(P,x){var T=x>>5;x%=32;for(var E=P.g.length-T,A=[],C=0;C<E;C++)A[C]=0<x?P.i(C+T)>>>x|P.i(C+T+1)<<32-x:P.i(C+T);return new o(A,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ms=o}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mS,Qa,gS,Gc,Bm,yS,vS,wS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,y){return c==Array.prototype||c==Object.prototype||(c[m]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var m=0;m<c.length;++m){var y=c[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var y=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var j=c[N];if(!(j in y))break e;y=y[j]}c=c[c.length-1],N=y[c],m=m(N),m!=N&&m!=null&&e(y,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var y=0,N=!1,j={next:function(){if(!N&&y<c.length){var $=y++;return{value:m($,c[$]),done:!1}}return N=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,y){return c.call.apply(c.bind,arguments)}function h(c,m,y){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,N),c.apply(m,j)}}return function(){return c.apply(m,arguments)}}function f(c,m,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function p(c,m){var y=Array.prototype.slice.call(arguments,1);return function(){var N=y.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function w(c,m){function y(){}y.prototype=m.prototype,c.aa=m.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(N,j,$){for(var ae=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ae[Ke-2]=arguments[Ke];return m.prototype[j].apply(N,ae)}}function b(c){const m=c.length;if(0<m){const y=Array(m);for(let N=0;N<m;N++)y[N]=c[N];return y}return[]}function R(c,m){for(let y=1;y<arguments.length;y++){const N=arguments[y];if(l(N)){const j=c.length||0,$=N.length||0;c.length=j+$;for(let ae=0;ae<$;ae++)c[j+ae]=N[ae]}else c.push(N)}}class _{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function v(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function L(c){return L[" "](c),c}L[" "]=function(){};var F=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function M(c,m,y){for(const N in c)m.call(y,c[N],N,c)}function P(c,m){for(const y in c)m.call(void 0,c[y],y,c)}function x(c){const m={};for(const y in c)m[y]=c[y];return m}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,m){let y,N;for(let j=1;j<arguments.length;j++){N=arguments[j];for(y in N)c[y]=N[y];for(let $=0;$<T.length;$++)y=T[$],Object.prototype.hasOwnProperty.call(N,y)&&(c[y]=N[y])}}function A(c){var m=1;c=c.split(":");const y=[];for(;0<m&&c.length;)y.push(c.shift()),m--;return c.length&&y.push(c.join(":")),y}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=ee;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,y){const N=H.get();N.set(m,y),this.h?this.h.next=N:this.g=N,this.h=N}}var H=new _(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let re,B=!1,ee=new W,O=()=>{const c=a.Promise.resolve(void 0);re=()=>{c.then(ie)}};var ie=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(y){C(y)}var m=H;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}B=!1};function V(){this.s=this.s,this.C=this.C}V.prototype.s=!1,V.prototype.ma=function(){this.s||(this.s=!0,this.N())},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function S(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}S.prototype.h=function(){this.defaultPrevented=!0};var G=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return c}();function te(c,m){if(S.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(F){e:{try{L(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else y=="mouseover"?m=c.fromElement:y=="mouseout"&&(m=c.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&te.aa.h.call(this)}}w(te,S);var z={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),Q=0;function me(c,m,y,N,j){this.listener=c,this.proxy=null,this.src=m,this.type=y,this.capture=!!N,this.ha=j,this.key=++Q,this.da=this.fa=!1}function he(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function se(c){this.src=c,this.g={},this.h=0}se.prototype.add=function(c,m,y,N,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=ke(c,m,N,j);return-1<ae?(m=c[ae],y||(m.fa=!1)):(m=new me(m,this.src,$,!!N,j),m.fa=y,c.push(m)),m};function le(c,m){var y=m.type;if(y in c.g){var N=c.g[y],j=Array.prototype.indexOf.call(N,m,void 0),$;($=0<=j)&&Array.prototype.splice.call(N,j,1),$&&(he(m),c.g[y].length==0&&(delete c.g[y],c.h--))}}function ke(c,m,y,N){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==m&&$.capture==!!y&&$.ha==N)return j}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),He={};function rt(c,m,y,N,j){if(Array.isArray(m)){for(var $=0;$<m.length;$++)rt(c,m[$],y,N,j);return null}return y=Lu(y),c&&c[X]?c.K(m,y,u(N)?!!N.capture:!1,j):Dt(c,m,y,!1,N,j)}function Dt(c,m,y,N,j,$){if(!m)throw Error("Invalid event type");var ae=u(j)?!!j.capture:!!j,Ke=ya(c);if(Ke||(c[ye]=Ke=new se(c)),y=Ke.add(m,y,N,ae,$),y.proxy)return y;if(N=At(),y.proxy=N,N.src=c,N.listener=y,c.addEventListener)G||(j=ae),j===void 0&&(j=!1),c.addEventListener(m.toString(),N,j);else if(c.attachEvent)c.attachEvent(Ou(m.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return y}function At(){function c(y){return m.call(c.src,c.listener,y)}const m=af;return c}function wt(c,m,y,N,j){if(Array.isArray(m))for(var $=0;$<m.length;$++)wt(c,m[$],y,N,j);else N=u(N)?!!N.capture:!!N,y=Lu(y),c&&c[X]?(c=c.i,m=String(m).toString(),m in c.g&&($=c.g[m],y=ke($,y,N,j),-1<y&&(he($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete c.g[m],c.h--)))):c&&(c=ya(c))&&(m=c.g[m.toString()],c=-1,m&&(c=ke(m,y,N,j)),(y=-1<c?m[c]:null)&&fi(y))}function fi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[X])le(m.i,c);else{var y=c.type,N=c.proxy;m.removeEventListener?m.removeEventListener(y,N,c.capture):m.detachEvent?m.detachEvent(Ou(y),N):m.addListener&&m.removeListener&&m.removeListener(N),(y=ya(m))?(le(y,c),y.h==0&&(y.src=null,m[ye]=null)):he(c)}}}function Ou(c){return c in He?He[c]:He[c]="on"+c}function af(c,m){if(c.da)c=!0;else{m=new te(m,this);var y=c.listener,N=c.ha||c.src;c.fa&&fi(c),c=y.call(N,m)}return c}function ya(c){return c=c[ye],c instanceof se?c:null}var va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(c){return typeof c=="function"?c:(c[va]||(c[va]=function(m){return c.handleEvent(m)}),c[va])}function U(){V.call(this),this.i=new se(this),this.M=this,this.F=null}w(U,V),U.prototype[X]=!0,U.prototype.removeEventListener=function(c,m,y,N){wt(this,c,m,y,N)};function Y(c,m){var y,N=c.F;if(N)for(y=[];N;N=N.F)y.push(N);if(c=c.M,N=m.type||m,typeof m=="string")m=new S(m,c);else if(m instanceof S)m.target=m.target||c;else{var j=m;m=new S(N,c),E(m,j)}if(j=!0,y)for(var $=y.length-1;0<=$;$--){var ae=m.g=y[$];j=ve(ae,N,!0,m)&&j}if(ae=m.g=c,j=ve(ae,N,!0,m)&&j,j=ve(ae,N,!1,m)&&j,y)for($=0;$<y.length;$++)ae=m.g=y[$],j=ve(ae,N,!1,m)&&j}U.prototype.N=function(){if(U.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var y=c.g[m],N=0;N<y.length;N++)he(y[N]);delete c.g[m],c.h--}}this.F=null},U.prototype.K=function(c,m,y,N){return this.i.add(String(c),m,!1,y,N)},U.prototype.L=function(c,m,y,N){return this.i.add(String(c),m,!0,y,N)};function ve(c,m,y,N){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,$=0;$<m.length;++$){var ae=m[$];if(ae&&!ae.da&&ae.capture==y){var Ke=ae.listener,Ot=ae.ha||ae.src;ae.fa&&le(c.i,ae),j=Ke.call(Ot,N)!==!1&&j}}return j&&!N.defaultPrevented}function Ae(c,m,y){if(typeof c=="function")y&&(c=f(c,y));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function We(c){c.g=Ae(()=>{c.g=null,c.i&&(c.i=!1,We(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class An extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:We(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(c){V.call(this),this.h=c,this.g={}}w(Pn,V);var Hn=[];function pi(c){M(c.g,function(m,y){this.g.hasOwnProperty(y)&&fi(m)},c),c.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),pi(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=a.JSON.stringify,on=a.JSON.parse,mi=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nn(){}Nn.prototype.h=null;function Bv(c){return c.h||(c.h=c.i())}function Hv(){}var wa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lf(){S.call(this,"d")}w(lf,S);function uf(){S.call(this,"c")}w(uf,S);var ds={},Wv=null;function Mu(){return Wv=Wv||new U}ds.La="serverreachability";function qv(c){S.call(this,ds.La,c)}w(qv,S);function _a(c){const m=Mu();Y(m,new qv(m))}ds.STAT_EVENT="statevent";function Gv(c,m){S.call(this,ds.STAT_EVENT,c),this.stat=m}w(Gv,S);function an(c){const m=Mu();Y(m,new Gv(m,c))}ds.Ma="timingevent";function Kv(c,m){S.call(this,ds.Ma,c),this.size=m}w(Kv,S);function Ea(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function xa(){this.g=!0}xa.prototype.xa=function(){this.g=!1};function nC(c,m,y,N,j,$){c.info(function(){if(c.g)if($)for(var ae="",Ke=$.split("&"),Ot=0;Ot<Ke.length;Ot++){var $e=Ke[Ot].split("=");if(1<$e.length){var Ht=$e[0];$e=$e[1];var Wt=Ht.split("_");ae=2<=Wt.length&&Wt[1]=="type"?ae+(Ht+"="+$e+"&"):ae+(Ht+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+N+") [attempt "+j+"]: "+m+`
`+y+`
`+ae})}function rC(c,m,y,N,j,$,ae){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+j+"]: "+m+`
`+y+`
`+$+" "+ae})}function io(c,m,y,N){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+sC(c,y)+(N?" "+N:"")})}function iC(c,m){c.info(function(){return"TIMEOUT: "+m})}xa.prototype.info=function(){};function sC(c,m){if(!c.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var N=y[c];if(!(2>N.length)){var j=N[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Or(y)}catch{return m}}var Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},cf;function Vu(){}w(Vu,Nn),Vu.prototype.g=function(){return new XMLHttpRequest},Vu.prototype.i=function(){return{}},cf=new Vu;function gi(c,m,y,N){this.j=c,this.i=m,this.l=y,this.R=N||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yv}function Yv(){this.i=null,this.g="",this.h=!1}var Xv={},df={};function hf(c,m,y){c.L=1,c.v=zu(Lr(m)),c.m=y,c.P=!0,Jv(c,null)}function Jv(c,m){c.F=Date.now(),ju(c),c.A=Lr(c.v);var y=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),hw(y.i,"t",N),c.C=0,y=c.j.J,c.h=new Yv,c.g=Pw(c.j,y?m:null,!c.m),0<c.O&&(c.M=new An(f(c.Y,c,c.g),c.O)),m=c.U,y=c.g,N=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Hn[0]=j.toString()),j=Hn);for(var $=0;$<j.length;$++){var ae=rt(y,j[$],N||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),_a(),nC(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const m=this.M;m&&Mr(c)==3?m.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)e:{const Wt=Mr(this.g);var m=this.g.Ba();const ao=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ww(this.g)))){this.J||Wt!=4||m==7||(m==8||0>=ao?_a(3):_a(2)),ff(this);var y=this.g.Z();this.X=y;t:if(Zv(this)){var N=ww(this.g);c="";var j=N.length,$=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),ka(this);var ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,c+=this.h.i.decode(N[m],{stream:!($&&m==j-1)});N.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=y==200,rC(this.i,this.u,this.A,this.l,this.R,Wt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Ot=this.g;if((Ke=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ke)){var $e=Ke;break t}}$e=null}if(y=$e)io(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pf(this,y);else{this.o=!1,this.s=3,an(12),hs(this),ka(this);break e}}if(this.P){y=!0;let tr;for(;!this.J&&this.C<ae.length;)if(tr=oC(this,ae),tr==df){Wt==4&&(this.s=4,an(14),y=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Xv){this.s=4,an(15),io(this.i,this.l,ae,"[Invalid Chunk]"),y=!1;break}else io(this.i,this.l,tr,null),pf(this,tr);if(Zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||ae.length!=0||this.h.h||(this.s=1,an(16),y=!1),this.o=this.o&&y,!y)io(this.i,this.l,ae,"[Invalid Chunked Response]"),hs(this),ka(this);else if(0<ae.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),_f(Ht),Ht.M=!0,an(11))}}else io(this.i,this.l,ae,null),pf(this,ae);Wt==4&&hs(this),this.o&&!this.J&&(Wt==4?Sw(this.j,this):(this.o=!1,ju(this)))}else kC(this.g),y==400&&0<ae.indexOf("Unknown SID")?(this.s=3,an(12)):(this.s=0,an(13)),hs(this),ka(this)}}}catch{}finally{}};function Zv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oC(c,m){var y=c.C,N=m.indexOf(`
`,y);return N==-1?df:(y=Number(m.substring(y,N)),isNaN(y)?Xv:(N+=1,N+y>m.length?df:(m=m.slice(N,N+y),c.C=N+y,m)))}gi.prototype.cancel=function(){this.J=!0,hs(this)};function ju(c){c.S=Date.now()+c.I,ew(c,c.I)}function ew(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ea(f(c.ba,c),m)}function ff(c){c.B&&(a.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(iC(this.i,this.A),this.L!=2&&(_a(),an(17)),hs(this),this.s=2,ka(this)):ew(this,this.S-c)};function ka(c){c.j.G==0||c.J||Sw(c.j,c)}function hs(c){ff(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,pi(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function pf(c,m){try{var y=c.j;if(y.G!=0&&(y.g==c||mf(y.h,c))){if(!c.K&&mf(y.h,c)&&y.G==3){try{var N=y.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var j=N;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Ku(y),qu(y);else break e;wf(y),an(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=Ea(f(y.Za,y),6e3));if(1>=rw(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ps(y,11)}else if((c.K||y.g==c)&&Ku(y),!v(m))for(j=y.Da.g.parse(m),m=0;m<j.length;m++){let $e=j[m];if(y.T=$e[0],$e=$e[1],y.G==2)if($e[0]=="c"){y.K=$e[1],y.ia=$e[2];const Ht=$e[3];Ht!=null&&(y.la=Ht,y.j.info("VER="+y.la));const Wt=$e[4];Wt!=null&&(y.Aa=Wt,y.j.info("SVER="+y.Aa));const ao=$e[5];ao!=null&&typeof ao=="number"&&0<ao&&(N=1.5*ao,y.L=N,y.j.info("backChannelRequestTimeoutMs_="+N)),N=y;const tr=c.g;if(tr){const Yu=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var $=N.h;$.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(gf($,$.h),$.h=null))}if(N.D){const Ef=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ef&&(N.ya=Ef,Ze(N.I,N.D,Ef))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),N=y;var ae=c;if(N.qa=Aw(N,N.J?N.ia:null,N.W),ae.K){iw(N.h,ae);var Ke=ae,Ot=N.L;Ot&&(Ke.I=Ot),Ke.B&&(ff(Ke),ju(Ke)),N.g=ae}else bw(N);0<y.i.length&&Gu(y)}else $e[0]!="stop"&&$e[0]!="close"||ps(y,7);else y.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ps(y,7):vf(y):$e[0]!="noop"&&y.l&&y.l.ta($e),y.v=0)}}_a(4)}catch{}}var aC=class{constructor(c,m){this.g=c,this.map=m}};function tw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function rw(c){return c.h?1:c.g?c.g.size:0}function mf(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function gf(c,m){c.g?c.g.add(m):c.h=m}function iw(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}tw.prototype.cancel=function(){if(this.i=sw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const y of c.g.values())m=m.concat(y.D);return m}return b(c.i)}function lC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],y=c.length,N=0;N<y;N++)m.push(c[N]);return m}m=[],y=0;for(N in c)m[y++]=c[N];return m}function uC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var y=0;y<c;y++)m.push(y);return m}m=[],y=0;for(const N in c)m[y++]=N;return m}}}function ow(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var y=uC(c),N=lC(c),j=N.length,$=0;$<j;$++)m.call(void 0,N[$],y&&y[$],c)}var aw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cC(c,m){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var N=c[y].indexOf("="),j=null;if(0<=N){var $=c[y].substring(0,N);j=c[y].substring(N+1)}else $=c[y];m($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function fs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fs){this.h=c.h,$u(this,c.j),this.o=c.o,this.g=c.g,Uu(this,c.s),this.l=c.l;var m=c.i,y=new Sa;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),lw(this,y),this.m=c.m}else c&&(m=String(c).match(aw))?(this.h=!1,$u(this,m[1]||"",!0),this.o=ba(m[2]||""),this.g=ba(m[3]||"",!0),Uu(this,m[4]),this.l=ba(m[5]||"",!0),lw(this,m[6]||"",!0),this.m=ba(m[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}fs.prototype.toString=function(){var c=[],m=this.j;m&&c.push(Ta(m,uw,!0),":");var y=this.g;return(y||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ta(m,uw,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Ta(y,y.charAt(0)=="/"?fC:hC,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Ta(y,mC)),c.join("")};function Lr(c){return new fs(c)}function $u(c,m,y){c.j=y?ba(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Uu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function lw(c,m,y){m instanceof Sa?(c.i=m,gC(c.i,c.h)):(y||(m=Ta(m,pC)),c.i=new Sa(m,c.h))}function Ze(c,m,y){c.i.set(m,y)}function zu(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ba(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,m,y){return typeof c=="string"?(c=encodeURI(c).replace(m,dC),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var uw=/[#\/\?@]/g,hC=/[#\?:]/g,fC=/[#\?]/g,pC=/[#\?@]/g,mC=/#/g;function Sa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function yi(c){c.g||(c.g=new Map,c.h=0,c.i&&cC(c.i,function(m,y){c.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=Sa.prototype,t.add=function(c,m){yi(this),this.i=null,c=so(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(m),this.h+=1,this};function cw(c,m){yi(c),m=so(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function dw(c,m){return yi(c),m=so(c,m),c.g.has(m)}t.forEach=function(c,m){yi(this),this.g.forEach(function(y,N){y.forEach(function(j){c.call(m,j,N,this)},this)},this)},t.na=function(){yi(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let N=0;N<m.length;N++){const j=c[N];for(let $=0;$<j.length;$++)y.push(m[N])}return y},t.V=function(c){yi(this);let m=[];if(typeof c=="string")dw(this,c)&&(m=m.concat(this.g.get(so(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)m=m.concat(c[y])}return m},t.set=function(c,m){return yi(this),this.i=null,c=so(this,c),dw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function hw(c,m,y){cw(c,m),0<y.length&&(c.i=null,c.g.set(so(c,m),b(y)),c.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var N=m[y];const $=encodeURIComponent(String(N)),ae=this.V(N);for(N=0;N<ae.length;N++){var j=$;ae[N]!==""&&(j+="="+encodeURIComponent(String(ae[N]))),c.push(j)}}return this.i=c.join("&")};function so(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function gC(c,m){m&&!c.j&&(yi(c),c.i=null,c.g.forEach(function(y,N){var j=N.toLowerCase();N!=j&&(cw(this,N),hw(this,j,y))},c)),c.j=m}function yC(c,m){const y=new xa;if(a.Image){const N=new Image;N.onload=p(vi,y,"TestLoadImage: loaded",!0,m,N),N.onerror=p(vi,y,"TestLoadImage: error",!1,m,N),N.onabort=p(vi,y,"TestLoadImage: abort",!1,m,N),N.ontimeout=p(vi,y,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else m(!1)}function vC(c,m){const y=new xa,N=new AbortController,j=setTimeout(()=>{N.abort(),vi(y,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:N.signal}).then($=>{clearTimeout(j),$.ok?vi(y,"TestPingServer: ok",!0,m):vi(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),vi(y,"TestPingServer: error",!1,m)})}function vi(c,m,y,N,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),N(y)}catch{}}function wC(){this.g=new mi}function _C(c,m,y){const N=y||"";try{ow(c,function(j,$){let ae=j;u(j)&&(ae=Or(j)),m.push(N+$+"="+encodeURIComponent(ae))})}catch(j){throw m.push(N+"type="+encodeURIComponent("_badmap")),j}}function Bu(c){this.l=c.Ub||null,this.j=c.eb||!1}w(Bu,Nn),Bu.prototype.g=function(){return new Hu(this.l,this.j)},Bu.prototype.i=function(c){return function(){return c}}({});function Hu(c,m){U.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Hu,U),t=Hu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,Ca(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ia(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ia(this):Ca(this),this.readyState==3&&fw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ia(this))},t.Qa=function(c){this.g&&(this.response=c,Ia(this))},t.ga=function(){this.g&&Ia(this)};function Ia(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ca(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=m.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pw(c){let m="";return M(c,function(y,N){m+=N,m+=":",m+=y,m+=`\r
`}),m}function yf(c,m,y){e:{for(N in y){var N=!1;break e}N=!0}N||(y=pw(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):Ze(c,m,y))}function ht(c){U.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ht,U);var EC=/^https?$/i,xC=["POST","PUT"];t=ht.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,y,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cf.g(),this.v=this.o?Bv(this.o):Bv(cf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch($){mw(this,$);return}if(c=y||"",y=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var j in N)y.set(j,N[j]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const $ of N.keys())y.set($,N.get($));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),j=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xC,m,void 0))||N||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of y)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vw(this),this.u=!0,this.g.send(c),this.u=!1}catch($){mw(this,$)}};function mw(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,gw(c),Wu(c)}function gw(c){c.A||(c.A=!0,Y(c,"complete"),Y(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Y(this,"complete"),Y(this,"abort"),Wu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wu(this,!0)),ht.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yw(this):this.bb())},t.bb=function(){yw(this)};function yw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mr(c)!=4||c.Z()!=2)){if(c.u&&Mr(c)==4)Ae(c.Ea,0,c);else if(Y(c,"readystatechange"),Mr(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var N;if(N=ae===0){var j=String(c.D).match(aw)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),N=!EC.test(j?j.toLowerCase():"")}y=N}if(y)Y(c,"complete"),Y(c,"success");else{c.m=6;try{var $=2<Mr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",gw(c)}}finally{Wu(c)}}}}function Wu(c,m){if(c.g){vw(c);const y=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Y(c,"ready");try{y.onreadystatechange=N}catch{}}}function vw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),on(m)}};function ww(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kC(c){const m={};c=(c.g&&2<=Mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(v(c[N]))continue;var y=A(c[N]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=m[j]||[];m[j]=$,$.push(y)}P(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||m}function _w(c){this.Aa=0,this.i=[],this.j=new xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tw(c&&c.concurrentRequestLimit),this.Da=new wC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_w.prototype,t.la=8,t.G=1,t.connect=function(c,m,y,N){an(0),this.W=c,this.H=m||{},y&&N!==void 0&&(this.H.OSID=y,this.H.OAID=N),this.F=this.X,this.I=Aw(this,null,this.W),Gu(this)};function vf(c){if(Ew(c),c.G==3){var m=c.U++,y=Lr(c.I);if(Ze(y,"SID",c.K),Ze(y,"RID",m),Ze(y,"TYPE","terminate"),Pa(c,y),m=new gi(c,c.j,m),m.L=2,m.v=zu(Lr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=Pw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ju(m)}Cw(c)}function qu(c){c.g&&(_f(c),c.g.cancel(),c.g=null)}function Ew(c){qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ku(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!nw(c.h)&&!c.s){c.s=!0;var m=c.Ga;re||O(),B||(re(),B=!0),ee.add(m,c),c.B=0}}function bC(c,m){return rw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ea(f(c.Ga,c,m),Iw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new gi(this,this.j,c);let $=this.o;if(this.S&&($?($=x($),E($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var N=this.i[y];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=kw(this,j,m),y=Lr(this.I),Ze(y,"RID",c),Ze(y,"CVER",22),this.D&&Ze(y,"X-HTTP-Session-Id",this.D),Pa(this,y),$&&(this.O?m="headers="+encodeURIComponent(String(pw($)))+"&"+m:this.m&&yf(y,this.m,$)),gf(this.h,j),this.Ua&&Ze(y,"TYPE","init"),this.P?(Ze(y,"$req",m),Ze(y,"SID","null"),j.T=!0,hf(j,y,null)):hf(j,y,m),this.G=2}}else this.G==3&&(c?xw(this,c):this.i.length==0||nw(this.h)||xw(this))};function xw(c,m){var y;m?y=m.l:y=c.U++;const N=Lr(c.I);Ze(N,"SID",c.K),Ze(N,"RID",y),Ze(N,"AID",c.T),Pa(c,N),c.m&&c.o&&yf(N,c.m,c.o),y=new gi(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),m&&(c.i=m.D.concat(c.i)),m=kw(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gf(c.h,y),hf(y,N,m)}function Pa(c,m){c.H&&M(c.H,function(y,N){Ze(m,N,y)}),c.l&&ow({},function(y,N){Ze(m,N,y)})}function kw(c,m,y){y=Math.min(c.i.length,y);var N=c.l?f(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const ae=["count="+y];$==-1?0<y?($=j[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Ke=!0;for(let Ot=0;Ot<y;Ot++){let $e=j[Ot].g;const Ht=j[Ot].map;if($e-=$,0>$e)$=Math.max(0,j[Ot].g-100),Ke=!1;else try{_C(Ht,ae,"req"+$e+"_")}catch{N&&N(Ht)}}if(Ke){N=ae.join("&");break e}}}return c=c.i.splice(0,y),m.D=c,N}function bw(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;re||O(),B||(re(),B=!0),ee.add(m,c),c.v=0}}function wf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ea(f(c.Fa,c),Iw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Tw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ea(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,an(10),qu(this),Tw(this))};function _f(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Tw(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Lr(c.qa);Ze(m,"RID","rpc"),Ze(m,"SID",c.K),Ze(m,"AID",c.T),Ze(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(m,"TO",c.ja),Ze(m,"TYPE","xmlhttp"),Pa(c,m),c.m&&c.o&&yf(m,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=zu(Lr(m)),y.m=null,y.P=!0,Jv(y,c)}t.Za=function(){this.C!=null&&(this.C=null,qu(this),wf(this),an(19))};function Ku(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Sw(c,m){var y=null;if(c.g==m){Ku(c),_f(c),c.g=null;var N=2}else if(mf(c.h,m))y=m.D,iw(c.h,m),N=1;else return;if(c.G!=0){if(m.o)if(N==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var j=c.B;N=Mu(),Y(N,new Kv(N,y)),Gu(c)}else bw(c);else if(j=m.s,j==3||j==0&&0<m.X||!(N==1&&bC(c,m)||N==2&&wf(c)))switch(y&&0<y.length&&(m=c.h,m.i=m.i.concat(y)),j){case 1:ps(c,5);break;case 4:ps(c,10);break;case 3:ps(c,6);break;default:ps(c,2)}}}function Iw(c,m){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*m}function ps(c,m){if(c.j.info("Error code "+m),m==2){var y=f(c.fb,c),N=c.Xa;const j=!N;N=new fs(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$u(N,"https"),zu(N),j?yC(N.toString(),y):vC(N.toString(),y)}else an(2);c.G=0,c.l&&c.l.sa(m),Cw(c),Ew(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),an(2)):(this.j.info("Failed to ping google.com"),an(1))};function Cw(c){if(c.G=0,c.ka=[],c.l){const m=sw(c.h);(m.length!=0||c.i.length!=0)&&(R(c.ka,m),R(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function Aw(c,m,y){var N=y instanceof fs?Lr(y):new fs(y);if(N.g!="")m&&(N.g=m+"."+N.g),Uu(N,N.s);else{var j=a.location;N=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var $=new fs(null);N&&$u($,N),m&&($.g=m),j&&Uu($,j),y&&($.l=y),N=$}return y=c.D,m=c.ya,y&&m&&Ze(N,y,m),Ze(N,"VER",c.la),Pa(c,N),N}function Pw(c,m,y){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new ht(new Bu({eb:y})):new ht(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nw(){}t=Nw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,m){return new Rn(c,m)};function Rn(c,m){U.call(this),this.g=new _w(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!v(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!v(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new oo(this)}w(Rn,U),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){vf(this.g)},Rn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Or(c),c=y);m.i.push(new aC(m.Ya++,c)),m.G==3&&Gu(m)},Rn.prototype.N=function(){this.g.l=null,delete this.j,vf(this.g),delete this.g,Rn.aa.N.call(this)};function Rw(c){lf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const y in m){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Rw,lf);function Dw(){uf.call(this),this.status=1}w(Dw,uf);function oo(c){this.g=c}w(oo,Nw),oo.prototype.ua=function(){Y(this.g,"a")},oo.prototype.ta=function(c){Y(this.g,new Rw(c))},oo.prototype.sa=function(c){Y(this.g,new Dw)},oo.prototype.ra=function(){Y(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,wS=function(){return new Qu},vS=function(){return Mu()},yS=ds,Bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,Gc=Fu,Qv.COMPLETE="complete",gS=Qv,Hv.EventType=wa,wa.OPEN="a",wa.CLOSE="b",wa.ERROR="c",wa.MESSAGE="d",U.prototype.listen=U.prototype.K,Qa=Hv,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,mS=ht}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new ky("@firebase/firestore");function ja(){return qs.logLevel}function fe(t,...e){if(qs.logLevel<=Le.DEBUG){const n=e.map(My);qs.debug(`Firestore (${ha}): ${t}`,...n)}}function si(t,...e){if(qs.logLevel<=Le.ERROR){const n=e.map(My);qs.error(`Firestore (${ha}): ${t}`,...n)}}function Xo(t,...e){if(qs.logLevel<=Le.WARN){const n=e.map(My);qs.warn(`Firestore (${ha}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+t;throw si(e),new Error(e)}function Ge(t,e){t||xe()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class VM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jM{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new _S(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Yt(e)}}class $M{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $M(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new zM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ze(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new vt(0,0))}static max(){return new Se(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Kl{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends Kl{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return WM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}function qM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new ns(i,pe.empty(),e)}function GM(t){return new ns(t.readTime,t.key,-1)}class ns{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ns(Se.min(),pe.empty(),-1)}static max(){return new ns(Se.max(),pe.empty(),-1)}}function KM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==QM)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(i=>i?K.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new K((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new K((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function XM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fy.oe=-1;function Vh(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function JM(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wc(this.root,e,this.comparator,!0)}}class wc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=s??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new Ut(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kS("Invalid base64 string: "+s):s}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const ZM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=ZM.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jy(t){const e=t.mapValue.fields.__previous_value__;return Vy(e)?jy(e):e}function Ql(t){const e=rs(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{}};function Ks(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vy(t)?4:nF(t)?9007199254740991:tF(t)?10:11:xe()}function Ar(t,e){if(t===e)return!0;const n=Ks(t);if(n!==Ks(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ql(t).isEqual(Ql(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=rs(i.timestampValue),a=rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gs(i.bytesValue).isEqual(Gs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gt(i.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gt(i.integerValue)===gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gt(i.doubleValue),a=gt(s.doubleValue);return o===a?Ud(o)===Ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(O0(o)!==O0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ar(o[l],a[l])))return!1;return!0}(t,e);default:return xe()}}function Xl(t,e){return(t.values||[]).find(n=>Ar(n,e))!==void 0}function Zo(t,e){if(t===e)return 0;const n=Ks(t),r=Ks(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return M0(t.timestampValue,e.timestampValue);case 4:return M0(Ql(t),Ql(e));case 5:return ze(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gs(s),l=Gs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=ze(a[u],l[u]);if(d!==0)return d}return ze(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ze(gt(s.latitude),gt(o.latitude));return a!==0?a:ze(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return F0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const h=s.fields||{},f=o.fields||{},p=(a=h.value)===null||a===void 0?void 0:a.arrayValue,w=(l=f.value)===null||l===void 0?void 0:l.arrayValue,b=ze(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:F0(p,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_c.mapValue&&o===_c.mapValue)return 0;if(s===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ze(l[h],d[h]);if(f!==0)return f;const p=Zo(a[l[h]],u[d[h]]);if(p!==0)return p}return ze(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xe()}}function M0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=rs(t),r=rs(e),i=ze(n.seconds,r.seconds);return i!==0?i:ze(n.nanos,r.nanos)}function F0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zo(n[i],r[i]);if(s)return s}return ze(n.length,r.length)}function ea(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return pe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hm(n.fields[o])}`;return i+"}"}(t.mapValue):xe()}function V0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wm(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function j0(t){return!!t&&"nullValue"in t}function $0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kc(t){return!!t&&"mapValue"in t}function tF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(ml(this.value))}}function bS(t){const e=[];return eo(t.fields,(n,r)=>{const i=new Vt([n]);if(Kc(r)){const s=bS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,Se.min(),Se.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Se.min(),Se.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.position=e,this.inclusive=n}}function U0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=pe.comparator(pe.fromName(o.referenceValue),n.key):r=Zo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function z0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n="asc"){this.field=e,this.dir=n}}function rF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class Tt extends TS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sF(e,n,r):n==="array-contains"?new lF(e,r):n==="in"?new uF(e,r):n==="not-in"?new cF(e,r):n==="array-contains-any"?new dF(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new oF(e,r):new aF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zo(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(Zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mr(e,n)}matches(e){return SS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function SS(t){return t.op==="and"}function IS(t){return iF(t)&&SS(t)}function iF(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function qm(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(IS(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function CS(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Ar(r.value,i.value)}(t,e):t instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&CS(o,i.filters[a]),!0):!1}(t,e):void xe()}function AS(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${ea(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"}(t):"Filter"}class sF extends Tt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class oF extends Tt{constructor(e,n){super(e,"in",n),this.keys=PS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class aF extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=PS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>pe.fromName(r.referenceValue))}class lF extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&Xl(n.arrayValue,this.value)}}class uF extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class cF extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class dF extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function B0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new hF(t,e,n,r,i,s,o)}function Uy(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ea(r)).join(",")),e.ue=n}return e.ue}function zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z0(t.startAt,e.startAt)&&z0(t.endAt,e.endAt)}function Gm(t){return pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function fF(t,e,n,r,i,s,o,a){return new wu(t,e,n,r,i,s,o,a)}function jh(t){return new wu(t)}function H0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NS(t){return t.collectionGroup!==null}function gl(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ut(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bd(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new Bd(Vt.keyField(),r))}return e.ce}function Tr(t){const e=Ie(t);return e.le||(e.le=pF(e,gl(t))),e.le}function pF(t,e){if(t.limitType==="F")return B0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bd(i.field,s)});const n=t.endAt?new zd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zd(t.startAt.position,t.startAt.inclusive):null;return B0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Km(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qm(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $h(t,e){return zy(Tr(t),Tr(e))&&t.limitType===e.limitType}function RS(t){return`${Uy(Tr(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AS(i)).join(", ")}]`),Vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function Uh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,gl(r),i)||r.endAt&&!function(o,a,l){const u=U0(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,gl(r),i))}(t,e)}function mF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DS(t){return(e,n)=>{let r=!1;for(const i of gl(t)){const s=gF(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function gF(t,e,n){const r=t.field.isKeyField()?pe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Zo(l,u):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new dt(pe.comparator);function oi(){return yF}const OS=new dt(pe.comparator);function Ya(...t){let e=OS;for(const n of t)e=e.insert(n.key,n);return e}function LS(t){let e=OS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return yl()}function MS(){return yl()}function yl(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const vF=new dt(pe.comparator),wF=new Ut(pe.comparator);function De(...t){let e=wF;for(const n of t)e=e.add(n);return e}const _F=new Ut(ze);function EF(){return _F}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function FS(t){return{integerValue:""+t}}function xF(t,e){return JM(e)?FS(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this._=void 0}}function kF(t,e,n){return t instanceof Hd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Vy(s)&&(s=jy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Jl?jS(t,e):t instanceof Zl?$S(t,e):function(i,s){const o=VS(i,s),a=W0(o)+W0(i.Pe);return Wm(o)&&Wm(i.Pe)?FS(a):By(i.serializer,a)}(t,e)}function bF(t,e,n){return t instanceof Jl?jS(t,e):t instanceof Zl?$S(t,e):n}function VS(t,e){return t instanceof Wd?function(r){return Wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Hd extends zh{}class Jl extends zh{constructor(e){super(),this.elements=e}}function jS(t,e){const n=US(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class Zl extends zh{constructor(e){super(),this.elements=e}}function $S(t,e){let n=US(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class Wd extends zh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function W0(t){return gt(t.integerValue||t.doubleValue)}function US(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jl&&i instanceof Jl||r instanceof Zl&&i instanceof Zl?Jo(r.elements,i.elements,Ar):r instanceof Wd&&i instanceof Wd?Ar(r.Pe,i.Pe):r instanceof Hd&&i instanceof Hd}(t.transform,e.transform)}class SF{constructor(e,n){this.version=e,this.transformResults=n}}class fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bh{}function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hh(t.key,fn.none()):new _u(t.key,t.data,fn.none());{const n=t.data,r=_n.empty();let i=new Ut(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new us(t.key,r,new Vn(i.toArray()),fn.none())}}function IF(t,e,n){t instanceof _u?function(i,s,o){const a=i.value.clone(),l=G0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof us?function(i,s,o){if(!Qc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=G0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(BS(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function vl(t,e,n,r){return t instanceof _u?function(s,o,a,l){if(!Qc(s.precondition,o))return a;const u=s.value.clone(),d=K0(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof us?function(s,o,a,l){if(!Qc(s.precondition,o))return a;const u=K0(s.fieldTransforms,l,o),d=o.data;return d.setAll(BS(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Qc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function CF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=VS(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function q0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(s,o)=>TF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends Bh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class us extends Bh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function G0(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bF(o,a,n[i]))}return r}function K0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,kF(s,o,e))}return r}class Hh extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AF extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=MS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zS(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>q0(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>q0(n,r))}}class Hy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return vF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Me;function DF(t){switch(t){default:return xe();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function HS(t){if(t===void 0)return si("GRPC error has no .code"),q.UNKNOWN;switch(t){case _t.OK:return q.OK;case _t.CANCELLED:return q.CANCELLED;case _t.UNKNOWN:return q.UNKNOWN;case _t.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case _t.INTERNAL:return q.INTERNAL;case _t.UNAVAILABLE:return q.UNAVAILABLE;case _t.UNAUTHENTICATED:return q.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case _t.NOT_FOUND:return q.NOT_FOUND;case _t.ALREADY_EXISTS:return q.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return q.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case _t.ABORTED:return q.ABORTED;case _t.OUT_OF_RANGE:return q.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return q.UNIMPLEMENTED;case _t.DATA_LOSS:return q.DATA_LOSS;default:return xe()}}(Me=_t||(_t={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Ms([4294967295,4294967295],0);function Q0(t){const e=OF().encode(t),n=new pS;return n.update(e),new Uint8Array(n.digest())}function Y0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ms([n,r],0),new Ms([i,s],0)]}class Wy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xa(`Invalid padding: ${n}`);if(r<0)throw new Xa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ms.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ms.fromNumber(r)));return i.compare(LF)===1&&(i=new Ms([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Q0(e),[r,i]=Y0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Wy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Q0(e),[r,i]=Y0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wh(Se.min(),i,new dt(ze),oi(),De())}}class Eu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class WS{constructor(e,n){this.targetId=e,this.me=n}}class qS{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class X0{constructor(){this.fe=0,this.ge=Z0(),this.pe=Bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),n=De(),r=De();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Eu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Z0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class MF{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=J0(),this.Qe=new dt(ze)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Gm(s))if(r===0){const o=new pe(s.path);this.Ue(n,o,Jt.newNoDocument(o,Se.min()))}else Ge(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gs(r).toUint8Array()}catch(l){if(l instanceof kS)return Xo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Wy(o,i,s)}catch(l){return Xo(l instanceof Xa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Gm(a.target)){const l=new pe(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Jt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=De();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wh(e,n,this.Qe,this.ke,r);return this.ke=oi(),this.qe=J0(),this.Qe=new dt(ze),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new X0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ut(ze),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new X0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function J0(){return new dt(pe.comparator)}function Z0(){return new dt(pe.comparator)}const FF={asc:"ASCENDING",desc:"DESCENDING"},VF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jF={and:"AND",or:"OR"};class $F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(t,e){return t.useProto3Json||Vh(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UF(t,e){return qd(t,e.toTimestamp())}function Sr(t){return Ge(!!t),Se.fromTimestamp(function(n){const r=rs(n);return new vt(r.seconds,r.nanos)}(t))}function qy(t,e){return Xm(t,e).canonicalString()}function Xm(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KS(t){const e=tt.fromString(t);return Ge(ZS(e)),e}function Jm(t,e){return qy(t.databaseId,e.path)}function sp(t,e){const n=KS(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pe(YS(n))}function QS(t,e){return qy(t.databaseId,e)}function zF(t){const e=KS(t);return e.length===4?tt.emptyPath():YS(e)}function Zm(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YS(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eE(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function BF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ge(d===void 0||typeof d=="string"),Bt.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?q.UNKNOWN:HS(u.code);return new ue(d,u.message||"")}(o);n=new qS(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sp(t,r.document.name),s=Sr(r.document.updateTime),o=r.document.createTime?Sr(r.document.createTime):Se.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Yc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sp(t,r.document),s=r.readTime?Sr(r.readTime):Se.min(),o=Jt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sp(t,r.document),s=r.removedTargetIds||[];n=new Yc([],s,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new RF(i,s),a=r.targetId;n=new WS(a,o)}}return n}function HF(t,e){let n;if(e instanceof _u)n={update:eE(t,e.key,e.value)};else if(e instanceof Hh)n={delete:Jm(t,e.key)};else if(e instanceof us)n={update:eE(t,e.key,e.data),updateMask:ZF(e.fieldMask)};else{if(!(e instanceof AF))return xe();n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Hd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Zl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:UF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe()}(t,e.precondition)),n}function WF(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Sr(i.updateTime):Sr(s);return o.isEqual(Se.min())&&(o=Sr(s)),new SF(o,i.transformResults||[])}(n,e))):[]}function qF(t,e){return{documents:[QS(t,e.path)]}}function GF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QS(t,i);const s=function(u){if(u.length!==0)return JS(mr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:po(f.field),direction:YF(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ym(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function KF(t){let e=zF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=XS(h);return f instanceof mr&&IS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(w){return new Bd(mo(w.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Vh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new zd(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new zd(p,f)}(n.endAt)),fF(e,i,o,s,a,"F",l,u)}function QF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mo(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=mo(n.unaryFilter.field);return Tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mo(n.unaryFilter.field);return Tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(mo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>XS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function YF(t){return FF[t]}function XF(t){return VF[t]}function JF(t){return jF[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return Vt.fromServerFormat(t.fieldPath)}function JS(t){return t instanceof Tt?function(n){if(n.op==="=="){if($0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(j0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(j0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:XF(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(i=>JS(i));return r.length===1?r[0]:{compositeFilter:{op:JF(n.op),filters:r}}}(t):xe()}function ZF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r,i,s=Se.min(),o=Se.min(),a=Bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.ct=e}}function tV(t){const e=KF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(){this.un=new rV}addToCollectionParentIndex(e,n){return this.un.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(ns.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class rV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ut(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vl(r.mutation,i,Vn.empty(),vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ya();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=oi();const o=yl(),a=function(){return yl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof us)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),vl(d.mutation,u,d.mutation.getFieldMask(),vt.now())):o.set(u.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new sV(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yl();let i=new dt((o,a)=>o-a),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Vn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(i.get(a.batchId)||De()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=MS();d.forEach(f=>{if(!s.has(f)){const p=zS(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):K.resolve(Rs());let a=-1,l=s;return o.next(u=>K.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?K.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,De())).next(d=>({batchId:a,changes:LS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(r=>{let i=Ya();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,l=>{const u=function(h,f){return new wu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Jt.newInvalidDocument(d)))});let a=Ya();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&vl(d.mutation,u,Vn.empty(),vt.now()),Uh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return K.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sr(i.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:tV(i.bundledQuery),readTime:Sr(i.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.overlays=new dt(pe.comparator),this.Ir=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return K.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const i=Rs(),s=n.length+1,o=new pe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Rs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Rs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return K.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new NF(n,r));let s=this.Ir.get(n);s===void 0&&(s=De(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Tr=new Ut(Pt.Er),this.dr=new Ut(Pt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Pt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new pe(new tt([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new pe(new tt([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=De();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return pe.comparator(e.key,n.key)||ze(e.wr,n.wr)}static Ar(e,n){return ze(e.wr,n.wr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ut(Pt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(ze);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;pe.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new pe(s),0);let a=new Ut(ze);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Pt(n,0),i=this.br.firstAfterOrEqual(r);return K.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.Mr=e,this.docs=function(){return new dt(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=oi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=oi();const o=n.path,a=new pe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KM(GM(d),r)<=0||(i.has(d.key)||Uh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xe()}Or(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hV(this)}getSize(e){return K.resolve(this.size)}}class hV extends iV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.persistence=e,this.Nr=new fa(n=>Uy(n),zy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gy,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),K.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ta(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Kn(n),K.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fy(0),this.Kr=!1,this.Kr=!0,this.$r=new uV,this.referenceDelegate=e(this),this.Ur=new fV(this),this.indexManager=new nV,this.remoteDocumentCache=function(i){return new dV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new eV(n),this.Gr=new aV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new cV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new mV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class mV extends YM{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.Jr=new Gy,this.Yr=null}static Zr(e){return new Ky(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),K.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{const i=pe.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return K.or([()=>K.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return v2()?8:XM(rn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ja()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(ja()<=Le.DEBUG&&fe("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ja()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):K.resolve())}Yi(e,n){if(H0(n))return K.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qm(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=De(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Qm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return H0(n)||i.isEqual(Se.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?K.resolve(null):(ja()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fo(n)),this.rs(e,o,n,qM(i,-1)).next(a=>a))})}ts(e,n){let r=new Ut(DS(e));return n.forEach((i,s)=>{Uh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ja()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Ji.getDocumentsMatchingQuery(e,n,ns.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(ze),this._s=new fa(s=>Uy(s),zy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function wV(t,e,n,r){return new vV(t,e,n,r)}async function e1(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=De();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function _V(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let p=K.resolve();return f.forEach(w=>{p=p.next(()=>d.getEntry(l,w)).next(b=>{const R=u.docVersions.get(w);Ge(R!==null),b.version.compareTo(R)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=De();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function t1(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function EV(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Bt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(b,R,_){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,d)&&a.push(n.Ur.updateTargetData(s,p))});let l=oi(),u=De();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(xV(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Se.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function xV(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=oi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function kV(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bV(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function eg(t,e,n){const r=Ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vu(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tE(t,e,n){const r=Ie(t);let i=Se.min(),s=De();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const h=Ie(l),f=h._s.get(d);return f!==void 0?K.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(r,o,Tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Se.min(),n?s:De())).next(a=>(TV(r,mF(e),a),{documents:a,Ts:s})))}function TV(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class nE{constructor(){this.activeTargetIds=EF()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SV{constructor(){this.so=new nE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function op(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class PV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=op(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Xo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=CV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=op();return new Promise((o,a)=>{const l=new mS;l.setWithCredentials(!0),l.listenOnce(gS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Gc.NO_ERROR:const d=l.getResponseJson();fe(Kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Gc.TIMEOUT:fe(Kt,`RPC '${e}' ${s} timed out`),a(new ue(q.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const h=l.getStatus();if(fe(Kt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const w=function(R){const _=R.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(_)>=0?_:q.UNKNOWN}(p.status);a(new ue(w,p.message))}else a(new ue(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(q.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{fe(Kt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);fe(Kt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wS(),a=vS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");fe(Kt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const w=new AV({Io:R=>{p?fe(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(f||(fe(Kt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),fe(Kt,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},To:()=>h.close()}),b=(R,_,v)=>{R.listen(_,k=>{try{v(k)}catch(L){setTimeout(()=>{throw L},0)}})};return b(h,Qa.EventType.OPEN,()=>{p||(fe(Kt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),b(h,Qa.EventType.CLOSE,()=>{p||(p=!0,fe(Kt,`RPC '${e}' stream ${i} transport closed`),w.So())}),b(h,Qa.EventType.ERROR,R=>{p||(p=!0,Xo(Kt,`RPC '${e}' stream ${i} transport errored:`,R),w.So(new ue(q.UNAVAILABLE,"The operation could not be completed")))}),b(h,Qa.EventType.MESSAGE,R=>{var _;if(!p){const v=R.data[0];Ge(!!v);const k=v,L=k.error||((_=k[0])===null||_===void 0?void 0:_.error);if(L){fe(Kt,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let M=function(T){const E=_t[T];if(E!==void 0)return HS(E)}(F),P=L.message;M===void 0&&(M=q.INTERNAL,P="Unknown error status: "+F+" with message "+L.message),p=!0,w.So(new ue(M,P)),h.close()}else fe(Kt,`RPC '${e}' stream ${i} received:`,v),w.bo(v)}}),b(a,yS.STAT_EVENT,R=>{R.stat===Bm.PROXY?fe(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Bm.NOPROXY&&fe(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function ap(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){return new $F(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NV extends r1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BF(this.serializer,e),r=function(s){if(!("targetChange"in s))return Se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?Sr(o.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Zm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Gm(l)?{documents:qF(s,l)}:{query:GF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GS(s,o.resumeToken);const u=Ym(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=qd(s,o.snapshotVersion.toTimestamp());const u=Ym(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=QF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Zm(this.serializer),n.removeTarget=e,this.a_(n)}}class RV extends r1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=WF(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Zm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>HF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Xm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Xm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class OV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(si(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{to(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.L_.add(4),await xu(u),u.q_.set("Unknown"),u.L_.delete(4),await Gh(u)}(this))})}),this.q_=new OV(r,i)}}async function Gh(t){if(to(t))for(const e of t.B_)await e(!0)}async function xu(t){for(const e of t.B_)await e(!1)}function i1(t,e){const n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zy(n)?Jy(n):pa(n).r_()&&Xy(n,e))}function Yy(t,e){const n=Ie(t),r=pa(n);n.N_.delete(e),r.r_()&&s1(n,e),n.N_.size===0&&(r.r_()?r.o_():to(n)&&n.q_.set("Unknown"))}function Xy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).A_(e)}function s1(t,e){t.Q_.xe(e),pa(t).R_(e)}function Jy(t){t.Q_=new MF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.q_.v_()}function Zy(t){return to(t)&&!pa(t).n_()&&t.N_.size>0}function to(t){return Ie(t).L_.size===0}function o1(t){t.Q_=void 0}async function MV(t){t.q_.set("Online")}async function FV(t){t.N_.forEach((e,n)=>{Xy(t,e)})}async function VV(t,e){o1(t),Zy(t)?(t.q_.M_(e),Jy(t)):t.q_.set("Unknown")}async function jV(t,e,n){if(t.q_.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gd(t,r)}else if(e instanceof Yc?t.Q_.Ke(e):e instanceof WS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await t1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Bt.EMPTY_BYTE_STRING,d.snapshotVersion)),s1(s,l);const h=new Fi(d.target,l,u,d.sequenceNumber);Xy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await Gd(t,r)}}async function Gd(t,e,n){if(!vu(e))throw e;t.L_.add(1),await xu(t),t.q_.set("Offline"),n||(n=()=>t1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gh(t)})}function a1(t,e){return e().catch(n=>Gd(t,n,e))}async function Kh(t){const e=Ie(t),n=is(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$V(e);)try{const i=await kV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,UV(e,i)}catch(i){await Gd(e,i)}l1(e)&&u1(e)}function $V(t){return to(t)&&t.O_.length<10}function UV(t,e){t.O_.push(e);const n=is(t);n.r_()&&n.V_&&n.m_(e.mutations)}function l1(t){return to(t)&&!is(t).n_()&&t.O_.length>0}function u1(t){is(t).start()}async function zV(t){is(t).p_()}async function BV(t){const e=is(t);for(const n of t.O_)e.m_(n.mutations)}async function HV(t,e,n){const r=t.O_.shift(),i=Hy.from(r,e,n);await a1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kh(t)}async function WV(t,e){e&&is(t).V_&&await async function(r,i){if(function(o){return DF(o)&&o!==q.ABORTED}(i.code)){const s=r.O_.shift();is(r).s_(),await a1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kh(r)}}(t,e),l1(t)&&u1(t)}async function iE(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=to(n);n.L_.add(3),await xu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gh(n)}async function qV(t,e){const n=Ie(t);e?(n.L_.delete(2),await Gh(n)):e||(n.L_.add(2),await xu(n),n.q_.set("Unknown"))}function pa(t){return t.K_||(t.K_=function(n,r,i){const s=Ie(n);return s.w_(),new NV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:MV.bind(null,t),Ro:FV.bind(null,t),mo:VV.bind(null,t),d_:jV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Zy(t)?Jy(t):t.q_.set("Unknown")):(await t.K_.stop(),o1(t))})),t.K_}function is(t){return t.U_||(t.U_=function(n,r,i){const s=Ie(n);return s.w_(),new RV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zV.bind(null,t),mo:WV.bind(null,t),f_:BV.bind(null,t),g_:HV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kh(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ev(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tv(t,e){if(si("AsyncQueue",`${e}: ${t}`),vu(t))return new ue(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Ya(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.W_=new dt(pe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class na{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new na(e,n,$o.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class KV{constructor(){this.queries=oE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ie(n),s=i.queries;i.queries=oE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(q.ABORTED,"Firestore shutting down"))}}function oE(){return new fa(t=>RS(t),$h)}async function nv(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new GV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=tv(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&iv(n)}async function rv(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QV(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&iv(n)}function YV(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function iv(t){t.Y_.forEach(e=>{e.next()})}var tg,aE;(aE=tg||(tg={})).ea="default",aE.Cache="cache";class sv{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.key=e}}class d1{constructor(e){this.key=e}}class XV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=De(),this.mutatedKeys=De(),this.Aa=DS(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new sE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),p=Uh(this.query,h)?h:null,w=!!f&&this.mutatedKeys.has(f.key),b=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;f&&p?f.data.isEqual(p.data)?w!==b&&(r.track({type:3,doc:p}),R=!0):this.ga(f,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),R=!0):f&&!p&&(r.track({type:1,doc:f}),R=!0,(l||u)&&(a=!0)),R&&(p?(o=o.add(p),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(p,w){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return b(p)-b(w)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new na(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new sE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=De(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new d1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new c1(r))}),n}ba(e){this.Ta=e.Ts,this.da=De();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return na.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class JV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZV{constructor(e){this.key=e,this.va=!1}}class ej{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fa(a=>RS(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(pe.comparator),this.Na=new Map,this.La=new Gy,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tj(t,e,n=!0){const r=y1(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await h1(r,e,n,!0),i}async function nj(t,e){const n=y1(t);await h1(n,e,!0,!1)}async function h1(t,e,n,r){const i=await bV(t.localStore,Tr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await rj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&i1(t.remoteStore,i),a}async function rj(t,e,n,r,i){t.Ka=(h,f,p)=>async function(b,R,_,v){let k=R.view.ma(_);k.ns&&(k=await tE(b.localStore,R.query,!1).then(({documents:P})=>R.view.ma(P,k)));const L=v&&v.targetChanges.get(R.targetId),F=v&&v.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(k,b.isPrimaryClient,L,F);return uE(b,R.targetId,M.wa),M.snapshot}(t,h,f,p);const s=await tE(t.localStore,e,!0),o=new XV(e,s.Ts),a=o.ma(s.documents),l=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);uE(t,n,u.wa);const d=new JV(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function ij(t,e,n){const r=Ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!$h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yy(r.remoteStore,i.targetId),ng(r,i.targetId)}).catch(yu)):(ng(r,i.targetId),await eg(r.localStore,i.targetId,!0))}async function sj(t,e){const n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yy(n.remoteStore,r.targetId))}async function oj(t,e,n){const r=fj(t);try{const i=await function(o,a){const l=Ie(o),u=vt.now(),d=a.reduce((p,w)=>p.add(w.key),De());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=oi(),b=De();return l.cs.getEntries(p,d).next(R=>{w=R,w.forEach((_,v)=>{v.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(R=>{h=R;const _=[];for(const v of a){const k=CF(v,h.get(v.key).overlayedDocument);k!=null&&_.push(new us(v.key,k,bS(k.value.mapValue),fn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,_,a)}).next(R=>{f=R;const _=R.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,R.batchId,_)})}).then(()=>({batchId:f.batchId,changes:LS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new dt(ze)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await ku(r,i.changes),await Kh(r.remoteStore)}catch(i){const s=tv(i,"Failed to persist write");n.reject(s)}}async function f1(t,e){const n=Ie(t);try{const r=await EV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ge(o.va):i.removedDocuments.size>0&&(Ge(o.va),o.va=!1))}),await ku(n,r,e)}catch(r){await yu(r)}}function lE(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ie(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&iv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aj(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new dt(pe.comparator);o=o.insert(s,Jt.newNoDocument(s,Se.min()));const a=De().add(s),l=new Wh(Se.min(),new Map,new dt(ze),o,a);await f1(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),ov(r)}else await eg(r.localStore,e,!1).then(()=>ng(r,e,n)).catch(yu)}async function lj(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await _V(n.localStore,e);m1(n,r,null),p1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,i)}catch(i){await yu(i)}}async function uj(t,e,n){const r=Ie(t);try{const i=await function(o,a){const l=Ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ge(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);m1(r,e,n),p1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,i)}catch(i){await yu(i)}}function p1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function m1(t,e,n){const r=Ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||g1(t,r)})}function g1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Yy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ov(t))}function uE(t,e,n){for(const r of n)r instanceof c1?(t.La.addReference(r.key,e),cj(t,r)):r instanceof d1?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||g1(t,r.key)):xe()}function cj(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),ov(t))}function ov(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new pe(tt.fromString(e)),r=t.qa.next();t.Na.set(r,new ZV(n)),t.Oa=t.Oa.insert(n,r),i1(t.remoteStore,new Fi(Tr(jh(n.path)),r,"TargetPurposeLimboResolution",Fy.oe))}}async function ku(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Qy.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>K.forEach(u,f=>K.forEach(f.$i,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>K.forEach(f.Ui,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!vu(h))throw h;fe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.os.get(f),w=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(f,b)}}}(r.localStore,s))}async function dj(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await e1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.hs)}}function hj(t,e){const n=Ie(t),r=n.Na.get(e);if(r&&r.va)return De().add(r.key);{let i=De();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function y1(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aj.bind(null,e),e.Ca.d_=QV.bind(null,e.eventManager),e.Ca.$a=YV.bind(null,e.eventManager),e}function fj(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uj.bind(null,e),e}class Kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return wV(this.persistence,new yV,e.initialUser,this.serializer)}Ga(e){return new pV(Ky.Zr,this.serializer)}Wa(e){return new SV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kd.provider={build:()=>new Kd};class rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dj.bind(null,this.syncEngine),await qV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KV}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),r=function(s){return new PV(s)}(e.databaseInfo);return function(s,o,a,l){return new DV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new LV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lE(this.syncEngine,n,0),function(){return rE.D()?new rE:new IV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const h=new ej(i,s,o,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ie(i);fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await xu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}rg.provider={build:()=>new rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=ES.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lp(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await e1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mj(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>iE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>iE(e.remoteStore,i)),t._onlineComponents=e}async function mj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await lp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),await lp(t,new Kd)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await lp(t,new Kd);return t._offlineComponents}async function v1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await cE(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await cE(t,new rg))),t._onlineComponents}function gj(t){return v1(t).then(e=>e.syncEngine)}async function Qd(t){const e=await v1(t),n=e.eventManager;return n.onListen=tj.bind(null,e.syncEngine),n.onUnlisten=ij.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sj.bind(null,e.syncEngine),n}function yj(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new av({next:f=>{d.Za(),o.enqueueAndForget(()=>rv(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new ue(q.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new ue(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new sv(jh(a.path),d,{includeMetadataChanges:!0,_a:!0});return nv(s,h)}(await Qd(t),t.asyncQueue,e,n,r)),r.promise}function vj(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new av({next:f=>{d.Za(),o.enqueueAndForget(()=>rv(s,h)),f.fromCache&&l.source==="server"?u.reject(new ue(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new sv(a,d,{includeMetadataChanges:!0,_a:!0});return nv(s,h)}(await Qd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e,n){if(!n)throw new ue(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wj(t,e,n,r){if(e===!0&&r===!0)throw new ue(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hE(t){if(!pe.isDocumentKey(t))throw new ue(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fE(t){if(pe.isDocumentKey(t))throw new ue(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(t);throw new ue(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FM;switch(r.type){case"firstParty":return new UM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dE.get(n);r&&(fe("ComponentProvider","Removing Datastore"),dE.delete(n),r.terminate())}(this),Promise.resolve()}}function _j(t,e,n,r={}){var i;const s=(t=pn(t,Yh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Yt.MOCK_USER;else{a=d2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yt(u)}t._authCredentials=new VM(new _S(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Ji extends no{constructor(e,n,r){super(e,n,jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new pe(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function lt(t,e,...n){if(t=Ct(t),_1("collection","path",e),t instanceof Yh){const r=tt.fromString(e,...n);return fE(r),new Ji(t,null,r)}{if(!(t instanceof tn||t instanceof Ji))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return fE(r),new Ji(t.firestore,null,r)}}function Be(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=ES.newId()),_1("doc","path",e),t instanceof Yh){const r=tt.fromString(e,...n);return hE(r),new tn(t,null,new pe(r))}{if(!(t instanceof tn||t instanceof Ji))throw new ue(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return hE(r),new tn(t.firestore,t instanceof Ji?t.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n1(this,"async_queue_retry"),this.Vu=()=>{const r=ap();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ap();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ap();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Qr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vu(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw si("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ev.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function gE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Pr extends Yh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mE(e),this._firestoreClient=void 0,await e}}}function Ej(t,e){const n=typeof t=="object"?t:DT(),r=typeof t=="string"?t:"(default)",i=Ty(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=u2("firestore");s&&_j(i,...s)}return i}function bu(t){if(t._terminated)throw new ue(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xj(t),t._firestoreClient}function xj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new eF(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,w1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new pj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(Bt.fromBase64String(e))}catch(n){throw new ue(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^__.*__$/;class bj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class E1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function x1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class dv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Yd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(x1(this.Cu)&&kj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Tj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qh(e)}Qu(e,n,r,i=!1){return new dv({Cu:e,methodName:n,qu:r,path:Vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=qh(t._databaseId);return new Tj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hv(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);fv("Data must be an object, but it was:",o,r);const a=T1(r,o);let l,u;if(s.merge)l=new Vn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=ig(e,h,n);if(!o.contains(f))throw new ue(q.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);I1(d,f)||d.push(f)}l=new Vn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new bj(new _n(a),l,u)}class Xh extends lv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function k1(t,e,n,r){const i=t.Qu(1,e,n);fv("Data must be an object, but it was:",i,r);const s=[],o=_n.empty();eo(r,(l,u)=>{const d=pv(e,l,n);u=Ct(u);const h=i.Nu(d);if(u instanceof Xh)s.push(d);else{const f=Iu(u,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Vn(s);return new E1(o,a,i.fieldTransforms)}function b1(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[ig(e,r,n)],l=[i];if(s.length%2!=0)throw new ue(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(ig(e,s[f])),l.push(s[f+1]);const u=[],d=_n.empty();for(let f=a.length-1;f>=0;--f)if(!I1(u,a[f])){const p=a[f];let w=l[f];w=Ct(w);const b=o.Nu(p);if(w instanceof Xh)u.push(p);else{const R=Iu(w,b);R!=null&&(u.push(p),d.set(p,R))}}const h=new Vn(u);return new E1(d,h,o.fieldTransforms)}function Sj(t,e,n,r=!1){return Iu(n,t.Qu(r?4:3,e))}function Iu(t,e){if(S1(t=Ct(t)))return fv("Unsupported field value:",e,t),T1(t,e);if(t instanceof lv)return function(r,i){if(!x1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Iu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:qd(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(i.serializer,s)}}if(r instanceof uv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:GS(i.serializer,r._byteString)};if(r instanceof tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return By(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Qh(r)}`)}(t,e)}function T1(t,e){const n={};return xS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,i)=>{const s=Iu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function S1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof uv||t instanceof ra||t instanceof tn||t instanceof lv||t instanceof cv)}function fv(t,e,n){if(!S1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ig(t,e,n){if((e=Ct(e))instanceof Tu)return e._internalPath;if(typeof e=="string")return pv(t,e);throw Yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ij=new RegExp("[~\\*/\\[\\]]");function pv(t,e,n){if(e.search(Ij)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(q.INVALID_ARGUMENT,a+t+l)}function I1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Cj extends C1{data(){return super.data()}}function mv(t,e){return typeof e=="string"?pv(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class Aj extends gv{}function Xd(t,e,...n){let r=[];e instanceof gv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof yv).length,a=s.filter(l=>l instanceof Jh).length;if(o>1||o>0&&a>0)throw new ue(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Jh extends Aj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jh(e,n,r)}_apply(e){const n=this._parse(e);return P1(e._query,n),new no(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=Su(e.firestore);return function(s,o,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ue(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vE(h,d);const p=[];for(const w of h)p.push(yE(l,s,w));f={arrayValue:{values:p}}}else f=yE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vE(h,d),f=Sj(a,o,h,d==="in"||d==="not-in");return Tt.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Jd(t,e,n){const r=e,i=mv("where",t);return Jh._create(i,r,n)}class yv extends gv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)P1(o,l),o=Km(o,l)}(e._query,n),new no(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yE(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ue(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NS(e)&&n.indexOf("/")!==-1)throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(r))throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return V0(t,new pe(r))}if(n instanceof tn)return V0(t,n._key);throw new ue(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function vE(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function P1(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Pj{convertValue(e,n="none"){switch(Ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>gt(o.doubleValue));return new cv(s)}convertGeoPoint(e){return new uv(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=rs(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ge(ZS(r));const i=new Yl(r.get(1),r.get(3)),s=new pe(r.popFirst(5));return i.isEqual(n)||si(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N1 extends C1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Xc extends N1{data(e={}){return super.data(e)}}class R1{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ja(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xc(this._firestore,this._userDataWriter,r.key,r,new Ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Xc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Xc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ja(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Nj(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Nj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){t=pn(t,tn);const e=pn(t.firestore,Pr);return yj(bu(e),t._key).then(n=>D1(e,t,n))}class wv extends Pj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function wE(t){t=pn(t,no);const e=pn(t.firestore,Pr),n=bu(e),r=new wv(e);return A1(t._query),vj(n,t._query).then(i=>new R1(e,r,t,i))}function Fs(t,e,n){t=pn(t,tn);const r=pn(t.firestore,Pr),i=vv(t.converter,e,n);return Cu(r,[hv(Su(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fn.none())])}function ia(t,e,n,...r){t=pn(t,tn);const i=pn(t.firestore,Pr),s=Su(i);let o;return o=typeof(e=Ct(e))=="string"||e instanceof Tu?b1(s,"updateDoc",t._key,e,n,r):k1(s,"updateDoc",t._key,e),Cu(i,[o.toMutation(t._key,fn.exists(!0))])}function sg(t){return Cu(pn(t.firestore,Pr),[new Hh(t._key,fn.none())])}function og(t,e){const n=pn(t.firestore,Pr),r=Be(t),i=vv(t.converter,e);return Cu(n,[hv(Su(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then(()=>r)}function jt(t,...e){var n,r,i;t=Ct(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,d;if(t instanceof tn)u=pn(t.firestore,Pr),d=jh(t._key.path),l={next:h=>{e[o]&&e[o](D1(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=pn(t,no);u=pn(h.firestore,Pr),d=h._query;const f=new wv(u);l={next:p=>{e[o]&&e[o](new R1(u,f,h,p))},error:e[o+1],complete:e[o+2]},A1(t._query)}return function(f,p,w,b){const R=new av(b),_=new sv(p,R,w);return f.asyncQueue.enqueueAndForget(async()=>nv(await Qd(f),_)),()=>{R.Za(),f.asyncQueue.enqueueAndForget(async()=>rv(await Qd(f),_))}}(bu(u),d,a,l)}function Cu(t,e){return function(r,i){const s=new Qr;return r.asyncQueue.enqueueAndForget(async()=>oj(await gj(r),i,s)),s.promise}(bu(t),e)}function D1(t,e,n){const r=n.docs.get(e._key),i=new wv(t);return new N1(t,i,e._key,r,new Ja(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Su(e)}set(e,n,r){this._verifyNotCommitted();const i=up(e,this._firestore),s=vv(i.converter,n,r),o=hv(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,fn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=up(e,this._firestore);let o;return o=typeof(n=Ct(n))=="string"||n instanceof Tu?b1(this._dataReader,"WriteBatch.update",s._key,n,r,i):k1(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=up(e,this._firestore);return this._mutations=this._mutations.concat(new Hh(n._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function up(t,e){if((t=Ct(t)).firestore!==e)throw new ue(q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t){return bu(t=pn(t,Pr)),new Dj(t,e=>Cu(t,e))}(function(e,n=!0){(function(i){ha=i})(ca),Yo(new Hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Pr(new jM(r.getProvider("auth-internal")),new BM(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Yi(D0,"4.7.3",e),Yi(D0,"4.7.3","esm2017")})();const Oj={apiKey:"AIzaSyDMge0ZVBwCHb6tzmdIv5dD_BMrtfu_P_I",authDomain:"swim-meet-app.firebaseapp.com",projectId:"swim-meet-app",storageBucket:"swim-meet-app.firebasestorage.app",messagingSenderId:"869827349699",appId:"1:869827349699:web:26b08aeece866760cbe676"},O1=["Girls 6 & Under 25m Freestyle","Boys 6 & Under 25m Freestyle","Girls 7-8 25m Freestyle","Boys 7-8 25m Freestyle","Girls 9-10 50m Freestyle","Boys 9-10 50m Freestyle","Girls 11-12 50m Freestyle","Boys 11-12 50m Freestyle","Girls 13-14 50m Freestyle","Boys 13-14 50m Freestyle","Girls 15-17 50m Freestyle","Boys 15-17 50m Freestyle","Girls 9-10 100m Freestyle","Boys 9-10 100m Freestyle","Girls 11-12 100m Freestyle","Boys 11-12 100m Freestyle","Girls 13-14 100m Freestyle","Boys 13-14 100m Freestyle","Girls 15-17 100m Freestyle","Boys 15-17 100m Freestyle","Girls 11-12 200m Freestyle","Boys 11-12 200m Freestyle","Girls 13-14 200m Freestyle","Boys 13-14 200m Freestyle","Girls 15-17 200m Freestyle","Boys 15-17 200m Freestyle","Girls 6 & Under 25m Backstroke","Boys 6 & Under 25m Backstroke","Girls 7-8 25m Backstroke","Boys 7-8 25m Backstroke","Girls 9-10 50m Backstroke","Boys 9-10 50m Backstroke","Girls 11-12 50m Backstroke","Boys 11-12 50m Backstroke","Girls 13-14 100m Backstroke","Boys 13-14 100m Backstroke","Girls 15-17 100m Backstroke","Boys 15-17 100m Backstroke","Girls 7-8 25m Breaststroke","Boys 7-8 25m Breaststroke","Girls 9-10 50m Breaststroke","Boys 9-10 50m Breaststroke","Girls 11-12 50m Breaststroke","Boys 11-12 50m Breaststroke","Girls 13-14 100m Breaststroke","Boys 13-14 100m Breaststroke","Girls 15-17 100m Breaststroke","Boys 15-17 100m Breaststroke","Girls 7-8 25m Butterfly","Boys 7-8 25m Butterfly","Girls 9-10 50m Butterfly","Boys 9-10 50m Butterfly","Girls 11-12 50m Butterfly","Boys 11-12 50m Butterfly","Girls 13-14 100m Butterfly","Boys 13-14 100m Butterfly","Girls 15-17 100m Butterfly","Boys 15-17 100m Butterfly","Girls 9-10 100m IM","Boys 9-10 100m IM","Girls 11-12 100m IM","Boys 11-12 100m IM","Girls 13-14 200m IM","Boys 13-14 200m IM","Girls 15-17 200m IM","Boys 15-17 200m IM"],L1=RT(Oj),ms=LM(L1),ce=Ej(L1),dn=({label:t,id:e,...n})=>g.jsxs("div",{children:[g.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),g.jsx("input",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...n})]});function Lj({toast:t,confirm:e}){const[n,r]=D.useState([]),[i,s]=D.useState([]),[o,a]=D.useState({teamName:"",fullName:"",adminEmail:""}),[l,u]=D.useState(null);D.useEffect(()=>jt(lt(ce,"teams"),_=>{const v=_.docs.map(k=>({id:k.id,...k.data()})).sort((k,L)=>k.teamName.localeCompare(L.teamName));r(v)}),[]),D.useEffect(()=>jt(lt(ce,"team_admins"),_=>{const v=_.docs.map(k=>({id:k.id,...k.data()}));s(v)}),[]);const d=R=>{const{name:_,value:v}=R.target;a(k=>({...k,[_]:v}))},h=()=>{a({teamName:"",fullName:"",adminEmail:""}),u(null)},f=R=>{u(R),a({teamName:R.teamName,fullName:R.fullName,adminEmail:""})},p=async R=>{if(R.preventDefault(),!o.teamName||!o.fullName){t.error("Please provide both a short name and a full name.");return}const _=o.teamName.toUpperCase();try{l?(await ia(Be(ce,"teams",l.id),{fullName:o.fullName}),t.success(`Team ${l.id} has been updated.`)):(await Fs(Be(ce,"teams",_),{teamName:_,fullName:o.fullName}),t.success(`Team ${_} has been created.`)),o.adminEmail&&(await Fs(Be(ce,"team_admins",o.adminEmail),{team:_}),t.success(`Admin ${o.adminEmail} assigned to ${_}.`)),h()}catch(v){t.error("An error occurred while saving the team."),console.error("Team save error:",v)}},w=async R=>{await e("Are you sure?",`This will delete the team "${R}". This does not delete associated swimmers or admins.`)&&(await sg(Be(ce,"teams",R)),t.success(`Team ${R} deleted.`))},b=async R=>{await e("Are you sure?",`This will revoke admin privileges for "${R}".`)&&(await sg(Be(ce,"team_admins",R)),t.success(`Admin ${R} removed.`))};return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:l?`Editing Team: ${l.teamName}`:"Create New Team"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:l?"Update the team's full name below.":"Enter a team's short name, full name, and optionally assign an admin."}),g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsx(dn,{label:"Team Short Name (e.g., WCC)",id:"teamName",name:"teamName",type:"text",value:o.teamName,onChange:d,disabled:!!l}),g.jsx(dn,{label:"Team Full Name",id:"fullName",name:"fullName",type:"text",value:o.fullName,onChange:d}),!l&&g.jsx(dn,{label:"Assign Admin Email (Optional)",id:"adminEmail",name:"adminEmail",type:"email",value:o.adminEmail,onChange:d}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(mt,{type:"submit",children:l?"Update Team":"Save Team"}),l&&g.jsx(mt,{type:"button",variant:"secondary",onClick:h,children:"Cancel"})]})]}),g.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Existing Teams"}),g.jsx("ul",{className:"mt-2 space-y-2",children:n.map(R=>g.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:R.teamName}),g.jsx("p",{className:"text-sm text-gray-500",children:R.fullName})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{onClick:()=>f(R),className:"text-gray-500 hover:text-gray-700",title:"Edit Team",children:g.jsx(Fe,{name:"pencil-alt"})}),g.jsx("button",{onClick:()=>w(R.id),className:"text-red-500 hover:text-red-700",title:"Delete Team",children:g.jsx(Fe,{name:"trash"})})]})]},R.id))})]}),g.jsxs("div",{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Team Admins"}),g.jsx("ul",{className:"mt-2 space-y-2",children:i.map(R=>g.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:R.id}),g.jsxs("p",{className:"text-sm text-gray-500",children:["Team: ",R.team]})]}),g.jsx("button",{onClick:()=>b(R.id),className:"text-red-500 hover:text-red-700",title:"Delete Admin",children:g.jsx(Fe,{name:"trash"})})]},R.id))})]})]})]})}function kn({label:t,id:e,className:n,children:r,...i}){return g.jsxs("div",{className:n,children:[g.jsx("label",{htmlFor:e,className:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300",children:t}),g.jsx("select",{id:e,className:`
    w-full
    p-2.5
    text-sm
    rounded-lg
    border
    bg-gray-50
    border-gray-300
    text-gray-900
    focus:ring-primary
    focus:border-primary
    dark:bg-gray-700
    dark:border-gray-600
    dark:placeholder-gray-400
    dark:text-white
    dark:focus:ring-primary-light
    dark:focus:border-primary-light
  `,...i,children:r})]})}const Mj=({t,meetToCopy:e,onCopy:n})=>{const[r,i]=D.useState(`Copy of ${e.name}`),[s,o]=D.useState(new Date().toISOString().split("T")[0]),a=()=>{if(!r||!s){Ue.error("Name and date are required.");return}n(r,s),Ue.dismiss(t.id)};return g.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark p-4 rounded-lg shadow-lg flex flex-col gap-2 border border-border-light dark:border-border-dark",children:[g.jsx("h4",{className:"font-bold text-text-dark dark:text-text-light",children:"Copy Meet"}),g.jsx(dn,{label:"New Meet Name",id:"copy-meet-name",value:r,onChange:l=>i(l.target.value)}),g.jsx(dn,{label:"New Meet Date",id:"copy-meet-date",type:"date",value:s,onChange:l=>o(l.target.value)}),g.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[g.jsx(mt,{variant:"secondary",onClick:()=>Ue.dismiss(t.id),children:"Cancel"}),g.jsx(mt,{onClick:a,children:"Copy"})]})]})};function Fj({allMeets:t,confirm:e}){const[n,r]=D.useState([]),[i,s]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(8),[d,h]=D.useState(""),[f,p]=D.useState(""),[w,b]=D.useState(""),[R,_]=D.useState(null);D.useEffect(()=>{const x=jt(lt(ce,"teams"),T=>{const E=T.docs.map(A=>({id:A.id,...A.data()}));r(E)});return()=>x()},[]);const v=x=>x&&typeof x.toDate=="function"?new Date(x.toDate()).toISOString().split("T")[0]:x instanceof Date?x.toISOString().split("T")[0]:"",k=x=>{_(x),s(x.name),a(v(x.date)),u(x.lanesAvailable||8),h(x.location||""),p(x.homeTeam||""),b(x.awayTeam||"")},L=()=>{s(""),a(""),u(8),h(""),p(""),b(""),_(null)},F=async x=>{if(x.preventDefault(),!i||!o){Ue.error("Meet Name and Date are required.");return}const T={name:i,date:vt.fromDate(new Date(o+"T00:00:00")),lanesAvailable:parseInt(l,10)||8,location:d||"",homeTeam:f||"",awayTeam:w||""};try{R?(await ia(Be(ce,"meets",R.id),T),Ue.success("Meet updated successfully!")):(await og(lt(ce,"meets"),T),Ue.success("Meet created successfully!")),L()}catch(E){Ue.error("Failed to save meet."),console.error("Meet save error:",E)}},M=async(x,T)=>{if(await e("Are you sure?",`This will permanently delete "${T}" and all associated events.`))try{const E=Xd(lt(ce,"meet_events"),Jd("meetId","==",x)),A=await wE(E),C=lr(ce);A.forEach(I=>C.delete(I.ref)),C.delete(Be(ce,"meets",x)),await C.commit(),Ue.success(`"${T}" was deleted.`)}catch(E){Ue.error("Failed to delete meet."),console.error("Meet delete error:",E)}},P=x=>{const T=async(E,A)=>{try{Ue.loading("Copying meet...");const C=new Date(A+"T00:00:00"),I={name:E,date:vt.fromDate(C),location:x.location||"",homeTeam:x.homeTeam||"",awayTeam:x.awayTeam||"",lanesAvailable:x.lanesAvailable||8},W=await og(lt(ce,"meets"),I),H=Xd(lt(ce,"meet_events"),Jd("meetId","==",x.id)),ne=await wE(H);if(ne.empty){Ue.dismiss(),Ue.success(`Successfully copied meet "${E}". No events were scheduled in the original.`);return}const re=lr(ce);ne.docs.forEach(B=>{const O={...B.data(),meetId:W.id,heats:[]};re.set(Be(lt(ce,"meet_events")),O)}),await re.commit(),Ue.dismiss(),Ue.success("Successfully copied meet and its schedule.")}catch(C){Ue.dismiss(),Ue.error("Failed to copy meet."),console.error("Copy meet error:",C)}};Ue.custom(E=>g.jsx(Mj,{t:E,meetToCopy:x,onCopy:T}),{duration:1/0})};return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:R?"Edit Meet":"Create New Meet"}),g.jsxs("form",{onSubmit:F,className:"space-y-4 mt-2",children:[g.jsx(dn,{label:"Meet Name",id:"meetName",type:"text",value:i,onChange:x=>s(x.target.value)}),g.jsx(dn,{label:"Location",id:"location",type:"text",value:d,onChange:x=>h(x.target.value)}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs(kn,{label:"Home Team (Optional)",id:"homeTeam",value:f,onChange:x=>p(x.target.value),children:[g.jsx("option",{value:"",children:"-- No Home Team --"}),n.map(x=>g.jsx("option",{value:x.id,children:x.fullName},x.id))]}),g.jsxs(kn,{label:"Away Team (Optional)",id:"awayTeam",value:w,onChange:x=>b(x.target.value),children:[g.jsx("option",{value:"",children:"-- No Away Team --"}),n.filter(x=>x.id!==f).map(x=>g.jsx("option",{value:x.id,children:x.fullName},x.id))]})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsx(dn,{label:"Meet Date",id:"meetDate",type:"date",value:o,onChange:x=>a(x.target.value)}),g.jsx(dn,{label:"Lanes Available",id:"lanesAvailable",type:"number",min:"1",max:"12",value:l,onChange:x=>u(x.target.value)})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[g.jsx(mt,{type:"submit",children:R?"Update Meet":"Add Meet"}),R&&g.jsx(mt,{type:"button",variant:"secondary",onClick:L,children:"Cancel"})]})]}),g.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),g.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Meets"}),g.jsx("ul",{className:"mt-2 space-y-2",children:t.map(x=>g.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:x.name}),g.jsx("p",{className:"text-sm text-gray-500",children:new Date(v(x.date)+"T00:00:00").toLocaleDateString()})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>P(x),title:"Copy Meet",children:g.jsx(Fe,{name:"copy"})}),g.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>k(x),title:"Edit",children:g.jsx(Fe,{name:"pencil-alt"})}),g.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>M(x.id,x.name),title:"Delete",children:g.jsx(Fe,{name:"trash"})})]})]},x.id))})]})}function Vj({adminRole:t,isSuperAdmin:e,toast:n,confirm:r}){const[i,s]=D.useState(""),[o,a]=D.useState([]),[l,u]=D.useState(null);D.useEffect(()=>jt(lt(ce,"event_library"),R=>{const _=R.docs.map(v=>({id:v.id,...v.data()})).sort((v,k)=>v.name.localeCompare(k.name));a(_)}),[]);const d=()=>{s(""),u(null)},h=b=>{u(b),s(b.name)},f=async(b,R)=>{if(await r("Are you sure?",`This will permanently delete "${R}" from the Event Library.`))try{await sg(Be(ce,"event_library",b)),n.success("Library event deleted successfully.")}catch{n.error("Error deleting library event.")}},p=async b=>{if(b.preventDefault(),!i.trim()){n.error("Event name cannot be empty.");return}try{l?(await ia(Be(ce,"event_library",l.id),{name:i}),n.success("Library event updated successfully.")):(await og(lt(ce,"event_library"),{name:i}),n.success("Library event created successfully.")),d()}catch{n.error("Error saving library event.")}},w=async()=>{if(!await r("Bulk Load Events?","This will add any missing standard events to the library. It will not create duplicates."))return;const b=new Set(o.map(v=>v.name)),R=O1.filter(v=>!b.has(v));if(R.length===0){n.success("All standard library events already exist.");return}n.loading(`Adding ${R.length} new library events...`);const _=lr(ce);R.forEach(v=>{const k=Be(lt(ce,"event_library"));_.set(k,{name:v})});try{await _.commit(),n.dismiss(),n.success("Bulk load complete!")}catch(v){n.dismiss(),n.error("An error occurred during bulk load."),console.error("Bulk load error:",v)}};return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Event Library"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a master list of reusable event types."}),e&&g.jsxs("div",{className:"my-4 space-y-4",children:[g.jsxs("form",{onSubmit:p,className:"space-y-4",children:[g.jsx(dn,{label:l?"Edit Event Name":"New Event Name",id:"libraryEventName",type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"e.g., Girls 9-10 50m Freestyle"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[g.jsx(mt,{type:"submit",children:l?"Update Event":"Create Event"}),l&&g.jsx(mt,{type:"button",variant:"secondary",onClick:d,children:"Cancel"})]})]}),g.jsx(mt,{variant:"outline-success",onClick:w,children:"Bulk Load Standard Events"})]}),g.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),g.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Library Events"}),g.jsx("ul",{className:"mt-2 space-y-2",children:o.map(b=>g.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[g.jsx("span",{className:"font-medium",children:b.name}),e&&g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>h(b),title:"Edit",children:g.jsx(Fe,{name:"pencil-alt"})}),g.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>f(b.id,b.name),title:"Delete",children:g.jsx(Fe,{name:"trash"})})]})]},b.id))})]})}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function _E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_E(Object(n),!0).forEach(function(r){jj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jc=function(e){return typeof e}:Jc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function jj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ai(){return ai=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ai.apply(this,arguments)}function $j(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Uj(t,e){if(t==null)return{};var n=$j(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var zj="1.15.6";function Yr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var di=Yr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Au=Yr(/Edge/i),EE=Yr(/firefox/i),wl=Yr(/safari/i)&&!Yr(/chrome/i)&&!Yr(/android/i),_v=Yr(/iP(ad|od|hone)/i),M1=Yr(/chrome/i)&&Yr(/android/i),F1={capture:!1,passive:!1};function Oe(t,e,n){t.addEventListener(e,n,!di&&F1)}function Re(t,e,n){t.removeEventListener(e,n,!di&&F1)}function Zd(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function V1(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function or(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Zd(t,e):Zd(t,e))||r&&t===n)return t;if(t===n)break}while(t=V1(t))}return null}var xE=/\s+/g;function Dn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(xE," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(xE," ")}}function we(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Uo(t,e){var n="";if(typeof t=="string")n=t;else do{var r=we(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function j1(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function Ir(){var t=document.scrollingElement;return t||document.documentElement}function kt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,u,d,h;if(t!==window&&t.parentNode&&t!==Ir()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,u=s.right,d=s.height,h=s.width):(o=0,a=0,l=window.innerHeight,u=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!di))do if(i&&i.getBoundingClientRect&&(we(i,"transform")!=="none"||n&&we(i,"position")!=="static")){var f=i.getBoundingClientRect();o-=f.top+parseInt(we(i,"border-top-width")),a-=f.left+parseInt(we(i,"border-left-width")),l=o+s.height,u=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var p=Uo(i||t),w=p&&p.a,b=p&&p.d;p&&(o/=b,a/=w,h/=w,d/=b,l=o+d,u=a+h)}return{top:o,left:a,bottom:l,right:u,width:h,height:d}}}function kE(t,e,n){for(var r=Vi(t,!0),i=kt(t)[e];r;){var s=kt(r)[n],o=void 0;if(o=i>=s,!o)return r;if(r===Ir())break;r=Vi(r,!1)}return!1}function sa(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==_e.ghost&&(r||o[s]!==_e.dragged)&&or(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function Ev(t,e){for(var n=t.lastElementChild;n&&(n===_e.ghost||we(n,"display")==="none"||e&&!Zd(n,e));)n=n.previousElementSibling;return n||null}function qn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_e.clone&&(!e||Zd(t,e))&&n++;return n}function bE(t){var e=0,n=0,r=Ir();if(t)do{var i=Uo(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function Bj(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Vi(t,e){if(!t||!t.getBoundingClientRect)return Ir();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=we(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ir();if(r||e)return n;r=!0}}while(n=n.parentNode);return Ir()}function Hj(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function cp(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var _l;function $1(t,e){return function(){if(!_l){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),_l=setTimeout(function(){_l=void 0},e)}}}function Wj(){clearTimeout(_l),_l=void 0}function U1(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function z1(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function B1(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,o,a,l;if(!(!or(i,e.draggable,t,!1)||i.animated||i===n)){var u=kt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,u.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,u.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var En="Sortable"+new Date().getTime();function qj(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(we(i,"display")==="none"||i===_e.ghost)){t.push({target:i,rect:kt(i)});var s=Nr({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Uo(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(Bj(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,u=a.target,d=u.fromRect,h=kt(u),f=u.prevFromRect,p=u.prevToRect,w=a.rect,b=Uo(u,!0);b&&(h.top-=b.f,h.left-=b.e),u.toRect=h,u.thisAnimationDuration&&cp(f,h)&&!cp(d,h)&&(w.top-h.top)/(w.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(l=Kj(w,f,p,i.options)),cp(h,d)||(u.prevFromRect=d,u.prevToRect=h,l||(l=i.options.animation),i.animate(u,w,h,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){we(r,"transition",""),we(r,"transform","");var a=Uo(this.el),l=a&&a.a,u=a&&a.d,d=(i.left-s.left)/(l||1),h=(i.top-s.top)/(u||1);r.animatingX=!!d,r.animatingY=!!h,we(r,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=Gj(r),we(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),we(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){we(r,"transition",""),we(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function Gj(t){return t.offsetWidth}function Kj(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var uo=[],dp={initializeByDefault:!0},Pu={mount:function(e){for(var n in dp)dp.hasOwnProperty(n)&&!(n in e)&&(e[n]=dp[n]);uo.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),uo.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";uo.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Nr({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Nr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){uo.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var u=new a(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,ai(r,u.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return uo.forEach(function(i){typeof i.eventProperties=="function"&&ai(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return uo.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function Qj(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,u=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,w=t.extraEventProperties;if(e=e||n&&n[En],!!e){var b,R=e.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!di&&!Au?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=o||n,b.from=a||n,b.item=i||n,b.clone=s,b.oldIndex=l,b.newIndex=u,b.oldDraggableIndex=d,b.newDraggableIndex=h,b.originalEvent=f,b.pullMode=p?p.lastPutMode:void 0;var v=Nr(Nr({},w),Pu.getEventProperties(r,e));for(var k in v)b[k]=v[k];n&&n.dispatchEvent(b),R[_]&&R[_].call(e,b)}}var Yj=["evt"],yn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=Uj(r,Yj);Pu.pluginEvent.bind(_e)(e,n,Nr({dragEl:oe,parentEl:ft,ghostEl:Te,rootEl:it,nextEl:ks,lastDownEl:Zc,cloneEl:ot,cloneHidden:Ri,dragStarted:Za,putSortable:Lt,activeSortable:_e.active,originalEvent:i,oldIndex:Po,oldDraggableIndex:El,newIndex:Ln,newDraggableIndex:bi,hideGhostForTarget:G1,unhideGhostForTarget:K1,cloneNowHidden:function(){Ri=!0},cloneNowShown:function(){Ri=!1},dispatchSortableEvent:function(a){ln({sortable:n,name:a,originalEvent:i})}},s))};function ln(t){Qj(Nr({putSortable:Lt,cloneEl:ot,targetEl:oe,rootEl:it,oldIndex:Po,oldDraggableIndex:El,newIndex:Ln,newDraggableIndex:bi},t))}var oe,ft,Te,it,ks,Zc,ot,Ri,Po,Ln,El,bi,xc,Lt,go=!1,eh=!1,th=[],gs,rr,hp,fp,TE,SE,Za,co,xl,kl=!1,kc=!1,ed,Qt,pp=[],ag=!1,nh=[],Zh=typeof document<"u",bc=_v,IE=Au||di?"cssFloat":"float",Xj=Zh&&!M1&&!_v&&"draggable"in document.createElement("div"),H1=function(){if(Zh){if(di)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),W1=function(e,n){var r=we(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=sa(e,0,n),o=sa(e,1,n),a=s&&we(s),l=o&&we(o),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+kt(s).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+kt(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=i&&r[IE]==="none"||o&&r[IE]==="none"&&u+d>i)?"vertical":"horizontal"},Jj=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return i===a||s===l||i+o/2===a+u/2},Zj=function(e,n){var r;return th.some(function(i){var s=i[En].options.emptyInsertThreshold;if(!(!s||Ev(i))){var o=kt(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},q1=function(e){function n(s,o){return function(a,l,u,d){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||h))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,u,d),o)(a,l,u,d);var f=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===f||s.join&&s.indexOf(f)>-1}}var r={},i=e.group;(!i||Jc(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},G1=function(){!H1&&Te&&we(Te,"display","none")},K1=function(){!H1&&Te&&we(Te,"display","")};Zh&&!M1&&document.addEventListener("click",function(t){if(eh)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),eh=!1,!1},!0);var ys=function(e){if(oe){e=e.touches?e.touches[0]:e;var n=Zj(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[En]._onDragOver(r)}}},e4=function(e){oe&&oe.parentNode[En]._isOutsideThisEl(e.target)};function _e(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ai({},e),t[En]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return W1(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_e.supportPointer!==!1&&"PointerEvent"in window&&(!wl||_v),emptyInsertThreshold:5};Pu.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);q1(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:Xj,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Oe(t,"pointerdown",this._onTapStart):(Oe(t,"mousedown",this._onTapStart),Oe(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Oe(t,"dragover",this),Oe(t,"dragenter",this)),th.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ai(this,qj())}_e.prototype={constructor:_e,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(co=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,oe):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=i.filter;if(l4(r),!oe&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&wl&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=or(l,i.draggable,r,!1),!(l&&l.animated)&&Zc!==l)){if(Po=qn(l),El=qn(l,i.draggable),typeof d=="function"){if(d.call(this,e,l,this)){ln({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),yn("filter",n,{evt:e}),s&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=or(u,h.trim(),r,!1),h)return ln({sortable:n,rootEl:h,name:"filter",targetEl:l,fromEl:r,toEl:r}),yn("filter",n,{evt:e}),!0}),d)){s&&e.preventDefault();return}i.handle&&!or(u,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!oe&&r.parentNode===s){var u=kt(r);if(it=s,oe=r,ft=oe.parentNode,ks=oe.nextSibling,Zc=r,xc=o.group,_e.dragged=oe,gs={target:oe,clientX:(n||e).clientX,clientY:(n||e).clientY},TE=gs.clientX-u.left,SE=gs.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,oe.style["will-change"]="all",l=function(){if(yn("delayEnded",i,{evt:e}),_e.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!EE&&i.nativeDraggable&&(oe.draggable=!0),i._triggerDragStart(e,n),ln({sortable:i,name:"choose",originalEvent:e}),Dn(oe,o.chosenClass,!0)},o.ignore.split(",").forEach(function(d){j1(oe,d.trim(),mp)}),Oe(a,"dragover",ys),Oe(a,"mousemove",ys),Oe(a,"touchmove",ys),o.supportPointer?(Oe(a,"pointerup",i._onDrop),!this.nativeDraggable&&Oe(a,"pointercancel",i._onDrop)):(Oe(a,"mouseup",i._onDrop),Oe(a,"touchend",i._onDrop),Oe(a,"touchcancel",i._onDrop)),EE&&this.nativeDraggable&&(this.options.touchStartThreshold=4,oe.draggable=!0),yn("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Au||di))){if(_e.eventCanceled){this._onDrop();return}o.supportPointer?(Oe(a,"pointerup",i._disableDelayedDrag),Oe(a,"pointercancel",i._disableDelayedDrag)):(Oe(a,"mouseup",i._disableDelayedDrag),Oe(a,"touchend",i._disableDelayedDrag),Oe(a,"touchcancel",i._disableDelayedDrag)),Oe(a,"mousemove",i._delayedDragTouchMoveHandler),Oe(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Oe(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){oe&&mp(oe),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Re(e,"mouseup",this._disableDelayedDrag),Re(e,"touchend",this._disableDelayedDrag),Re(e,"touchcancel",this._disableDelayedDrag),Re(e,"pointerup",this._disableDelayedDrag),Re(e,"pointercancel",this._disableDelayedDrag),Re(e,"mousemove",this._delayedDragTouchMoveHandler),Re(e,"touchmove",this._delayedDragTouchMoveHandler),Re(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Oe(document,"pointermove",this._onTouchMove):n?Oe(document,"touchmove",this._onTouchMove):Oe(document,"mousemove",this._onTouchMove):(Oe(oe,"dragend",this),Oe(it,"dragstart",this._onDragStart));try{document.selection?td(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(go=!1,it&&oe){yn("dragStarted",this,{evt:n}),this.nativeDraggable&&Oe(document,"dragover",e4);var r=this.options;!e&&Dn(oe,r.dragClass,!1),Dn(oe,r.ghostClass,!0),_e.active=this,e&&this._appendGhost(),ln({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(rr){this._lastX=rr.clientX,this._lastY=rr.clientY,G1();for(var e=document.elementFromPoint(rr.clientX,rr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(rr.clientX,rr.clientY),e!==n);)n=e;if(oe.parentNode[En]._isOutsideThisEl(e),n)do{if(n[En]){var r=void 0;if(r=n[En]._onDragOver({clientX:rr.clientX,clientY:rr.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=V1(n));K1()}},_onTouchMove:function(e){if(gs){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=Te&&Uo(Te,!0),a=Te&&o&&o.a,l=Te&&o&&o.d,u=bc&&Qt&&bE(Qt),d=(s.clientX-gs.clientX+i.x)/(a||1)+(u?u[0]-pp[0]:0)/(a||1),h=(s.clientY-gs.clientY+i.y)/(l||1)+(u?u[1]-pp[1]:0)/(l||1);if(!_e.active&&!go){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Te){o?(o.e+=d-(hp||0),o.f+=h-(fp||0)):o={a:1,b:0,c:0,d:1,e:d,f:h};var f="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");we(Te,"webkitTransform",f),we(Te,"mozTransform",f),we(Te,"msTransform",f),we(Te,"transform",f),hp=d,fp=h,rr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Te){var e=this.options.fallbackOnBody?document.body:it,n=kt(oe,!0,bc,!0,e),r=this.options;if(bc){for(Qt=e;we(Qt,"position")==="static"&&we(Qt,"transform")==="none"&&Qt!==document;)Qt=Qt.parentNode;Qt!==document.body&&Qt!==document.documentElement?(Qt===document&&(Qt=Ir()),n.top+=Qt.scrollTop,n.left+=Qt.scrollLeft):Qt=Ir(),pp=bE(Qt)}Te=oe.cloneNode(!0),Dn(Te,r.ghostClass,!1),Dn(Te,r.fallbackClass,!0),Dn(Te,r.dragClass,!0),we(Te,"transition",""),we(Te,"transform",""),we(Te,"box-sizing","border-box"),we(Te,"margin",0),we(Te,"top",n.top),we(Te,"left",n.left),we(Te,"width",n.width),we(Te,"height",n.height),we(Te,"opacity","0.8"),we(Te,"position",bc?"absolute":"fixed"),we(Te,"zIndex","100000"),we(Te,"pointerEvents","none"),_e.ghost=Te,e.appendChild(Te),we(Te,"transform-origin",TE/parseInt(Te.style.width)*100+"% "+SE/parseInt(Te.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(yn("dragStart",this,{evt:e}),_e.eventCanceled){this._onDrop();return}yn("setupClone",this),_e.eventCanceled||(ot=z1(oe),ot.removeAttribute("id"),ot.draggable=!1,ot.style["will-change"]="",this._hideClone(),Dn(ot,this.options.chosenClass,!1),_e.clone=ot),r.cloneId=td(function(){yn("clone",r),!_e.eventCanceled&&(r.options.removeCloneOnHide||it.insertBefore(ot,oe),r._hideClone(),ln({sortable:r,name:"clone"}))}),!n&&Dn(oe,s.dragClass,!0),n?(eh=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Re(document,"mouseup",r._onDrop),Re(document,"touchend",r._onDrop),Re(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,oe)),Oe(document,"drop",r),we(oe,"transform","translateZ(0)")),go=!0,r._dragStartId=td(r._dragStarted.bind(r,n,e)),Oe(document,"selectstart",r),Za=!0,window.getSelection().removeAllRanges(),wl&&we(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,u=_e.active,d=xc===l,h=a.sort,f=Lt||u,p,w=this,b=!1;if(ag)return;function R(B,ee){yn(B,w,Nr({evt:e,isOwner:d,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:h,fromSortable:f,target:r,completed:v,onMove:function(ie,V){return Tc(it,n,oe,i,ie,kt(ie),e,V)},changed:k},ee))}function _(){R("dragOverAnimationCapture"),w.captureAnimationState(),w!==f&&f.captureAnimationState()}function v(B){return R("dragOverCompleted",{insertion:B}),B&&(d?u._hideClone():u._showClone(w),w!==f&&(Dn(oe,Lt?Lt.options.ghostClass:u.options.ghostClass,!1),Dn(oe,a.ghostClass,!0)),Lt!==w&&w!==_e.active?Lt=w:w===_e.active&&Lt&&(Lt=null),f===w&&(w._ignoreWhileAnimating=r),w.animateAll(function(){R("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===oe&&!oe.animated||r===n&&!r.animated)&&(co=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(oe.parentNode[En]._isOutsideThisEl(e.target),!B&&ys(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function k(){Ln=qn(oe),bi=qn(oe,a.draggable),ln({sortable:w,name:"change",toEl:n,newIndex:Ln,newDraggableIndex:bi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=or(r,a.draggable,n,!0),R("dragOver"),_e.eventCanceled)return b;if(oe.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||w._ignoreWhileAnimating===r)return v(!1);if(eh=!1,u&&!a.disabled&&(d?h||(o=ft!==it):Lt===this||(this.lastPutMode=xc.checkPull(this,u,oe,e))&&l.checkPut(this,u,oe,e))){if(p=this._getDirection(e,r)==="vertical",i=kt(oe),R("dragOverValid"),_e.eventCanceled)return b;if(o)return ft=it,_(),this._hideClone(),R("revert"),_e.eventCanceled||(ks?it.insertBefore(oe,ks):it.appendChild(oe)),v(!0);var L=Ev(n,a.draggable);if(!L||i4(e,p,this)&&!L.animated){if(L===oe)return v(!1);if(L&&n===e.target&&(r=L),r&&(s=kt(r)),Tc(it,n,oe,i,r,s,e,!!r)!==!1)return _(),L&&L.nextSibling?n.insertBefore(oe,L.nextSibling):n.appendChild(oe),ft=n,k(),v(!0)}else if(L&&r4(e,p,this)){var F=sa(n,0,a,!0);if(F===oe)return v(!1);if(r=F,s=kt(r),Tc(it,n,oe,i,r,s,e,!1)!==!1)return _(),n.insertBefore(oe,F),ft=n,k(),v(!0)}else if(r.parentNode===n){s=kt(r);var M=0,P,x=oe.parentNode!==n,T=!Jj(oe.animated&&oe.toRect||i,r.animated&&r.toRect||s,p),E=p?"top":"left",A=kE(r,"top","top")||kE(oe,"top","top"),C=A?A.scrollTop:void 0;co!==r&&(P=s[E],kl=!1,kc=!T&&a.invertSwap||x),M=s4(e,r,s,p,T?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,kc,co===r);var I;if(M!==0){var W=qn(oe);do W-=M,I=ft.children[W];while(I&&(we(I,"display")==="none"||I===Te))}if(M===0||I===r)return v(!1);co=r,xl=M;var H=r.nextElementSibling,ne=!1;ne=M===1;var re=Tc(it,n,oe,i,r,s,e,ne);if(re!==!1)return(re===1||re===-1)&&(ne=re===1),ag=!0,setTimeout(n4,30),_(),ne&&!H?n.appendChild(oe):r.parentNode.insertBefore(oe,ne?H:r),A&&U1(A,0,C-A.scrollTop),ft=oe.parentNode,P!==void 0&&!kc&&(ed=Math.abs(P-kt(r)[E])),k(),v(!0)}if(n.contains(oe))return v(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Re(document,"mousemove",this._onTouchMove),Re(document,"touchmove",this._onTouchMove),Re(document,"pointermove",this._onTouchMove),Re(document,"dragover",ys),Re(document,"mousemove",ys),Re(document,"touchmove",ys)},_offUpEvents:function(){var e=this.el.ownerDocument;Re(e,"mouseup",this._onDrop),Re(e,"touchend",this._onDrop),Re(e,"pointerup",this._onDrop),Re(e,"pointercancel",this._onDrop),Re(e,"touchcancel",this._onDrop),Re(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(Ln=qn(oe),bi=qn(oe,r.draggable),yn("drop",this,{evt:e}),ft=oe&&oe.parentNode,Ln=qn(oe),bi=qn(oe,r.draggable),_e.eventCanceled){this._nulling();return}go=!1,kc=!1,kl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),lg(this.cloneId),lg(this._dragStartId),this.nativeDraggable&&(Re(document,"drop",this),Re(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),wl&&we(document.body,"user-select",""),we(oe,"transform",""),e&&(Za&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Te&&Te.parentNode&&Te.parentNode.removeChild(Te),(it===ft||Lt&&Lt.lastPutMode!=="clone")&&ot&&ot.parentNode&&ot.parentNode.removeChild(ot),oe&&(this.nativeDraggable&&Re(oe,"dragend",this),mp(oe),oe.style["will-change"]="",Za&&!go&&Dn(oe,Lt?Lt.options.ghostClass:this.options.ghostClass,!1),Dn(oe,this.options.chosenClass,!1),ln({sortable:this,name:"unchoose",toEl:ft,newIndex:null,newDraggableIndex:null,originalEvent:e}),it!==ft?(Ln>=0&&(ln({rootEl:ft,name:"add",toEl:ft,fromEl:it,originalEvent:e}),ln({sortable:this,name:"remove",toEl:ft,originalEvent:e}),ln({rootEl:ft,name:"sort",toEl:ft,fromEl:it,originalEvent:e}),ln({sortable:this,name:"sort",toEl:ft,originalEvent:e})),Lt&&Lt.save()):Ln!==Po&&Ln>=0&&(ln({sortable:this,name:"update",toEl:ft,originalEvent:e}),ln({sortable:this,name:"sort",toEl:ft,originalEvent:e})),_e.active&&((Ln==null||Ln===-1)&&(Ln=Po,bi=El),ln({sortable:this,name:"end",toEl:ft,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){yn("nulling",this),it=oe=ft=Te=ks=ot=Zc=Ri=gs=rr=Za=Ln=bi=Po=El=co=xl=Lt=xc=_e.dragged=_e.ghost=_e.clone=_e.active=null,nh.forEach(function(e){e.checked=!0}),nh.length=hp=fp=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":oe&&(this._onDragOver(e),t4(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],or(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||a4(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];or(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return or(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=Pu.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&q1(r)},destroy:function(){yn("destroy",this);var e=this.el;e[En]=null,Re(e,"mousedown",this._onTapStart),Re(e,"touchstart",this._onTapStart),Re(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Re(e,"dragover",this),Re(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),th.splice(th.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ri){if(yn("hideClone",this),_e.eventCanceled)return;we(ot,"display","none"),this.options.removeCloneOnHide&&ot.parentNode&&ot.parentNode.removeChild(ot),Ri=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ri){if(yn("showClone",this),_e.eventCanceled)return;oe.parentNode==it&&!this.options.group.revertClone?it.insertBefore(ot,oe):ks?it.insertBefore(ot,ks):it.appendChild(ot),this.options.group.revertClone&&this.animate(oe,ot),we(ot,"display",""),Ri=!1}}};function t4(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Tc(t,e,n,r,i,s,o,a){var l,u=t[En],d=u.options.onMove,h;return window.CustomEvent&&!di&&!Au?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||kt(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),d&&(h=d.call(u,l,o)),h}function mp(t){t.draggable=!1}function n4(){ag=!1}function r4(t,e,n){var r=kt(sa(n.el,0,n.options,!0)),i=B1(n.el,n.options,Te),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function i4(t,e,n){var r=kt(Ev(n.el,n.options.draggable)),i=B1(n.el,n.options,Te),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function s4(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,u=r?n.height:n.width,d=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!o){if(a&&ed<u*i){if(!kl&&(xl===1?l>d+u*s/2:l<h-u*s/2)&&(kl=!0),kl)f=!0;else if(xl===1?l<d+ed:l>h-ed)return-xl}else if(l>d+u*(1-i)/2&&l<h-u*(1-i)/2)return o4(e)}return f=f||o,f&&(l<d+u*s/2||l>h-u*s/2)?l>d+u/2?1:-1:0}function o4(t){return qn(oe)<qn(t)?1:-1}function a4(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function l4(t){nh.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&nh.push(r)}}function td(t){return setTimeout(t,0)}function lg(t){return clearTimeout(t)}Zh&&Oe(document,"touchmove",function(t){(_e.active||go)&&t.cancelable&&t.preventDefault()});_e.utils={on:Oe,off:Re,css:we,find:j1,is:function(e,n){return!!or(e,n,e,!1)},extend:Hj,throttle:$1,closest:or,toggleClass:Dn,clone:z1,index:qn,nextTick:td,cancelNextTick:lg,detectDirection:W1,getChild:sa,expando:En};_e.get=function(t){return t[En]};_e.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(_e.utils=Nr(Nr({},_e.utils),r.utils)),Pu.mount(r)})};_e.create=function(t,e){return new _e(t,e)};_e.version=zj;var Et=[],el,ug,cg=!1,gp,yp,rh,tl;function u4(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Oe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Oe(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Oe(document,"touchmove",this._handleFallbackAutoScroll):Oe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Re(document,"dragover",this._handleAutoScroll):(Re(document,"pointermove",this._handleFallbackAutoScroll),Re(document,"touchmove",this._handleFallbackAutoScroll),Re(document,"mousemove",this._handleFallbackAutoScroll)),CE(),nd(),Wj()},nulling:function(){rh=ug=el=cg=tl=gp=yp=null,Et.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(rh=n,r||this.options.forceAutoScrollFallback||Au||di||wl){vp(n,this.options,a,r);var l=Vi(a,!0);cg&&(!tl||s!==gp||o!==yp)&&(tl&&CE(),tl=setInterval(function(){var u=Vi(document.elementFromPoint(s,o),!0);u!==l&&(l=u,nd()),vp(n,i.options,u,r)},10),gp=s,yp=o)}else{if(!this.options.bubbleScroll||Vi(a,!0)===Ir()){nd();return}vp(n,this.options,Vi(a,!1),!1)}}},ai(t,{pluginName:"scroll",initializeByDefault:!0})}function nd(){Et.forEach(function(t){clearInterval(t.pid)}),Et=[]}function CE(){clearInterval(tl)}var vp=$1(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Ir(),u=!1,d;ug!==n&&(ug=n,nd(),el=e.scroll,d=e.scrollFn,el===!0&&(el=Vi(n,!0)));var h=0,f=el;do{var p=f,w=kt(p),b=w.top,R=w.bottom,_=w.left,v=w.right,k=w.width,L=w.height,F=void 0,M=void 0,P=p.scrollWidth,x=p.scrollHeight,T=we(p),E=p.scrollLeft,A=p.scrollTop;p===l?(F=k<P&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),M=L<x&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(F=k<P&&(T.overflowX==="auto"||T.overflowX==="scroll"),M=L<x&&(T.overflowY==="auto"||T.overflowY==="scroll"));var C=F&&(Math.abs(v-i)<=o&&E+k<P)-(Math.abs(_-i)<=o&&!!E),I=M&&(Math.abs(R-s)<=o&&A+L<x)-(Math.abs(b-s)<=o&&!!A);if(!Et[h])for(var W=0;W<=h;W++)Et[W]||(Et[W]={});(Et[h].vx!=C||Et[h].vy!=I||Et[h].el!==p)&&(Et[h].el=p,Et[h].vx=C,Et[h].vy=I,clearInterval(Et[h].pid),(C!=0||I!=0)&&(u=!0,Et[h].pid=setInterval((function(){r&&this.layer===0&&_e.active._onTouchMove(rh);var H=Et[this.layer].vy?Et[this.layer].vy*a:0,ne=Et[this.layer].vx?Et[this.layer].vx*a:0;typeof d=="function"&&d.call(_e.dragged.parentNode[En],ne,H,t,rh,Et[this.layer].el)!=="continue"||U1(Et[this.layer].el,ne,H)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=Vi(f,!1)));cg=u}},30),Q1=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=r||s;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(d.clientX,d.clientY);l(),u&&!u.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function xv(){}xv.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=sa(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Q1};ai(xv,{pluginName:"revertOnSpill"});function kv(){}kv.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Q1};ai(kv,{pluginName:"removeOnSpill"});_e.mount(new u4);_e.mount(kv,xv);function c4({allMeets:t,toast:e,confirm:n}){const[r,i]=D.useState(""),[s,o]=D.useState([]),[a,l]=D.useState([]),[u,d]=D.useState(new Set),[h,f]=D.useState(new Set),[p,w]=D.useState(null),[b,R]=D.useState(""),_=D.useRef(null),v=D.useRef(null);D.useEffect(()=>jt(lt(ce,"event_library"),I=>{const W=I.docs.map(H=>({id:H.id,...H.data()})).sort((H,ne)=>H.name.localeCompare(ne.name));o(W)}),[]),D.useEffect(()=>{if(!r){l([]);return}const C=Xd(lt(ce,"meet_events"),Jd("meetId","==",r));return jt(C,W=>{const H=W.docs.map(ne=>({id:ne.id,...ne.data()})).sort((ne,re)=>ne.eventNumber-re.eventNumber);l(H)},W=>{e.error("Could not load schedule.")})},[r]),D.useEffect(()=>{_.current&&(v.current&&v.current.destroy(),v.current=new _e(_.current,{animation:150,disabled:!!p,onEnd:async C=>{const{oldIndex:I,newIndex:W}=C;if(I===W)return;const H=[...a],[ne]=H.splice(I,1);H.splice(W,0,ne);const re=lr(ce);H.forEach((B,ee)=>{re.update(Be(ce,"meet_events",B.id),{eventNumber:ee+1})});try{await re.commit(),e.success("Event order updated.")}catch{e.error("Failed to update event order.")}}}))},[a,p]);const k=(C,I)=>{(I==="library"?d:f)(H=>{const ne=new Set(H);return ne.has(C)?ne.delete(C):ne.add(C),ne})},L=D.useMemo(()=>{const C=new Set(a.map(I=>I.name));return s.filter(I=>!C.has(I.name))},[s,a]),F=async C=>{if(!r||C.length===0)return;const I=C.map((H,ne)=>{const re=s.find(B=>B.id===H);return{meetId:r,libraryEventId:re.id,name:re.name,eventNumber:a.length+1+ne,heats:[]}}),W=lr(ce);I.forEach(H=>W.set(Be(lt(ce,"meet_events")),H));try{await W.commit(),e.success(`${I.length} event(s) added successfully.`),d(new Set)}catch{e.error("Error adding events.")}},M=async C=>{if(!(!r||C.length===0)&&await n("Are you sure?",`This will remove ${C.length} event(s) from this meet's schedule.`)){const I=lr(ce);C.forEach(H=>I.delete(Be(ce,"meet_events",H))),a.filter(H=>!C.includes(H.id)).sort((H,ne)=>H.eventNumber-ne.eventNumber).forEach((H,ne)=>I.update(Be(ce,"meet_events",H.id),{eventNumber:ne+1}));try{await I.commit(),e.success("Selected events removed."),f(new Set)}catch{e.error("Failed to remove events.")}}},P=()=>{const C=new Set(a.map(H=>H.name)),W=O1.map(H=>s.find(ne=>ne.name===H)).filter(H=>H&&!C.has(H.name)).map(H=>H.id);F(W)},x=async()=>{if(a.length!==0&&await n("Are you sure?","This will remove ALL events from this meet's schedule. This action cannot be undone.")){const C=lr(ce);a.forEach(I=>C.delete(Be(ce,"meet_events",I.id)));try{await C.commit(),e.success("Complete schedule has been cleared."),f(new Set)}catch{e.error("Failed to clear schedule.")}}},T=C=>{w(C.id),R(C.eventNumber)},E=()=>{w(null),R("")},A=async()=>{const C=p,I=parseInt(b,10);if(isNaN(I)||I<1||I>a.length){e.error(`Please enter a valid event number between 1 and ${a.length}.`);return}const W=[...a],H=W.find(B=>B.id===C);if(!H)return;const ne=W.findIndex(B=>B.id===C);W.splice(ne,1),W.splice(I-1,0,H);const re=lr(ce);W.forEach((B,ee)=>re.update(Be(ce,"meet_events",B.id),{eventNumber:ee+1}));try{await re.commit(),e.success("Event number updated successfully."),E()}catch{e.error("Failed to update event number.")}};return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Manage a Meet's Schedule"}),g.jsx("div",{className:"my-4",children:g.jsxs(kn,{label:"1. Select Meet to Manage",id:"meetSelectForSchedule",value:r,onChange:C=>i(C.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),t.map(C=>g.jsx("option",{value:C.id,children:C.name},C.id))]})}),r&&g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center mt-4",children:[g.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[g.jsxs("h6",{className:"font-semibold mb-2",children:["Event Library (",L.length,")"]}),g.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",children:L.map(C=>g.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:`lib-${C.id}`,checked:u.has(C.id),onChange:()=>k(C.id,"library")}),g.jsx("label",{htmlFor:`lib-${C.id}`,className:"flex-grow cursor-pointer",children:C.name})]},C.id))})]}),g.jsxs("div",{className:"flex flex-row md:flex-col gap-2 justify-center",children:[g.jsx(mt,{onClick:P,title:"Add All",children:g.jsx(Fe,{name:"angle-double-right"})}),g.jsx(mt,{onClick:()=>F(Array.from(u)),title:"Add Selected",children:g.jsx(Fe,{name:"angle-right"})}),g.jsx(mt,{onClick:()=>M(Array.from(h)),title:"Remove Selected",children:g.jsx(Fe,{name:"angle-left"})}),g.jsx(mt,{onClick:x,title:"Remove All",children:g.jsx(Fe,{name:"angle-double-left"})})]}),g.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[g.jsxs("h6",{className:"font-semibold mb-2",children:["Scheduled Events (",a.length,")"]}),g.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",ref:_,children:a.map(C=>g.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2","data-id":C.id,children:[g.jsx("input",{type:"checkbox",id:`sch-${C.id}`,checked:h.has(C.id),onChange:()=>k(C.id,"schedule"),disabled:!!p}),p===C.id?g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"number",className:"w-16 p-1 text-center rounded-md border border-primary bg-surface-light dark:bg-surface-dark",value:b,onChange:I=>R(I.target.value),onKeyDown:I=>{I.key==="Enter"&&A(),I.key==="Escape"&&E()},autoFocus:!0}),g.jsx("span",{className:"flex-grow",children:C.name}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:A,title:"Save",className:"text-green-500 hover:text-green-700",children:g.jsx(Fe,{name:"check"})}),g.jsx("button",{onClick:E,title:"Cancel",className:"text-red-500 hover:text-red-700",children:g.jsx(Fe,{name:"times"})})]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("label",{htmlFor:`sch-${C.id}`,className:"flex-grow cursor-grab",children:[g.jsxs("strong",{className:"mr-2 w-8 inline-block text-center",children:["E",C.eventNumber,":"]}),C.name]}),g.jsx("div",{className:"ml-auto",children:g.jsx("button",{onClick:()=>T(C),title:"Edit Number",className:"text-gray-500 hover:text-gray-700",children:g.jsx(Fe,{name:"pencil-alt"})})})]})]},C.id))})]})]})]})}function d4({adminRole:t,isSuperAdmin:e,toast:n,confirm:r}){const[i,s]=D.useState([]),[o,a]=D.useState(e?"":t),[l,u]=D.useState([]),[d,h]=D.useState({id:null,firstName:"",lastName:"",age:"",gender:""}),f=D.useRef(null);D.useEffect(()=>jt(lt(ce,"teams"),L=>{s(L.docs.map(F=>({id:F.id,...F.data()})))}),[]),D.useEffect(()=>{if(o)return jt(Be(ce,"rosters",o),L=>{u(L.exists()?L.data().swimmers||[]:[])});u([])},[o]);const p=()=>h({id:null,firstName:"",lastName:"",age:"",gender:""}),w=async k=>{k.preventDefault();const{id:L,firstName:F,lastName:M,age:P,gender:x}=d;if(!F.trim()||!M.trim()||!o){n.error("Please select a team and fill out the swimmer's first and last name.");return}const T={id:L||crypto.randomUUID(),firstName:F,lastName:M,age:parseInt(P,10)||0,gender:x||""};let E=L?l.map(A=>A.id===L?T:A):[...l,T];await Fs(Be(ce,"rosters",o),{swimmers:E},{merge:!0}),n.success(`Swimmer ${L?"updated":"added"} successfully!`),p()},b=k=>h(k),R=async k=>{if(await r("Are you sure?",`This removes ${k.firstName} ${k.lastName} from the team roster. It does NOT remove them from any events they are already entered in.`))try{const L=l.filter(F=>F.id!==k.id);await Fs(Be(ce,"rosters",o),{swimmers:L}),n.success("Swimmer removed from roster.")}catch{n.error("Failed to remove swimmer from roster.")}},_=k=>{const L=k.target.files[0];if(!L)return;const F=new FileReader;F.onload=async M=>{const x=M.target.result.split(`
`).filter(C=>C.trim()!==""),T=x.shift().toLowerCase().split(",").map(C=>C.trim());if(T[0]!=="firstname"||T[1]!=="lastname"||T[2]!=="age"||T[3]!=="gender"){n.error("Invalid CSV headers. Must be: firstName,lastName,age,gender");return}const E=x.map(C=>{const[I,W,H,ne]=C.split(",");return{id:crypto.randomUUID(),firstName:I.trim(),lastName:W.trim(),age:parseInt(H),gender:ne.trim()}}),A=[...l,...E];await Fs(Be(ce,"rosters",o),{swimmers:A},{merge:!0}),n.success(`Bulk upload successful! Added ${E.length} swimmers.`),f.current.value=""},F.readAsText(L)},v=k=>{const L=[];return k.age>0&&L.push(`Age: ${k.age}`),k.gender&&L.push(k.gender),L.length>0?`(${L.join(", ")})`:""};return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Manage Team Rosters"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add or view swimmers for a specific team."}),g.jsx("div",{className:"my-4 space-y-4",children:e&&g.jsxs(kn,{label:"1. Select Team",id:"teamSelectRoster",value:o||"",onChange:k=>a(k.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),i.map(k=>g.jsx("option",{value:k.id,children:k.fullName},k.id))]})}),o&&g.jsxs(g.Fragment,{children:[g.jsxs("h6",{className:"font-semibold mt-6",children:[d.id?"Edit Swimmer":"Add Swimmer"," to ",o]}),g.jsxs("form",{onSubmit:w,className:"my-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:flex lg:items-end gap-3",children:[g.jsx("div",{className:"lg:flex-grow",children:g.jsx(dn,{label:"First Name",id:"swimmerFirstName",type:"text",value:d.firstName,onChange:k=>h({...d,firstName:k.target.value})})}),g.jsx("div",{className:"lg:flex-grow",children:g.jsx(dn,{label:"Last Name",id:"swimmerLastName",type:"text",value:d.lastName,onChange:k=>h({...d,lastName:k.target.value})})}),g.jsx("div",{className:"lg:w-20",children:g.jsx(dn,{label:"Age",id:"swimmerAge",type:"number",value:d.age,onChange:k=>h({...d,age:k.target.value})})}),g.jsx("div",{className:"lg:w-28",children:g.jsxs(kn,{label:"Gender",id:"swimmerGender",value:d.gender,onChange:k=>h({...d,gender:k.target.value}),children:[g.jsx("option",{value:"",children:"--"}),g.jsx("option",{value:"Boy",children:"Boy"}),g.jsx("option",{value:"Girl",children:"Girl"})]})}),g.jsxs("div",{className:"flex space-x-2 pt-5 lg:pt-0",children:[g.jsx(mt,{type:"submit",className:"flex-1",children:d.id?"Update":"Add"}),d.id&&g.jsx(mt,{type:"button",variant:"secondary",onClick:p,className:"flex-1",children:"Cancel"})]})]}),g.jsxs("div",{className:"mt-6",children:[g.jsx("label",{htmlFor:"csvUpload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bulk Upload Roster (CSV)"}),g.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20",id:"csvUpload",accept:".csv",ref:f,onChange:_}),g.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: FirstName,LastName,[Age],[Gender] (Age and Gender are optional)"})]}),g.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),g.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Team Roster for ",o]}),g.jsx("ul",{className:"mt-2 space-y-2",children:l.length>0?l.sort((k,L)=>k.lastName.localeCompare(L.lastName)).map(k=>g.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[g.jsxs("span",{className:"font-medium",children:[k.lastName,", ",k.firstName," ",g.jsx("span",{className:"text-gray-500 ml-2",children:v(k)})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>b(k),children:g.jsx(Fe,{name:"pencil-alt"})}),g.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>R(k),children:g.jsx(Fe,{name:"trash"})})]})]},k.id)):g.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No swimmers on this roster yet."})})]})]})}function h4({adminRole:t,isSuperAdmin:e,allMeets:n,toast:r,confirm:i}){const[s,o]=D.useState([]),[a,l]=D.useState(""),[u,d]=D.useState(e?"":t),[h,f]=D.useState([]),[p,w]=D.useState(""),[b,R]=D.useState(""),[_,v]=D.useState({heat:"",lane:""}),[k,L]=D.useState([]),[F,M]=D.useState([]),[P,x]=D.useState(null),[T,E]=D.useState(new Set),A=D.useMemo(()=>n.find(V=>V.id===a),[n,a]);D.useEffect(()=>jt(lt(ce,"teams"),S=>{o(S.docs.map(G=>({id:G.id,...G.data()})))}),[]);const C=D.useMemo(()=>A?A.homeTeam?s.filter(V=>V.id===A.homeTeam||V.id===A.awayTeam):s:[],[A,s]),I=h.find(V=>V.id===p);D.useMemo(()=>{if(!I||!k)return[];const V=S=>{const G=S.toLowerCase(),te=G.startsWith("girls")?"Girl":G.startsWith("boys")?"Boy":"Mixed",z=S.match(/(\d+)(-(\d+))?(\s*&\s*Under)?/);return z?z[4]?{minAge:0,maxAge:parseInt(z[1]),gender:te}:z[3]?{minAge:parseInt(z[1]),maxAge:parseInt(z[3]),gender:te}:{minAge:parseInt(z[1]),maxAge:parseInt(z[1]),gender:te}:{minAge:0,maxAge:100,gender:te}};return k.filter(S=>{const{minAge:G,maxAge:te,gender:z}=V(S.name),X=I.age>=G&&I.age<=te,Q=z==="Mixed"||z===I.gender;return X&&Q})},[I,k]),D.useEffect(()=>{if(!a){L([]);return}const V=Xd(lt(ce,"meet_events"),Jd("meetId","==",a));return jt(V,G=>{L(G.docs.map(te=>({id:te.id,...te.data()})).sort((te,z)=>te.eventNumber-z.eventNumber))})},[a]),D.useEffect(()=>{if(u)return jt(Be(ce,"rosters",u),S=>{f(S.exists()?S.data().swimmers.sort((G,te)=>G.lastName.localeCompare(te.lastName))||[]:[])});f([])},[u]),D.useEffect(()=>{if(!k||k.length===0){M([]);return}let V=[];k.forEach(S=>{S.heats&&S.heats.forEach(G=>{G.lanes.forEach(te=>{te.swimmers.forEach(z=>{const X=`${S.id}-${G.heatNumber}-${te.lane}-${z.id}`;V.push({id:X,swimmerId:z.id,swimmerName:`${z.firstName} ${z.lastName}`,team:z.team,eventId:S.id,eventName:S.name,eventNumber:S.eventNumber,heatNumber:G.heatNumber,laneNumber:te.lane})})})})}),e||(V=V.filter(S=>S.team===t)),V.sort((S,G)=>S.eventNumber-G.eventNumber||S.heatNumber-G.heatNumber||S.laneNumber-G.laneNumber||S.swimmerName.localeCompare(G.swimmerName)),M(V)},[k,t,e]);const W=()=>{x(null),w(""),R(""),v({heat:"",lane:""})},H=V=>{var S;x(V),e||d(V.team),w(V.swimmerId),R(V.eventId),v({heat:V.heatNumber,lane:V.laneNumber}),(S=document.querySelector(".admin-view"))==null||S.scrollIntoView({behavior:"smooth"})},ne=async V=>{if(await i("Are you sure?",`Remove ${V.swimmerName} from this entry?`)){const S=Be(ce,"meet_events",V.eventId);try{const G=k.find(z=>z.id===V.eventId);if(!G)throw new Error("Event not found");const te=G.heats.map(z=>{if(z.heatNumber!==V.heatNumber)return z;const X=z.lanes.map(Q=>{if(Q.lane!==V.laneNumber)return Q;const me=Q.swimmers.filter(he=>he.id!==V.swimmerId);return me.length===0?null:{...Q,swimmers:me}}).filter(Boolean);return X.length===0?null:{...z,lanes:X}}).filter(Boolean);await ia(S,{heats:te}),r.success("Entry deleted successfully.")}catch{r.error("Failed to delete entry.")}}},re=async()=>{const V=h.find(he=>he.id===p);if(!V||!b||!u||!a){r.error("Please select a meet, team, swimmer, and event.");return}const S=Be(ce,"meet_events",b),G=k.find(he=>he.id===b);if(!G)return;let te=JSON.parse(JSON.stringify(G.heats||[]));P&&(te=te.map(he=>({...he,lanes:he.lanes.map(se=>({...se,swimmers:se.swimmers.filter(le=>le.id!==P.swimmerId)})).filter(se=>se.swimmers.length>0)})).filter(he=>he.lanes.length>0));const z=(A==null?void 0:A.lanesAvailable)||8,X=parseInt(_.heat,10),Q=parseInt(_.lane,10),me=G.name.toLowerCase().includes("relay");if(X&&Q){let he=te.find(le=>le.heatNumber===X);he||(he={heatNumber:X,lanes:[]},te.push(he));let se=he.lanes.find(le=>le.lane===Q);if(se||(se={lane:Q,swimmers:[]},he.lanes.push(se)),!me&&se.swimmers.length>0){r.error(`Lane ${Q} in Heat ${X} is already occupied.`);return}se.swimmers.push({...V,team:u,seedTime:"NT"})}else{const he=(A==null?void 0:A.homeTeam)&&(A==null?void 0:A.awayTeam),se=he&&V.team===A.homeTeam,le=he?se?"odd":"even":"any";let ke=!1;for(const ye of te)if(ye.lanes.length<z||me&&ye.lanes.some(He=>He.swimmers.length<4)){const He=new Set(ye.lanes.map(Dt=>Dt.lane)),rt=(Dt,At)=>{for(let wt=Dt;wt<=z;wt+=At)if(!He.has(wt))return ye.lanes.push({lane:wt,swimmers:[{...V,team:u,seedTime:"NT"}]}),!0;return!1};if(le==="odd"?(rt(1,2)||rt(2,2))&&(ke=!0):le==="even"?(rt(2,2)||rt(1,2))&&(ke=!0):rt(1,1)&&(ke=!0),ke)break}ke||te.push({heatNumber:te.length+1,lanes:[{lane:1,swimmers:[{...V,team:u,seedTime:"NT"}]}]})}te.sort((he,se)=>he.heatNumber-se.heatNumber),te.forEach(he=>he.lanes.sort((se,le)=>se.lane-le.lane));try{await ia(S,{heats:te}),r.success(`${V.firstName} was ${P?"updated":"entered"} successfully.`),W()}catch(he){r.error(`Failed to ${P?"update":"add"} entry.`),console.error("Error in entry transaction:",he)}},B=V=>{E(S=>{const G=new Set(S);return G.has(V)?G.delete(V):G.add(V),G})},ee=V=>{if(V.target.checked){const S=new Set(F.map(G=>G.id));E(S)}else E(new Set)},O=async()=>{if(T.size!==0&&await i("Are you sure?",`This will remove ${T.size} selected entries.`)){const V=Array.from(T).map(G=>F.find(te=>te.id===G)),S={};V.forEach(G=>{if(!S[G.eventId]){const te=k.find(z=>z.id===G.eventId);S[G.eventId]=JSON.parse(JSON.stringify(te.heats))}S[G.eventId]=S[G.eventId].map(te=>({...te,lanes:te.lanes.filter(z=>z.id!==G.swimmerId)})).filter(te=>te.lanes.length>0)});try{const G=lr(ce);for(const te in S)G.update(Be(ce,"meet_events",te),{heats:S[te]});await G.commit(),r.success(`${T.size} entries deleted.`),E(new Set)}catch(G){r.error("Failed to delete entries."),console.error("Bulk delete error:",G)}}},ie=F.length>0&&T.size===F.length;return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:P?"Edit Entry":"Enter Swimmers into Events"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Assign swimmers to events for the selected meet."}),g.jsxs("div",{className:"my-4 space-y-4",children:[g.jsxs(kn,{label:"1. Select Meet",id:"meetSelectEntries",value:a,onChange:V=>l(V.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),n.map(V=>g.jsx("option",{value:V.id,children:V.name},V.id))]}),e&&a&&g.jsxs(kn,{label:"2. Select Team",id:"teamSelectManage",value:u||"",onChange:V=>d(V.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),C.map(V=>g.jsx("option",{value:V.id,children:V.fullName},V.id))]})]}),u&&a&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs(kn,{label:"3. Select Swimmer",id:"swimmerSelect",value:p,onChange:V=>w(V.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose from roster --"}),h.map(V=>g.jsxs("option",{value:V.id,children:[V.lastName,", ",V.firstName," (Age: ",V.age,")"]},V.id))]}),g.jsxs("div",{children:[g.jsxs(kn,{label:"4. Select Event",id:"eventSelect",value:b,onChange:V=>R(V.target.value),disabled:!p,children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose an event --"}),k.map(V=>g.jsxs("option",{value:V.id,children:["E",V.eventNumber," - ",V.name]},V.id))]}),!p&&g.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Select a swimmer to see their eligible events."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx(dn,{label:"Heat (Optional)",id:"heatNumber",type:"number",min:"1",placeholder:"Auto",value:_.heat,onChange:V=>v({..._,heat:V.target.value})}),g.jsx(dn,{label:"Lane (Optional)",id:"laneNumber",type:"number",min:"1",placeholder:"Auto",value:_.lane,onChange:V=>v({..._,lane:V.target.value})})]}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(mt,{onClick:re,disabled:!p||!b,variant:"primary",children:P?"Update Entry":"Add Entry"}),P&&g.jsx(mt,{onClick:W,variant:"secondary",children:"Cancel Edit"})]})]}),g.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("h6",{className:"font-semibold text-lg",children:["Current Entries for ",e&&!u?"All Teams":u]}),F.length>0&&g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"select-all-entries",checked:ie,onChange:ee}),g.jsx("label",{htmlFor:"select-all-entries",className:"text-sm font-medium",children:"Select All"})]})]}),T.size>0&&g.jsxs(mt,{onClick:O,variant:"secondary",className:"w-auto",children:[g.jsx(Fe,{name:"trash",className:"mr-2"})," Delete Selected (",T.size,")"]})]}),g.jsx("ul",{className:"mt-2 space-y-2",children:F.length>0?F.map(V=>g.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("input",{type:"checkbox",checked:T.has(V.id),onChange:()=>B(V.id),"aria-label":`Select entry for ${V.swimmerName}`}),g.jsxs("div",{children:[g.jsx("span",{className:"font-semibold",children:V.swimmerName})," (",V.team,")",g.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["E",V.eventNumber,": ",V.eventName," (H:",V.heatNumber," L:",V.laneNumber,")"]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",onClick:()=>H(V),title:"Edit",children:g.jsx(Fe,{name:"pencil-alt"})}),g.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>ne(V),title:"Delete",children:g.jsx(Fe,{name:"trash"})})]})]},V.id)):g.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No entries found for the selected team."})})]})]})}var Y1={exports:{}};(function(t,e){(function(n,r){t.exports=r(D)})(typeof self<"u"?self:Il,function(n){return function(){var r={155:function(_){_.exports=n}},i={};function s(_){var v=i[_];if(v!==void 0)return v.exports;var k=i[_]={exports:{}};return r[_](k,k.exports,s),k.exports}s.d=function(_,v){for(var k in v)s.o(v,k)&&!s.o(_,k)&&Object.defineProperty(_,k,{enumerable:!0,get:v[k]})},s.o=function(_,v){return Object.prototype.hasOwnProperty.call(_,v)},s.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var o={};s.r(o),s.d(o,{useReactToPrint:function(){return R}});var a=s(155);function l({level:_="error",messages:v,suppressErrors:k=!1}){k||(_==="error"?console.error(v):_==="warning"?console.warn(v):console.debug(v))}function u(_,v){if(v||!_){const k=document.getElementById("printWindow");k&&document.body.removeChild(k)}}function d(_){return _ instanceof Error?_:new Error("Unknown Error")}function h(_,v){const{documentTitle:k,onAfterPrint:L,onPrintError:F,preserveAfterPrint:M,print:P,suppressErrors:x}=v;setTimeout(()=>{var T,E;if(_.contentWindow){let C=function(){L==null||L(),u(M)};var A=C;if(_.contentWindow.focus(),P)P(_).then(C).catch(I=>{F?F("print",d(I)):l({messages:["An error was thrown by the specified `print` function"],suppressErrors:x})});else{if(_.contentWindow.print){const I=(E=(T=_.contentDocument)===null||T===void 0?void 0:T.title)!==null&&E!==void 0?E:"",W=_.ownerDocument.title;k&&(_.ownerDocument.title=k,_.contentDocument&&(_.contentDocument.title=k)),_.contentWindow.print(),k&&(_.ownerDocument.title=W,_.contentDocument&&(_.contentDocument.title=I))}else l({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:x});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(I=>{var W,H;return((H=(W=navigator.userAgent)!==null&&W!==void 0?W:navigator.vendor)!==null&&H!==void 0?H:"opera"in window&&window.opera).match(I)})?setTimeout(C,500):C()}}else l({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:x})},500)}function f(_){const v=[],k=document.createTreeWalker(_,NodeFilter.SHOW_ELEMENT,null);let L=k.nextNode();for(;L;)v.push(L),L=k.nextNode();return v}function p(_,v,k){const L=f(_),F=f(v);if(L.length===F.length)for(let M=0;M<L.length;M++){const P=L[M],x=F[M],T=P.shadowRoot;if(T!==null){const E=x.attachShadow({mode:T.mode});E.innerHTML=T.innerHTML,p(T,E,k)}}else l({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",_,v],suppressErrors:k})}const w=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function b(_,v,k,L){var F,M,P,x,T;const{contentNode:E,clonedContentNode:A,clonedImgNodes:C,clonedVideoNodes:I,numResourcesToLoad:W,originalCanvasNodes:H}=k,{bodyClass:ne,fonts:re,ignoreGlobalStyles:B,pageStyle:ee,nonce:O,suppressErrors:ie,copyShadowRoots:V}=L;_.onload=null;const S=(F=_.contentDocument)!==null&&F!==void 0?F:(M=_.contentWindow)===null||M===void 0?void 0:M.document;if(S){const G=S.body.appendChild(A);V&&p(E,G,!!ie),re&&(!((P=_.contentDocument)===null||P===void 0)&&P.fonts&&(!((x=_.contentWindow)===null||x===void 0)&&x.FontFace)?re.forEach(se=>{const le=new FontFace(se.family,se.source,{weight:se.weight,style:se.style});_.contentDocument.fonts.add(le),le.loaded.then(()=>{v(le)}).catch(ke=>{v(le,["Failed loading the font:",le,"Load error:",d(ke)])})}):(re.forEach(se=>{v(se)}),l({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:ie})));const te=ee??w,z=S.createElement("style");O&&(z.setAttribute("nonce",O),S.head.setAttribute("nonce",O)),z.appendChild(S.createTextNode(te)),S.head.appendChild(z),ne&&S.body.classList.add(...ne.split(" "));const X=S.querySelectorAll("canvas");for(let se=0;se<H.length;++se){const le=H[se],ke=X[se];if(ke===void 0){l({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",le],suppressErrors:ie});continue}const ye=ke.getContext("2d");ye&&ye.drawImage(le,0,0)}for(let se=0;se<C.length;se++){const le=C[se],ke=le.getAttribute("src");if(ke){const ye=new Image;ye.onload=()=>{v(le)},ye.onerror=(He,rt,Dt,At,wt)=>{v(le,["Error loading <img>",le,"Error",wt])},ye.src=ke}else v(le,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',le])}for(let se=0;se<I.length;se++){const le=I[se];le.preload="auto";const ke=le.getAttribute("poster");if(ke){const ye=new Image;ye.onload=()=>{v(le)},ye.onerror=(He,rt,Dt,At,wt)=>{v(le,["Error loading video poster",ke,"for video",le,"Error:",wt])},ye.src=ke}else le.readyState>=2?v(le):le.src?(le.onloadeddata=()=>{v(le)},le.onerror=(ye,He,rt,Dt,At)=>{v(le,["Error loading video",le,"Error",At])},le.onstalled=()=>{v(le,["Loading video stalled, skipping",le])}):v(le,["Error loading video, `src` is empty",le])}const Q="select",me=E.querySelectorAll(Q),he=S.querySelectorAll(Q);for(let se=0;se<me.length;se++)he[se].value=me[se].value;if(!B){const se=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let le=0,ke=se.length;le<ke;++le){const ye=se[le];if(ye.tagName.toLowerCase()==="style"){const He=S.createElement(ye.tagName),rt=ye.sheet;if(rt){let Dt="";try{const At=rt.cssRules.length;for(let wt=0;wt<At;++wt)typeof rt.cssRules[wt].cssText=="string"&&(Dt+=`${rt.cssRules[wt].cssText}\r
`)}catch(At){l({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",ye,`Original error: ${d(At).message}`],level:"warning"})}He.setAttribute("id",`react-to-print-${le}`),O&&He.setAttribute("nonce",O),He.appendChild(S.createTextNode(Dt)),S.head.appendChild(He)}}else if(ye.getAttribute("href"))if(ye.hasAttribute("disabled"))l({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",ye],level:"warning"}),v(ye);else{const He=S.createElement(ye.tagName);for(let rt=0,Dt=ye.attributes.length;rt<Dt;++rt){const At=ye.attributes[rt];At&&He.setAttribute(At.nodeName,(T=At.nodeValue)!==null&&T!==void 0?T:"")}He.onload=()=>{v(He)},He.onerror=(rt,Dt,At,wt,fi)=>{v(He,["Failed to load",He,"Error:",fi])},O&&He.setAttribute("nonce",O),S.head.appendChild(He)}else l({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",ye],level:"warning"}),v(ye)}}}W===0&&h(_,L)}function R({bodyClass:_,contentRef:v,copyShadowRoots:k,documentTitle:L,fonts:F,ignoreGlobalStyles:M,nonce:P,onAfterPrint:x,onBeforePrint:T,onPrintError:E,pageStyle:A,preserveAfterPrint:C,print:I,suppressErrors:W}){return(0,a.useCallback)(H=>{function ne(){const re={bodyClass:_,contentRef:v,copyShadowRoots:k,documentTitle:L,fonts:F,ignoreGlobalStyles:M,nonce:P,onAfterPrint:x,onPrintError:E,pageStyle:A,preserveAfterPrint:C,print:I,suppressErrors:W},B=function(){const ie=document.createElement("iframe");return ie.width=`${document.documentElement.clientWidth}px`,ie.height=`${document.documentElement.clientHeight}px`,ie.style.position="absolute",ie.style.top=`-${document.documentElement.clientHeight+100}px`,ie.style.left=`-${document.documentElement.clientWidth+100}px`,ie.id="printWindow",ie.srcdoc="<!DOCTYPE html>",ie}(),ee=function(ie,V){const{contentRef:S,fonts:G,ignoreGlobalStyles:te,suppressErrors:z}=V,X=function({contentRef:ke,optionalContent:ye,suppressErrors:He}){return!ye||ye instanceof Event||(ke&&l({level:"warning",messages:['"react-to-print" received a `contentRef` option and a optional-content param passed to its callback. The `contentRef` option will be ignored.']}),typeof ye!="function")?ke?ke.current:void l({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:He}):ye()}({contentRef:S,optionalContent:ie,suppressErrors:z});if(!X)return;const Q=X.cloneNode(!0),me=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),he=Q.querySelectorAll("img"),se=Q.querySelectorAll("video"),le=G?G.length:0;return{contentNode:X,clonedContentNode:Q,clonedImgNodes:he,clonedVideoNodes:se,numResourcesToLoad:(te?0:me.length)+he.length+se.length+le,originalCanvasNodes:X.querySelectorAll("canvas")}}(H,re);if(!ee)return void l({messages:["There is nothing to print"],suppressErrors:W});const O=function(ie,V,S){const{suppressErrors:G}=ie,te=[],z=[];return function(X,Q){te.includes(X)?l({level:"debug",messages:["Tried to mark a resource that has already been handled",X],suppressErrors:G}):(Q?(l({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Q],suppressErrors:G}),z.push(X)):te.push(X),te.length+z.length===V&&h(S,ie))}}(re,ee.numResourcesToLoad,B);(function(ie,V,S,G){ie.onload=()=>{b(ie,V,S,G)},document.body.appendChild(ie)})(B,O,ee,re)}u(C,!0),T?T().then(()=>{ne()}).catch(re=>{E==null||E("onBeforePrint",d(re))}):ne()},[_,v,k,L,F,M,P,x,T,E,A,C,I,W])}return o}()})})(Y1);var f4=Y1.exports;const p4=({meetName:t,meetDate:e,eventsToPrint:n})=>!t||!n||n.length===0?g.jsx("div",{className:"printable-container",style:{display:"none"}}):g.jsxs("div",{className:"printable-container",children:[g.jsx("style",{children:`
        /* --- Screen Styles (Hides component on screen) --- */
        @media screen {
          .printable-container {
            display: none;
          }
        }

        /* --- NEW: Professional Print Styles --- */
        @media print {
          /* --- Page and Body Setup --- */
          @page {
            size: A4;
            margin: 0.7in; /* Standard margins */
          }

          * {
            box-sizing: border-box; /* More predictable layout model */
          }

          body {
            font-family: 'Helvetica Neue', Arial, sans-serif; /* Clean, modern font */
            font-size: 9.5pt; /* Base font size for print */
            color: #333; /* Softer than pure black */
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
            margin: 0;
          }
          
          /* --- Hiding/Showing Logic --- */
          body * {
            visibility: hidden;
          }
          .printable-container, .printable-container * {
            visibility: visible;
          }
          .printable-container {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
          }

          /* --- Header Styling --- */
          .heat-sheet-header {
            text-align: center;
            margin-bottom: 1.5rem; /* More space below header */
            border-bottom: 2px solid #ccc; /* Stronger separator */
            padding-bottom: 1rem;
          }
          .heat-sheet-header h1 {
            font-size: 20pt;
            font-weight: 600;
            margin: 0;
          }
          .heat-sheet-header p {
            font-size: 11pt;
            color: #555;
            margin: 0.25rem 0 0;
          }

          /* --- Main Content Layout --- */
          .heat-sheet-content {
            column-count: 2; /* Two-column layout */
            column-gap: 2.5rem; /* More space between columns */
          }

          /* --- Event Block Styling --- */
          .event-block {
            break-inside: avoid; /* Prevents events from splitting across columns/pages */
            margin-bottom: 1.25rem;
            border: 1px solid #ddd; /* Softer border */
            border-radius: 6px; /* Slightly rounded corners */
            padding: 0.75rem;
            background-color: #fff;
          }

          .event-title {
            font-size: 13pt;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #000;
            background-color: #f4f4f4; /* Light gray background */
            padding: 0.5rem 0.75rem;
            margin: -0.75rem -0.75rem 0.75rem -0.75rem; /* Extend to edges of the block */
            border-bottom: 1px solid #ddd;
            border-radius: 6px 6px 0 0; /* Match parent border-radius */
          }

          .heat-title {
            font-weight: 600;
            font-size: 10pt;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            color: #444;
          }
          
          /* --- Table Styling --- */
          .swimmer-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 9pt; /* Slightly smaller for table data */
          }

          .swimmer-table th, .swimmer-table td {
            text-align: left;
            padding: 6px 4px; /* More vertical padding */
          }

          .swimmer-table th {
            font-weight: 700;
            color: #000;
            border-bottom: 1.5px solid #999; /* Stronger header underline */
          }
          
          /* Zebra-striping for readability */
          .swimmer-table tbody tr:nth-child(odd) td {
            background-color: #f9f9f9;
          }

          /* Column Widths */
          .swimmer-table .lane { width: 9%; font-weight: 600; }
          .swimmer-table .name { width: 46%; }
          .swimmer-table .age-team { width: 25%; font-size: 8.5pt; color: #555; }
          .swimmer-table .seed { width: 20%; text-align: right; font-family: 'Courier New', monospace; }
        }
      `}),g.jsxs("div",{className:"heat-sheet-header",children:[g.jsxs("h1",{children:[t," - Heat Sheet"]}),g.jsx("p",{children:e})]}),g.jsx("div",{className:"heat-sheet-content",children:n.map(r=>g.jsxs("div",{className:"event-block",children:[g.jsxs("div",{className:"event-title",children:["#",r.eventNumber," ",r.name]}),r.heats&&r.heats.length>0?r.heats.map(i=>g.jsxs("div",{children:[g.jsxs("div",{className:"heat-title",children:["Heat ",i.heatNumber," of ",r.heats.length]}),g.jsxs("table",{className:"swimmer-table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{className:"lane",children:"Lane"}),g.jsx("th",{className:"name",children:"Name"}),g.jsx("th",{className:"age-team",children:"Team"}),g.jsx("th",{className:"seed",children:"Seed"})]})}),g.jsx("tbody",{children:i.lanes.sort((s,o)=>s.lane-o.lane).map(s=>g.jsxs("tr",{children:[g.jsx("td",{className:"lane",children:s.lane}),g.jsx("td",{className:"name",children:`${s.lastName}, ${s.firstName}`}),g.jsxs("td",{className:"age-team",children:[s.age," ",s.team]}),g.jsx("td",{className:"seed",children:s.seedTime||"NT"})]},s.id))})]})]},i.heatNumber)):g.jsx("p",{children:"No entries for this event."})]},r.id))})]});function m4({allMeets:t,toast:e}){const[n,r]=D.useState(""),[i,s]=D.useState("full"),[o,a]=D.useState(""),[l,u]=D.useState(!1),d=D.useRef(null),h=D.useMemo(()=>t.find(v=>v.id===n),[t,n]),f=D.useMemo(()=>{if(!(h!=null&&h.events))return[];const v=new Set;return h.events.forEach(k=>{const L=k.name.match(/\d+( & Under|-\d+)/);L&&v.add(L[0].trim())}),Array.from(v).sort((k,L)=>parseInt(k)-parseInt(L))},[h]),p=D.useMemo(()=>{if(!(h!=null&&h.events))return[];if(i==="full")return h.events;if(i==="gender"){const v=o||"Girls";return h.events.filter(k=>k.name.toLowerCase().startsWith(v.toLowerCase()))}if(i==="age"){const v=o||(f.length>0?f[0]:"");return h.events.filter(k=>k.name.includes(v))}return[]},[h,i,o,f]),w=D.useCallback(()=>{u(!1)},[]),b=D.useMemo(()=>({contentRef:()=>d.current,documentTitle:`${(h==null?void 0:h.name)||"Swim Meet"} - Heat Sheet`,onAfterPrint:w,onPrintError:w}),[h,w]),R=f4.useReactToPrint(b);D.useEffect(()=>{l&&(p.length>0?R():(e.error("There are no events to print for this selection."),u(!1)))},[l,p,R,e]);const _=()=>h!=null&&h.date?(h.date instanceof Date?h.date:h.date.toDate()).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"";return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Print Heat Sheets"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Select a meet and filter options, then click the main print button."}),g.jsxs(kn,{label:"1. Select Meet",id:"meetSelectForPrint",value:n,onChange:v=>{r(v.target.value),s("full"),a("")},children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),t.map(v=>g.jsx("option",{value:v.id,children:v.name},v.id))]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"my-6 p-4 border border-primary/20 rounded-lg bg-primary/5",children:[g.jsx("h6",{className:"font-semibold text-primary dark:text-primary-light",children:"Step 2: Choose Filters"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-2",children:[g.jsx("button",{onClick:()=>s("full"),className:`px-3 py-2 text-sm rounded-md border-2 ${i==="full"?"border-primary bg-primary/10":"border-transparent"}`,children:"All Events"}),g.jsx("button",{onClick:()=>s("gender"),className:`px-3 py-2 text-sm rounded-md border-2 ${i==="gender"?"border-primary bg-primary/10":"border-transparent"}`,children:"By Gender"}),g.jsx("button",{onClick:()=>s("age"),className:`px-3 py-2 text-sm rounded-md border-2 ${i==="age"?"border-primary bg-primary/10":"border-transparent"}`,children:"By Age Group"})]}),i==="gender"&&g.jsxs(kn,{label:"Select Gender",value:o||"Girls",onChange:v=>a(v.target.value),className:"mt-4",children:[g.jsx("option",{value:"Girls",children:"Girls"}),g.jsx("option",{value:"Boys",children:"Boys"})]}),i==="age"&&g.jsxs(kn,{label:"Select Age Group",value:o,onChange:v=>a(v.target.value),className:"mt-4",children:[g.jsx("option",{value:"",disabled:!0,children:"-- Select Age --"}),f.map(v=>g.jsx("option",{value:v,children:v},v))]})]}),g.jsx("div",{className:"mt-6",children:g.jsxs(mt,{onClick:()=>window.print(),disabled:!p||p.length===0,children:["Print Heat Sheet (",p.length," events)"]})})]}),g.jsx(p4,{meetName:h==null?void 0:h.name,meetDate:_(),eventsToPrint:p})]})}function g4({allMeets:t,toast:e}){const[n,r]=D.useState("entries"),[i,s]=D.useState(""),[o,a]=D.useState(""),[l,u]=D.useState(""),[d,h]=D.useState({}),[f,p]=D.useState([]),[w,b]=D.useState(!1);D.useEffect(()=>{const x=jt(lt(ce,"teams"),T=>{p(T.docs.map(E=>({id:E.id,...E.data()})))});return()=>x()},[]),D.useEffect(()=>{const x=jt(lt(ce,"rosters"),T=>{const E={};T.forEach(A=>{E[A.id]=A.data().swimmers||[]}),h(E)});return()=>x()},[]);const R=D.useMemo(()=>t.find(x=>x.id===i),[t,i]),_=x=>{const T=x.target.files[0];if(T){const E=new FileReader;E.onload=A=>u(A.target.result),E.readAsText(T)}x.target.value=null},v=()=>{n==="entries"?F():n==="events"?L():n==="roster"&&k()},k=async()=>{if(!o){e.error("Please select a team to import the roster for.");return}if(!l.trim()){e.error("Please provide CSV data to import.");return}b(!0),e.loading("Importing roster...");const x=l.trim().split(`
`),T=[],E=[];if(x.forEach((I,W)=>{if(W===0&&I.toLowerCase().includes("firstname"))return;const[H,ne,re,B]=I.split(",").map(O=>O.trim());if(!H||!ne){T.push(`Line ${W+1}: FirstName and LastName are required.`);return}const ee=parseInt(re,10);E.push({id:crypto.randomUUID(),firstName:H,lastName:ne,age:isNaN(ee)?0:ee,gender:B||""})}),T.length>0){e.dismiss(),e.error(`Import failed with ${T.length} errors.`),b(!1);return}const C=[...d[o]||[],...E];try{await Fs(Be(ce,"rosters",o),{swimmers:C},{merge:!0}),e.dismiss(),e.success(`${E.length} swimmers imported to team ${o}.`),u("")}catch{e.dismiss(),e.error("An error occurred while saving the roster.")}finally{b(!1)}},L=async()=>{if(!R){e.error("Please select a meet first.");return}if(!l.trim()){e.error("Please provide CSV data to import.");return}b(!0),e.loading("Importing events...");const x=l.trim().split(`
`),T=[],E=[];if(x.forEach((A,C)=>{if(C===0&&A.toLowerCase().includes("eventnumber,eventname"))return;const[I,W]=A.split(",").map(ne=>ne.trim()),H=parseInt(I,10);if(!W||isNaN(H)){T.push(`Line ${C+1}: Invalid format. Expected EventNumber,EventName`);return}E.push({meetId:i,eventNumber:H,name:W,heats:[]})}),T.length>0){e.dismiss(),e.error(`Import failed with ${T.length} errors.`),b(!1);return}try{const A=lr(ce);E.forEach(C=>A.set(Be(lt(ce,"meet_events")),C)),await A.commit(),e.dismiss(),e.success(`${E.length} events imported successfully!`),u("")}catch{e.dismiss(),e.error("An error occurred while saving events.")}finally{b(!1)}},F=async()=>{if(!R){e.error("Please select a meet first.");return}if(!l.trim()){e.error("Please provide CSV data to import.");return}b(!0),e.loading("Processing entries...");const x=R.events||[],T=new Map(x.map(W=>[W.eventNumber.toString(),W])),E={},A=[];if(l.trim().split(`
`).forEach((W,H)=>{if(H===0&&W.toLowerCase().includes("team,firstname,lastname,eventnumber"))return;const ne=W.split(",").map(Q=>Q.trim()),[re,B,ee,O,ie,V]=ne,S=O;if(!re||!B||!ee||!S){A.push(`Line ${H+1}: Invalid format. Required: Team,FirstName,LastName,EventNumber`);return}const G=d[re],te=G==null?void 0:G.find(Q=>Q.firstName.toLowerCase()===B.toLowerCase()&&Q.lastName.toLowerCase()===ee.toLowerCase());if(!te){A.push(`Line ${H+1}: Swimmer "${B} ${ee}" on team "${re}" not found.`);return}if(!T.has(S)){A.push(`Line ${H+1}: Event #${S} not found in this meet.`);return}E[S]||(E[S]=[]);const z=ie?parseInt(ie,10):null,X=V?parseInt(V,10):null;E[S].push({swimmer:{...te,team:re},heat:isNaN(z)?null:z,lane:isNaN(X)?null:X})}),A.length>0){e.dismiss(),e.error(`Import failed with ${A.length} errors. See console for details.`),console.error("Import Errors:",A),b(!1);return}const I=lr(ce);for(const W in E){const H=T.get(W),ne=E[W];let re=JSON.parse(JSON.stringify(H.heats||[]));const B=R.lanesAvailable||8,ee=H.name.toLowerCase().includes("relay"),O=ne.filter(V=>V.heat&&V.lane),ie=ne.filter(V=>!V.heat||!V.lane);if(O.forEach(V=>{const{swimmer:S,heat:G,lane:te}=V;let z=re.find(Q=>Q.heatNumber===G);z||(z={heatNumber:G,lanes:[]},re.push(z));let X=z.lanes.find(Q=>Q.lane===te);X||(X={lane:te,swimmers:[]},z.lanes.push(X)),!ee&&X.swimmers.length>0?A.push(`Conflict: Lane ${te} in Event #${W}, Heat ${z.heatNumber} is occupied.`):X.swimmers.push({...S,seedTime:"NT"})}),ie.length>0){let V=re.length>0?Math.max(...re.map(G=>G.heatNumber))+1:1,S={heatNumber:V,lanes:[]};re.push(S),ie.forEach(G=>{const{swimmer:te}=G,z=(R==null?void 0:R.homeTeam)&&(R==null?void 0:R.awayTeam),X=z&&te.team===R.homeTeam,Q=z?X?"odd":"even":"any";let me=!1;const he=(se,le)=>{for(let ke=se;ke<=B;ke+=le)if(!S.lanes.find(He=>He.lane===ke))return S.lanes.push({lane:ke,swimmers:[{...te,seedTime:"NT"}]}),!0;return!1};if(S.lanes.reduce((se,le)=>se+le.swimmers.length,0)<B&&(Q==="odd"?(he(1,2)||he(2,2))&&(me=!0):Q==="even"?(he(2,2)||he(1,2))&&(me=!0):he(1,1)&&(me=!0)),!me){V++,S={heatNumber:V,lanes:[]},re.push(S);const se=Q==="even"&&B>=2?2:1;S.lanes.push({lane:se,swimmers:[{...te,seedTime:"NT"}]})}})}re.sort((V,S)=>V.heatNumber-S.heatNumber),re.forEach(V=>V.lanes.sort((S,G)=>S.lane-G.lane)),console.debug(`Processed Event #${W}: ${re.length} heats created.`),console.debug(re),I.update(Be(ce,"meet_events",H.id),{heats:re})}if(A.length>0){e.dismiss(),e.error(`${A.length} conflicts found during import. See console for details.`),console.error("Import Conflicts:",A),b(!1);return}try{await I.commit(),e.dismiss(),e.success("Bulk import completed successfully!"),u("")}catch(W){e.dismiss(),e.error("An error occurred while saving the entries."),console.error(W)}finally{b(!1)}},M=()=>{if(n==="entries")return"Team,FirstName,LastName,EventNumber,Heat,Lane...";if(n==="events")return"EventNumber,EventName...";if(n==="roster")return"FirstName,LastName,Age,Gender..."},P=()=>{if(n==="entries")return"Format: Team,FirstName,LastName,EventNumber,[Heat],[Lane] (Heat & Lane are optional)";if(n==="events")return"Format: EventNumber,EventName (e.g., 1,Boys 6 & Under 25m Freestyle)";if(n==="roster")return"Format: FirstName,LastName,[Age],[Gender] (Age and Gender are optional)"};return g.jsxs(g.Fragment,{children:[g.jsx("h5",{className:"font-semibold text-lg",children:"Import Data"}),g.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Select an import type, choose a meet or team, then upload or paste CSV data."}),g.jsxs("div",{className:"flex border-b border-border-light dark:border-border-dark mb-4",children:[g.jsx("button",{onClick:()=>r("entries"),className:`px-4 py-2 font-semibold ${n==="entries"?"border-b-2 border-primary text-primary":"text-gray-500"}`,children:"Entries"}),g.jsx("button",{onClick:()=>r("events"),className:`px-4 py-2 font-semibold ${n==="events"?"border-b-2 border-primary text-primary":"text-gray-500"}`,children:"Events"}),g.jsx("button",{onClick:()=>r("roster"),className:`px-4 py-2 font-semibold ${n==="roster"?"border-b-2 border-primary text-primary":"text-gray-500"}`,children:"Roster"})]}),g.jsxs("div",{className:"space-y-4",children:[n==="roster"?g.jsxs(kn,{label:"1. Select Team to Import Roster For",id:"teamSelectForRosterImport",value:o,onChange:x=>a(x.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a team --"}),f.map(x=>g.jsx("option",{value:x.id,children:x.fullName},x.id))]}):g.jsxs(kn,{label:"1. Select Meet",id:"meetSelectForImport",value:i,onChange:x=>s(x.target.value),children:[g.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),t.map(x=>g.jsx("option",{value:x.id,children:x.name},x.id))]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"csv-upload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"2. Upload CSV File"}),g.jsx("input",{id:"csv-upload",type:"file",accept:".csv",onChange:_,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"csv-paste",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Or Paste CSV Data Below"}),g.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:P()}),g.jsx("textarea",{id:"csv-paste",className:"w-full h-48 mt-2 p-2 font-mono text-xs border border-border-light dark:border-border-dark rounded-md bg-gray-50 dark:bg-gray-900",placeholder:M(),value:l,onChange:x=>u(x.target.value)})]}),g.jsx(mt,{onClick:v,disabled:w||(n==="roster"?!o:!i),children:w?"Importing...":g.jsxs(g.Fragment,{children:[g.jsx(Fe,{name:"upload",className:"mr-2"})," Import ",n.charAt(0).toUpperCase()+n.slice(1)]})})]})]})}function y4({toast:t,isSuperAdmin:e,adminRole:n,allMeets:r}){var _;const{confirm:i,ConfirmationModal:s}=t2(),[o,a]=D.useState("meets"),[l,u]=D.useState(((_=r[0])==null?void 0:_.id)||""),d=D.useMemo(()=>r.find(v=>v.id===l),[r,l]),h=r.map(v=>({...v,events:v.events||[]}));if(!n)return g.jsx("div",{className:"p-4 text-yellow-800 bg-yellow-100 border border-yellow-200 rounded-md",children:"You are not authorized to view this page."});const f=()=>{const v={toast:t,confirm:i,adminRole:n,isSuperAdmin:e,allMeets:h,activeMeetId:l,setActiveMeetId:u,selectedMeet:d};switch(o){case"meets":return g.jsx(Fj,{...v});case"library":return g.jsx(Vj,{...v});case"schedule":return g.jsx(c4,{...v});case"rosters":return g.jsx(d4,{...v});case"entries":return g.jsx(h4,{...v});case"teams":return g.jsx(Lj,{...v});case"print":return g.jsx(m4,{...v});case"import":return g.jsx(g4,{...v});default:return null}},p="block w-full text-center px-4 py-2 rounded-md font-semibold text-sm",w="bg-primary text-white",b="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600",R=[{key:"meets",label:"Meets"},{key:"teams",label:"Teams"},{key:"library",label:"Library"},{key:"schedule",label:"Schedule"},{key:"rosters",label:"Rosters"},{key:"entries",label:"Entries"},{key:"print",label:"Print"},{key:"import",label:"Import"}];return g.jsxs("div",{className:"admin-view",children:[g.jsx("h2",{className:"text-xl font-bold mb-3",children:"Admin Panel"}),g.jsx(s,{}),g.jsx("ul",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mb-4",children:R.map(v=>g.jsx("li",{children:g.jsx("button",{className:`${p} ${o===v.key?w:b}`,onClick:()=>a(v.key),children:v.label})},v.key))}),g.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:g.jsx("div",{className:"p-4",children:f()})})]})}function v4(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const w4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,E4={};function AE(t,e){return(E4.jsx?_4:w4).test(t)}const x4=/[ \t\n\f\r]/g;function k4(t){return typeof t=="object"?t.type==="text"?PE(t.value):!1:PE(t)}function PE(t){return t.replace(x4,"")===""}class Nu{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Nu.prototype.normal={};Nu.prototype.property={};Nu.prototype.space=void 0;function X1(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Nu(n,r,e)}function dg(t){return t.toLowerCase()}class Cn{constructor(e,n){this.attribute=n,this.property=e}}Cn.prototype.attribute="";Cn.prototype.booleanish=!1;Cn.prototype.boolean=!1;Cn.prototype.commaOrSpaceSeparated=!1;Cn.prototype.commaSeparated=!1;Cn.prototype.defined=!1;Cn.prototype.mustUseProperty=!1;Cn.prototype.number=!1;Cn.prototype.overloadedBoolean=!1;Cn.prototype.property="";Cn.prototype.spaceSeparated=!1;Cn.prototype.space=void 0;let b4=0;const Ce=ro(),xt=ro(),hg=ro(),Z=ro(),Xe=ro(),zo=ro(),On=ro();function ro(){return 2**++b4}const fg=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ce,booleanish:xt,commaOrSpaceSeparated:On,commaSeparated:zo,number:Z,overloadedBoolean:hg,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),wp=Object.keys(fg);class bv extends Cn{constructor(e,n,r,i){let s=-1;if(super(e,n),NE(this,"space",i),typeof r=="number")for(;++s<wp.length;){const o=wp[s];NE(this,wp[s],(r&fg[o])===fg[o])}}}bv.prototype.defined=!0;function NE(t,e,n){n&&(t[e]=n)}function ma(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new bv(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[dg(r)]=r,n[dg(s.attribute)]=r}return new Nu(e,n,t.space)}const J1=ma({properties:{ariaActiveDescendant:null,ariaAtomic:xt,ariaAutoComplete:null,ariaBusy:xt,ariaChecked:xt,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:xt,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:xt,ariaFlowTo:Xe,ariaGrabbed:xt,ariaHasPopup:null,ariaHidden:xt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:Z,ariaLive:null,ariaModal:xt,ariaMultiLine:xt,ariaMultiSelectable:xt,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:xt,ariaReadOnly:xt,ariaRelevant:null,ariaRequired:xt,ariaRoleDescription:Xe,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:xt,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Z1(t,e){return e in t?t[e]:e}function eI(t,e){return Z1(t,e.toLowerCase())}const T4=ma({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:zo,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:Ce,allowPaymentRequest:Ce,allowUserMedia:Ce,alt:null,as:null,async:Ce,autoCapitalize:null,autoComplete:Xe,autoFocus:Ce,autoPlay:Ce,blocking:Xe,capture:null,charSet:null,checked:Ce,cite:null,className:Xe,cols:Z,colSpan:null,content:null,contentEditable:xt,controls:Ce,controlsList:Xe,coords:Z|zo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ce,defer:Ce,dir:null,dirName:null,disabled:Ce,download:hg,draggable:xt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ce,formTarget:null,headers:Xe,height:Z,hidden:hg,high:Z,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:Ce,inputMode:null,integrity:null,is:null,isMap:Ce,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:Ce,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ce,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:Ce,muted:Ce,name:null,nonce:null,noModule:Ce,noValidate:Ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ce,optimum:Z,pattern:null,ping:Xe,placeholder:null,playsInline:Ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ce,referrerPolicy:null,rel:Xe,required:Ce,reversed:Ce,rows:Z,rowSpan:Z,sandbox:Xe,scope:null,scoped:Ce,seamless:Ce,selected:Ce,shadowRootClonable:Ce,shadowRootDelegatesFocus:Ce,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:xt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:Ce,useMap:null,value:xt,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ce,declare:Ce,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:Ce,noHref:Ce,noShade:Ce,noWrap:Ce,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:xt,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ce,disableRemotePlayback:Ce,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:eI}),S4=ma({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:On,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:Ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:zo,g2:zo,glyphName:zo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:On,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:On,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:On,rev:On,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:On,requiredFeatures:On,requiredFonts:On,requiredFormats:On,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:On,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:On,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:On,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Z1}),tI=ma({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),nI=ma({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eI}),rI=ma({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),I4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},C4=/[A-Z]/g,RE=/-[a-z]/g,A4=/^data[-\w.:]+$/i;function P4(t,e){const n=dg(e);let r=e,i=Cn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&A4.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(RE,R4);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!RE.test(s)){let o=s.replace(C4,N4);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=bv}return new i(r,e)}function N4(t){return"-"+t.toLowerCase()}function R4(t){return t.charAt(1).toUpperCase()}const D4=X1([J1,T4,tI,nI,rI],"html"),Tv=X1([J1,S4,tI,nI,rI],"svg");function O4(t){return t.join(" ").trim()}var Sv={},DE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,L4=/\n/g,M4=/^\s*/,F4=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,V4=/^:\s*/,j4=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,$4=/^[;\s]*/,U4=/^\s+|\s+$/g,z4=`
`,OE="/",LE="*",Ts="",B4="comment",H4="declaration",W4=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(w){var b=w.match(L4);b&&(n+=b.length);var R=w.lastIndexOf(z4);r=~R?w.length-R:r+w.length}function s(){var w={line:n,column:r};return function(b){return b.position=new o(w),u(),b}}function o(w){this.start=w,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(w){var b=new Error(e.source+":"+n+":"+r+": "+w);if(b.reason=w,b.filename=e.source,b.line=n,b.column=r,b.source=t,!e.silent)throw b}function l(w){var b=w.exec(t);if(b){var R=b[0];return i(R),t=t.slice(R.length),b}}function u(){l(M4)}function d(w){var b;for(w=w||[];b=h();)b!==!1&&w.push(b);return w}function h(){var w=s();if(!(OE!=t.charAt(0)||LE!=t.charAt(1))){for(var b=2;Ts!=t.charAt(b)&&(LE!=t.charAt(b)||OE!=t.charAt(b+1));)++b;if(b+=2,Ts===t.charAt(b-1))return a("End of comment missing");var R=t.slice(2,b-2);return r+=2,i(R),t=t.slice(b),r+=2,w({type:B4,comment:R})}}function f(){var w=s(),b=l(F4);if(b){if(h(),!l(V4))return a("property missing ':'");var R=l(j4),_=w({type:H4,property:ME(b[0].replace(DE,Ts)),value:R?ME(R[0].replace(DE,Ts)):Ts});return l($4),_}}function p(){var w=[];d(w);for(var b;b=f();)b!==!1&&(w.push(b),d(w));return w}return u(),p()};function ME(t){return t?t.replace(U4,Ts):Ts}var q4=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sv,"__esModule",{value:!0});Sv.default=K4;var G4=q4(W4);function K4(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,G4.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var ef={};Object.defineProperty(ef,"__esModule",{value:!0});ef.camelCase=void 0;var Q4=/^--[a-zA-Z0-9_-]+$/,Y4=/-([a-z])/g,X4=/^[^-]+$/,J4=/^-(webkit|moz|ms|o|khtml)-/,Z4=/^-(ms)-/,e$=function(t){return!t||X4.test(t)||Q4.test(t)},t$=function(t,e){return e.toUpperCase()},FE=function(t,e){return"".concat(e,"-")},n$=function(t,e){return e===void 0&&(e={}),e$(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Z4,FE):t=t.replace(J4,FE),t.replace(Y4,t$))};ef.camelCase=n$;var r$=Il&&Il.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i$=r$(Sv),s$=ef;function pg(t,e){var n={};return!t||typeof t!="string"||(0,i$.default)(t,function(r,i){r&&i&&(n[(0,s$.camelCase)(r,e)]=i)}),n}pg.default=pg;var o$=pg;const a$=kg(o$),iI=sI("end"),Iv=sI("start");function sI(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function l$(t){const e=Iv(t),n=iI(t);if(e&&n)return{start:e,end:n}}function bl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?VE(t.position):"start"in t||"end"in t?VE(t):"line"in t||"column"in t?mg(t):""}function mg(t){return jE(t&&t.line)+":"+jE(t&&t.column)}function VE(t){return mg(t&&t.start)+"-"+mg(t&&t.end)}function jE(t){return t&&typeof t=="number"?t:1}class sn extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=bl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}sn.prototype.file="";sn.prototype.name="";sn.prototype.reason="";sn.prototype.message="";sn.prototype.stack="";sn.prototype.column=void 0;sn.prototype.line=void 0;sn.prototype.ancestors=void 0;sn.prototype.cause=void 0;sn.prototype.fatal=void 0;sn.prototype.place=void 0;sn.prototype.ruleId=void 0;sn.prototype.source=void 0;const Cv={}.hasOwnProperty,u$=new Map,c$=/[A-Z]/g,d$=new Set(["table","tbody","thead","tfoot","tr"]),h$=new Set(["td","th"]),oI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function f$(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=E$(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=_$(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Tv:D4,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=aI(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function aI(t,e,n){if(e.type==="element")return p$(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return m$(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return y$(t,e,n);if(e.type==="mdxjsEsm")return g$(t,e);if(e.type==="root")return v$(t,e,n);if(e.type==="text")return w$(t,e)}function p$(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Tv,t.schema=i),t.ancestors.push(e);const s=uI(t,e.tagName,!1),o=x$(t,e);let a=Pv(t,e);return d$.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!k4(l):!0})),lI(t,o,s,e),Av(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function m$(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}eu(t,e.position)}function g$(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);eu(t,e.position)}function y$(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Tv,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:uI(t,e.name,!0),o=k$(t,e),a=Pv(t,e);return lI(t,o,s,e),Av(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function v$(t,e,n){const r={};return Av(r,Pv(t,e)),t.create(e,t.Fragment,r,n)}function w$(t,e){return e.value}function lI(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Av(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function _$(t,e,n){return r;function r(i,s,o,a){const u=Array.isArray(o.children)?n:e;return a?u(s,o,a):u(s,o)}}function E$(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Iv(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function x$(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Cv.call(e.properties,i)){const s=b$(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&h$.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function k$(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else eu(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else eu(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Pv(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:u$;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const u=i.get(l)||0;o=l+"-"+u,i.set(l,u+1)}}const a=aI(t,s,o);a!==void 0&&n.push(a)}return n}function b$(t,e,n){const r=P4(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?v4(n):O4(n)),r.property==="style"){let i=typeof n=="object"?n:T$(t,String(n));return t.stylePropertyNameCase==="css"&&(i=S$(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?I4[r.property]||r.property:r.attribute,n]}}function T$(t,e){try{return a$(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new sn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=oI+"#cannot-parse-style-attribute",i}}function uI(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=AE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=AE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Cv.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);eu(t)}function eu(t,e){const n=new sn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=oI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function S$(t){const e={};let n;for(n in t)Cv.call(t,n)&&(e[I$(n)]=t[n]);return e}function I$(t){let e=t.replace(c$,C$);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function C$(t){return"-"+t.toLowerCase()}const _p={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},A$={};function Nv(t,e){const n=A$,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cI(t,r,i)}function cI(t,e,n){if(P$(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return $E(t.children,e,n)}return Array.isArray(t)?$E(t,e,n):""}function $E(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=cI(t[i],e,n);return r.join("")}function P$(t){return!!(t&&typeof t=="object")}const UE=document.createElement("i");function Rv(t){const e="&"+t+";";UE.innerHTML=e;const n=UE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function $n(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Qn(t,e){return t.length>0?($n(t,t.length,0,e),t):e}const zE={}.hasOwnProperty;function dI(t){const e={};let n=-1;for(;++n<t.length;)N$(e,t[n]);return e}function N$(t,e){let n;for(n in e){const i=(zE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){zE.call(i,o)||(i[o]=[]);const a=s[o];R$(i[o],Array.isArray(a)?a:a?[a]:[])}}}function R$(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);$n(t,0,0,r)}function hI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function fr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const cn=cs(/[A-Za-z]/),Zt=cs(/[\dA-Za-z]/),D$=cs(/[#-'*+\--9=?A-Z^-~]/);function ih(t){return t!==null&&(t<32||t===127)}const gg=cs(/\d/),O$=cs(/[\dA-Fa-f]/),L$=cs(/[!-/:-@[-`{-~]/);function ge(t){return t!==null&&t<-2}function Ye(t){return t!==null&&(t<0||t===32)}function Pe(t){return t===-2||t===-1||t===32}const tf=cs(new RegExp("\\p{P}|\\p{S}","u")),Qs=cs(/\s/);function cs(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function ga(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Zt(t.charCodeAt(n+1))&&Zt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Ve(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Pe(l)?(t.enter(n),a(l)):e(l)}function a(l){return Pe(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const M$={tokenize:F$};function F$(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Ve(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return ge(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const V$={tokenize:j$},BE={tokenize:$$};function j$(t){const e=this,n=[];let r=0,i,s,o;return a;function a(k){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,l,u)(k)}return u(k)}function l(k){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&v();const L=e.events.length;let F=L,M;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){M=e.events[F][1].end;break}_(r);let P=L;for(;P<e.events.length;)e.events[P][1].end={...M},P++;return $n(e.events,F+1,0,e.events.slice(L)),e.events.length=P,u(k)}return a(k)}function u(k){if(r===n.length){if(!i)return f(k);if(i.currentConstruct&&i.currentConstruct.concrete)return w(k);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(BE,d,h)(k)}function d(k){return i&&v(),_(r),f(k)}function h(k){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,w(k)}function f(k){return e.containerState={},t.attempt(BE,p,w)(k)}function p(k){return r++,n.push([e.currentConstruct,e.containerState]),f(k)}function w(k){if(k===null){i&&v(),_(0),t.consume(k);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(k)}function b(k){if(k===null){R(t.exit("chunkFlow"),!0),_(0),t.consume(k);return}return ge(k)?(t.consume(k),R(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(k),b)}function R(k,L){const F=e.sliceStream(k);if(L&&F.push(null),k.previous=s,s&&(s.next=k),s=k,i.defineSkip(k.start),i.write(F),e.parser.lazy[k.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<o&&(!i.events[M][1].end||i.events[M][1].end.offset>o))return;const P=e.events.length;let x=P,T,E;for(;x--;)if(e.events[x][0]==="exit"&&e.events[x][1].type==="chunkFlow"){if(T){E=e.events[x][1].end;break}T=!0}for(_(r),M=P;M<e.events.length;)e.events[M][1].end={...E},M++;$n(e.events,x+1,0,e.events.slice(P)),e.events.length=M}}function _(k){let L=n.length;for(;L-- >k;){const F=n[L];e.containerState=F[1],F[0].exit.call(e,t)}n.length=k}function v(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function $$(t,e,n){return Ve(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oa(t){if(t===null||Ye(t)||Qs(t))return 1;if(tf(t))return 2}function nf(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const yg={name:"attention",resolveAll:U$,tokenize:z$};function U$(t,e){let n=-1,r,i,s,o,a,l,u,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};HE(h,-l),HE(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Qn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Qn(u,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),u=Qn(u,nf(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Qn(u,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,u=Qn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,$n(t,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function z$(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=oa(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const u=t.exit("attentionSequence"),d=oa(l),h=!d||d===2&&i||n.includes(l),f=!i||i===2&&d||n.includes(r);return u._open=!!(s===42?h:h&&(i||!f)),u._close=!!(s===42?f:f&&(d||!h)),e(l)}}function HE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const B$={name:"autolink",tokenize:H$};function H$(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return cn(p)?(t.consume(p),o):p===64?n(p):u(p)}function o(p){return p===43||p===45||p===46||Zt(p)?(r=1,a(p)):u(p)}function a(p){return p===58?(t.consume(p),r=0,l):(p===43||p===45||p===46||Zt(p))&&r++<32?(t.consume(p),a):(r=0,u(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||ih(p)?n(p):(t.consume(p),l)}function u(p){return p===64?(t.consume(p),d):D$(p)?(t.consume(p),u):n(p)}function d(p){return Zt(p)?h(p):n(p)}function h(p){return p===46?(t.consume(p),r=0,d):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):f(p)}function f(p){if((p===45||Zt(p))&&r++<63){const w=p===45?f:h;return t.consume(p),w}return n(p)}}const Ru={partial:!0,tokenize:W$};function W$(t,e,n){return r;function r(s){return Pe(s)?Ve(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||ge(s)?e(s):n(s)}}const fI={continuation:{tokenize:G$},exit:K$,name:"blockQuote",tokenize:q$};function q$(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Pe(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function G$(t,e,n){const r=this;return i;function i(o){return Pe(o)?Ve(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(fI,e,n)(o)}}function K$(t){t.exit("blockQuote")}const pI={name:"characterEscape",tokenize:Q$};function Q$(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return L$(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const mI={name:"characterReference",tokenize:Y$};function Y$(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),s=31,o=Zt,d(h))}function u(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=O$,d):(t.enter("characterReferenceValue"),s=7,o=gg,d(h))}function d(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===Zt&&!Rv(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),d):n(h)}}const WE={partial:!0,tokenize:J$},qE={concrete:!0,name:"codeFenced",tokenize:X$};function X$(t,e,n){const r=this,i={partial:!0,tokenize:F};let s=0,o=0,a;return l;function l(M){return u(M)}function u(M){const P=r.events[r.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,a=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(M)}function d(M){return M===a?(o++,t.consume(M),d):o<3?n(M):(t.exit("codeFencedFenceSequence"),Pe(M)?Ve(t,h,"whitespace")(M):h(M))}function h(M){return M===null||ge(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(WE,b,L)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(M))}function f(M){return M===null||ge(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(M)):Pe(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ve(t,p,"whitespace")(M)):M===96&&M===a?n(M):(t.consume(M),f)}function p(M){return M===null||ge(M)?h(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(M))}function w(M){return M===null||ge(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(M)):M===96&&M===a?n(M):(t.consume(M),w)}function b(M){return t.attempt(i,L,R)(M)}function R(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),_}function _(M){return s>0&&Pe(M)?Ve(t,v,"linePrefix",s+1)(M):v(M)}function v(M){return M===null||ge(M)?t.check(WE,b,L)(M):(t.enter("codeFlowValue"),k(M))}function k(M){return M===null||ge(M)?(t.exit("codeFlowValue"),v(M)):(t.consume(M),k)}function L(M){return t.exit("codeFenced"),e(M)}function F(M,P,x){let T=0;return E;function E(H){return M.enter("lineEnding"),M.consume(H),M.exit("lineEnding"),A}function A(H){return M.enter("codeFencedFence"),Pe(H)?Ve(M,C,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):C(H)}function C(H){return H===a?(M.enter("codeFencedFenceSequence"),I(H)):x(H)}function I(H){return H===a?(T++,M.consume(H),I):T>=o?(M.exit("codeFencedFenceSequence"),Pe(H)?Ve(M,W,"whitespace")(H):W(H)):x(H)}function W(H){return H===null||ge(H)?(M.exit("codeFencedFence"),P(H)):x(H)}}}function J$(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const Ep={name:"codeIndented",tokenize:e3},Z$={partial:!0,tokenize:t3};function e3(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Ve(t,s,"linePrefix",5)(u)}function s(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):ge(u)?t.attempt(Z$,o,l)(u):(t.enter("codeFlowValue"),a(u))}function a(u){return u===null||ge(u)?(t.exit("codeFlowValue"),o(u)):(t.consume(u),a)}function l(u){return t.exit("codeIndented"),e(u)}}function t3(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):ge(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Ve(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):ge(o)?i(o):n(o)}}const n3={name:"codeText",previous:i3,resolve:r3,tokenize:s3};function r3(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function i3(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function s3(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,d(h)):ge(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ge(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),u)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",u(h))}}class o3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&$a(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$a(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$a(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);$a(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$a(this.left,n.reverse())}}}function $a(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function gI(t){const e={};let n=-1,r,i,s,o,a,l,u;const d=new o3(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,a3(d,n)),n=e[n],u=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return $n(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function a3(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],u={};let d,h,f=-1,p=n,w=0,b=0;const R=[b];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(d=r.sliceStream(p),p.next||d.push(null),h&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=p,p=p.next}for(p=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(b=f+1,R.push(b),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):R.pop(),f=R.length;f--;){const _=a.slice(R[f],R[f+1]),v=s.pop();l.push([v,v+_.length-1]),t.splice(v,2,_)}for(l.reverse(),f=-1;++f<l.length;)u[w+l[f][0]]=w+l[f][1],w+=l[f][1]-l[f][0]-1;return u}const l3={resolve:c3,tokenize:d3},u3={partial:!0,tokenize:h3};function c3(t){return gI(t),t}function d3(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):ge(a)?t.check(u3,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function h3(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Ve(t,s,"linePrefix")}function s(o){if(o===null||ge(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function yI(t,e,n,r,i,s,o,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(_){return _===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(_),t.exit(s),f):_===null||_===32||_===41||ih(_)?n(_):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),b(_))}function f(_){return _===62?(t.enter(s),t.consume(_),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),p(_))}function p(_){return _===62?(t.exit("chunkString"),t.exit(a),f(_)):_===null||_===60||ge(_)?n(_):(t.consume(_),_===92?w:p)}function w(_){return _===60||_===62||_===92?(t.consume(_),p):p(_)}function b(_){return!d&&(_===null||_===41||Ye(_))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(_)):d<u&&_===40?(t.consume(_),d++,b):_===41?(t.consume(_),d--,b):_===null||_===32||_===40||ih(_)?n(_):(t.consume(_),_===92?R:b)}function R(_){return _===40||_===41||_===92?(t.consume(_),b):b(_)}}function vI(t,e,n,r,i,s){const o=this;let a=0,l;return u;function u(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),d}function d(p){return a>999||p===null||p===91||p===93&&!l||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):ge(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===null||p===91||p===93||ge(p)||a++>999?(t.exit("chunkString"),d(p)):(t.consume(p),l||(l=!Pe(p)),p===92?f:h)}function f(p){return p===91||p===92||p===93?(t.consume(p),a++,h):h(p)}}function wI(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),u(f))}function u(f){return f===o?(t.exit(s),l(o)):f===null?n(f):ge(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Ve(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||ge(f)?(t.exit("chunkString"),u(f)):(t.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(t.consume(f),d):d(f)}}function Tl(t,e){let n;return r;function r(i){return ge(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Pe(i)?Ve(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const f3={name:"definition",tokenize:m3},p3={partial:!0,tokenize:g3};function m3(t,e,n){const r=this;let i;return s;function s(p){return t.enter("definition"),o(p)}function o(p){return vI.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return i=fr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Ye(p)?Tl(t,u)(p):u(p)}function u(p){return yI(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function d(p){return t.attempt(p3,h,h)(p)}function h(p){return Pe(p)?Ve(t,f,"whitespace")(p):f(p)}function f(p){return p===null||ge(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}function g3(t,e,n){return r;function r(a){return Ye(a)?Tl(t,i)(a):n(a)}function i(a){return wI(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Pe(a)?Ve(t,o,"whitespace")(a):o(a)}function o(a){return a===null||ge(a)?e(a):n(a)}}const y3={name:"hardBreakEscape",tokenize:v3};function v3(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return ge(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const w3={name:"headingAtx",resolve:_3,tokenize:E3};function _3(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},$n(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function E3(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||Ye(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||ge(d)?(t.exit("atxHeading"),e(d)):Pe(d)?Ve(t,a,"whitespace")(d):(t.enter("atxHeadingText"),u(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Ye(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),u)}}const x3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],GE=["pre","script","style","textarea"],k3={concrete:!0,name:"htmlFlow",resolveTo:S3,tokenize:I3},b3={partial:!0,tokenize:A3},T3={partial:!0,tokenize:C3};function S3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function I3(t,e,n){const r=this;let i,s,o,a,l;return u;function u(S){return d(S)}function d(S){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(S),h}function h(S){return S===33?(t.consume(S),f):S===47?(t.consume(S),s=!0,b):S===63?(t.consume(S),i=3,r.interrupt?e:O):cn(S)?(t.consume(S),o=String.fromCharCode(S),R):n(S)}function f(S){return S===45?(t.consume(S),i=2,p):S===91?(t.consume(S),i=5,a=0,w):cn(S)?(t.consume(S),i=4,r.interrupt?e:O):n(S)}function p(S){return S===45?(t.consume(S),r.interrupt?e:O):n(S)}function w(S){const G="CDATA[";return S===G.charCodeAt(a++)?(t.consume(S),a===G.length?r.interrupt?e:C:w):n(S)}function b(S){return cn(S)?(t.consume(S),o=String.fromCharCode(S),R):n(S)}function R(S){if(S===null||S===47||S===62||Ye(S)){const G=S===47,te=o.toLowerCase();return!G&&!s&&GE.includes(te)?(i=1,r.interrupt?e(S):C(S)):x3.includes(o.toLowerCase())?(i=6,G?(t.consume(S),_):r.interrupt?e(S):C(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):s?v(S):k(S))}return S===45||Zt(S)?(t.consume(S),o+=String.fromCharCode(S),R):n(S)}function _(S){return S===62?(t.consume(S),r.interrupt?e:C):n(S)}function v(S){return Pe(S)?(t.consume(S),v):E(S)}function k(S){return S===47?(t.consume(S),E):S===58||S===95||cn(S)?(t.consume(S),L):Pe(S)?(t.consume(S),k):E(S)}function L(S){return S===45||S===46||S===58||S===95||Zt(S)?(t.consume(S),L):F(S)}function F(S){return S===61?(t.consume(S),M):Pe(S)?(t.consume(S),F):k(S)}function M(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),l=S,P):Pe(S)?(t.consume(S),M):x(S)}function P(S){return S===l?(t.consume(S),l=null,T):S===null||ge(S)?n(S):(t.consume(S),P)}function x(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Ye(S)?F(S):(t.consume(S),x)}function T(S){return S===47||S===62||Pe(S)?k(S):n(S)}function E(S){return S===62?(t.consume(S),A):n(S)}function A(S){return S===null||ge(S)?C(S):Pe(S)?(t.consume(S),A):n(S)}function C(S){return S===45&&i===2?(t.consume(S),ne):S===60&&i===1?(t.consume(S),re):S===62&&i===4?(t.consume(S),ie):S===63&&i===3?(t.consume(S),O):S===93&&i===5?(t.consume(S),ee):ge(S)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(b3,V,I)(S)):S===null||ge(S)?(t.exit("htmlFlowData"),I(S)):(t.consume(S),C)}function I(S){return t.check(T3,W,V)(S)}function W(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),H}function H(S){return S===null||ge(S)?I(S):(t.enter("htmlFlowData"),C(S))}function ne(S){return S===45?(t.consume(S),O):C(S)}function re(S){return S===47?(t.consume(S),o="",B):C(S)}function B(S){if(S===62){const G=o.toLowerCase();return GE.includes(G)?(t.consume(S),ie):C(S)}return cn(S)&&o.length<8?(t.consume(S),o+=String.fromCharCode(S),B):C(S)}function ee(S){return S===93?(t.consume(S),O):C(S)}function O(S){return S===62?(t.consume(S),ie):S===45&&i===2?(t.consume(S),O):C(S)}function ie(S){return S===null||ge(S)?(t.exit("htmlFlowData"),V(S)):(t.consume(S),ie)}function V(S){return t.exit("htmlFlow"),e(S)}}function C3(t,e,n){const r=this;return i;function i(o){return ge(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function A3(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Ru,e,n)}}const P3={name:"htmlText",tokenize:N3};function N3(t,e,n){const r=this;let i,s,o;return a;function a(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),l}function l(O){return O===33?(t.consume(O),u):O===47?(t.consume(O),F):O===63?(t.consume(O),k):cn(O)?(t.consume(O),x):n(O)}function u(O){return O===45?(t.consume(O),d):O===91?(t.consume(O),s=0,w):cn(O)?(t.consume(O),v):n(O)}function d(O){return O===45?(t.consume(O),p):n(O)}function h(O){return O===null?n(O):O===45?(t.consume(O),f):ge(O)?(o=h,re(O)):(t.consume(O),h)}function f(O){return O===45?(t.consume(O),p):h(O)}function p(O){return O===62?ne(O):O===45?f(O):h(O)}function w(O){const ie="CDATA[";return O===ie.charCodeAt(s++)?(t.consume(O),s===ie.length?b:w):n(O)}function b(O){return O===null?n(O):O===93?(t.consume(O),R):ge(O)?(o=b,re(O)):(t.consume(O),b)}function R(O){return O===93?(t.consume(O),_):b(O)}function _(O){return O===62?ne(O):O===93?(t.consume(O),_):b(O)}function v(O){return O===null||O===62?ne(O):ge(O)?(o=v,re(O)):(t.consume(O),v)}function k(O){return O===null?n(O):O===63?(t.consume(O),L):ge(O)?(o=k,re(O)):(t.consume(O),k)}function L(O){return O===62?ne(O):k(O)}function F(O){return cn(O)?(t.consume(O),M):n(O)}function M(O){return O===45||Zt(O)?(t.consume(O),M):P(O)}function P(O){return ge(O)?(o=P,re(O)):Pe(O)?(t.consume(O),P):ne(O)}function x(O){return O===45||Zt(O)?(t.consume(O),x):O===47||O===62||Ye(O)?T(O):n(O)}function T(O){return O===47?(t.consume(O),ne):O===58||O===95||cn(O)?(t.consume(O),E):ge(O)?(o=T,re(O)):Pe(O)?(t.consume(O),T):ne(O)}function E(O){return O===45||O===46||O===58||O===95||Zt(O)?(t.consume(O),E):A(O)}function A(O){return O===61?(t.consume(O),C):ge(O)?(o=A,re(O)):Pe(O)?(t.consume(O),A):T(O)}function C(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),i=O,I):ge(O)?(o=C,re(O)):Pe(O)?(t.consume(O),C):(t.consume(O),W)}function I(O){return O===i?(t.consume(O),i=void 0,H):O===null?n(O):ge(O)?(o=I,re(O)):(t.consume(O),I)}function W(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||Ye(O)?T(O):(t.consume(O),W)}function H(O){return O===47||O===62||Ye(O)?T(O):n(O)}function ne(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function re(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),B}function B(O){return Pe(O)?Ve(t,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):ee(O)}function ee(O){return t.enter("htmlTextData"),o(O)}}const Dv={name:"labelEnd",resolveAll:L3,resolveTo:M3,tokenize:F3},R3={tokenize:V3},D3={tokenize:j3},O3={tokenize:$3};function L3(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&$n(t,0,t.length,n),t}function M3(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",u,e]],a=Qn(a,t.slice(s+1,s+r+3)),a=Qn(a,[["enter",d,e]]),a=Qn(a,nf(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Qn(a,[["exit",d,e],t[o-2],t[o-1],["exit",u,e]]),a=Qn(a,t.slice(o+1)),a=Qn(a,[["exit",l,e]]),$n(t,s,t.length,a),t}function F3(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(fr(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(R3,d,o?d:h)(f):f===91?t.attempt(D3,d,o?u:h)(f):o?d(f):h(f)}function u(f){return t.attempt(O3,d,h)(f)}function d(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function V3(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return Ye(h)?Tl(t,s)(h):s(h)}function s(h){return h===41?d(h):yI(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ye(h)?Tl(t,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?wI(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return Ye(h)?Tl(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function j3(t,e,n){const r=this;return i;function i(a){return vI.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(fr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function $3(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const U3={name:"labelStartImage",resolveAll:Dv.resolveAll,tokenize:z3};function z3(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const B3={name:"labelStartLink",resolveAll:Dv.resolveAll,tokenize:H3};function H3(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const xp={name:"lineEnding",tokenize:W3};function W3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Ve(t,e,"linePrefix")}}const rd={name:"thematicBreak",tokenize:q3};function q3(t,e,n){let r=0,i;return s;function s(u){return t.enter("thematicBreak"),o(u)}function o(u){return i=u,a(u)}function a(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ge(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Pe(u)?Ve(t,a,"whitespace")(u):a(u))}}const vn={continuation:{tokenize:Y3},exit:J3,name:"list",tokenize:Q3},G3={partial:!0,tokenize:Z3},K3={partial:!0,tokenize:X3};function Q3(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(p){const w=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:gg(p)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(rd,n,u)(p):u(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return gg(p)&&++o<10?(t.consume(p),l):(!r.interrupt||o<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),u(p)):n(p)}function u(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(Ru,r.interrupt?n:d,t.attempt(G3,f,h))}function d(p){return r.containerState.initialBlankLine=!0,s++,f(p)}function h(p){return Pe(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),f):n(p)}function f(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function Y3(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Ru,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ve(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Pe(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(K3,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ve(t,t.attempt(vn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function X3(t,e,n){const r=this;return Ve(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function J3(t){t.exit(this.containerState.type)}function Z3(t,e,n){const r=this;return Ve(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Pe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const KE={name:"setextUnderline",resolveTo:eU,tokenize:tU};function eU(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function tU(t,e,n){const r=this;let i;return s;function s(u){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return t.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(t.consume(u),a):(t.exit("setextHeadingLineSequence"),Pe(u)?Ve(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ge(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const nU={tokenize:rU};function rU(t){const e=this,n=t.attempt(Ru,r,t.attempt(this.parser.constructs.flowInitial,i,Ve(t,t.attempt(this.parser.constructs.flow,i,t.attempt(l3,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const iU={resolveAll:EI()},sU=_I("string"),oU=_I("text");function _I(t){return{resolveAll:EI(t==="text"?aU:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(d){return u(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const p=h[f];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function EI(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function aU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const u=i[s];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(u===-2)l=!0,a++;else if(u!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const u={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const lU={42:vn,43:vn,45:vn,48:vn,49:vn,50:vn,51:vn,52:vn,53:vn,54:vn,55:vn,56:vn,57:vn,62:fI},uU={91:f3},cU={[-2]:Ep,[-1]:Ep,32:Ep},dU={35:w3,42:rd,45:[KE,rd],60:k3,61:KE,95:rd,96:qE,126:qE},hU={38:mI,92:pI},fU={[-5]:xp,[-4]:xp,[-3]:xp,33:U3,38:mI,42:yg,60:[B$,P3],91:B3,92:[y3,pI],93:Dv,95:yg,96:n3},pU={null:[yg,iU]},mU={null:[42,95]},gU={null:[]},yU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mU,contentInitial:uU,disable:gU,document:lU,flow:dU,flowInitial:cU,insideSpan:pU,string:hU,text:fU},Symbol.toStringTag,{value:"Module"}));function vU(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:P(F),check:P(M),consume:v,enter:k,exit:L,interrupt:P(M,{interrupt:!0})},u={code:null,containerState:{},defineSkip:b,events:[],now:w,parser:t,previous:null,sliceSerialize:f,sliceStream:p,write:h};let d=e.tokenize.call(u,l);return e.resolveAll&&s.push(e),u;function h(A){return o=Qn(o,A),R(),o[o.length-1]!==null?[]:(x(e,0),u.events=nf(s,u.events,u),u.events)}function f(A,C){return _U(p(A),C)}function p(A){return wU(o,A)}function w(){const{_bufferIndex:A,_index:C,line:I,column:W,offset:H}=r;return{_bufferIndex:A,_index:C,line:I,column:W,offset:H}}function b(A){i[A.line]=A.column,E()}function R(){let A;for(;r._index<o.length;){const C=o[r._index];if(typeof C=="string")for(A=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===A&&r._bufferIndex<C.length;)_(C.charCodeAt(r._bufferIndex));else _(C)}}function _(A){d=d(A)}function v(A){ge(A)?(r.line++,r.column=1,r.offset+=A===-3?2:1,E()):A!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=A}function k(A,C){const I=C||{};return I.type=A,I.start=w(),u.events.push(["enter",I,u]),a.push(I),I}function L(A){const C=a.pop();return C.end=w(),u.events.push(["exit",C,u]),C}function F(A,C){x(A,C.from)}function M(A,C){C.restore()}function P(A,C){return I;function I(W,H,ne){let re,B,ee,O;return Array.isArray(W)?V(W):"tokenize"in W?V([W]):ie(W);function ie(z){return X;function X(Q){const me=Q!==null&&z[Q],he=Q!==null&&z.null,se=[...Array.isArray(me)?me:me?[me]:[],...Array.isArray(he)?he:he?[he]:[]];return V(se)(Q)}}function V(z){return re=z,B=0,z.length===0?ne:S(z[B])}function S(z){return X;function X(Q){return O=T(),ee=z,z.partial||(u.currentConstruct=z),z.name&&u.parser.constructs.disable.null.includes(z.name)?te():z.tokenize.call(C?Object.assign(Object.create(u),C):u,l,G,te)(Q)}}function G(z){return A(ee,O),H}function te(z){return O.restore(),++B<re.length?S(re[B]):ne}}}function x(A,C){A.resolveAll&&!s.includes(A)&&s.push(A),A.resolve&&$n(u.events,C,u.events.length-C,A.resolve(u.events.slice(C),u)),A.resolveTo&&(u.events=A.resolveTo(u.events,u))}function T(){const A=w(),C=u.previous,I=u.currentConstruct,W=u.events.length,H=Array.from(a);return{from:W,restore:ne};function ne(){r=A,u.previous=C,u.currentConstruct=I,u.events.length=W,a=H,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wU(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function _U(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function EU(t){const r={constructs:dI([yU,...(t||{}).extensions||[]]),content:i(M$),defined:[],document:i(V$),flow:i(nU),lazy:{},string:i(sU),text:i(oU)};return r;function i(s){return o;function o(a){return vU(r,s,a)}}}function xU(t){for(;!gI(t););return t}const QE=/[\0\t\n\r]/g;function kU(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let u,d,h,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(QE.lastIndex=h,u=QE.exec(s),f=u&&u.index!==void 0?u.index:s.length,p=s.charCodeAt(f),!u){e=s.slice(h);break}if(p===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),t+=f-h),p){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const bU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function TU(t){return t.replace(bU,SU)}function SU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return hI(n.slice(s?2:1),s?16:10)}return Rv(n)||t}const xI={}.hasOwnProperty;function IU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),CU(n)(xU(EU(n).document().write(kU()(t,e,!0))))}function CU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(wt),autolinkProtocol:T,autolinkEmail:T,atxHeading:s(He),blockQuote:s(he),characterEscape:T,characterReference:T,codeFenced:s(se),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(se,o),codeText:s(le,o),codeTextData:T,data:T,codeFlowValue:T,definition:s(ke),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ye),hardBreakEscape:s(rt),hardBreakTrailing:s(rt),htmlFlow:s(Dt,o),htmlFlowData:T,htmlText:s(Dt,o),htmlTextData:T,image:s(At),label:o,link:s(wt),listItem:s(Ou),listItemValue:f,listOrdered:s(fi,h),listUnordered:s(fi),paragraph:s(af),reference:S,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(He),strong:s(ya),thematicBreak:s(Lu)},exit:{atxHeading:l(),atxHeadingSequence:F,autolink:l(),autolinkEmail:me,autolinkProtocol:Q,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:te,characterReferenceMarkerNumeric:te,characterReferenceValue:z,characterReference:X,codeFenced:l(R),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:w,codeFlowValue:E,codeIndented:l(_),codeText:l(H),codeTextData:E,data:E,definition:l(),definitionDestinationString:L,definitionLabelString:v,definitionTitleString:k,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(I),htmlFlowData:E,htmlText:l(W),htmlTextData:E,image:l(re),label:ee,labelText:B,lineEnding:A,link:l(ne),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:G,resourceDestinationString:O,resourceTitleString:ie,resource:V,setextHeading:l(x),setextHeadingLineSequence:P,setextHeadingText:M,strong:l(),thematicBreak:l()}};kI(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(U){let Y={type:"root",children:[]};const ve={stack:[Y],tokenStack:[],config:e,enter:a,exit:u,buffer:o,resume:d,data:n},Ae=[];let We=-1;for(;++We<U.length;)if(U[We][1].type==="listOrdered"||U[We][1].type==="listUnordered")if(U[We][0]==="enter")Ae.push(We);else{const An=Ae.pop();We=i(U,An,We)}for(We=-1;++We<U.length;){const An=e[U[We][0]];xI.call(An,U[We][1].type)&&An[U[We][1].type].call(Object.assign({sliceSerialize:U[We][2].sliceSerialize},ve),U[We][1])}if(ve.tokenStack.length>0){const An=ve.tokenStack[ve.tokenStack.length-1];(An[1]||YE).call(ve,void 0,An[0])}for(Y.position={start:Ei(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:Ei(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<e.transforms.length;)Y=e.transforms[We](Y)||Y;return Y}function i(U,Y,ve){let Ae=Y-1,We=-1,An=!1,Pn,Hn,pi,Or;for(;++Ae<=ve;){const on=U[Ae];switch(on[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{on[0]==="enter"?We++:We--,Or=void 0;break}case"lineEndingBlank":{on[0]==="enter"&&(Pn&&!Or&&!We&&!pi&&(pi=Ae),Or=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Or=void 0}if(!We&&on[0]==="enter"&&on[1].type==="listItemPrefix"||We===-1&&on[0]==="exit"&&(on[1].type==="listUnordered"||on[1].type==="listOrdered")){if(Pn){let mi=Ae;for(Hn=void 0;mi--;){const Nn=U[mi];if(Nn[1].type==="lineEnding"||Nn[1].type==="lineEndingBlank"){if(Nn[0]==="exit")continue;Hn&&(U[Hn][1].type="lineEndingBlank",An=!0),Nn[1].type="lineEnding",Hn=mi}else if(!(Nn[1].type==="linePrefix"||Nn[1].type==="blockQuotePrefix"||Nn[1].type==="blockQuotePrefixWhitespace"||Nn[1].type==="blockQuoteMarker"||Nn[1].type==="listItemIndent"))break}pi&&(!Hn||pi<Hn)&&(Pn._spread=!0),Pn.end=Object.assign({},Hn?U[Hn][1].start:on[1].end),U.splice(Hn||Ae,0,["exit",Pn,on[2]]),Ae++,ve++}if(on[1].type==="listItemPrefix"){const mi={type:"listItem",_spread:!1,start:Object.assign({},on[1].start),end:void 0};Pn=mi,U.splice(Ae,0,["enter",mi,on[2]]),Ae++,ve++,pi=void 0,Or=!0}}}return U[Y][1]._spread=An,ve}function s(U,Y){return ve;function ve(Ae){a.call(this,U(Ae),Ae),Y&&Y.call(this,Ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(U,Y,ve){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([Y,ve||void 0]),U.position={start:Ei(Y.start),end:void 0}}function l(U){return Y;function Y(ve){U&&U.call(this,ve),u.call(this,ve)}}function u(U,Y){const ve=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==U.type&&(Y?Y.call(this,U,Ae[0]):(Ae[1]||YE).call(this,U,Ae[0]));else throw new Error("Cannot close `"+U.type+"` ("+bl({start:U.start,end:U.end})+"): its not open");ve.position.end=Ei(U.end)}function d(){return Nv(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(U){if(this.data.expectingFirstListItemValue){const Y=this.stack[this.stack.length-2];Y.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function p(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.lang=U}function w(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.meta=U}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function R(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function _(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.value=U.replace(/(\r?\n|\r)$/g,"")}function v(U){const Y=this.resume(),ve=this.stack[this.stack.length-1];ve.label=Y,ve.identifier=fr(this.sliceSerialize(U)).toLowerCase()}function k(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.title=U}function L(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.url=U}function F(U){const Y=this.stack[this.stack.length-1];if(!Y.depth){const ve=this.sliceSerialize(U).length;Y.depth=ve}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function P(U){const Y=this.stack[this.stack.length-1];Y.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function x(){this.data.setextHeadingSlurpLineEnding=void 0}function T(U){const ve=this.stack[this.stack.length-1].children;let Ae=ve[ve.length-1];(!Ae||Ae.type!=="text")&&(Ae=va(),Ae.position={start:Ei(U.start),end:void 0},ve.push(Ae)),this.stack.push(Ae)}function E(U){const Y=this.stack.pop();Y.value+=this.sliceSerialize(U),Y.position.end=Ei(U.end)}function A(U){const Y=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ve=Y.children[Y.children.length-1];ve.position.end=Ei(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Y.type)&&(T.call(this,U),E.call(this,U))}function C(){this.data.atHardBreak=!0}function I(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.value=U}function W(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.value=U}function H(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.value=U}function ne(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=Y,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function re(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const Y=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=Y,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function B(U){const Y=this.sliceSerialize(U),ve=this.stack[this.stack.length-2];ve.label=TU(Y),ve.identifier=fr(Y).toLowerCase()}function ee(){const U=this.stack[this.stack.length-1],Y=this.resume(),ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,ve.type==="link"){const Ae=U.children;ve.children=Ae}else ve.alt=Y}function O(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.url=U}function ie(){const U=this.resume(),Y=this.stack[this.stack.length-1];Y.title=U}function V(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function G(U){const Y=this.resume(),ve=this.stack[this.stack.length-1];ve.label=Y,ve.identifier=fr(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function te(U){this.data.characterReferenceType=U.type}function z(U){const Y=this.sliceSerialize(U),ve=this.data.characterReferenceType;let Ae;ve?(Ae=hI(Y,ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=Rv(Y);const We=this.stack[this.stack.length-1];We.value+=Ae}function X(U){const Y=this.stack.pop();Y.position.end=Ei(U.end)}function Q(U){E.call(this,U);const Y=this.stack[this.stack.length-1];Y.url=this.sliceSerialize(U)}function me(U){E.call(this,U);const Y=this.stack[this.stack.length-1];Y.url="mailto:"+this.sliceSerialize(U)}function he(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function ke(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ye(){return{type:"emphasis",children:[]}}function He(){return{type:"heading",depth:0,children:[]}}function rt(){return{type:"break"}}function Dt(){return{type:"html",value:""}}function At(){return{type:"image",title:null,url:"",alt:null}}function wt(){return{type:"link",title:null,url:"",children:[]}}function fi(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function Ou(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function af(){return{type:"paragraph",children:[]}}function ya(){return{type:"strong",children:[]}}function va(){return{type:"text",value:""}}function Lu(){return{type:"thematicBreak"}}}function Ei(t){return{line:t.line,column:t.column,offset:t.offset}}function kI(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?kI(t,r):AU(t,r)}}function AU(t,e){let n;for(n in e)if(xI.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function YE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+bl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+bl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bl({start:e.start,end:e.end})+") is still open")}function PU(t){const e=this;e.parser=n;function n(r){return IU(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function NU(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function RU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function DU(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function OU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function MU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=ga(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function FU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function bI(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function jU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bI(t,e);const i={src:ga(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function $U(t,e){const n={src:ga(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function UU(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function zU(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return bI(t,e);const i={href:ga(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function BU(t,e){const n={href:ga(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function HU(t,e,n){const r=t.all(e),i=n?WU(n):TI(e),s={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,u),t.applyData(e,u)}function WU(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=TI(n[r])}return e}function TI(t){const e=t.spread;return e??t.children.length>1}function qU(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function GU(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KU(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function QU(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function YU(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Iv(e.children[1]),l=iI(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function XU(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const u=[];for(;++l<a;){const h=e.children[l],f={},p=o?o[l]:void 0;p&&(f.align=p);let w={type:"element",tagName:s,properties:f,children:[]};h&&(w.children=t.all(h),t.patch(h,w),w=t.applyData(h,w)),u.push(w)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,d),t.applyData(e,d)}function JU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const XE=9,JE=32;function ZU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(ZE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(ZE(e.slice(i),i>0,!1)),s.join("")}function ZE(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===XE||s===JE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===XE||s===JE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function ez(t,e){const n={type:"text",value:ZU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function tz(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const nz={blockquote:NU,break:RU,code:DU,delete:OU,emphasis:LU,footnoteReference:MU,heading:FU,html:VU,imageReference:jU,image:$U,inlineCode:UU,linkReference:zU,link:BU,listItem:HU,list:qU,paragraph:GU,root:KU,strong:QU,table:YU,tableCell:JU,tableRow:XU,text:ez,thematicBreak:tz,toml:Sc,yaml:Sc,definition:Sc,footnoteDefinition:Sc};function Sc(){}const SI=-1,rf=0,Sl=1,sh=2,Ov=3,Lv=4,Mv=5,Fv=6,II=7,CI=8,ex=typeof self=="object"?self:globalThis,rz=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case rf:case SI:return n(o,i);case Sl:{const a=n([],i);for(const l of o)a.push(r(l));return a}case sh:{const a=n({},i);for(const[l,u]of o)a[r(l)]=r(u);return a}case Ov:return n(new Date(o),i);case Lv:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Mv:{const a=n(new Map,i);for(const[l,u]of o)a.set(r(l),r(u));return a}case Fv:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case II:{const{name:a,message:l}=o;return n(new ex[a](l),i)}case CI:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new ex[s](o),i)};return r},tx=t=>rz(new Map,t)(0),ho="",{toString:iz}={},{keys:sz}=Object,Ua=t=>{const e=typeof t;if(e!=="object"||!t)return[rf,e];const n=iz.call(t).slice(8,-1);switch(n){case"Array":return[Sl,ho];case"Object":return[sh,ho];case"Date":return[Ov,ho];case"RegExp":return[Lv,ho];case"Map":return[Mv,ho];case"Set":return[Fv,ho];case"DataView":return[Sl,n]}return n.includes("Array")?[Sl,n]:n.includes("Error")?[II,n]:[sh,n]},Ic=([t,e])=>t===rf&&(e==="function"||e==="symbol"),oz=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Ua(o);switch(a){case rf:{let d=o;switch(l){case"bigint":a=CI,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([SI],o)}return i([a,d],o)}case Sl:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const d=[],h=i([a,d],o);for(const f of o)d.push(s(f));return h}case sh:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([a,d],o);for(const f of sz(o))(t||!Ic(Ua(o[f])))&&d.push([s(f),s(o[f])]);return h}case Ov:return i([a,o.toISOString()],o);case Lv:{const{source:d,flags:h}=o;return i([a,{source:d,flags:h}],o)}case Mv:{const d=[],h=i([a,d],o);for(const[f,p]of o)(t||!(Ic(Ua(f))||Ic(Ua(p))))&&d.push([s(f),s(p)]);return h}case Fv:{const d=[],h=i([a,d],o);for(const f of o)(t||!Ic(Ua(f)))&&d.push(s(f));return h}}const{message:u}=o;return i([a,{name:l,message:u}],o)};return s},nx=(t,{json:e,lossy:n}={})=>{const r=[];return oz(!(e||n),!!e,new Map,r)(t),r},oh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?tx(nx(t,e)):structuredClone(t):(t,e)=>tx(nx(t,e));function az(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function lz(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function uz(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||az,r=t.options.footnoteBackLabel||lz,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const d=t.all(u),h=String(u.identifier).toUpperCase(),f=ga(h.toLowerCase());let p=0;const w=[],b=t.footnoteCounts.get(h);for(;b!==void 0&&++p<=b;){w.length>0&&w.push({type:"text",value:" "});let v=typeof n=="string"?n:n(l,p);typeof v=="string"&&(v={type:"text",value:v}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,p),className:["data-footnote-backref"]},children:Array.isArray(v)?v:[v]})}const R=d[d.length-1];if(R&&R.type==="element"&&R.tagName==="p"){const v=R.children[R.children.length-1];v&&v.type==="text"?v.value+=" ":R.children.push({type:"text",value:" "}),R.children.push(...w)}else d.push(...w);const _={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(d,!0)};t.patch(u,_),a.push(_)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...oh(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const sf=function(t){if(t==null)return fz;if(typeof t=="function")return of(t);if(typeof t=="object")return Array.isArray(t)?cz(t):dz(t);if(typeof t=="string")return hz(t);throw new Error("Expected function, string, or object as test")};function cz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sf(t[n]);return of(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function dz(t){const e=t;return of(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function hz(t){return of(e);function e(n){return n&&n.type===t}}function of(t){return e;function e(n,r,i){return!!(pz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function fz(){return!0}function pz(t){return t!==null&&typeof t=="object"&&"type"in t}const AI=[],mz=!0,vg=!1,gz="skip";function PI(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=sf(i),o=r?-1:1;a(t,void 0,[])();function a(l,u,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const p=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=AI,w,b,R;if((!e||s(l,u,d[d.length-1]||void 0))&&(p=yz(n(l,d)),p[0]===vg))return p;if("children"in l&&l.children){const _=l;if(_.children&&p[0]!==gz)for(b=(r?_.children.length:-1)+o,R=d.concat(_);b>-1&&b<_.children.length;){const v=_.children[b];if(w=a(v,b,R)(),w[0]===vg)return w;b=typeof w[1]=="number"?w[1]:b+o}}return p}}}function yz(t){return Array.isArray(t)?t:typeof t=="number"?[mz,t]:t==null?AI:[t]}function Vv(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),PI(t,s,a,i);function a(l,u){const d=u[u.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const wg={}.hasOwnProperty,vz={};function wz(t,e){const n=e||vz,r=new Map,i=new Map,s=new Map,o={...nz,...n.handlers},a={all:u,applyData:Ez,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:_z,wrap:kz};return Vv(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),a;function l(d,h){const f=d.type,p=a.handlers[f];if(wg.call(a.handlers,f)&&p)return p(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in d){const{children:b,...R}=d,_=oh(R);return _.children=a.all(d),_}return oh(d)}return(a.options.unknownHandler||xz)(a,d,h)}function u(d){const h=[];if("children"in d){const f=d.children;let p=-1;for(;++p<f.length;){const w=a.one(f[p],d);if(w){if(p&&f[p-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=rx(w.value)),!Array.isArray(w)&&w.type==="element")){const b=w.children[0];b&&b.type==="text"&&(b.value=rx(b.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function _z(t,e){t.position&&(e.position=l$(t))}function Ez(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,oh(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function xz(t,e){const n=e.data||{},r="value"in e&&!(wg.call(n,"hProperties")||wg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function kz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function rx(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ix(t,e){const n=wz(t,e),r=n.one(t,void 0),i=uz(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function bz(t,e){return t&&"run"in t?async function(n,r){const i=ix(n,{file:r,...e});await t.run(i,r)}:function(n,r){return ix(n,{file:r,...t||e})}}function sx(t){if(t)throw t}var id=Object.prototype.hasOwnProperty,NI=Object.prototype.toString,ox=Object.defineProperty,ax=Object.getOwnPropertyDescriptor,lx=function(e){return typeof Array.isArray=="function"?Array.isArray(e):NI.call(e)==="[object Array]"},ux=function(e){if(!e||NI.call(e)!=="[object Object]")return!1;var n=id.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&id.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||id.call(e,i)},cx=function(e,n){ox&&n.name==="__proto__"?ox(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},dx=function(e,n){if(n==="__proto__")if(id.call(e,n)){if(ax)return ax(e,n).value}else return;return e[n]},Tz=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,u=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=dx(a,n),i=dx(e,n),a!==i&&(d&&i&&(ux(i)||(s=lx(i)))?(s?(s=!1,o=r&&lx(r)?r:[]):o=r&&ux(r)?r:{},cx(a,{name:n,newValue:t(d,o,i)})):typeof i<"u"&&cx(a,{name:n,newValue:i}));return a};const kp=kg(Tz);function _g(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Sz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...u){const d=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?Iz(d,a)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Iz(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const wr={basename:Cz,dirname:Az,extname:Pz,join:Nz,sep:"/"};function Cz(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Du(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function Az(t){if(Du(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Pz(t){Du(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function Nz(...t){let e=-1,n;for(;++e<t.length;)Du(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Rz(n)}function Rz(t){Du(t);const e=t.codePointAt(0)===47;let n=Dz(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Dz(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Du(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Oz={cwd:Lz};function Lz(){return"/"}function Eg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Mz(t){if(typeof t=="string")t=new URL(t);else if(!Eg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Fz(t)}function Fz(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const bp=["history","path","basename","stem","extname","dirname"];class RI{constructor(e){let n;e?Eg(e)?n={path:e}:typeof e=="string"||Vz(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Oz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<bp.length;){const s=bp[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)bp.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?wr.basename(this.path):void 0}set basename(e){Sp(e,"basename"),Tp(e,"basename"),this.path=wr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?wr.dirname(this.path):void 0}set dirname(e){hx(this.basename,"dirname"),this.path=wr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?wr.extname(this.path):void 0}set extname(e){if(Tp(e,"extname"),hx(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=wr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Eg(e)&&(e=Mz(e)),Sp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?wr.basename(this.path,this.extname):void 0}set stem(e){Sp(e,"stem"),Tp(e,"stem"),this.path=wr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new sn(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Tp(t,e){if(t&&t.includes(wr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+wr.sep+"`")}function Sp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hx(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Vz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const jz=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},$z={}.hasOwnProperty;class jv extends jz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Sz()}copy(){const e=new jv;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(kp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ap("data",this.frozen),this.namespace[e]=n,this):$z.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ap("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Cc(e),r=this.parser||this.Parser;return Ip("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Ip("process",this.parser||this.Parser),Cp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=Cc(e),l=r.parse(a);r.run(l,a,function(d,h,f){if(d||!h||!f)return u(d);const p=h,w=r.stringify(p,f);Bz(w)?f.value=w:f.result=w,u(d,f)});function u(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),Ip("processSync",this.parser||this.Parser),Cp("processSync",this.compiler||this.Compiler),this.process(e,i),px("processSync","process",n),r;function i(s,o){n=!0,sx(s),r=o}}run(e,n,r){fx(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=Cc(n);i.run(e,l,u);function u(d,h,f){const p=h||e;d?a(d):o?o(p):r(void 0,p,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),px("runSync","run",r),i;function s(o,a){sx(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=Cc(n),i=this.compiler||this.Compiler;return Cp("stringify",i),fx(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Ap("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;l(d,h)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=kp(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===u){f=h;break}if(f===-1)r.push([u,...d]);else if(d.length>0){let[p,...w]=d;const b=r[f][1];_g(b)&&_g(p)&&(p=kp(!0,b,p)),r[f]=[u,p,...w]}}}}const Uz=new jv().freeze();function Ip(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Cp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ap(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function fx(t){if(!_g(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function px(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Cc(t){return zz(t)?t:new RI(t)}function zz(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Bz(t){return typeof t=="string"||Hz(t)}function Hz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Wz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",mx=[],gx={allowDangerousHtml:!0},qz=/^(https?|ircs?|mailto|xmpp)$/i,Gz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kz(t){const e=Qz(t),n=Yz(t);return Xz(e.runSync(e.parse(n),n),t)}function Qz(t){const e=t.rehypePlugins||mx,n=t.remarkPlugins||mx,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...gx}:gx;return Uz().use(PU).use(n).use(bz,r).use(e)}function Yz(t){const e=t.children||"",n=new RI;return typeof e=="string"&&(n.value=e),n}function Xz(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Jz;for(const d of Gz)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Wz+d.id,void 0);return Vv(t,u),f$(t,{Fragment:g.Fragment,components:i,ignoreInvalidStyle:!0,jsx:g.jsx,jsxs:g.jsxs,passKeys:!0,passNode:!0});function u(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return o?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let p;for(p in _p)if(Object.hasOwn(_p,p)&&Object.hasOwn(d.properties,p)){const w=d.properties[p],b=_p[p];(b===null||b.includes(d.tagName))&&(d.properties[p]=l(String(w||""),p,d))}}if(d.type==="element"){let p=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!p&&r&&typeof h=="number"&&(p=!r(d,h,f)),p&&f&&typeof h=="number")return a&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function Jz(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||qz.test(t.slice(0,e))?t:""}function yx(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Zz(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function e5(t,e,n){const i=sf((n||{}).ignore||[]),s=t5(e);let o=-1;for(;++o<s.length;)PI(t,"text",a);function a(u,d){let h=-1,f;for(;++h<d.length;){const p=d[h],w=f?f.children:void 0;if(i(p,w?w.indexOf(p):void 0,f))return;f=p}if(f)return l(u,d)}function l(u,d){const h=d[d.length-1],f=s[o][0],p=s[o][1];let w=0;const R=h.children.indexOf(u);let _=!1,v=[];f.lastIndex=0;let k=f.exec(u.value);for(;k;){const L=k.index,F={index:k.index,input:k.input,stack:[...d,u]};let M=p(...k,F);if(typeof M=="string"&&(M=M.length>0?{type:"text",value:M}:void 0),M===!1?f.lastIndex=L+1:(w!==L&&v.push({type:"text",value:u.value.slice(w,L)}),Array.isArray(M)?v.push(...M):M&&v.push(M),w=L+k[0].length,_=!0),!f.global)break;k=f.exec(u.value)}return _?(w<u.value.length&&v.push({type:"text",value:u.value.slice(w)}),h.children.splice(R,1,...v)):v=[u],R+v.length}}function t5(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([n5(i[0]),r5(i[1])])}return e}function n5(t){return typeof t=="string"?new RegExp(Zz(t),"g"):t}function r5(t){return typeof t=="function"?t:function(){return t}}const Pp="phrasing",Np=["autolink","link","image","label"];function i5(){return{transforms:[d5],enter:{literalAutolink:o5,literalAutolinkEmail:Rp,literalAutolinkHttp:Rp,literalAutolinkWww:Rp},exit:{literalAutolink:c5,literalAutolinkEmail:u5,literalAutolinkHttp:a5,literalAutolinkWww:l5}}}function s5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Pp,notInConstruct:Np},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Pp,notInConstruct:Np},{character:":",before:"[ps]",after:"\\/",inConstruct:Pp,notInConstruct:Np}]}}function o5(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Rp(t){this.config.enter.autolinkProtocol.call(this,t)}function a5(t){this.config.exit.autolinkProtocol.call(this,t)}function l5(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function u5(t){this.config.exit.autolinkEmail.call(this,t)}function c5(t){this.exit(t)}function d5(t){e5(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,h5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),f5]],{ignore:["link","linkReference"]})}function h5(t,e,n,r,i){let s="";if(!DI(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!p5(n)))return!1;const o=m5(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function f5(t,e,n,r){return!DI(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function p5(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function m5(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=yx(t,"(");let s=yx(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function DI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Qs(n)||tf(n))&&(!e||n!==47)}OI.peek=b5;function g5(){this.buffer()}function y5(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function v5(){this.buffer()}function w5(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function _5(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function E5(t){this.exit(t)}function x5(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=fr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function k5(t){this.exit(t)}function b5(){return"["}function OI(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function T5(){return{enter:{gfmFootnoteCallString:g5,gfmFootnoteCall:y5,gfmFootnoteDefinitionLabelString:v5,gfmFootnoteDefinition:w5},exit:{gfmFootnoteCallString:_5,gfmFootnoteCall:E5,gfmFootnoteDefinitionLabelString:x5,gfmFootnoteDefinition:k5}}}function S5(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:OI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?LI:I5))),u(),l}}function I5(t,e,n){return e===0?t:LI(t,e,n)}function LI(t,e,n){return(n?"":"    ")+t}const C5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];MI.peek=D5;function A5(){return{canContainEols:["delete"],enter:{strikethrough:N5},exit:{strikethrough:R5}}}function P5(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:C5}],handlers:{delete:MI}}}function N5(t){this.enter({type:"delete",children:[]},t)}function R5(t){this.exit(t)}function MI(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function D5(){return"~"}function O5(t){return t.length}function L5(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||O5,s=[],o=[],a=[],l=[];let u=0,d=-1;for(;++d<t.length;){const b=[],R=[];let _=-1;for(t[d].length>u&&(u=t[d].length);++_<t[d].length;){const v=M5(t[d][_]);if(n.alignDelimiters!==!1){const k=i(v);R[_]=k,(l[_]===void 0||k>l[_])&&(l[_]=k)}b.push(v)}o[d]=b,a[d]=R}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<u;)s[h]=vx(r[h]);else{const b=vx(r);for(;++h<u;)s[h]=b}h=-1;const f=[],p=[];for(;++h<u;){const b=s[h];let R="",_="";b===99?(R=":",_=":"):b===108?R=":":b===114&&(_=":");let v=n.alignDelimiters===!1?1:Math.max(1,l[h]-R.length-_.length);const k=R+"-".repeat(v)+_;n.alignDelimiters!==!1&&(v=R.length+v+_.length,v>l[h]&&(l[h]=v),p[h]=v),f[h]=k}o.splice(1,0,f),a.splice(1,0,p),d=-1;const w=[];for(;++d<o.length;){const b=o[d],R=a[d];h=-1;const _=[];for(;++h<u;){const v=b[h]||"";let k="",L="";if(n.alignDelimiters!==!1){const F=l[h]-(R[h]||0),M=s[h];M===114?k=" ".repeat(F):M===99?F%2?(k=" ".repeat(F/2+.5),L=" ".repeat(F/2-.5)):(k=" ".repeat(F/2),L=k):L=" ".repeat(F)}n.delimiterStart!==!1&&!h&&_.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&v==="")&&(n.delimiterStart!==!1||h)&&_.push(" "),n.alignDelimiters!==!1&&_.push(k),_.push(v),n.alignDelimiters!==!1&&_.push(L),n.padding!==!1&&_.push(" "),(n.delimiterEnd!==!1||h!==u-1)&&_.push("|")}w.push(n.delimiterEnd===!1?_.join("").replace(/ +$/,""):_.join(""))}return w.join(`
`)}function M5(t){return t==null?"":String(t)}function vx(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function F5(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),V5);return i(),o}function V5(t,e,n){return">"+(n?"":" ")+t}function j5(t,e){return wx(t,e.inConstruct,!0)&&!wx(t,e.notInConstruct,!1)}function wx(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function _x(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&j5(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function $5(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function U5(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function z5(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function B5(t,e,n,r){const i=z5(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(U5(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(s,H5);return h(),f}const a=n.createTracker(r),l=i.repeat(Math.max($5(s,i)+1,3)),u=n.enter("codeFenced");let d=a.move(l);if(t.lang){const h=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...a.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...a.current()})),h()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(l),u(),d}function H5(t,e,n){return(n?"":"    ")+t}function $v(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function W5(t,e,n,r){const i=$v(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(t),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),o(),u}function q5(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function tu(t){return"&#x"+t.toString(16).toUpperCase()+";"}function ah(t,e,n){const r=oa(t),i=oa(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}FI.peek=G5;function FI(t,e,n,r){const i=q5(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),d=ah(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=tu(u)+l.slice(1));const h=l.charCodeAt(l.length-1),f=ah(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+tu(h));const p=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+l+p}function G5(t,e,n){return n.options.emphasis||"*"}function K5(t,e){let n=!1;return Vv(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,vg}),!!((!t.depth||t.depth<3)&&Nv(t)&&(e.options.setext||n))}function Q5(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(K5(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let u=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=tu(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),a(),u}VI.peek=Y5;function VI(t){return t.value||""}function Y5(){return"<"}jI.peek=X5;function jI(t,e,n,r){const i=$v(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(t.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(t.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(t.url,{before:u,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),u+=l.move(" "+i),u+=l.move(n.safe(t.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),o(),u}function X5(){return"!"}$I.peek=J5;function $I(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function J5(){return"!"}UI.peek=Z5;function UI(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Z5(){return"`"}function zI(t,e){const n=Nv(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}BI.peek=e9;function BI(t,e,n,r){const i=$v(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(zI(t,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=d,h}a=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(t,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(t.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(t.url,{before:u,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(n.safe(t.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function e9(t,e,n){return zI(t,n)?"<":"["}HI.peek=t9;function HI(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!u||u!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function t9(){return"["}function Uv(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function n9(t){const e=Uv(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function r9(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function WI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function i9(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?r9(n):Uv(n);const a=t.ordered?o==="."?")":".":n9(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),WI(n)===o&&d){let h=-1;for(;++h<t.children.length;){const f=t.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const u=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),u}function s9(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function o9(t,e,n,r){const i=s9(n);let s=n.bulletCurrent||Uv(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(t,a.current()),d);return l(),u;function d(h,f,p){return f?(p?"":" ".repeat(o))+h:(p?s:s+" ".repeat(o-s.length))+h}}function a9(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const l9=sf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function u9(t,e,n,r){return(t.children.some(function(o){return l9(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function c9(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}qI.peek=d9;function qI(t,e,n,r){const i=c9(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const u=l.charCodeAt(0),d=ah(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=tu(u)+l.slice(1));const h=l.charCodeAt(l.length-1),f=ah(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+tu(h));const p=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+l+p}function d9(t,e,n){return n.options.strong||"*"}function h9(t,e,n,r){return n.safe(t.value,r)}function f9(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function p9(t,e,n){const r=(WI(n)+(n.options.ruleSpaces?" ":"")).repeat(f9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const GI={blockquote:F5,break:_x,code:B5,definition:W5,emphasis:FI,hardBreak:_x,heading:Q5,html:VI,image:jI,imageReference:$I,inlineCode:UI,link:BI,linkReference:HI,list:i9,listItem:o9,paragraph:a9,root:u9,strong:qI,text:h9,thematicBreak:p9};function m9(){return{enter:{table:g9,tableData:Ex,tableHeader:Ex,tableRow:v9},exit:{codeText:w9,table:y9,tableData:Dp,tableHeader:Dp,tableRow:Dp}}}function g9(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function y9(t){this.exit(t),this.data.inTable=void 0}function v9(t){this.enter({type:"tableRow",children:[]},t)}function Dp(t){this.exit(t)}function Ex(t){this.enter({type:"tableCell",children:[]},t)}function w9(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,_9));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function _9(t,e){return e==="|"?e:t}function E9(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(p,w,b,R){return u(d(p,b,R),p.align)}function a(p,w,b,R){const _=h(p,b,R),v=u([_]);return v.slice(0,v.indexOf(`
`))}function l(p,w,b,R){const _=b.enter("tableCell"),v=b.enter("phrasing"),k=b.containerPhrasing(p,{...R,before:s,after:s});return v(),_(),k}function u(p,w){return L5(p,{align:w,alignDelimiters:r,padding:n,stringLength:i})}function d(p,w,b){const R=p.children;let _=-1;const v=[],k=w.enter("table");for(;++_<R.length;)v[_]=h(R[_],w,b);return k(),v}function h(p,w,b){const R=p.children;let _=-1;const v=[],k=w.enter("tableRow");for(;++_<R.length;)v[_]=l(R[_],p,w,b);return k(),v}function f(p,w,b){let R=GI.inlineCode(p,w,b);return b.stack.includes("tableCell")&&(R=R.replace(/\|/g,"\\$&")),R}}function x9(){return{exit:{taskListCheckValueChecked:xx,taskListCheckValueUnchecked:xx,paragraph:b9}}}function k9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:T9}}}function xx(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function b9(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function T9(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=GI.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function S9(){return[i5(),T5(),A5(),m9(),x9()]}function I9(t){return{extensions:[s5(),S5(t),P5(),E9(t),k9()]}}const C9={tokenize:O9,partial:!0},KI={tokenize:L9,partial:!0},QI={tokenize:M9,partial:!0},YI={tokenize:F9,partial:!0},A9={tokenize:V9,partial:!0},XI={name:"wwwAutolink",tokenize:R9,previous:ZI},JI={name:"protocolAutolink",tokenize:D9,previous:eC},hi={name:"emailAutolink",tokenize:N9,previous:tC},Dr={};function P9(){return{text:Dr}}let vs=48;for(;vs<123;)Dr[vs]=hi,vs++,vs===58?vs=65:vs===91&&(vs=97);Dr[43]=hi;Dr[45]=hi;Dr[46]=hi;Dr[95]=hi;Dr[72]=[hi,JI];Dr[104]=[hi,JI];Dr[87]=[hi,XI];Dr[119]=[hi,XI];function N9(t,e,n){const r=this;let i,s;return o;function o(h){return!xg(h)||!tC.call(r,r.previous)||zv(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(h))}function a(h){return xg(h)?(t.consume(h),a):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(A9,d,u)(h):h===45||h===95||Zt(h)?(s=!0,t.consume(h),l):d(h)}function u(h){return t.consume(h),i=!0,l}function d(h){return s&&i&&cn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function R9(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!ZI.call(r,r.previous)||zv(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(C9,t.attempt(KI,t.attempt(QI,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function D9(t,e,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&eC.call(r,r.previous)&&!zv(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),a):n(h)}function a(h){if(cn(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),a;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),s?u:(s=!0,l)):n(h)}function u(h){return h===null||ih(h)||Ye(h)||Qs(h)||tf(h)?n(h):t.attempt(KI,t.attempt(QI,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function O9(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function L9(t,e,n){let r,i,s;return o;function o(u){return u===46||u===95?t.check(YI,l,a)(u):u===null||Ye(u)||Qs(u)||u!==45&&tf(u)?l(u):(s=!0,t.consume(u),o)}function a(u){return u===95?r=!0:(i=r,r=void 0),t.consume(u),o}function l(u){return i||r||!s?n(u):e(u)}}function M9(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(YI,e,s)(o):o===null||Ye(o)||Qs(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function F9(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||Ye(a)||Qs(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||Ye(a)||Qs(a)?e(a):r(a)}function s(a){return cn(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):cn(a)?(t.consume(a),o):n(a)}}function V9(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Zt(s)?n(s):e(s)}}function ZI(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Ye(t)}function eC(t){return!cn(t)}function tC(t){return!(t===47||xg(t))}function xg(t){return t===43||t===45||t===46||t===95||Zt(t)}function zv(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const j9={tokenize:G9,partial:!0};function $9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:H9,continuation:{tokenize:W9},exit:q9}},text:{91:{name:"gfmFootnoteCall",tokenize:B9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:U9,resolveTo:z9}}}}function U9(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const u=fr(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function z9(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function B9(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!o||h===null||h===91||Ye(h))return n(h);if(h===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(fr(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return Ye(h)||(o=!0),s++,t.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,u):u(h)}}function H9(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(w)}function d(w){if(o>999||w===93&&!a||w===null||w===91||Ye(w))return n(w);if(w===93){t.exit("chunkString");const b=t.exit("gfmFootnoteDefinitionLabelString");return s=fr(r.sliceSerialize(b)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return Ye(w)||(a=!0),o++,t.consume(w),w===92?h:d}function h(w){return w===91||w===92||w===93?(t.consume(w),o++,d):d(w)}function f(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),i.includes(s)||i.push(s),Ve(t,p,"gfmFootnoteDefinitionWhitespace")):n(w)}function p(w){return e(w)}}function W9(t,e,n){return t.check(Ru,e,t.attempt(j9,e,n))}function q9(t){t.exit("gfmFootnoteDefinition")}function G9(t,e,n){const r=this;return Ve(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function K9(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",d,a],["enter",o[u][1],a],["exit",o[u][1],a],["enter",h,a]],p=a.parser.constructs.insideSpan.null;p&&$n(f,f.length,0,nf(p,o.slice(u+1,l),a)),$n(f,f.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",d,a]]),$n(o,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const u=this.previous,d=this.events;let h=0;return f;function f(w){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(w):(o.enter("strikethroughSequenceTemporary"),p(w))}function p(w){const b=oa(u);if(w===126)return h>1?l(w):(o.consume(w),h++,p);if(h<2&&!n)return l(w);const R=o.exit("strikethroughSequenceTemporary"),_=oa(w);return R._open=!_||_===2&&!!b,R._close=!b||b===2&&!!_,a(w)}}}class Q9{constructor(){this.map=[]}add(e,n,r){Y9(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function Y9(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function X9(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function J9(){return{flow:{null:{name:"table",tokenize:Z9,resolveAll:eB}}}}function Z9(t,e,n){const r=this;let i=0,s=0,o;return a;function a(E){let A=r.events.length-1;for(;A>-1;){const W=r.events[A][1].type;if(W==="lineEnding"||W==="linePrefix")A--;else break}const C=A>-1?r.events[A][1].type:null,I=C==="tableHead"||C==="tableRow"?M:l;return I===M&&r.parser.lazy[r.now().line]?n(E):I(E)}function l(E){return t.enter("tableHead"),t.enter("tableRow"),u(E)}function u(E){return E===124||(o=!0,s+=1),d(E)}function d(E){return E===null?n(E):ge(E)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):n(E):Pe(E)?Ve(t,d,"whitespace")(E):(s+=1,o&&(o=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),h(E)))}function h(E){return E===null||E===124||Ye(E)?(t.exit("data"),d(E)):(t.consume(E),E===92?f:h)}function f(E){return E===92||E===124?(t.consume(E),h):h(E)}function p(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),o=!1,Pe(E)?Ve(t,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):w(E))}function w(E){return E===45||E===58?R(E):E===124?(o=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),b):F(E)}function b(E){return Pe(E)?Ve(t,R,"whitespace")(E):R(E)}function R(E){return E===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),_):E===45?(s+=1,_(E)):E===null||ge(E)?L(E):F(E)}function _(E){return E===45?(t.enter("tableDelimiterFiller"),v(E)):F(E)}function v(E){return E===45?(t.consume(E),v):E===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),k):(t.exit("tableDelimiterFiller"),k(E))}function k(E){return Pe(E)?Ve(t,L,"whitespace")(E):L(E)}function L(E){return E===124?w(E):E===null||ge(E)?!o||i!==s?F(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):F(E)}function F(E){return n(E)}function M(E){return t.enter("tableRow"),P(E)}function P(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),P):E===null||ge(E)?(t.exit("tableRow"),e(E)):Pe(E)?Ve(t,P,"whitespace")(E):(t.enter("data"),x(E))}function x(E){return E===null||E===124||Ye(E)?(t.exit("data"),P(E)):(t.consume(E),E===92?T:x)}function T(E){return E===92||E===124?(t.consume(E),x):x(E)}}function eB(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,u,d,h;const f=new Q9;for(;++n<t.length;){const p=t[n],w=p[1];p[0]==="enter"?w.type==="tableHead"?(a=!1,l!==0&&(kx(f,e,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},f.add(n,0,[["enter",u,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},f.add(n,0,[["enter",d,e]])),i=w.type==="tableDelimiterRow"?2:d?3:1):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=Ac(f,e,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=Ac(f,e,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):w.type==="tableHead"?(a=!0,l=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],h=Ac(f,e,s,i,n,h)):o[1]!==0&&(h=Ac(f,e,o,i,n,h)),i=0):i&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&kx(f,e,l,u,d),f.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=X9(e.events,n))}return t}function Ac(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},yo(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=yo(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const u=yo(e.events,n[2]),d=yo(e.events,n[3]),h={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const f=e.events[n[2]],p=e.events[n[3]];if(f[1].end=Object.assign({},p[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,b=n[3]-n[2]-1;t.add(w,b,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(s.end=Object.assign({},yo(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function kx(t,e,n,r,i){const s=[],o=yo(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function yo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const tB={name:"tasklistCheck",tokenize:rB};function nB(){return{text:{91:tB}}}function rB(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Ye(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return ge(l)?e(l):Pe(l)?t.check({tokenize:iB},e,n)(l):n(l)}}function iB(t,e,n){return Ve(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function sB(t){return dI([P9(),$9(),K9(t),J9(),nB()])}const oB={};function aB(t){const e=this,n=t||oB,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(sB(n)),s.push(S9()),o.push(I9(n))}function lB({theme:t,setTheme:e,user:n,isAuthorized:r,handleSignIn:i,handleSignOut:s}){const[o,a]=D.useState(!1),[l,u]=D.useState("Loading...");D.useEffect(()=>{o&&l==="Loading..."&&fetch("CHANGELOG.md").then(h=>{if(h.ok)return h.text();throw new Error("Could not load changelog.")}).then(h=>u(h)).catch(h=>u(h.message))},[o]);const d=()=>n?n.isAnonymous?g.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 rounded-md font-semibold text-sm bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:[g.jsx(Fe,{name:"google",type:"fab",className:"mr-2"})," Admin Sign-In"]}):g.jsxs("div",{className:"space-y-3 text-center",children:[g.jsxs("p",{children:["Signed in as ",g.jsx("span",{className:"font-semibold",children:n.email})]}),r&&g.jsx("p",{className:"text-green-600 dark:text-green-400 font-bold",children:"You have admin privileges."}),g.jsx("button",{className:"w-full px-4 py-2 rounded-md font-semibold text-sm bg-gray-500 text-white hover:bg-gray-600",onClick:s,children:"Sign Out"})]}):null;return g.jsxs("div",{className:"settings-view space-y-4",children:[g.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),g.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-md font-semibold mb-2",children:"Theme"}),g.jsxs("div",{className:"flex w-full rounded-md shadow-sm",children:[g.jsx("button",{onClick:()=>e("light"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-l-md border ${t==="light"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Light"}),g.jsx("button",{onClick:()=>e("dark"),className:`flex-1 px-4 py-2 text-sm font-medium border-t border-b ${t==="dark"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Dark"}),g.jsx("button",{onClick:()=>e("system"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-r-md border ${t==="system"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"System"})]})]})}),g.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:g.jsxs("div",{className:"p-4",children:[g.jsxs("button",{className:"flex justify-between items-center w-full font-semibold",onClick:()=>a(!o),"aria-expanded":o,children:[g.jsx("span",{children:"Version History & Changelog"}),g.jsx(Fe,{name:o?"chevron-up":"chevron-down"})]}),o&&g.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none mt-4 pt-4 border-t border-border-light dark:border-border-dark",children:g.jsx(Kz,{remarkPlugins:[aB],children:l})})]})}),g.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:g.jsxs("div",{className:"p-4",children:[g.jsx("h3",{className:"text-md font-semibold mb-2 text-center",children:"Account"}),d()]})})]})}const bx=new Ur,uB=t=>{try{localStorage.setItem("swimMeetFavorites",JSON.stringify(Array.from(t)))}catch(e){console.error("Error saving favorites:",e)}},cB=()=>{try{const t=localStorage.getItem("swimMeetFavorites");return t?new Set(JSON.parse(t)):new Set}catch(t){return console.error("Error loading favorites:",t),new Set}};function dB(){const[t,e]=D.useState(localStorage.getItem("theme")||"system"),[n,r]=D.useState(null),[i,s]=D.useState(null),[o,a]=D.useState(!1),[l,u]=D.useState(cB),[d,h]=D.useState("schedule"),[f,p]=D.useState({eventNumber:1,heatNumber:1,isTracking:!1}),[w,b]=D.useState(""),[R,_]=D.useState(""),[v,k]=D.useState(!1),[L,F]=D.useState(null),[M,P]=D.useState(!0),[x,T]=D.useState(null),[E,A]=D.useState([]),[C,I]=D.useState(null),[W,H]=D.useState({}),[ne,re]=D.useState([]);D.useEffect(()=>{const z=me=>{const he=me==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":me,se=document.documentElement;he==="dark"?se.classList.add("dark"):se.classList.remove("dark")};z(t),localStorage.setItem("theme",t);const X=window.matchMedia("(prefers-color-scheme: dark)"),Q=()=>z(t);return X.addEventListener("change",Q),()=>X.removeEventListener("change",Q)},[t]),D.useEffect(()=>{if(!ms){T("Authentication service is not available.");return}return bL(ms,async X=>{if(X)if(r(X),X.email)if(X.email==="jonny5v@gmail.com")a(!0),s("SUPERADMIN");else{a(!1);const Q=Be(ce,"team_admins",X.email),me=await Rj(Q);s(me.exists()?me.data().team:null)}else s(null),a(!1);else vL(ms).catch(Q=>{console.error("Anonymous sign-in failed:",Q)})})},[]),D.useEffect(()=>{if(!ce)return;const z=lt(ce,"rosters"),X=jt(z,Q=>{const me={};Q.forEach(he=>{const se=he.id;(he.data().swimmers||[]).forEach(ke=>{me[ke.id]={...ke,team:se}})}),H(me)});return()=>X()},[]),D.useEffect(()=>{if(!ce)return;const z=lt(ce,"meets"),X=jt(z,Q=>{const me=Q.docs.map(he=>({id:he.id,...he.data(),date:he.data().date.toDate()}));if(A(me.sort((he,se)=>he.date-se.date)),!C&&me.length>0){const he=new Date,se=me.find(le=>le.date>=he);I(se?se.id:me[me.length-1].id)}P(!1)},Q=>{console.error("Error fetching meets:",Q),P(!1)});return()=>X()},[]),D.useEffect(()=>{if(!ce||E.length===0){re([]);return}const z=lt(ce,"meet_events"),X=jt(z,Q=>{const he=Q.docs.map(le=>({id:le.id,...le.data()})).reduce((le,ke)=>{const ye=ke.meetId;return le[ye]||(le[ye]=[]),le[ye].push(ke),le},{}),se=E.map(le=>({...le,events:(he[le.id]||[]).sort((ke,ye)=>ke.eventNumber-ye.eventNumber)}));re(se)});return()=>X()},[E]),D.useEffect(()=>{if(C){const z=ne.find(X=>X.id===C);F(z||null)}else F(null)},[C,ne]);const B=()=>{!ms||!bx||HL(ms,bx).catch(z=>console.error("Sign-in failed:",z))},ee=()=>ms&&ms.signOut();D.useEffect(()=>{if(!ce||!C)return;const z=Be(ce,"meet_status",C),X=jt(z,Q=>{Q.exists()?p(Q.data()):Fs(z,{eventNumber:1,heatNumber:1,isTracking:!1})});return()=>X()},[ce,C]);const O=async z=>{if(!ce||!i||!C)return;const X=Be(ce,"meet_status",C);await ia(X,z)};D.useEffect(()=>uB(l),[l]);const ie=z=>{u(X=>{const Q=new Set(X);return Q.has(z)?Q.delete(z):Q.add(z),Q})};D.useEffect(()=>{if(Object.keys(W).length===0)return;let z=!1;const X=new Set(l);for(const Q of X)W[Q]||(X.delete(Q),z=!0);z&&(console.log("Cleaned stale swimmer IDs from favorites."),u(X))},[W,l]);const V=D.useMemo(()=>Array.from(l).map(X=>{const Q=W[X];if(!Q)return{id:X,name:"Loading swimmer...",team:"",events:[]};const me=[];if(L&&L.events){const he=se=>(se||"").replace("Freestyle","Free").replace("Backstroke","Back").replace("Breaststroke","Breast").replace("Butterfly","Fly");L.events.forEach(se=>{se.heats&&se.heats.forEach(le=>{le.lanes.forEach(ke=>{ke.swimmers.forEach(ye=>{ye.id===X&&me.push(`E${se.eventNumber} H${le.heatNumber} L${ke.lane}: ${he(se.name)}`)})})})})}return{id:X,name:`${Q.firstName} ${Q.lastName}`,team:Q.team,events:me,isInCurrentMeet:me.length>0}}).sort((X,Q)=>X.name.localeCompare(Q.name)),[l,W,L]),S=D.useMemo(()=>{if(!R.trim()||Object.keys(W).length===0)return[];const z=R.toLowerCase();return Object.values(W).filter(Q=>`${Q.firstName} ${Q.lastName}`.toLowerCase().includes(z)).map(Q=>({id:Q.id,name:`${Q.firstName} ${Q.lastName}`,team:Q.team})).sort((Q,me)=>Q.name.localeCompare(me.name))},[R,W]),G=D.useMemo(()=>{if(!w.trim()||!L||!L.events)return[];const z=w.toLowerCase();return L.events.filter(X=>X.name.toLowerCase().includes(z)||String(X.eventNumber).includes(z))},[w,L]);if(M)return g.jsx("div",{className:"flex justify-center items-center h-screen",children:g.jsx("h4",{className:"text-lg font-semibold",children:"Loading Meet Data..."})});if(x)return g.jsx("div",{className:"container mx-auto mt-4",children:g.jsx("div",{className:"p-4 text-red-800 bg-red-100 border border-red-200 rounded-md",children:x})});const te=()=>{switch(d){case"schedule":return L?g.jsx(q_,{events:L.events,favorites:l,currentEvent:f,toggleFavorite:ie,adminRole:i,updateMeetStatus:O}):g.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."});case"searchEvents":return L?g.jsx(qN,{search:w,setSearch:b,results:G,favorites:l,currentEvent:f,toggleFavorite:ie}):g.jsx("p",{className:"text-center",children:"Select a meet to search events."});case"searchSwimmers":return L?g.jsx(GN,{search:R,setSearch:_,results:S,favorites:l,toggleFavorite:ie}):g.jsx("p",{className:"text-center",children:"Select a meet to search swimmers."});case"admin":return g.jsx(y4,{adminRole:i,isSuperAdmin:o,allMeets:ne,toast:Ue});case"settings":return g.jsx(lB,{theme:t,setTheme:e,user:n,isAuthorized:!!i,handleSignIn:B,handleSignOut:ee});default:return L?g.jsx(q_,{events:L.events,favorites:l,currentEvent:f,toggleFavorite:ie,adminRole:i,updateMeetStatus:O}):g.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."})}};return g.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark text-text-dark dark:text-text-light transition-colors duration-300 pb-20 min-h-screen",children:[g.jsx($N,{position:"top-center",reverseOrder:!1,toastOptions:{className:"dark:bg-surface-dark dark:text-text-light"}}),g.jsx(WN,{}),g.jsxs("div",{className:"container mx-auto px-4 py-4",children:[g.jsxs("header",{className:"text-center mb-4",children:[d!=="admin"&&L?g.jsx("h1",{className:"font-bold text-3xl text-primary",children:L.name}):g.jsx("h1",{className:"font-bold text-3xl text-primary",children:"Swim Meet Live"}),E.length>0&&d!=="admin"&&g.jsx("div",{className:"mt-2 max-w-md mx-auto",children:g.jsx("select",{className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md text-sm bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",value:C||"",onChange:z=>I(z.target.value),children:E.map(z=>g.jsxs("option",{value:z.id,children:[z.name," - ",z.date.toLocaleDateString()]},z.id))})})]}),d!=="settings"&&d!=="admin"&&L&&g.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden mb-3",children:[g.jsx("h2",{className:"accordion-header",id:"favorites-header",children:g.jsxs("button",{className:"flex justify-between items-center w-full p-4 font-semibold text-left bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",onClick:()=>k(!v),"aria-expanded":v,"aria-controls":"favorites-content",children:[g.jsxs("span",{children:["My Favorites (",l.size,")"]}),g.jsx(Fe,{name:v?"chevron-up":"chevron-down",className:`transition-transform duration-200 ${v?"rotate-180":""}`})]})}),v&&g.jsx("div",{id:"favorites-content",className:"p-4 bg-white dark:bg-surface-dark border-t border-border-light dark:border-border-dark",role:"region","aria-labelledby":"favorites-header",children:V.length>0?g.jsx("div",{className:"divide-y divide-border-light dark:divide-border-dark -mx-4",children:V.map(z=>g.jsxs("div",{className:"px-4 py-3 flex justify-between items-start",children:[g.jsxs("div",{className:"mr-auto",children:[g.jsxs("div",{className:"font-bold flex items-center",children:[g.jsx("span",{children:z.name}),z.isInCurrentMeet&&g.jsx("span",{className:"ml-2 h-2.5 w-2.5 bg-green-500 rounded-full",title:"Swimming in this meet"})]}),g.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:z.events.length>0?z.events.map((X,Q)=>g.jsx("div",{children:X},Q)):g.jsx("p",{className:"italic text-gray-400 dark:text-gray-500 mt-1",children:"Not in this meet"})})]}),d==="searchSwimmers"&&g.jsx("button",{className:"p-2 -m-2",onClick:()=>ie(z.id),"aria-label":`Toggle favorite for ${z.name}`,children:g.jsx("div",{className:"text-secondary",children:g.jsx(Fe,{name:"star",type:"fas"})})})]},z.id))}):g.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-0",children:"No favorites added yet. Tap the star next to a swimmer's name to add them."})})]}),g.jsx("main",{children:te()})]}),g.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark z-30",children:g.jsxs("div",{className:"flex justify-around items-center",children:[g.jsxs("button",{onClick:()=>h("schedule"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${d==="schedule"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[g.jsx("div",{children:g.jsx(Fe,{name:"list-ol"})}),g.jsx("div",{className:"text-xs",children:"Schedule"})]}),g.jsxs("button",{onClick:()=>h("searchEvents"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${d==="searchEvents"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[g.jsx("div",{children:g.jsx(Fe,{name:"magnifying-glass"})}),g.jsx("div",{className:"text-xs",children:"Events"})]}),g.jsxs("button",{onClick:()=>h("searchSwimmers"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${d==="searchSwimmers"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[g.jsx("div",{children:g.jsx(Fe,{name:"user"})}),g.jsx("div",{className:"text-xs",children:"Swimmers"})]}),i&&g.jsxs("button",{onClick:()=>h("admin"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${d==="admin"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[g.jsx("div",{children:g.jsx(Fe,{name:"user-shield"})}),g.jsx("div",{className:"text-xs",children:"Admin"})]}),g.jsxs("button",{onClick:()=>h("settings"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${d==="settings"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[g.jsx("div",{children:g.jsx(Fe,{name:"gear"})}),g.jsx("div",{className:"text-xs",children:"Settings"})]})]})})]})}Op.createRoot(document.getElementById("root")).render(g.jsx(be.StrictMode,{children:g.jsx(dB,{})}));
