(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _b={exports:{}},uh={},Eb={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),AC=Symbol.for("react.portal"),PC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),NC=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),MC=Symbol.for("react.suspense"),VC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),Nv=Symbol.iterator;function jC(t){return t===null||typeof t!="object"?null:(t=Nv&&t[Nv]||t["@@iterator"],typeof t=="function"?t:null)}var bb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kb=Object.assign,xb={};function ea(t,e,n){this.props=t,this.context=e,this.refs=xb,this.updater=n||bb}ea.prototype.isReactComponent={};ea.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ea.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tb(){}Tb.prototype=ea.prototype;function mg(t,e,n){this.props=t,this.context=e,this.refs=xb,this.updater=n||bb}var gg=mg.prototype=new Tb;gg.constructor=mg;kb(gg,ea.prototype);gg.isPureReactComponent=!0;var Dv=Array.isArray,Ib=Object.prototype.hasOwnProperty,yg={current:null},Sb={key:!0,ref:!0,__self:!0,__source:!0};function Cb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ib.call(e,r)&&!Sb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Jl,type:t,key:s,ref:o,props:i,_owner:yg.current}}function BC(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function zC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ov=/\/+/g;function vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zC(""+t.key):e.toString(36)}function Ic(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jl:case AC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+vf(o,0):r,Dv(i)?(n="",t!=null&&(n=t.replace(Ov,"$&/")+"/"),Ic(i,e,n,"",function(c){return c})):i!=null&&(wg(i)&&(i=BC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ov,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Dv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+vf(s,a);o+=Ic(s,e,n,l,i)}else if(l=jC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+vf(s,a++),o+=Ic(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],i=0;return Ic(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},Sc={transition:null},$C={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:yg};function Ab(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=ea;xe.Fragment=PC;xe.Profiler=NC;xe.PureComponent=mg;xe.StrictMode=RC;xe.Suspense=MC;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$C;xe.act=Ab;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=yg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ib.call(e,l)&&!Sb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Jl,type:t.type,key:i,ref:s,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:OC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DC,_context:t},t.Consumer=t};xe.createElement=Cb;xe.createFactory=function(t){var e=Cb.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:LC,render:t}};xe.isValidElement=wg;xe.lazy=function(t){return{$$typeof:FC,_payload:{_status:-1,_result:t},_init:UC}};xe.memo=function(t,e){return{$$typeof:VC,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};xe.unstable_act=Ab;xe.useCallback=function(t,e){return un.current.useCallback(t,e)};xe.useContext=function(t){return un.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return un.current.useDeferredValue(t)};xe.useEffect=function(t,e){return un.current.useEffect(t,e)};xe.useId=function(){return un.current.useId()};xe.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return un.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};xe.useRef=function(t){return un.current.useRef(t)};xe.useState=function(t){return un.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return un.current.useTransition()};xe.version="18.3.1";Eb.exports=xe;var J=Eb.exports;const HC=pg(J);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=J,WC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,QC=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YC={key:!0,ref:!0,__self:!0,__source:!0};function Pb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KC.call(e,r)&&!YC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WC,type:t,key:s,ref:o,props:i,_owner:QC.current}}uh.Fragment=GC;uh.jsx=Pb;uh.jsxs=Pb;_b.exports=uh;var E=_b.exports,Pp={},Rb={exports:{}},jn={},Nb={exports:{}},Db={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Z){var N=U.length;U.push(Z);e:for(;0<N;){var te=N-1>>>1,ue=U[te];if(0<i(ue,Z))U[te]=Z,U[N]=ue,N=te;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var Z=U[0],N=U.pop();if(N!==Z){U[0]=N;e:for(var te=0,ue=U.length,D=ue>>>1;te<D;){var Fe=2*(te+1)-1,ne=U[Fe],re=Fe+1,ae=U[re];if(0>i(ne,N))re<ue&&0>i(ae,ne)?(U[te]=ae,U[re]=N,te=re):(U[te]=ne,U[Fe]=N,te=Fe);else if(re<ue&&0>i(ae,N))U[te]=ae,U[re]=N,te=re;else break e}}return Z}function i(U,Z){var N=U.sortIndex-Z.sortIndex;return N!==0?N:U.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,y=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var Z=n(c);Z!==null;){if(Z.callback===null)r(c);else if(Z.startTime<=U)r(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=n(c)}}function L(U){if(I=!1,T(U),!y)if(n(l)!==null)y=!0,ee(F);else{var Z=n(c);Z!==null&&X(L,Z.startTime-U)}}function F(U,Z){y=!1,I&&(I=!1,w(b),b=-1),m=!0;var N=p;try{for(T(Z),h=n(l);h!==null&&(!(h.expirationTime>Z)||U&&!x());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var ue=te(h.expirationTime<=Z);Z=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(l)&&r(l),T(Z)}else r(l);h=n(l)}if(h!==null)var D=!0;else{var Fe=n(c);Fe!==null&&X(L,Fe.startTime-Z),D=!1}return D}finally{h=null,p=N,m=!1}}var O=!1,C=null,b=-1,S=5,v=-1;function x(){return!(t.unstable_now()-v<S)}function R(){if(C!==null){var U=t.unstable_now();v=U;var Z=!0;try{Z=C(!0,U)}finally{Z?A():(O=!1,C=null)}}else O=!1}var A;if(typeof _=="function")A=function(){_(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,H=V.port2;V.port1.onmessage=R,A=function(){H.postMessage(null)}}else A=function(){P(R,0)};function ee(U){C=U,O||(O=!0,A())}function X(U,Z){b=P(function(){U(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ee(F))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var N=p;p=Z;try{return U()}finally{p=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var N=p;p=U;try{return Z()}finally{p=N}},t.unstable_scheduleCallback=function(U,Z,N){var te=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?te+N:te):N=te,U){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=N+ue,U={id:d++,callback:Z,priorityLevel:U,startTime:N,expirationTime:ue,sortIndex:-1},N>te?(U.sortIndex=N,e(c,U),n(l)===null&&U===n(c)&&(I?(w(b),b=-1):I=!0,X(L,N-te))):(U.sortIndex=ue,e(l,U),y||m||(y=!0,ee(F))),U},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(U){var Z=p;return function(){var N=p;p=Z;try{return U.apply(this,arguments)}finally{p=N}}}})(Db);Nb.exports=Db;var XC=Nb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=J,Vn=XC;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ob=new Set,bl={};function Fs(t,e){Lo(t,e),Lo(t+"Capture",e)}function Lo(t,e){for(bl[t]=e,t=0;t<e.length;t++)Ob.add(e[t])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=Object.prototype.hasOwnProperty,ZC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lv={},Mv={};function e2(t){return Rp.call(Mv,t)?!0:Rp.call(Lv,t)?!1:ZC.test(t)?Mv[t]=!0:(Lv[t]=!0,!1)}function t2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n2(t,e,n,r){if(e===null||typeof e>"u"||t2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function _g(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vg,_g);Mt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vg,_g);Mt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vg,_g);Mt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Eg(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n2(e,n,i,r)&&(n=null),r||i===null?e2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ri=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),Lb=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),Vb=Symbol.for("react.offscreen"),Vv=Symbol.iterator;function Na(t){return t===null||typeof t!="object"?null:(t=Vv&&t[Vv]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,_f;function $a(t){if(_f===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_f=e&&e[1]||""}return`
`+_f+t}var Ef=!1;function bf(t,e){if(!t||Ef)return"";Ef=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ef=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function r2(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case ao:return"Portal";case Np:return"Profiler";case bg:return"StrictMode";case Dp:return"Suspense";case Op:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mb:return(t.displayName||"Context")+".Consumer";case Lb:return(t._context.displayName||"Context")+".Provider";case kg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xg:return e=t.displayName||null,e!==null?e:Lp(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return Lp(t(e))}catch{}}return null}function i2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lp(e);case 8:return e===bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function s2(t){var e=Fb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xu(t){t._valueTracker||(t._valueTracker=s2(t))}function jb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mp(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bb(t,e){e=e.checked,e!=null&&Eg(t,"checked",e,!1)}function Vp(t,e){Bb(t,e);var n=qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fp(t,e.type,qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fp(t,e,n){(e!=="number"||rd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ha=Array.isArray;function Eo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(Ha(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qi(n)}}function zb(t,e){var n=qi(e.value),r=qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ub(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ub(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,$b=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o2=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(t){o2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),el[e]=el[t]})});function Hb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||el.hasOwnProperty(t)&&el[t]?(""+e).trim():e+"px"}function qb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var a2=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zp(t,e){if(e){if(a2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function Up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function Tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hp=null,bo=null,ko=null;function Uv(t){if(t=tu(t)){if(typeof Hp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=ph(e),Hp(t.stateNode,t.type,e))}}function Wb(t){bo?ko?ko.push(t):ko=[t]:bo=t}function Gb(){if(bo){var t=bo,e=ko;if(ko=bo=null,Uv(t),e)for(t=0;t<e.length;t++)Uv(e[t])}}function Kb(t,e){return t(e)}function Qb(){}var kf=!1;function Yb(t,e,n){if(kf)return t(e,n);kf=!0;try{return Kb(t,e,n)}finally{kf=!1,(bo!==null||ko!==null)&&(Qb(),Gb())}}function xl(t,e){var n=t.stateNode;if(n===null)return null;var r=ph(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var qp=!1;if(Gr)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){qp=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{qp=!1}function l2(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var tl=!1,id=null,sd=!1,Wp=null,u2={onError:function(t){tl=!0,id=t}};function c2(t,e,n,r,i,s,o,a,l){tl=!1,id=null,l2.apply(u2,arguments)}function d2(t,e,n,r,i,s,o,a,l){if(c2.apply(this,arguments),tl){if(tl){var c=id;tl=!1,id=null}else throw Error(G(198));sd||(sd=!0,Wp=c)}}function js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $v(t){if(js(t)!==t)throw Error(G(188))}function h2(t){var e=t.alternate;if(!e){if(e=js(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return $v(i),t;if(s===r)return $v(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function Jb(t){return t=h2(t),t!==null?Zb(t):null}function Zb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zb(t);if(e!==null)return e;t=t.sibling}return null}var ek=Vn.unstable_scheduleCallback,Hv=Vn.unstable_cancelCallback,f2=Vn.unstable_shouldYield,p2=Vn.unstable_requestPaint,ht=Vn.unstable_now,m2=Vn.unstable_getCurrentPriorityLevel,Ig=Vn.unstable_ImmediatePriority,tk=Vn.unstable_UserBlockingPriority,od=Vn.unstable_NormalPriority,g2=Vn.unstable_LowPriority,nk=Vn.unstable_IdlePriority,ch=null,Er=null;function y2(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(ch,t,void 0,(t.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:_2,w2=Math.log,v2=Math.LN2;function _2(t){return t>>>=0,t===0?32:31-(w2(t)/v2|0)|0}var Zu=64,ec=4194304;function qa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=qa(a):(s&=o,s!==0&&(r=qa(s)))}else o=n&~i,o!==0?r=qa(o):s!==0&&(r=qa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ar(e),i=1<<n,r|=t[n],e&=~i;return r}function E2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ar(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=E2(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rk(){var t=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),t}function xf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ar(e),t[e]=n}function k2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ar(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ar(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function ik(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sk,Cg,ok,ak,lk,Kp=!1,tc=[],Ri=null,Ni=null,Di=null,Tl=new Map,Il=new Map,wi=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qv(t,e){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":Tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function Oa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tu(e),e!==null&&Cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function T2(t,e,n,r,i){switch(e){case"focusin":return Ri=Oa(Ri,t,e,n,r,i),!0;case"dragenter":return Ni=Oa(Ni,t,e,n,r,i),!0;case"mouseover":return Di=Oa(Di,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tl.set(s,Oa(Tl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Il.set(s,Oa(Il.get(s)||null,t,e,n,r,i)),!0}return!1}function uk(t){var e=gs(t.target);if(e!==null){var n=js(e);if(n!==null){if(e=n.tag,e===13){if(e=Xb(n),e!==null){t.blockedOn=e,lk(t.priority,function(){ok(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return e=tu(n),e!==null&&Cg(e),t.blockedOn=n,!1;e.shift()}return!0}function Wv(t,e,n){Cc(t)&&n.delete(e)}function I2(){Kp=!1,Ri!==null&&Cc(Ri)&&(Ri=null),Ni!==null&&Cc(Ni)&&(Ni=null),Di!==null&&Cc(Di)&&(Di=null),Tl.forEach(Wv),Il.forEach(Wv)}function La(t,e){t.blockedOn===e&&(t.blockedOn=null,Kp||(Kp=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,I2)))}function Sl(t){function e(i){return La(i,t)}if(0<tc.length){La(tc[0],t);for(var n=1;n<tc.length;n++){var r=tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ri!==null&&La(Ri,t),Ni!==null&&La(Ni,t),Di!==null&&La(Di,t),Tl.forEach(e),Il.forEach(e),n=0;n<wi.length;n++)r=wi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wi.length&&(n=wi[0],n.blockedOn===null);)uk(n),n.blockedOn===null&&wi.shift()}var xo=ri.ReactCurrentBatchConfig,ld=!0;function S2(t,e,n,r){var i=ze,s=xo.transition;xo.transition=null;try{ze=1,Ag(t,e,n,r)}finally{ze=i,xo.transition=s}}function C2(t,e,n,r){var i=ze,s=xo.transition;xo.transition=null;try{ze=4,Ag(t,e,n,r)}finally{ze=i,xo.transition=s}}function Ag(t,e,n,r){if(ld){var i=Qp(t,e,n,r);if(i===null)Of(t,e,r,ud,n),qv(t,r);else if(T2(i,t,e,n,r))r.stopPropagation();else if(qv(t,r),e&4&&-1<x2.indexOf(t)){for(;i!==null;){var s=tu(i);if(s!==null&&sk(s),s=Qp(t,e,n,r),s===null&&Of(t,e,r,ud,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Of(t,e,r,null,n)}}var ud=null;function Qp(t,e,n,r){if(ud=null,t=Tg(r),t=gs(t),t!==null)if(e=js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ud=t,null}function ck(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m2()){case Ig:return 1;case tk:return 4;case od:case g2:return 16;case nk:return 536870912;default:return 16}default:return 16}}var Ti=null,Pg=null,Ac=null;function dk(){if(Ac)return Ac;var t,e=Pg,n=e.length,r,i="value"in Ti?Ti.value:Ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ac=i.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nc(){return!0}function Gv(){return!1}function Bn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?nc:Gv,this.isPropagationStopped=Gv,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nc)},persist:function(){},isPersistent:nc}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=Bn(ta),eu=it({},ta,{view:0,detail:0}),A2=Bn(eu),Tf,If,Ma,dh=it({},eu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ng,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ma&&(Ma&&t.type==="mousemove"?(Tf=t.screenX-Ma.screenX,If=t.screenY-Ma.screenY):If=Tf=0,Ma=t),Tf)},movementY:function(t){return"movementY"in t?t.movementY:If}}),Kv=Bn(dh),P2=it({},dh,{dataTransfer:0}),R2=Bn(P2),N2=it({},eu,{relatedTarget:0}),Sf=Bn(N2),D2=it({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),O2=Bn(D2),L2=it({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M2=Bn(L2),V2=it({},ta,{data:0}),Qv=Bn(V2),F2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=B2[t])?!!e[t]:!1}function Ng(){return z2}var U2=it({},eu,{key:function(t){if(t.key){var e=F2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?j2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ng,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$2=Bn(U2),H2=it({},dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yv=Bn(H2),q2=it({},eu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ng}),W2=Bn(q2),G2=it({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),K2=Bn(G2),Q2=it({},dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y2=Bn(Q2),X2=[9,13,27,32],Dg=Gr&&"CompositionEvent"in window,nl=null;Gr&&"documentMode"in document&&(nl=document.documentMode);var J2=Gr&&"TextEvent"in window&&!nl,hk=Gr&&(!Dg||nl&&8<nl&&11>=nl),Xv=" ",Jv=!1;function fk(t,e){switch(t){case"keyup":return X2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function Z2(t,e){switch(t){case"compositionend":return pk(e);case"keypress":return e.which!==32?null:(Jv=!0,Xv);case"textInput":return t=e.data,t===Xv&&Jv?null:t;default:return null}}function eA(t,e){if(uo)return t==="compositionend"||!Dg&&fk(t,e)?(t=dk(),Ac=Pg=Ti=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hk&&e.locale!=="ko"?null:e.data;default:return null}}var tA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tA[t.type]:e==="textarea"}function mk(t,e,n,r){Wb(r),e=cd(e,"onChange"),0<e.length&&(n=new Rg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rl=null,Cl=null;function nA(t){Ik(t,0)}function hh(t){var e=fo(t);if(jb(e))return t}function rA(t,e){if(t==="change")return e}var gk=!1;if(Gr){var Cf;if(Gr){var Af="oninput"in document;if(!Af){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Af=typeof e_.oninput=="function"}Cf=Af}else Cf=!1;gk=Cf&&(!document.documentMode||9<document.documentMode)}function t_(){rl&&(rl.detachEvent("onpropertychange",yk),Cl=rl=null)}function yk(t){if(t.propertyName==="value"&&hh(Cl)){var e=[];mk(e,Cl,t,Tg(t)),Yb(nA,e)}}function iA(t,e,n){t==="focusin"?(t_(),rl=e,Cl=n,rl.attachEvent("onpropertychange",yk)):t==="focusout"&&t_()}function sA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hh(Cl)}function oA(t,e){if(t==="click")return hh(e)}function aA(t,e){if(t==="input"||t==="change")return hh(e)}function lA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:lA;function Al(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rp.call(e,i)||!dr(t[i],e[i]))return!1}return!0}function n_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function r_(t,e){var n=n_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=n_(n)}}function wk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vk(){for(var t=window,e=rd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uA(t){var e=vk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wk(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=r_(n,s);var o=r_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cA=Gr&&"documentMode"in document&&11>=document.documentMode,co=null,Yp=null,il=null,Xp=!1;function i_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xp||co==null||co!==rd(r)||(r=co,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),il&&Al(il,r)||(il=r,r=cd(Yp,"onSelect"),0<r.length&&(e=new Rg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=co)))}function rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ho={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionend:rc("Transition","TransitionEnd")},Pf={},_k={};Gr&&(_k=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function fh(t){if(Pf[t])return Pf[t];if(!ho[t])return t;var e=ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _k)return Pf[t]=e[n];return t}var Ek=fh("animationend"),bk=fh("animationiteration"),kk=fh("animationstart"),xk=fh("transitionend"),Tk=new Map,s_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,e){Tk.set(t,e),Fs(e,[t])}for(var Rf=0;Rf<s_.length;Rf++){var Nf=s_[Rf],dA=Nf.toLowerCase(),hA=Nf[0].toUpperCase()+Nf.slice(1);Xi(dA,"on"+hA)}Xi(Ek,"onAnimationEnd");Xi(bk,"onAnimationIteration");Xi(kk,"onAnimationStart");Xi("dblclick","onDoubleClick");Xi("focusin","onFocus");Xi("focusout","onBlur");Xi(xk,"onTransitionEnd");Lo("onMouseEnter",["mouseout","mouseover"]);Lo("onMouseLeave",["mouseout","mouseover"]);Lo("onPointerEnter",["pointerout","pointerover"]);Lo("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function o_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,d2(r,e,void 0,t),t.currentTarget=null}function Ik(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;o_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;o_(i,a,c),s=l}}}if(sd)throw t=Wp,sd=!1,Wp=null,t}function Ye(t,e){var n=e[nm];n===void 0&&(n=e[nm]=new Set);var r=t+"__bubble";n.has(r)||(Sk(e,t,2,!1),n.add(r))}function Df(t,e,n){var r=0;e&&(r|=4),Sk(n,t,r,e)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Pl(t){if(!t[ic]){t[ic]=!0,Ob.forEach(function(n){n!=="selectionchange"&&(fA.has(n)||Df(n,!1,t),Df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ic]||(e[ic]=!0,Df("selectionchange",!1,e))}}function Sk(t,e,n,r){switch(ck(e)){case 1:var i=S2;break;case 4:i=C2;break;default:i=Ag}n=i.bind(null,e,n,t),i=void 0,!qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Of(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=gs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Yb(function(){var c=s,d=Tg(n),h=[];e:{var p=Tk.get(t);if(p!==void 0){var m=Rg,y=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":m=$2;break;case"focusin":y="focus",m=Sf;break;case"focusout":y="blur",m=Sf;break;case"beforeblur":case"afterblur":m=Sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=W2;break;case Ek:case bk:case kk:m=O2;break;case xk:m=K2;break;case"scroll":m=A2;break;case"wheel":m=Y2;break;case"copy":case"cut":case"paste":m=M2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Yv}var I=(e&4)!==0,P=!I&&t==="scroll",w=I?p!==null?p+"Capture":null:p;I=[];for(var _=c,T;_!==null;){T=_;var L=T.stateNode;if(T.tag===5&&L!==null&&(T=L,w!==null&&(L=xl(_,w),L!=null&&I.push(Rl(_,L,T)))),P)break;_=_.return}0<I.length&&(p=new m(p,y,null,n,d),h.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==$p&&(y=n.relatedTarget||n.fromElement)&&(gs(y)||y[Kr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?gs(y):null,y!==null&&(P=js(y),y!==P||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(I=Kv,L="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Yv,L="onPointerLeave",w="onPointerEnter",_="pointer"),P=m==null?p:fo(m),T=y==null?p:fo(y),p=new I(L,_+"leave",m,n,d),p.target=P,p.relatedTarget=T,L=null,gs(d)===c&&(I=new I(w,_+"enter",y,n,d),I.target=T,I.relatedTarget=P,L=I),P=L,m&&y)t:{for(I=m,w=y,_=0,T=I;T;T=Js(T))_++;for(T=0,L=w;L;L=Js(L))T++;for(;0<_-T;)I=Js(I),_--;for(;0<T-_;)w=Js(w),T--;for(;_--;){if(I===w||w!==null&&I===w.alternate)break t;I=Js(I),w=Js(w)}I=null}else I=null;m!==null&&a_(h,p,m,I,!1),y!==null&&P!==null&&a_(h,P,y,I,!0)}}e:{if(p=c?fo(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var F=rA;else if(Zv(p))if(gk)F=aA;else{F=sA;var O=iA}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(F=oA);if(F&&(F=F(t,c))){mk(h,F,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Fp(p,"number",p.value)}switch(O=c?fo(c):window,t){case"focusin":(Zv(O)||O.contentEditable==="true")&&(co=O,Yp=c,il=null);break;case"focusout":il=Yp=co=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,i_(h,n,d);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":i_(h,n,d)}var C;if(Dg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else uo?fk(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(hk&&n.locale!=="ko"&&(uo||b!=="onCompositionStart"?b==="onCompositionEnd"&&uo&&(C=dk()):(Ti=d,Pg="value"in Ti?Ti.value:Ti.textContent,uo=!0)),O=cd(c,b),0<O.length&&(b=new Qv(b,t,null,n,d),h.push({event:b,listeners:O}),C?b.data=C:(C=pk(n),C!==null&&(b.data=C)))),(C=J2?Z2(t,n):eA(t,n))&&(c=cd(c,"onBeforeInput"),0<c.length&&(d=new Qv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}Ik(h,e)})}function Rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xl(t,n),s!=null&&r.unshift(Rl(t,s,i)),s=xl(t,e),s!=null&&r.push(Rl(t,s,i))),t=t.return}return r}function Js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function a_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=xl(n,s),l!=null&&o.unshift(Rl(n,l,a))):i||(l=xl(n,s),l!=null&&o.push(Rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(pA,`
`).replace(mA,"")}function sc(t,e,n){if(e=l_(e),l_(t)!==e&&n)throw Error(G(425))}function dd(){}var Jp=null,Zp=null;function em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,gA=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,yA=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(wA)}:tm;function wA(t){setTimeout(function(){throw t})}function Lf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sl(e)}function Oi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function c_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var na=Math.random().toString(36).slice(2),wr="__reactFiber$"+na,Nl="__reactProps$"+na,Kr="__reactContainer$"+na,nm="__reactEvents$"+na,vA="__reactListeners$"+na,_A="__reactHandles$"+na;function gs(t){var e=t[wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kr]||n[wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=c_(t);t!==null;){if(n=t[wr])return n;t=c_(t)}return e}t=n,n=t.parentNode}return null}function tu(t){return t=t[wr]||t[Kr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function ph(t){return t[Nl]||null}var rm=[],po=-1;function Ji(t){return{current:t}}function Je(t){0>po||(t.current=rm[po],rm[po]=null,po--)}function We(t,e){po++,rm[po]=t.current,t.current=e}var Wi={},Kt=Ji(Wi),wn=Ji(!1),Is=Wi;function Mo(t,e){var n=t.type.contextTypes;if(!n)return Wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vn(t){return t=t.childContextTypes,t!=null}function hd(){Je(wn),Je(Kt)}function d_(t,e,n){if(Kt.current!==Wi)throw Error(G(168));We(Kt,e),We(wn,n)}function Ck(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,i2(t)||"Unknown",i));return it({},n,r)}function fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wi,Is=Kt.current,We(Kt,t),We(wn,wn.current),!0}function h_(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=Ck(t,e,Is),r.__reactInternalMemoizedMergedChildContext=t,Je(wn),Je(Kt),We(Kt,t)):Je(wn),We(wn,n)}var Mr=null,mh=!1,Mf=!1;function Ak(t){Mr===null?Mr=[t]:Mr.push(t)}function EA(t){mh=!0,Ak(t)}function Zi(){if(!Mf&&Mr!==null){Mf=!0;var t=0,e=ze;try{var n=Mr;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,mh=!1}catch(i){throw Mr!==null&&(Mr=Mr.slice(t+1)),ek(Ig,Zi),i}finally{ze=e,Mf=!1}}return null}var mo=[],go=0,pd=null,md=0,qn=[],Wn=0,Ss=null,Fr=1,jr="";function ds(t,e){mo[go++]=md,mo[go++]=pd,pd=t,md=e}function Pk(t,e,n){qn[Wn++]=Fr,qn[Wn++]=jr,qn[Wn++]=Ss,Ss=t;var r=Fr;t=jr;var i=32-ar(r)-1;r&=~(1<<i),n+=1;var s=32-ar(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fr=1<<32-ar(e)+i|n<<i|r,jr=s+t}else Fr=1<<s|n<<i|r,jr=t}function Lg(t){t.return!==null&&(ds(t,1),Pk(t,1,0))}function Mg(t){for(;t===pd;)pd=mo[--go],mo[go]=null,md=mo[--go],mo[go]=null;for(;t===Ss;)Ss=qn[--Wn],qn[Wn]=null,jr=qn[--Wn],qn[Wn]=null,Fr=qn[--Wn],qn[Wn]=null}var On=null,Rn=null,et=!1,or=null;function Rk(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function f_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Rn=Oi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Fr,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Rn=null,!0):!1;default:return!1}}function im(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sm(t){if(et){var e=Rn;if(e){var n=e;if(!f_(t,e)){if(im(t))throw Error(G(418));e=Oi(n.nextSibling);var r=On;e&&f_(t,e)?Rk(r,n):(t.flags=t.flags&-4097|2,et=!1,On=t)}}else{if(im(t))throw Error(G(418));t.flags=t.flags&-4097|2,et=!1,On=t}}}function p_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function oc(t){if(t!==On)return!1;if(!et)return p_(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!em(t.type,t.memoizedProps)),e&&(e=Rn)){if(im(t))throw Nk(),Error(G(418));for(;e;)Rk(t,e),e=Oi(e.nextSibling)}if(p_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Oi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=On?Oi(t.stateNode.nextSibling):null;return!0}function Nk(){for(var t=Rn;t;)t=Oi(t.nextSibling)}function Vo(){Rn=On=null,et=!1}function Vg(t){or===null?or=[t]:or.push(t)}var bA=ri.ReactCurrentBatchConfig;function Va(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function ac(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m_(t){var e=t._init;return e(t._payload)}function Dk(t){function e(w,_){if(t){var T=w.deletions;T===null?(w.deletions=[_],w.flags|=16):T.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Fi(w,_),w.index=0,w.sibling=null,w}function s(w,_,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<_?(w.flags|=2,_):T):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,T,L){return _===null||_.tag!==6?(_=$f(T,w.mode,L),_.return=w,_):(_=i(_,T),_.return=w,_)}function l(w,_,T,L){var F=T.type;return F===lo?d(w,_,T.props.children,L,T.key):_!==null&&(_.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mi&&m_(F)===_.type)?(L=i(_,T.props),L.ref=Va(w,_,T),L.return=w,L):(L=Vc(T.type,T.key,T.props,null,w.mode,L),L.ref=Va(w,_,T),L.return=w,L)}function c(w,_,T,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Hf(T,w.mode,L),_.return=w,_):(_=i(_,T.children||[]),_.return=w,_)}function d(w,_,T,L,F){return _===null||_.tag!==7?(_=ks(T,w.mode,L,F),_.return=w,_):(_=i(_,T),_.return=w,_)}function h(w,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=$f(""+_,w.mode,T),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yu:return T=Vc(_.type,_.key,_.props,null,w.mode,T),T.ref=Va(w,null,_),T.return=w,T;case ao:return _=Hf(_,w.mode,T),_.return=w,_;case mi:var L=_._init;return h(w,L(_._payload),T)}if(Ha(_)||Na(_))return _=ks(_,w.mode,T,null),_.return=w,_;ac(w,_)}return null}function p(w,_,T,L){var F=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return F!==null?null:a(w,_,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Yu:return T.key===F?l(w,_,T,L):null;case ao:return T.key===F?c(w,_,T,L):null;case mi:return F=T._init,p(w,_,F(T._payload),L)}if(Ha(T)||Na(T))return F!==null?null:d(w,_,T,L,null);ac(w,T)}return null}function m(w,_,T,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return w=w.get(T)||null,a(_,w,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Yu:return w=w.get(L.key===null?T:L.key)||null,l(_,w,L,F);case ao:return w=w.get(L.key===null?T:L.key)||null,c(_,w,L,F);case mi:var O=L._init;return m(w,_,T,O(L._payload),F)}if(Ha(L)||Na(L))return w=w.get(T)||null,d(_,w,L,F,null);ac(_,L)}return null}function y(w,_,T,L){for(var F=null,O=null,C=_,b=_=0,S=null;C!==null&&b<T.length;b++){C.index>b?(S=C,C=null):S=C.sibling;var v=p(w,C,T[b],L);if(v===null){C===null&&(C=S);break}t&&C&&v.alternate===null&&e(w,C),_=s(v,_,b),O===null?F=v:O.sibling=v,O=v,C=S}if(b===T.length)return n(w,C),et&&ds(w,b),F;if(C===null){for(;b<T.length;b++)C=h(w,T[b],L),C!==null&&(_=s(C,_,b),O===null?F=C:O.sibling=C,O=C);return et&&ds(w,b),F}for(C=r(w,C);b<T.length;b++)S=m(C,w,b,T[b],L),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?b:S.key),_=s(S,_,b),O===null?F=S:O.sibling=S,O=S);return t&&C.forEach(function(x){return e(w,x)}),et&&ds(w,b),F}function I(w,_,T,L){var F=Na(T);if(typeof F!="function")throw Error(G(150));if(T=F.call(T),T==null)throw Error(G(151));for(var O=F=null,C=_,b=_=0,S=null,v=T.next();C!==null&&!v.done;b++,v=T.next()){C.index>b?(S=C,C=null):S=C.sibling;var x=p(w,C,v.value,L);if(x===null){C===null&&(C=S);break}t&&C&&x.alternate===null&&e(w,C),_=s(x,_,b),O===null?F=x:O.sibling=x,O=x,C=S}if(v.done)return n(w,C),et&&ds(w,b),F;if(C===null){for(;!v.done;b++,v=T.next())v=h(w,v.value,L),v!==null&&(_=s(v,_,b),O===null?F=v:O.sibling=v,O=v);return et&&ds(w,b),F}for(C=r(w,C);!v.done;b++,v=T.next())v=m(C,w,b,v.value,L),v!==null&&(t&&v.alternate!==null&&C.delete(v.key===null?b:v.key),_=s(v,_,b),O===null?F=v:O.sibling=v,O=v);return t&&C.forEach(function(R){return e(w,R)}),et&&ds(w,b),F}function P(w,_,T,L){if(typeof T=="object"&&T!==null&&T.type===lo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Yu:e:{for(var F=T.key,O=_;O!==null;){if(O.key===F){if(F=T.type,F===lo){if(O.tag===7){n(w,O.sibling),_=i(O,T.props.children),_.return=w,w=_;break e}}else if(O.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===mi&&m_(F)===O.type){n(w,O.sibling),_=i(O,T.props),_.ref=Va(w,O,T),_.return=w,w=_;break e}n(w,O);break}else e(w,O);O=O.sibling}T.type===lo?(_=ks(T.props.children,w.mode,L,T.key),_.return=w,w=_):(L=Vc(T.type,T.key,T.props,null,w.mode,L),L.ref=Va(w,_,T),L.return=w,w=L)}return o(w);case ao:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(w,_.sibling),_=i(_,T.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=Hf(T,w.mode,L),_.return=w,w=_}return o(w);case mi:return O=T._init,P(w,_,O(T._payload),L)}if(Ha(T))return y(w,_,T,L);if(Na(T))return I(w,_,T,L);ac(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,T),_.return=w,w=_):(n(w,_),_=$f(T,w.mode,L),_.return=w,w=_),o(w)):n(w,_)}return P}var Fo=Dk(!0),Ok=Dk(!1),gd=Ji(null),yd=null,yo=null,Fg=null;function jg(){Fg=yo=yd=null}function Bg(t){var e=gd.current;Je(gd),t._currentValue=e}function om(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function To(t,e){yd=t,Fg=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(Fg!==t)if(t={context:t,memoizedValue:e,next:null},yo===null){if(yd===null)throw Error(G(308));yo=t,yd.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return e}var ys=null;function zg(t){ys===null?ys=[t]:ys.push(t)}function Lk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qr(t,r)}function Qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gi=!1;function Ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qr(t,n)}return i=r.interleaved,i===null?(e.next=e,zg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qr(t,n)}function Rc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sg(t,n)}}function g_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wd(t,e,n,r){var i=t.updateQueue;gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,I=a;switch(p=e,m=n,I.tag){case 1:if(y=I.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=I.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=it({},h,p);break e;case 2:gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);As|=o,t.lanes=o,t.memoizedState=h}}function y_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var nu={},br=Ji(nu),Dl=Ji(nu),Ol=Ji(nu);function ws(t){if(t===nu)throw Error(G(174));return t}function $g(t,e){switch(We(Ol,e),We(Dl,t),We(br,nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bp(e,t)}Je(br),We(br,e)}function jo(){Je(br),Je(Dl),Je(Ol)}function Vk(t){ws(Ol.current);var e=ws(br.current),n=Bp(e,t.type);e!==n&&(We(Dl,t),We(br,n))}function Hg(t){Dl.current===t&&(Je(br),Je(Dl))}var nt=Ji(0);function vd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function qg(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var Nc=ri.ReactCurrentDispatcher,Ff=ri.ReactCurrentBatchConfig,Cs=0,rt=null,Et=null,Tt=null,_d=!1,sl=!1,Ll=0,kA=0;function Bt(){throw Error(G(321))}function Wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function Gg(t,e,n,r,i,s){if(Cs=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?SA:CA,t=n(r,i),sl){s=0;do{if(sl=!1,Ll=0,25<=s)throw Error(G(301));s+=1,Tt=Et=null,e.updateQueue=null,Nc.current=AA,t=n(r,i)}while(sl)}if(Nc.current=Ed,e=Et!==null&&Et.next!==null,Cs=0,Tt=Et=rt=null,_d=!1,e)throw Error(G(300));return t}function Kg(){var t=Ll!==0;return Ll=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?rt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Xn(){if(Et===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=Tt===null?rt.memoizedState:Tt.next;if(e!==null)Tt=e,Et=t;else{if(t===null)throw Error(G(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Tt===null?rt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Ml(t,e){return typeof e=="function"?e(t):e}function jf(t){var e=Xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Cs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,rt.lanes|=d,As|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,dr(r,e.memoizedState)||(yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,As|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bf(t){var e=Xn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);dr(s,e.memoizedState)||(yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Fk(){}function jk(t,e){var n=rt,r=Xn(),i=e(),s=!dr(r.memoizedState,i);if(s&&(r.memoizedState=i,yn=!0),r=r.queue,Qg(Uk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Vl(9,zk.bind(null,n,r,i,e),void 0,null),It===null)throw Error(G(349));Cs&30||Bk(n,e,i)}return i}function Bk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zk(t,e,n,r){e.value=n,e.getSnapshot=r,$k(e)&&Hk(t)}function Uk(t,e,n){return n(function(){$k(e)&&Hk(t)})}function $k(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function Hk(t){var e=Qr(t,1);e!==null&&lr(e,t,1,-1)}function w_(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=IA.bind(null,rt,t),[e.memoizedState,t]}function Vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qk(){return Xn().memoizedState}function Dc(t,e,n,r){var i=mr();rt.flags|=t,i.memoizedState=Vl(1|e,n,void 0,r===void 0?null:r)}function gh(t,e,n,r){var i=Xn();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&Wg(r,o.deps)){i.memoizedState=Vl(e,n,s,r);return}}rt.flags|=t,i.memoizedState=Vl(1|e,n,s,r)}function v_(t,e){return Dc(8390656,8,t,e)}function Qg(t,e){return gh(2048,8,t,e)}function Wk(t,e){return gh(4,2,t,e)}function Gk(t,e){return gh(4,4,t,e)}function Kk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qk(t,e,n){return n=n!=null?n.concat([t]):null,gh(4,4,Kk.bind(null,e,t),n)}function Yg(){}function Yk(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Xk(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jk(t,e,n){return Cs&21?(dr(n,e)||(n=rk(),rt.lanes|=n,As|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=n)}function xA(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Ff.transition;Ff.transition={};try{t(!1),e()}finally{ze=n,Ff.transition=r}}function Zk(){return Xn().memoizedState}function TA(t,e,n){var r=Vi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ex(t))tx(e,n);else if(n=Lk(t,e,n,r),n!==null){var i=sn();lr(n,t,r,i),nx(n,e,r)}}function IA(t,e,n){var r=Vi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ex(t))tx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,dr(a,o)){var l=e.interleaved;l===null?(i.next=i,zg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Lk(t,e,i,r),n!==null&&(i=sn(),lr(n,t,r,i),nx(n,e,r))}}function ex(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function tx(t,e){sl=_d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sg(t,n)}}var Ed={readContext:Yn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},SA={readContext:Yn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:v_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4194308,4,Kk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dc(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TA.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:w_,useDebugValue:Yg,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=w_(!1),e=t[0];return t=xA.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=mr();if(et){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),It===null)throw Error(G(349));Cs&30||Bk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,v_(Uk.bind(null,r,s,t),[t]),r.flags|=2048,Vl(9,zk.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mr(),e=It.identifierPrefix;if(et){var n=jr,r=Fr;n=(r&~(1<<32-ar(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CA={readContext:Yn,useCallback:Yk,useContext:Yn,useEffect:Qg,useImperativeHandle:Qk,useInsertionEffect:Wk,useLayoutEffect:Gk,useMemo:Xk,useReducer:jf,useRef:qk,useState:function(){return jf(Ml)},useDebugValue:Yg,useDeferredValue:function(t){var e=Xn();return Jk(e,Et.memoizedState,t)},useTransition:function(){var t=jf(Ml)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Fk,useSyncExternalStore:jk,useId:Zk,unstable_isNewReconciler:!1},AA={readContext:Yn,useCallback:Yk,useContext:Yn,useEffect:Qg,useImperativeHandle:Qk,useInsertionEffect:Wk,useLayoutEffect:Gk,useMemo:Xk,useReducer:Bf,useRef:qk,useState:function(){return Bf(Ml)},useDebugValue:Yg,useDeferredValue:function(t){var e=Xn();return Et===null?e.memoizedState=t:Jk(e,Et.memoizedState,t)},useTransition:function(){var t=Bf(Ml)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Fk,useSyncExternalStore:jk,useId:Zk,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yh={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Vi(t),s=$r(r,i);s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(lr(e,t,i,r),Rc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=Vi(t),s=$r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Li(t,s,i),e!==null&&(lr(e,t,i,r),Rc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Vi(t),i=$r(n,r);i.tag=2,e!=null&&(i.callback=e),e=Li(t,i,r),e!==null&&(lr(e,t,r,n),Rc(e,t,r))}};function __(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Al(n,r)||!Al(i,s):!0}function rx(t,e,n){var r=!1,i=Wi,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=vn(e)?Is:Kt.current,r=e.contextTypes,s=(r=r!=null)?Mo(t,i):Wi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function E_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ug(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=vn(e)?Is:Kt.current,i.context=Mo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(am(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yh.enqueueReplaceState(i,i.state,null),wd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e){try{var n="",r=e;do n+=r2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PA=typeof WeakMap=="function"?WeakMap:Map;function ix(t,e,n){n=$r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kd||(kd=!0,vm=r),um(t,e)},n}function sx(t,e,n){n=$r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){um(t,e),typeof r!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function b_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HA.bind(null,t,e,n),e.then(t,t))}function k_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function x_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$r(-1,1),e.tag=2,Li(n,e,1))),n.lanes|=1),t)}var RA=ri.ReactCurrentOwner,yn=!1;function tn(t,e,n,r){e.child=t===null?Ok(e,null,n,r):Fo(e,t.child,n,r)}function T_(t,e,n,r,i){n=n.render;var s=e.ref;return To(e,i),r=Gg(t,e,n,r,s,i),n=Kg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(et&&n&&Lg(e),e.flags|=1,tn(t,e,r,i),e.child)}function I_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!iy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ox(t,e,s,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Al,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Fi(s,r),t.ref=e.ref,t.return=e,e.child=t}function ox(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Al(s,r)&&t.ref===e.ref)if(yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return cm(t,e,n,r,i)}function ax(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(vo,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(vo,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,We(vo,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,We(vo,Pn),Pn|=r;return tn(t,e,i,n),e.child}function lx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cm(t,e,n,r,i){var s=vn(n)?Is:Kt.current;return s=Mo(e,s),To(e,i),n=Gg(t,e,n,r,s,i),r=Kg(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(et&&r&&Lg(e),e.flags|=1,tn(t,e,n,i),e.child)}function S_(t,e,n,r,i){if(vn(n)){var s=!0;fd(e)}else s=!1;if(To(e,i),e.stateNode===null)Oc(t,e),rx(e,n,r),lm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Yn(c):(c=vn(n)?Is:Kt.current,c=Mo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&E_(e,o,r,c),gi=!1;var p=e.memoizedState;o.state=p,wd(e,r,o,i),l=e.memoizedState,a!==r||p!==l||wn.current||gi?(typeof d=="function"&&(am(e,n,d,r),l=e.memoizedState),(a=gi||__(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Mk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rr(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=vn(n)?Is:Kt.current,l=Mo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&E_(e,o,r,l),gi=!1,p=e.memoizedState,o.state=p,wd(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||wn.current||gi?(typeof m=="function"&&(am(e,n,m,r),y=e.memoizedState),(c=gi||__(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return dm(t,e,n,r,s,i)}function dm(t,e,n,r,i,s){lx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&h_(e,n,!1),Yr(t,e,s);r=e.stateNode,RA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fo(e,t.child,null,s),e.child=Fo(e,null,a,s)):tn(t,e,a,s),e.memoizedState=r.state,i&&h_(e,n,!0),e.child}function ux(t){var e=t.stateNode;e.pendingContext?d_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d_(t,e.context,!1),$g(t,e.containerInfo)}function C_(t,e,n,r,i){return Vo(),Vg(i),e.flags|=256,tn(t,e,n,r),e.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function cx(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),We(nt,i&1),t===null)return sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_h(o,r,0,null),t=ks(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fm(n),e.memoizedState=hm,t):Xg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Fi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fi(a,s):(s=ks(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hm,r}return s=t.child,t=s.sibling,r=Fi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xg(t,e){return e=_h({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lc(t,e,n,r){return r!==null&&Vg(r),Fo(e,t.child,null,n),t=Xg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zf(Error(G(422))),lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_h({mode:"visible",children:r.children},i,0,null),s=ks(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fo(e,t.child,null,o),e.child.memoizedState=fm(o),e.memoizedState=hm,s);if(!(e.mode&1))return lc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=zf(s,r,void 0),lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,yn||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qr(t,i),lr(r,t,i,-1))}return ry(),r=zf(Error(G(421))),lc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=Oi(i.nextSibling),On=e,et=!0,or=null,t!==null&&(qn[Wn++]=Fr,qn[Wn++]=jr,qn[Wn++]=Ss,Fr=t.id,jr=t.overflow,Ss=e),e=Xg(e,r.children),e.flags|=4096,e)}function A_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),om(t.return,e,n)}function Uf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(tn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Uf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Uf(e,!0,n,null,s);break;case"together":Uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DA(t,e,n){switch(e.tag){case 3:ux(e),Vo();break;case 5:Vk(e);break;case 1:vn(e.type)&&fd(e);break;case 4:$g(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;We(gd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?cx(t,e,n):(We(nt,nt.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);We(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,ax(t,e,n)}return Yr(t,e,n)}var hx,pm,fx,px;hx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pm=function(){};fx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ws(br.current);var s=null;switch(n){case"input":i=Mp(t,i),r=Mp(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=jp(t,i),r=jp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dd)}zp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(bl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(bl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ye("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};px=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fa(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OA(t,e,n){var r=e.pendingProps;switch(Mg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return vn(e.type)&&hd(),zt(e),null;case 3:return r=e.stateNode,jo(),Je(wn),Je(Kt),qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,or!==null&&(bm(or),or=null))),pm(t,e),zt(e),null;case 5:Hg(e);var i=ws(Ol.current);if(n=e.type,t!==null&&e.stateNode!=null)fx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return zt(e),null}if(t=ws(br.current),oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wr]=e,r[Nl]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<Wa.length;i++)Ye(Wa[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":Fv(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":Bv(r,s),Ye("invalid",r)}zp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&sc(r.textContent,a,t),i=["children",""+a]):bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Xu(r),jv(r,s,!0);break;case"textarea":Xu(r),zv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=dd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ub(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wr]=e,t[Nl]=r,hx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Up(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wa.length;i++)Ye(Wa[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":Fv(t,r),i=Mp(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":Bv(t,r),i=jp(t,r),Ye("invalid",t);break;default:i=r}zp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?qb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$b(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kl(t,l):typeof l=="number"&&kl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ye("scroll",t):l!=null&&Eg(t,s,l,o))}switch(n){case"input":Xu(t),jv(t,r,!1);break;case"textarea":Xu(t),zv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Eo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)px(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=ws(Ol.current),ws(br.current),oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[wr]=e,(s=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:sc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wr]=e,e.stateNode=r}return zt(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Rn!==null&&e.mode&1&&!(e.flags&128))Nk(),Vo(),e.flags|=98560,s=!1;else if(s=oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[wr]=e}else Vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),s=!1}else or!==null&&(bm(or),or=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?bt===0&&(bt=3):ry())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return jo(),pm(t,e),t===null&&Pl(e.stateNode.containerInfo),zt(e),null;case 10:return Bg(e.type._context),zt(e),null;case 17:return vn(e.type)&&hd(),zt(e),null;case 19:if(Je(nt),s=e.memoizedState,s===null)return zt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fa(s,!1);else{if(bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vd(t),o!==null){for(e.flags|=128,Fa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ht()>zo&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304)}else{if(!r)if(t=vd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return zt(e),null}else 2*ht()-s.renderingStartTime>zo&&n!==1073741824&&(e.flags|=128,r=!0,Fa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,n=nt.current,We(nt,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return ny(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function LA(t,e){switch(Mg(e),e.tag){case 1:return vn(e.type)&&hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Je(wn),Je(Kt),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hg(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return jo(),null;case 10:return Bg(e.type._context),null;case 22:case 23:return ny(),null;case 24:return null;default:return null}}var uc=!1,qt=!1,MA=typeof WeakSet=="function"?WeakSet:Set,ie=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){lt(t,e,r)}}var P_=!1;function VA(t,e){if(Jp=ld,t=vk(),Og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zp={focusedElem:t,selectionRange:n},ld=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var I=y.memoizedProps,P=y.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?I:rr(e.type,I),P);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(L){lt(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return y=P_,P_=!1,y}function ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mm(e,n,s)}i=i.next}while(i!==r)}}function wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mx(t){var e=t.alternate;e!==null&&(t.alternate=null,mx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wr],delete e[Nl],delete e[nm],delete e[vA],delete e[_A])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gx(t){return t.tag===5||t.tag===3||t.tag===4}function R_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dd));else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}function wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wm(t,e,n),t=t.sibling;t!==null;)wm(t,e,n),t=t.sibling}var Rt=null,ir=!1;function hi(t,e,n){for(n=n.child;n!==null;)yx(t,e,n),n=n.sibling}function yx(t,e,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(ch,n)}catch{}switch(n.tag){case 5:qt||wo(n,e);case 6:var r=Rt,i=ir;Rt=null,hi(t,e,n),Rt=r,ir=i,Rt!==null&&(ir?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(ir?(t=Rt,n=n.stateNode,t.nodeType===8?Lf(t.parentNode,n):t.nodeType===1&&Lf(t,n),Sl(t)):Lf(Rt,n.stateNode));break;case 4:r=Rt,i=ir,Rt=n.stateNode.containerInfo,ir=!0,hi(t,e,n),Rt=r,ir=i;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mm(n,e,o),i=i.next}while(i!==r)}hi(t,e,n);break;case 1:if(!qt&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}hi(t,e,n);break;case 21:hi(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,hi(t,e,n),qt=r):hi(t,e,n);break;default:hi(t,e,n)}}function N_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MA),e.forEach(function(r){var i=WA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rt=a.stateNode,ir=!1;break e;case 3:Rt=a.stateNode.containerInfo,ir=!0;break e;case 4:Rt=a.stateNode.containerInfo,ir=!0;break e}a=a.return}if(Rt===null)throw Error(G(160));yx(s,o,i),Rt=null,ir=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wx(e,t),e=e.sibling}function wx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),pr(t),r&4){try{ol(3,t,t.return),wh(3,t)}catch(I){lt(t,t.return,I)}try{ol(5,t,t.return)}catch(I){lt(t,t.return,I)}}break;case 1:tr(e,t),pr(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(tr(e,t),pr(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var i=t.stateNode;try{kl(i,"")}catch(I){lt(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Bb(i,s),Up(a,o);var c=Up(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?qb(i,h):d==="dangerouslySetInnerHTML"?$b(i,h):d==="children"?kl(i,h):Eg(i,d,h,c)}switch(a){case"input":Vp(i,s);break;case"textarea":zb(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Eo(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Eo(i,!!s.multiple,s.defaultValue,!0):Eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nl]=s}catch(I){lt(t,t.return,I)}}break;case 6:if(tr(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(I){lt(t,t.return,I)}}break;case 3:if(tr(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(I){lt(t,t.return,I)}break;case 4:tr(e,t),pr(t);break;case 13:tr(e,t),pr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ey=ht())),r&4&&N_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(c=qt)||d,tr(e,t),qt=c):tr(e,t),pr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ie=t,d=t.child;d!==null;){for(h=ie=d;ie!==null;){switch(p=ie,m=p.child,p.tag){case 0:case 11:case 14:case 15:ol(4,p,p.return);break;case 1:wo(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(I){lt(r,n,I)}}break;case 5:wo(p,p.return);break;case 22:if(p.memoizedState!==null){O_(h);continue}}m!==null?(m.return=p,ie=m):O_(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hb("display",o))}catch(I){lt(t,t.return,I)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(I){lt(t,t.return,I)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),pr(t),r&4&&N_(t);break;case 21:break;default:tr(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gx(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kl(i,""),r.flags&=-33);var s=R_(t);wm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R_(t);ym(t,a,o);break;default:throw Error(G(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FA(t,e,n){ie=t,vx(t)}function vx(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||qt;a=uc;var c=qt;if(uc=o,(qt=l)&&!c)for(ie=i;ie!==null;)o=ie,l=o.child,o.tag===22&&o.memoizedState!==null?L_(i):l!==null?(l.return=o,ie=l):L_(i);for(;s!==null;)ie=s,vx(s),s=s.sibling;ie=i,uc=a,qt=c}D_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):D_(t)}}function D_(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}qt||e.flags&512&&gm(e)}catch(p){lt(e,e.return,p)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function O_(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function L_(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wh(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var s=e.return;try{gm(e)}catch(l){lt(e,s,l)}break;case 5:var o=e.return;try{gm(e)}catch(l){lt(e,o,l)}}}catch(l){lt(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var jA=Math.ceil,bd=ri.ReactCurrentDispatcher,Jg=ri.ReactCurrentOwner,Qn=ri.ReactCurrentBatchConfig,De=0,It=null,vt=null,Ot=0,Pn=0,vo=Ji(0),bt=0,Fl=null,As=0,vh=0,Zg=0,al=null,pn=null,ey=0,zo=1/0,Lr=null,kd=!1,vm=null,Mi=null,cc=!1,Ii=null,xd=0,ll=0,_m=null,Lc=-1,Mc=0;function sn(){return De&6?ht():Lc!==-1?Lc:Lc=ht()}function Vi(t){return t.mode&1?De&2&&Ot!==0?Ot&-Ot:bA.transition!==null?(Mc===0&&(Mc=rk()),Mc):(t=ze,t!==0||(t=window.event,t=t===void 0?16:ck(t.type)),t):1}function lr(t,e,n,r){if(50<ll)throw ll=0,_m=null,Error(G(185));Zl(t,n,r),(!(De&2)||t!==It)&&(t===It&&(!(De&2)&&(vh|=n),bt===4&&vi(t,Ot)),_n(t,r),n===1&&De===0&&!(e.mode&1)&&(zo=ht()+500,mh&&Zi()))}function _n(t,e){var n=t.callbackNode;b2(t,e);var r=ad(t,t===It?Ot:0);if(r===0)n!==null&&Hv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hv(n),e===1)t.tag===0?EA(M_.bind(null,t)):Ak(M_.bind(null,t)),yA(function(){!(De&6)&&Zi()}),n=null;else{switch(ik(r)){case 1:n=Ig;break;case 4:n=tk;break;case 16:n=od;break;case 536870912:n=nk;break;default:n=od}n=Sx(n,_x.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _x(t,e){if(Lc=-1,Mc=0,De&6)throw Error(G(327));var n=t.callbackNode;if(Io()&&t.callbackNode!==n)return null;var r=ad(t,t===It?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Td(t,r);else{e=r;var i=De;De|=2;var s=bx();(It!==t||Ot!==e)&&(Lr=null,zo=ht()+500,bs(t,e));do try{UA();break}catch(a){Ex(t,a)}while(!0);jg(),bd.current=s,De=i,vt!==null?e=0:(It=null,Ot=0,e=bt)}if(e!==0){if(e===2&&(i=Gp(t),i!==0&&(r=i,e=Em(t,i))),e===1)throw n=Fl,bs(t,0),vi(t,r),_n(t,ht()),n;if(e===6)vi(t,r);else{if(i=t.current.alternate,!(r&30)&&!BA(i)&&(e=Td(t,r),e===2&&(s=Gp(t),s!==0&&(r=s,e=Em(t,s))),e===1))throw n=Fl,bs(t,0),vi(t,r),_n(t,ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:hs(t,pn,Lr);break;case 3:if(vi(t,r),(r&130023424)===r&&(e=ey+500-ht(),10<e)){if(ad(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tm(hs.bind(null,t,pn,Lr),e);break}hs(t,pn,Lr);break;case 4:if(vi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ar(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jA(r/1960))-r,10<r){t.timeoutHandle=tm(hs.bind(null,t,pn,Lr),r);break}hs(t,pn,Lr);break;case 5:hs(t,pn,Lr);break;default:throw Error(G(329))}}}return _n(t,ht()),t.callbackNode===n?_x.bind(null,t):null}function Em(t,e){var n=al;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=Td(t,e),t!==2&&(e=pn,pn=n,e!==null&&bm(e)),t}function bm(t){pn===null?pn=t:pn.push.apply(pn,t)}function BA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vi(t,e){for(e&=~Zg,e&=~vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ar(e),r=1<<n;t[n]=-1,e&=~r}}function M_(t){if(De&6)throw Error(G(327));Io();var e=ad(t,0);if(!(e&1))return _n(t,ht()),null;var n=Td(t,e);if(t.tag!==0&&n===2){var r=Gp(t);r!==0&&(e=r,n=Em(t,r))}if(n===1)throw n=Fl,bs(t,0),vi(t,e),_n(t,ht()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,pn,Lr),_n(t,ht()),null}function ty(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(zo=ht()+500,mh&&Zi())}}function Ps(t){Ii!==null&&Ii.tag===0&&!(De&6)&&Io();var e=De;De|=1;var n=Qn.transition,r=ze;try{if(Qn.transition=null,ze=1,t)return t()}finally{ze=r,Qn.transition=n,De=e,!(De&6)&&Zi()}}function ny(){Pn=vo.current,Je(vo)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gA(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Mg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hd();break;case 3:jo(),Je(wn),Je(Kt),qg();break;case 5:Hg(r);break;case 4:jo();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Bg(r.type._context);break;case 22:case 23:ny()}n=n.return}if(It=t,vt=t=Fi(t.current,null),Ot=Pn=e,bt=0,Fl=null,Zg=vh=As=0,pn=al=null,ys!==null){for(e=0;e<ys.length;e++)if(n=ys[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ys=null}return t}function Ex(t,e){do{var n=vt;try{if(jg(),Nc.current=Ed,_d){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_d=!1}if(Cs=0,Tt=Et=rt=null,sl=!1,Ll=0,Jg.current=null,n===null||n.return===null){bt=1,Fl=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ot,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=k_(o);if(m!==null){m.flags&=-257,x_(m,o,a,s,e),m.mode&1&&b_(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var I=new Set;I.add(l),e.updateQueue=I}else y.add(l);break e}else{if(!(e&1)){b_(s,c,e),ry();break e}l=Error(G(426))}}else if(et&&a.mode&1){var P=k_(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),x_(P,o,a,s,e),Vg(Bo(l,a));break e}}s=l=Bo(l,a),bt!==4&&(bt=2),al===null?al=[s]:al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=ix(s,l,e);g_(s,w);break e;case 1:a=l;var _=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Mi===null||!Mi.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=sx(s,a,e);g_(s,L);break e}}s=s.return}while(s!==null)}xx(n)}catch(F){e=F,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function bx(){var t=bd.current;return bd.current=Ed,t===null?Ed:t}function ry(){(bt===0||bt===3||bt===2)&&(bt=4),It===null||!(As&268435455)&&!(vh&268435455)||vi(It,Ot)}function Td(t,e){var n=De;De|=2;var r=bx();(It!==t||Ot!==e)&&(Lr=null,bs(t,e));do try{zA();break}catch(i){Ex(t,i)}while(!0);if(jg(),De=n,bd.current=r,vt!==null)throw Error(G(261));return It=null,Ot=0,bt}function zA(){for(;vt!==null;)kx(vt)}function UA(){for(;vt!==null&&!f2();)kx(vt)}function kx(t){var e=Ix(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?xx(t):vt=e,Jg.current=null}function xx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LA(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bt=6,vt=null;return}}else if(n=OA(n,e,Pn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);bt===0&&(bt=5)}function hs(t,e,n){var r=ze,i=Qn.transition;try{Qn.transition=null,ze=1,$A(t,e,n,r)}finally{Qn.transition=i,ze=r}return null}function $A(t,e,n,r){do Io();while(Ii!==null);if(De&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(k2(t,s),t===It&&(vt=It=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cc||(cc=!0,Sx(od,function(){return Io(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=ze;ze=1;var a=De;De|=4,Jg.current=null,VA(t,n),wx(n,t),uA(Zp),ld=!!Jp,Zp=Jp=null,t.current=n,FA(n),p2(),De=a,ze=o,Qn.transition=s}else t.current=n;if(cc&&(cc=!1,Ii=t,xd=i),s=t.pendingLanes,s===0&&(Mi=null),y2(n.stateNode),_n(t,ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kd)throw kd=!1,t=vm,vm=null,t;return xd&1&&t.tag!==0&&Io(),s=t.pendingLanes,s&1?t===_m?ll++:(ll=0,_m=t):ll=0,Zi(),null}function Io(){if(Ii!==null){var t=ik(xd),e=Qn.transition,n=ze;try{if(Qn.transition=null,ze=16>t?16:t,Ii===null)var r=!1;else{if(t=Ii,Ii=null,xd=0,De&6)throw Error(G(331));var i=De;for(De|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ie=c;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var h=d.child;if(h!==null)h.return=d,ie=h;else for(;ie!==null;){d=ie;var p=d.sibling,m=d.return;if(mx(d),d===c){ie=null;break}if(p!==null){p.return=m,ie=p;break}ie=m}}}var y=s.alternate;if(y!==null){var I=y.child;if(I!==null){y.child=null;do{var P=I.sibling;I.sibling=null,I=P}while(I!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ie=w;break e}ie=s.return}}var _=t.current;for(ie=_;ie!==null;){o=ie;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ie=T;else e:for(o=_;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wh(9,a)}}catch(F){lt(a,a.return,F)}if(a===o){ie=null;break e}var L=a.sibling;if(L!==null){L.return=a.return,ie=L;break e}ie=a.return}}if(De=i,Zi(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(ch,t)}catch{}r=!0}return r}finally{ze=n,Qn.transition=e}}return!1}function V_(t,e,n){e=Bo(n,e),e=ix(t,e,1),t=Li(t,e,1),e=sn(),t!==null&&(Zl(t,1,e),_n(t,e))}function lt(t,e,n){if(t.tag===3)V_(t,t,n);else for(;e!==null;){if(e.tag===3){V_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mi===null||!Mi.has(r))){t=Bo(n,t),t=sx(e,t,1),e=Li(e,t,1),t=sn(),e!==null&&(Zl(e,1,t),_n(e,t));break}}e=e.return}}function HA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Ot&n)===n&&(bt===4||bt===3&&(Ot&130023424)===Ot&&500>ht()-ey?bs(t,0):Zg|=n),_n(t,e)}function Tx(t,e){e===0&&(t.mode&1?(e=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):e=1);var n=sn();t=Qr(t,e),t!==null&&(Zl(t,e,n),_n(t,n))}function qA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Tx(t,n)}function WA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),Tx(t,n)}var Ix;Ix=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yn=!1,DA(t,e,n);yn=!!(t.flags&131072)}else yn=!1,et&&e.flags&1048576&&Pk(e,md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Oc(t,e),t=e.pendingProps;var i=Mo(e,Kt.current);To(e,n),i=Gg(null,e,r,t,i,n);var s=Kg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(s=!0,fd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ug(e),i.updater=yh,e.stateNode=i,i._reactInternals=e,lm(e,r,t,n),e=dm(null,e,r,!0,s,n)):(e.tag=0,et&&s&&Lg(e),tn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Oc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KA(r),t=rr(r,t),i){case 0:e=cm(null,e,r,t,n);break e;case 1:e=S_(null,e,r,t,n);break e;case 11:e=T_(null,e,r,t,n);break e;case 14:e=I_(null,e,r,rr(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),S_(t,e,r,i,n);case 3:e:{if(ux(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Mk(t,e),wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bo(Error(G(423)),e),e=C_(t,e,r,n,i);break e}else if(r!==i){i=Bo(Error(G(424)),e),e=C_(t,e,r,n,i);break e}else for(Rn=Oi(e.stateNode.containerInfo.firstChild),On=e,et=!0,or=null,n=Ok(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vo(),r===i){e=Yr(t,e,n);break e}tn(t,e,r,n)}e=e.child}return e;case 5:return Vk(e),t===null&&sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,em(r,i)?o=null:s!==null&&em(r,s)&&(e.flags|=32),lx(t,e),tn(t,e,o,n),e.child;case 6:return t===null&&sm(e),null;case 13:return cx(t,e,n);case 4:return $g(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):tn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),T_(t,e,r,i,n);case 7:return tn(t,e,e.pendingProps,n),e.child;case 8:return tn(t,e,e.pendingProps.children,n),e.child;case 12:return tn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,We(gd,r._currentValue),r._currentValue=o,s!==null)if(dr(s.value,o)){if(s.children===i.children&&!wn.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=$r(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),om(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),om(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}tn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,To(e,n),i=Yn(i),r=r(i),e.flags|=1,tn(t,e,r,n),e.child;case 14:return r=e.type,i=rr(r,e.pendingProps),i=rr(r.type,i),I_(t,e,r,i,n);case 15:return ox(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:rr(r,i),Oc(t,e),e.tag=1,vn(r)?(t=!0,fd(e)):t=!1,To(e,n),rx(e,r,i),lm(e,r,i,n),dm(null,e,r,!0,t,n);case 19:return dx(t,e,n);case 22:return ax(t,e,n)}throw Error(G(156,e.tag))};function Sx(t,e){return ek(t,e)}function GA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new GA(t,e,n,r)}function iy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KA(t){if(typeof t=="function")return iy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kg)return 11;if(t===xg)return 14}return 2}function Fi(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")iy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lo:return ks(n.children,i,s,e);case bg:o=8,i|=8;break;case Np:return t=Kn(12,n,e,i|2),t.elementType=Np,t.lanes=s,t;case Dp:return t=Kn(13,n,e,i),t.elementType=Dp,t.lanes=s,t;case Op:return t=Kn(19,n,e,i),t.elementType=Op,t.lanes=s,t;case Vb:return _h(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lb:o=10;break e;case Mb:o=9;break e;case kg:o=11;break e;case xg:o=14;break e;case mi:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ks(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function _h(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=Vb,t.lanes=n,t.stateNode={isHidden:!1},t}function $f(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Hf(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xf(0),this.expirationTimes=xf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sy(t,e,n,r,i,s,o,a,l){return t=new QA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(s),t}function YA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cx(t){if(!t)return Wi;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(vn(n))return Ck(t,n,e)}return e}function Ax(t,e,n,r,i,s,o,a,l){return t=sy(n,r,!0,t,i,s,o,a,l),t.context=Cx(null),n=t.current,r=sn(),i=Vi(n),s=$r(r,i),s.callback=e??null,Li(n,s,i),t.current.lanes=i,Zl(t,i,r),_n(t,r),t}function Eh(t,e,n,r){var i=e.current,s=sn(),o=Vi(i);return n=Cx(n),e.context===null?e.context=n:e.pendingContext=n,e=$r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Li(i,e,o),t!==null&&(lr(t,i,o,s),Rc(t,i,o)),o}function Id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function F_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oy(t,e){F_(t,e),(t=t.alternate)&&F_(t,e)}function XA(){return null}var Px=typeof reportError=="function"?reportError:function(t){console.error(t)};function ay(t){this._internalRoot=t}bh.prototype.render=ay.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Eh(t,e,null,null)};bh.prototype.unmount=ay.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){Eh(null,t,null,null)}),e[Kr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ak();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wi.length&&e!==0&&e<wi[n].priority;n++);wi.splice(n,0,t),n===0&&uk(t)}};function ly(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j_(){}function JA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Id(o);s.call(c)}}var o=Ax(e,r,t,0,null,!1,!1,"",j_);return t._reactRootContainer=o,t[Kr]=o.current,Pl(t.nodeType===8?t.parentNode:t),Ps(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Id(l);a.call(c)}}var l=sy(t,0,!1,null,null,!1,!1,"",j_);return t._reactRootContainer=l,t[Kr]=l.current,Pl(t.nodeType===8?t.parentNode:t),Ps(function(){Eh(e,l,n,r)}),l}function xh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Id(o);a.call(l)}}Eh(e,o,t,i)}else o=JA(n,e,t,i,r);return Id(o)}sk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qa(e.pendingLanes);n!==0&&(Sg(e,n|1),_n(e,ht()),!(De&6)&&(zo=ht()+500,Zi()))}break;case 13:Ps(function(){var r=Qr(t,1);if(r!==null){var i=sn();lr(r,t,1,i)}}),oy(t,1)}};Cg=function(t){if(t.tag===13){var e=Qr(t,134217728);if(e!==null){var n=sn();lr(e,t,134217728,n)}oy(t,134217728)}};ok=function(t){if(t.tag===13){var e=Vi(t),n=Qr(t,e);if(n!==null){var r=sn();lr(n,t,e,r)}oy(t,e)}};ak=function(){return ze};lk=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Hp=function(t,e,n){switch(e){case"input":if(Vp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ph(r);if(!i)throw Error(G(90));jb(r),Vp(r,i)}}}break;case"textarea":zb(t,n);break;case"select":e=n.value,e!=null&&Eo(t,!!n.multiple,e,!1)}};Kb=ty;Qb=Ps;var ZA={usingClientEntryPoint:!1,Events:[tu,fo,ph,Wb,Gb,ty]},ja={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eP={bundleType:ja.bundleType,version:ja.version,rendererPackageName:ja.rendererPackageName,rendererConfig:ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jb(t),t===null?null:t.stateNode},findFiberByHostInstance:ja.findFiberByHostInstance||XA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{ch=dc.inject(eP),Er=dc}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZA;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ly(e))throw Error(G(200));return YA(t,e,null,n)};jn.createRoot=function(t,e){if(!ly(t))throw Error(G(299));var n=!1,r="",i=Px;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sy(t,1,!1,null,null,n,!1,r,i),t[Kr]=e.current,Pl(t.nodeType===8?t.parentNode:t),new ay(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=Jb(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Ps(t)};jn.hydrate=function(t,e,n){if(!kh(e))throw Error(G(200));return xh(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!ly(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Px;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ax(e,null,t,1,n??null,i,!1,s,o),t[Kr]=e.current,Pl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bh(e)};jn.render=function(t,e,n){if(!kh(e))throw Error(G(200));return xh(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!kh(t))throw Error(G(40));return t._reactRootContainer?(Ps(function(){xh(null,null,t,!1,function(){t._reactRootContainer=null,t[Kr]=null})}),!0):!1};jn.unstable_batchedUpdates=ty;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return xh(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function Rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rx)}catch(t){console.error(t)}}Rx(),Rb.exports=jn;var tP=Rb.exports,B_=tP;Pp.createRoot=B_.createRoot,Pp.hydrateRoot=B_.hydrateRoot;const nP={apiKey:"AIzaSyDMge0ZVBwCHb6tzmdIv5dD_BMrtfu_P_I",authDomain:"swim-meet-app.firebaseapp.com",projectId:"swim-meet-app",storageBucket:"swim-meet-app.firebasestorage.app",messagingSenderId:"869827349699",appId:"1:869827349699:web:26b08aeece866760cbe676"},Sd={"jonny5v@gmail.com":"SUPERADMIN","admin@westgatecc.com":"WCC","admin@ponchatrainrc.com":"PRC","admin@barracudaswim.org":"BARR","admin@example.com":"KLR"},Fc=["Girls 6 & Under 25m Freestyle","Boys 6 & Under 25m Freestyle","Girls 7-8 25m Freestyle","Boys 7-8 25m Freestyle","Girls 9-10 50m Freestyle","Boys 9-10 50m Freestyle","Girls 11-12 50m Freestyle","Boys 11-12 50m Freestyle","Girls 13-14 50m Freestyle","Boys 13-14 50m Freestyle","Girls 15-17 50m Freestyle","Boys 15-17 50m Freestyle","Girls 9-10 100m Freestyle","Boys 9-10 100m Freestyle","Girls 11-12 100m Freestyle","Boys 11-12 100m Freestyle","Girls 13-14 100m Freestyle","Boys 13-14 100m Freestyle","Girls 15-17 100m Freestyle","Boys 15-17 100m Freestyle","Girls 11-12 200m Freestyle","Boys 11-12 200m Freestyle","Girls 13-14 200m Freestyle","Boys 13-14 200m Freestyle","Girls 15-17 200m Freestyle","Boys 15-17 200m Freestyle","Girls 6 & Under 25m Backstroke","Boys 6 & Under 25m Backstroke","Girls 7-8 25m Backstroke","Boys 7-8 25m Backstroke","Girls 9-10 50m Backstroke","Boys 9-10 50m Backstroke","Girls 11-12 50m Backstroke","Boys 11-12 50m Backstroke","Girls 13-14 100m Backstroke","Boys 13-14 100m Backstroke","Girls 15-17 100m Backstroke","Boys 15-17 100m Backstroke","Girls 7-8 25m Breaststroke","Boys 7-8 25m Breaststroke","Girls 9-10 50m Breaststroke","Boys 9-10 50m Breaststroke","Girls 11-12 50m Breaststroke","Boys 11-12 50m Breaststroke","Girls 13-14 100m Breaststroke","Boys 13-14 100m Breaststroke","Girls 15-17 100m Breaststroke","Boys 15-17 100m Breaststroke","Girls 7-8 25m Butterfly","Boys 7-8 25m Butterfly","Girls 9-10 50m Butterfly","Boys 9-10 50m Butterfly","Girls 11-12 50m Butterfly","Boys 11-12 50m Butterfly","Girls 13-14 100m Butterfly","Boys 13-14 100m Butterfly","Girls 15-17 100m Butterfly","Boys 15-17 100m Butterfly","Girls 9-10 100m IM","Boys 9-10 100m IM","Girls 11-12 100m IM","Boys 11-12 100m IM","Girls 13-14 200m IM","Boys 13-14 200m IM","Girls 15-17 200m IM","Boys 15-17 200m IM"],Be=({name:t,type:e="fas",...n})=>E.jsx("i",{className:`${e} fa-${t}`,"aria-hidden":"true",...n});function rP({show:t,message:e,type:n}){const r="fixed left-1/2 -translate-x-1/2 z-50 p-4 rounded-md shadow-lg transition-all duration-300",i={info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},s=t?"opacity-100 top-16":"opacity-0 top-5 pointer-events-none";return E.jsx("div",{className:`${r} ${i[n]||i.info} ${s}`,role:"alert",children:e})}const iP="modulepreload",sP=function(t){return"/swim-meet-app/"+t},z_={},oP=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=sP(l),l in z_)return;z_[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":iP,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function aP(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const c=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await oP(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/swim-meet-app/sw.js",{scope:"/swim-meet-app/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r==null||r()}),a.register({immediate:e}).then(h=>{s?s("/swim-meet-app/sw.js",h):i==null||i(h)}).catch(h=>{o==null||o(h)})}}return l=d(),c}function lP(){return J.useEffect(()=>{const t=aP({onNeedRefresh(){confirm("New content is available, do you want to reload?")&&t(!0)},onOfflineReady(){console.log("App is ready to work offline")}})},[]),null}function Nx({event:t,favorites:e,currentEvent:n,toggleFavorite:r}){const i=(t.heats||[]).some(a=>a.lanes.some(l=>e.has(l.id))),s=n.isTracking&&t.eventNumber===n.eventNumber,o=["bg-surface-light dark:bg-surface-dark rounded-lg mb-3 border border-border-light dark:border-border-dark overflow-hidden transition-all",i?"border-l-4 border-l-secondary":"",s?"border-2 border-primary dark:border-primary-light scale-[1.02]":""].join(" ");return E.jsxs("div",{className:o,children:[E.jsxs("div",{className:"p-4 border-b border-border-light dark:border-border-dark font-bold",children:["Event ",t.eventNumber,": ",t.name]}),E.jsx("div",{className:"p-4 space-y-4",children:t.heats&&t.heats.length>0?t.heats.map(a=>E.jsxs("div",{className:`p-3 rounded-lg ${s&&a.heatNumber===n.heatNumber?"bg-primary/10 dark:bg-primary/20":""}`,children:[E.jsxs("h6",{className:"mb-2 font-semibold text-gray-600 dark:text-gray-400",children:["Heat ",a.heatNumber]}),E.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark -m-3",children:a.lanes.map(l=>E.jsxs("li",{className:"p-3 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsxs("strong",{className:"font-semibold",children:["Lane ",l.lane,":"]})," ",`${l.firstName} ${l.lastName}`," ",E.jsxs("span",{className:"text-gray-500",children:["(",l.team,")"]})]}),E.jsx("button",{className:"p-2 -m-2",onClick:()=>r(l.id),"aria-label":`Toggle favorite for ${l.firstName} ${l.lastName}`,children:E.jsx("div",{className:`${e.has(l.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:E.jsx(Be,{name:"star",type:e.has(l.id)?"fas":"far"})})})]},l.id))})]},a.heatNumber)):E.jsx("p",{className:"text-center text-gray-500",children:"No heats or swimmers for this event yet."})})]})}function U_({events:t,favorites:e,currentEvent:n,toggleFavorite:r,adminRole:i,updateMeetStatus:s}){if(!t||t.length===0)return E.jsx("p",{className:"text-center text-gray-500",children:"No events found for this meet."});const o=()=>{const c=Math.min(t.length,n.eventNumber+1);s({eventNumber:c,heatNumber:1})},a=()=>{const c=Math.max(1,n.eventNumber-1);s({eventNumber:c,heatNumber:1})},l=()=>{s({isTracking:!n.isTracking})};return E.jsxs("div",{children:[i&&E.jsxs("div",{className:"sticky top-0 bg-surface-light/80 dark:bg-surface-dark/80 backdrop-blur-sm z-10 p-2 rounded-lg border border-border-light dark:border-border-dark mb-4 flex items-center justify-between gap-4",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:a,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Previous Event",children:E.jsx(Be,{name:"backward-step"})}),E.jsx("div",{className:"text-center",children:E.jsxs("div",{className:"font-semibold text-sm",children:["Event ",n.eventNumber]})}),E.jsx("button",{onClick:o,className:"p-2 rounded-md bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600","aria-label":"Next Event",children:E.jsx(Be,{name:"forward-step"})})]}),E.jsx("button",{onClick:l,className:`py-2 px-3 rounded-md font-semibold text-xs flex-shrink-0 ${n.isTracking?"bg-yellow-500 text-black":"bg-blue-600 text-white"}`,children:n.isTracking?"Stop Tracking":"Start Tracking"})]}),n.isTracking&&!i&&E.jsxs("div",{className:"bg-primary text-white p-3 rounded-lg mb-4 shadow-md text-center",children:[E.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider",children:"Now Swimming"}),E.jsxs("div",{className:"text-lg mt-1 font-semibold",children:["Event #",n.eventNumber]})]}),t.map(c=>E.jsx(Nx,{event:c,favorites:e,currentEvent:n,toggleFavorite:r},c.id))]})}function uP({search:t,setSearch:e,results:n,favorites:r,currentEvent:i,toggleFavorite:s}){return E.jsxs("div",{children:[E.jsx("label",{htmlFor:"event-search-input",className:"sr-only",children:"Search by event name or number"}),E.jsx("input",{id:"event-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search by event name or number...",value:t,onChange:o=>e(o.target.value)}),t&&n.length===0&&E.jsx("p",{className:"text-center text-gray-500",children:"No events found."}),n.map(o=>E.jsx(Nx,{event:o,favorites:r,currentEvent:i,toggleFavorite:s},o.id))]})}function cP({search:t,setSearch:e,results:n,favorites:r,toggleFavorite:i}){return E.jsxs("div",{children:[E.jsx("label",{htmlFor:"swimmer-search-input",className:"sr-only",children:"Search for a swimmer"}),E.jsx("input",{id:"swimmer-search-input",type:"text",className:"w-full p-3 mb-3 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark focus:ring-2 focus:ring-primary focus:border-primary outline-none",placeholder:"Search for a swimmer...",value:t,onChange:s=>e(s.target.value)}),t&&n.length===0&&E.jsx("p",{className:"text-center text-gray-500",children:"No swimmers found."}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md overflow-hidden border border-border-light dark:border-border-dark",children:E.jsx("ul",{className:"divide-y divide-border-light dark:divide-border-dark",children:n.map(s=>E.jsxs("li",{className:"p-4 flex justify-between items-center",children:[E.jsxs("div",{className:"mr-auto font-bold",children:[s.name," (",s.team,")"]}),E.jsx("button",{className:"p-2 -m-2",onClick:()=>i(s.id),"aria-label":`Toggle favorite for ${s.name}`,children:E.jsx("div",{className:`${r.has(s.id)?"text-secondary":"text-gray-400 dark:text-gray-500"}`,children:E.jsx(Be,{name:"star",type:r.has(s.id)?"fas":"far"})})})]},s.id))})})]})}/*!
* sweetalert2 v11.22.0
* Released under the MIT License.
*/function Dx(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function dP(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $_(t,e){return t.get(Dx(t,e))}function hP(t,e,n){dP(t,e),e.set(t,n)}function fP(t,e,n){return t.set(Dx(t,e),n),n}const pP=100,ce={},mP=()=>{ce.previousActiveElement instanceof HTMLElement?(ce.previousActiveElement.focus(),ce.previousActiveElement=null):document.body&&document.body.focus()},gP=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;ce.restoreFocusTimeout=setTimeout(()=>{mP(),e()},pP),window.scrollTo(n,r)}),Ox="swal2-",yP=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],z=yP.reduce((t,e)=>(t[e]=Ox+e,t),{}),wP=["success","warning","info","question","error"],Cd=wP.reduce((t,e)=>(t[e]=Ox+e,t),{}),Lx="SweetAlert2:",uy=t=>t.charAt(0).toUpperCase()+t.slice(1),ln=t=>{console.warn(`${Lx} ${typeof t=="object"?t.join(" "):t}`)},Bs=t=>{console.error(`${Lx} ${t}`)},H_=[],vP=t=>{H_.includes(t)||(H_.push(t),ln(t))},Mx=(t,e=null)=>{vP(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},Th=t=>typeof t=="function"?t():t,cy=t=>t&&typeof t.toPromise=="function",ru=t=>cy(t)?t.toPromise():Promise.resolve(t),dy=t=>t&&Promise.resolve(t)===t,dn=()=>document.body.querySelector(`.${z.container}`),iu=t=>{const e=dn();return e?e.querySelector(t):null},zn=t=>iu(`.${t}`),Me=()=>zn(z.popup),ra=()=>zn(z.icon),_P=()=>zn(z["icon-content"]),Vx=()=>zn(z.title),hy=()=>zn(z["html-container"]),Fx=()=>zn(z.image),fy=()=>zn(z["progress-steps"]),Ih=()=>zn(z["validation-message"]),Sr=()=>iu(`.${z.actions} .${z.confirm}`),ia=()=>iu(`.${z.actions} .${z.cancel}`),zs=()=>iu(`.${z.actions} .${z.deny}`),EP=()=>zn(z["input-label"]),sa=()=>iu(`.${z.loader}`),su=()=>zn(z.actions),jx=()=>zn(z.footer),Sh=()=>zn(z["timer-progress-bar"]),py=()=>zn(z.close),bP=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,my=()=>{const t=Me();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((s,o)=>{const a=parseInt(s.getAttribute("tabindex")||"0"),l=parseInt(o.getAttribute("tabindex")||"0");return a>l?1:a<l?-1:0}),r=t.querySelectorAll(bP),i=Array.from(r).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(i))].filter(s=>En(s))},gy=()=>Hr(document.body,z.shown)&&!Hr(document.body,z["toast-shown"])&&!Hr(document.body,z["no-backdrop"]),Ch=()=>{const t=Me();return t?Hr(t,z.toast):!1},kP=()=>{const t=Me();return t?t.hasAttribute("data-loading"):!1},Un=(t,e)=>{if(t.textContent="",e){const r=new DOMParser().parseFromString(e,"text/html"),i=r.querySelector("head");i&&Array.from(i.childNodes).forEach(o=>{t.appendChild(o)});const s=r.querySelector("body");s&&Array.from(s.childNodes).forEach(o=>{o instanceof HTMLVideoElement||o instanceof HTMLAudioElement?t.appendChild(o.cloneNode(!0)):t.appendChild(o)})}},Hr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},xP=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(z).includes(n)&&!Object.values(Cd).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},Fn=(t,e,n)=>{if(xP(t,e),!e.customClass)return;const r=e.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){ln(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}Ve(t,r)}},Ah=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${z.popup} > .${z[e]}`);case"checkbox":return t.querySelector(`.${z.popup} > .${z.checkbox} input`);case"radio":return t.querySelector(`.${z.popup} > .${z.radio} input:checked`)||t.querySelector(`.${z.popup} > .${z.radio} input:first-child`);case"range":return t.querySelector(`.${z.popup} > .${z.range} input`);default:return t.querySelector(`.${z.popup} > .${z.input}`)}},Bx=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},zx=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(r=>{Array.isArray(t)?t.forEach(i=>{n?i.classList.add(r):i.classList.remove(r)}):n?t.classList.add(r):t.classList.remove(r)}))},Ve=(t,e)=>{zx(t,e,!0)},Jn=(t,e)=>{zx(t,e,!1)},Si=(t,e)=>{const n=Array.from(t.children);for(let r=0;r<n.length;r++){const i=n[r];if(i instanceof HTMLElement&&Hr(i,e))return i}},xs=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},St=(t,e="flex")=>{t&&(t.style.display=e)},Qt=t=>{t&&(t.style.display="none")},yy=(t,e="block")=>{t&&new MutationObserver(()=>{ou(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},q_=(t,e,n,r)=>{const i=t.querySelector(e);i&&i.style.setProperty(n,r)},ou=(t,e,n="flex")=>{e?St(t,n):Qt(t)},En=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),TP=()=>!En(Sr())&&!En(zs())&&!En(ia()),km=t=>t.scrollHeight>t.clientHeight,IP=(t,e)=>{let n=t;for(;n&&n!==e;){if(km(n))return!0;n=n.parentElement}return!1},Ux=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},wy=(t,e=!1)=>{const n=Sh();n&&En(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},SP=()=>{const t=Sh();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=e/n*100;t.style.width=`${r}%`},CP=()=>typeof window>"u"||typeof document>"u",AP=`
 <div aria-labelledby="${z.title}" aria-describedby="${z["html-container"]}" class="${z.popup}" tabindex="-1">
   <button type="button" class="${z.close}"></button>
   <ul class="${z["progress-steps"]}"></ul>
   <div class="${z.icon}"></div>
   <img class="${z.image}" />
   <h2 class="${z.title}" id="${z.title}"></h2>
   <div class="${z["html-container"]}" id="${z["html-container"]}"></div>
   <input class="${z.input}" id="${z.input}" />
   <input type="file" class="${z.file}" />
   <div class="${z.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${z.select}" id="${z.select}"></select>
   <div class="${z.radio}"></div>
   <label class="${z.checkbox}">
     <input type="checkbox" id="${z.checkbox}" />
     <span class="${z.label}"></span>
   </label>
   <textarea class="${z.textarea}" id="${z.textarea}"></textarea>
   <div class="${z["validation-message"]}" id="${z["validation-message"]}"></div>
   <div class="${z.actions}">
     <div class="${z.loader}"></div>
     <button type="button" class="${z.confirm}"></button>
     <button type="button" class="${z.deny}"></button>
     <button type="button" class="${z.cancel}"></button>
   </div>
   <div class="${z.footer}"></div>
   <div class="${z["timer-progress-bar-container"]}">
     <div class="${z["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),PP=()=>{const t=dn();return t?(t.remove(),Jn([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0):!1},os=()=>{ce.currentInstance.resetValidationMessage()},RP=()=>{const t=Me(),e=Si(t,z.input),n=Si(t,z.file),r=t.querySelector(`.${z.range} input`),i=t.querySelector(`.${z.range} output`),s=Si(t,z.select),o=t.querySelector(`.${z.checkbox} input`),a=Si(t,z.textarea);e.oninput=os,n.onchange=os,s.onchange=os,o.onchange=os,a.oninput=os,r.oninput=()=>{os(),i.value=r.value},r.onchange=()=>{os(),i.value=r.value}},NP=t=>typeof t=="string"?document.querySelector(t):t,DP=t=>{const e=Me();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},OP=t=>{window.getComputedStyle(t).direction==="rtl"&&Ve(dn(),z.rtl)},LP=t=>{const e=PP();if(CP()){Bs("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=z.container,e&&Ve(n,z["no-transition"]),Un(n,AP),n.dataset.swal2Theme=t.theme;const r=NP(t.target);r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),DP(t),OP(r),RP()},vy=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?MP(t,e):t&&Un(e,t)},MP=(t,e)=>{t.jquery?VP(e,t):Un(e,t.toString())},VP=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},FP=(t,e)=>{const n=su(),r=sa();!n||!r||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Qt(n):St(n),Fn(n,e,"actions"),jP(n,r,e),Un(r,e.loaderHtml||""),Fn(r,e,"loader"))};function jP(t,e,n){const r=Sr(),i=zs(),s=ia();!r||!i||!s||(Wf(r,"confirm",n),Wf(i,"deny",n),Wf(s,"cancel",n),BP(r,i,s,n),n.reverseButtons&&(n.toast?(t.insertBefore(s,r),t.insertBefore(i,r)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(r,e))))}function BP(t,e,n,r){if(!r.buttonsStyling){Jn([t,e,n],z.styled);return}Ve([t,e,n],z.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),qf(t),qf(e),qf(n)}function qf(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function Wf(t,e,n){const r=uy(e);ou(t,n[`show${r}Button`],"inline-block"),Un(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=z[e],Fn(t,n,`${e}Button`)}const zP=(t,e)=>{const n=py();n&&(Un(n,e.closeButtonHtml||""),Fn(n,e,"closeButton"),ou(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},UP=(t,e)=>{const n=dn();n&&($P(n,e.backdrop),HP(n,e.position),qP(n,e.grow),Fn(n,e,"container"))};function $P(t,e){typeof e=="string"?t.style.background=e:e||Ve([document.documentElement,document.body],z["no-backdrop"])}function HP(t,e){e&&(e in z?Ve(t,z[e]):(ln('The "position" parameter is not valid, defaulting to "center"'),Ve(t,z.center)))}function qP(t,e){e&&Ve(t,z[`grow-${e}`])}var Ge={innerParams:new WeakMap,domCache:new WeakMap};const WP=["input","file","range","select","radio","checkbox","textarea"],GP=(t,e)=>{const n=Me();if(!n)return;const r=Ge.innerParams.get(t),i=!r||e.input!==r.input;WP.forEach(s=>{const o=Si(n,z[s]);o&&(YP(s,e.inputAttributes),o.className=z[s],i&&Qt(o))}),e.input&&(i&&KP(e),XP(e))},KP=t=>{if(!t.input)return;if(!ct[t.input]){Bs(`Unexpected type of input! Expected ${Object.keys(ct).join(" | ")}, got "${t.input}"`);return}const e=$x(t.input);if(!e)return;const n=ct[t.input](e,t);St(e),t.inputAutoFocus&&setTimeout(()=>{Bx(n)})},QP=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},YP=(t,e)=>{const n=Me();if(!n)return;const r=Ah(n,t);if(r){QP(r);for(const i in e)r.setAttribute(i,e[i])}},XP=t=>{if(!t.input)return;const e=$x(t.input);e&&Fn(e,t,"input")},_y=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},au=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),i=z["input-label"];r.setAttribute("for",t.id),r.className=i,typeof n.customClass=="object"&&Ve(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},$x=t=>{const e=Me();if(e)return Si(e,z[t]||z.input)},Ad=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:dy(e)||ln(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ct={};ct.text=ct.email=ct.password=ct.number=ct.tel=ct.url=ct.search=ct.date=ct["datetime-local"]=ct.time=ct.week=ct.month=(t,e)=>(Ad(t,e.inputValue),au(t,t,e),_y(t,e),t.type=e.input,t);ct.file=(t,e)=>(au(t,t,e),_y(t,e),t);ct.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return Ad(n,e.inputValue),n.type=e.input,Ad(r,e.inputValue),au(n,t,e),t};ct.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");Un(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return au(t,t,e),t};ct.radio=t=>(t.textContent="",t);ct.checkbox=(t,e)=>{const n=Ah(Me(),"checkbox");n.value="1",n.checked=!!e.inputValue;const r=t.querySelector("span");return Un(r,e.inputPlaceholder||e.inputLabel),n};ct.textarea=(t,e)=>{Ad(t,e.inputValue),_y(t,e),au(t,t,e);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Me()).width),i=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+n(t);s>r?Me().style.width=`${s}px`:xs(Me(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const JP=(t,e)=>{const n=hy();n&&(yy(n),Fn(n,e,"htmlContainer"),e.html?(vy(e.html,n),St(n,"block")):e.text?(n.textContent=e.text,St(n,"block")):Qt(n),GP(t,e))},ZP=(t,e)=>{const n=jx();n&&(yy(n),ou(n,e.footer,"block"),e.footer&&vy(e.footer,n),Fn(n,e,"footer"))},eR=(t,e)=>{const n=Ge.innerParams.get(t),r=ra();if(!r)return;if(n&&e.icon===n.icon){G_(r,e),W_(r,e);return}if(!e.icon&&!e.iconHtml){Qt(r);return}if(e.icon&&Object.keys(Cd).indexOf(e.icon)===-1){Bs(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Qt(r);return}St(r),G_(r,e),W_(r,e),Ve(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Hx)},W_=(t,e)=>{for(const[n,r]of Object.entries(Cd))e.icon!==n&&Jn(t,r);Ve(t,e.icon&&Cd[e.icon]),rR(t,e),Hx(),Fn(t,e,"icon")},Hx=()=>{const t=Me();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},tR=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,nR=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,G_=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=K_(e.iconHtml):e.icon==="success"?(r=tR,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?r=nR:e.icon&&(r=K_({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&Un(t,r)},rR=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])q_(t,n,"background-color",e.iconColor);q_(t,".swal2-success-ring","border-color",e.iconColor)}},K_=t=>`<div class="${z["icon-content"]}">${t}</div>`,iR=(t,e)=>{const n=Fx();if(n){if(!e.imageUrl){Qt(n);return}St(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),xs(n,"width",e.imageWidth),xs(n,"height",e.imageHeight),n.className=z.image,Fn(n,e,"image")}};let Ey=!1,qx=0,Wx=0,Gx=0,Kx=0;const sR=t=>{t.addEventListener("mousedown",Pd),document.body.addEventListener("mousemove",Rd),t.addEventListener("mouseup",Nd),t.addEventListener("touchstart",Pd),document.body.addEventListener("touchmove",Rd),t.addEventListener("touchend",Nd)},oR=t=>{t.removeEventListener("mousedown",Pd),document.body.removeEventListener("mousemove",Rd),t.removeEventListener("mouseup",Nd),t.removeEventListener("touchstart",Pd),document.body.removeEventListener("touchmove",Rd),t.removeEventListener("touchend",Nd)},Pd=t=>{const e=Me();if(t.target===e||ra().contains(t.target)){Ey=!0;const n=Qx(t);qx=n.clientX,Wx=n.clientY,Gx=parseInt(e.style.insetInlineStart)||0,Kx=parseInt(e.style.insetBlockStart)||0,Ve(e,"swal2-dragging")}},Rd=t=>{const e=Me();if(Ey){let{clientX:n,clientY:r}=Qx(t);e.style.insetInlineStart=`${Gx+(n-qx)}px`,e.style.insetBlockStart=`${Kx+(r-Wx)}px`}},Nd=()=>{const t=Me();Ey=!1,Jn(t,"swal2-dragging")},Qx=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},aR=(t,e)=>{const n=dn(),r=Me();if(!(!n||!r)){if(e.toast){xs(n,"width",e.width),r.style.width="100%";const i=sa();i&&r.insertBefore(i,ra())}else xs(r,"width",e.width);xs(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Qt(Ih()),lR(r,e),e.draggable&&!e.toast?(Ve(r,z.draggable),sR(r)):(Jn(r,z.draggable),oR(r))}},lR=(t,e)=>{const n=e.showClass||{};t.className=`${z.popup} ${En(t)?n.popup:""}`,e.toast?(Ve([document.documentElement,document.body],z["toast-shown"]),Ve(t,z.toast)):Ve(t,z.modal),Fn(t,e,"popup"),typeof e.customClass=="string"&&Ve(t,e.customClass),e.icon&&Ve(t,z[`icon-${e.icon}`])},uR=(t,e)=>{const n=fy();if(!n)return;const{progressSteps:r,currentProgressStep:i}=e;if(!r||r.length===0||i===void 0){Qt(n);return}St(n),n.textContent="",i>=r.length&&ln("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((s,o)=>{const a=cR(s);if(n.appendChild(a),o===i&&Ve(a,z["active-progress-step"]),o!==r.length-1){const l=dR(e);n.appendChild(l)}})},cR=t=>{const e=document.createElement("li");return Ve(e,z["progress-step"]),Un(e,t),e},dR=t=>{const e=document.createElement("li");return Ve(e,z["progress-step-line"]),t.progressStepsDistance&&xs(e,"width",t.progressStepsDistance),e},hR=(t,e)=>{const n=Vx();n&&(yy(n),ou(n,e.title||e.titleText,"block"),e.title&&vy(e.title,n),e.titleText&&(n.innerText=e.titleText),Fn(n,e,"title"))},Yx=(t,e)=>{aR(t,e),UP(t,e),uR(t,e),eR(t,e),iR(t,e),hR(t,e),zP(t,e),JP(t,e),FP(t,e),ZP(t,e);const n=Me();typeof e.didRender=="function"&&n&&e.didRender(n),ce.eventEmitter.emit("didRender",n)},fR=()=>En(Me()),Xx=()=>{var t;return(t=Sr())===null||t===void 0?void 0:t.click()},pR=()=>{var t;return(t=zs())===null||t===void 0?void 0:t.click()},mR=()=>{var t;return(t=ia())===null||t===void 0?void 0:t.click()},oa=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Jx=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},gR=(t,e,n)=>{Jx(t),e.toast||(t.keydownHandler=r=>wR(e,r,n),t.keydownTarget=e.keydownListenerCapture?window:Me(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},xm=(t,e)=>{var n;const r=my();if(r.length){t=t+e,t===-2&&(t=r.length-1),t===r.length?t=0:t===-1&&(t=r.length-1),r[t].focus();return}(n=Me())===null||n===void 0||n.focus()},Zx=["ArrowRight","ArrowDown"],yR=["ArrowLeft","ArrowUp"],wR=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?vR(e,t):e.key==="Tab"?_R(e):[...Zx,...yR].includes(e.key)?ER(e.key):e.key==="Escape"&&bR(e,t,n)))},vR=(t,e)=>{if(!Th(e.allowEnterKey))return;const n=Ah(Me(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;Xx(),t.preventDefault()}},_R=t=>{const e=t.target,n=my();let r=-1;for(let i=0;i<n.length;i++)if(e===n[i]){r=i;break}t.shiftKey?xm(r,-1):xm(r,1),t.stopPropagation(),t.preventDefault()},ER=t=>{const e=su(),n=Sr(),r=zs(),i=ia();if(!e||!n||!r||!i)return;const s=[n,r,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const o=Zx.includes(t)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;if(a){for(let l=0;l<e.children.length;l++){if(a=a[o],!a)return;if(a instanceof HTMLButtonElement&&En(a))break}a instanceof HTMLButtonElement&&a.focus()}},bR=(t,e,n)=>{Th(e.allowEscapeKey)&&(t.preventDefault(),n(oa.esc))};var Uo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const kR=()=>{const t=dn();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},e1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},t1=typeof window<"u"&&!!window.GestureEvent,xR=()=>{if(t1&&!Hr(document.body,z.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Ve(document.body,z.iosfix),TR()}},TR=()=>{const t=dn();if(!t)return;let e;t.ontouchstart=n=>{e=IR(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},IR=t=>{const e=t.target,n=dn(),r=hy();return!n||!r||SR(t)||CR(t)?!1:e===n||!km(n)&&e instanceof HTMLElement&&!IP(e,r)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(km(r)&&r.contains(e))},SR=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",CR=t=>t.touches&&t.touches.length>1,AR=()=>{if(Hr(document.body,z.iosfix)){const t=parseInt(document.body.style.top,10);Jn(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},PR=()=>{const t=document.createElement("div");t.className=z["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let So=null;const RR=t=>{So===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(So=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${So+PR()}px`)},NR=()=>{So!==null&&(document.body.style.paddingRight=`${So}px`,So=null)};function n1(t,e,n,r){Ch()?Q_(t,r):(gP(n).then(()=>Q_(t,r)),Jx(ce)),t1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),gy()&&(NR(),AR(),e1()),DR()}function DR(){Jn([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}function Ci(t){t=LR(t);const e=Uo.swalPromiseResolve.get(this),n=OR(this);this.isAwaitingPromise?t.isDismissed||(lu(this),e(t)):n&&e(t)}const OR=t=>{const e=Me();if(!e)return!1;const n=Ge.innerParams.get(t);if(!n||Hr(e,n.hideClass.popup))return!1;Jn(e,n.showClass.popup),Ve(e,n.hideClass.popup);const r=dn();return Jn(r,n.showClass.backdrop),Ve(r,n.hideClass.backdrop),MR(t,e,n),!0};function r1(t){const e=Uo.swalPromiseReject.get(this);lu(this),e&&e(t)}const lu=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Ge.innerParams.get(t)||t._destroy())},LR=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),MR=(t,e,n)=>{var r;const i=dn(),s=Ux(e);typeof n.willClose=="function"&&n.willClose(e),(r=ce.eventEmitter)===null||r===void 0||r.emit("willClose",e),s?VR(t,e,i,n.returnFocus,n.didClose):n1(t,i,n.returnFocus,n.didClose)},VR=(t,e,n,r,i)=>{ce.swalCloseEventFinishedCallback=n1.bind(null,t,n,r,i);const s=function(o){if(o.target===e){var a;(a=ce.swalCloseEventFinishedCallback)===null||a===void 0||a.call(ce),delete ce.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},Q_=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ce.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},$o=t=>{let e=Me();if(e||new hr,e=Me(),!e)return;const n=sa();Ch()?Qt(ra()):FR(e,t),St(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},FR=(t,e)=>{const n=su(),r=sa();!n||!r||(!e&&En(Sr())&&(e=Sr()),St(n),e&&(Qt(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),Ve([t,n],z.loading))},jR=(t,e)=>{e.input==="select"||e.input==="radio"?HR(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(cy(e.inputValue)||dy(e.inputValue))&&($o(Sr()),qR(t,e))},BR=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return zR(n);case"radio":return UR(n);case"file":return $R(n);default:return e.inputAutoTrim?n.value.trim():n.value}},zR=t=>t.checked?1:0,UR=t=>t.checked?t.value:null,$R=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,HR=(t,e)=>{const n=Me();if(!n)return;const r=i=>{e.input==="select"?WR(n,Dd(i),e):e.input==="radio"&&GR(n,Dd(i),e)};cy(e.inputOptions)||dy(e.inputOptions)?($o(Sr()),ru(e.inputOptions).then(i=>{t.hideLoading(),r(i)})):typeof e.inputOptions=="object"?r(e.inputOptions):Bs(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},qR=(t,e)=>{const n=t.getInput();n&&(Qt(n),ru(e.inputValue).then(r=>{n.value=e.input==="number"?`${parseFloat(r)||0}`:`${r}`,St(n),n.focus(),t.hideLoading()}).catch(r=>{Bs(`Error in inputValue promise: ${r}`),n.value="",St(n),n.focus(),t.hideLoading()}))};function WR(t,e,n){const r=Si(t,z.select);if(!r)return;const i=(s,o,a)=>{const l=document.createElement("option");l.value=a,Un(l,o),l.selected=i1(a,n.inputValue),s.appendChild(l)};e.forEach(s=>{const o=s[0],a=s[1];if(Array.isArray(a)){const l=document.createElement("optgroup");l.label=o,l.disabled=!1,r.appendChild(l),a.forEach(c=>i(l,c[1],c[0]))}else i(r,a,o)}),r.focus()}function GR(t,e,n){const r=Si(t,z.radio);if(!r)return;e.forEach(s=>{const o=s[0],a=s[1],l=document.createElement("input"),c=document.createElement("label");l.type="radio",l.name=z.radio,l.value=o,i1(o,n.inputValue)&&(l.checked=!0);const d=document.createElement("span");Un(d,a),d.className=z.label,c.appendChild(l),c.appendChild(d),r.appendChild(c)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}const Dd=t=>{const e=[];return t instanceof Map?t.forEach((n,r)=>{let i=n;typeof i=="object"&&(i=Dd(i)),e.push([r,i])}):Object.keys(t).forEach(n=>{let r=t[n];typeof r=="object"&&(r=Dd(r)),e.push([n,r])}),e},i1=(t,e)=>!!e&&e.toString()===t.toString(),KR=t=>{const e=Ge.innerParams.get(t);t.disableButtons(),e.input?s1(t,"confirm"):ky(t,!0)},QR=t=>{const e=Ge.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?s1(t,"deny"):by(t,!1)},YR=(t,e)=>{t.disableButtons(),e(oa.cancel)},s1=(t,e)=>{const n=Ge.innerParams.get(t);if(!n.input){Bs(`The "input" parameter is needed to be set when using returnInputValueOn${uy(e)}`);return}const r=t.getInput(),i=BR(t,n);n.inputValidator?XR(t,i,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):e==="deny"?by(t,i):ky(t,i)},XR=(t,e,n)=>{const r=Ge.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ru(r.inputValidator(e,r.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):n==="deny"?by(t,e):ky(t,e)})},by=(t,e)=>{const n=Ge.innerParams.get(t||void 0);n.showLoaderOnDeny&&$o(zs()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>ru(n.preDeny(e,n.validationMessage))).then(i=>{i===!1?(t.hideLoading(),lu(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>o1(t||void 0,i))):t.close({isDenied:!0,value:e})},Y_=(t,e)=>{t.close({isConfirmed:!0,value:e})},o1=(t,e)=>{t.rejectPromise(e)},ky=(t,e)=>{const n=Ge.innerParams.get(t||void 0);n.showLoaderOnConfirm&&$o(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>ru(n.preConfirm(e,n.validationMessage))).then(i=>{En(Ih())||i===!1?(t.hideLoading(),lu(t)):Y_(t,typeof i>"u"?e:i)}).catch(i=>o1(t||void 0,i))):Y_(t,e)};function Od(){const t=Ge.innerParams.get(this);if(!t)return;const e=Ge.domCache.get(this);Qt(e.loader),Ch()?t.icon&&St(ra()):JR(e),Jn([e.popup,e.actions],z.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const JR=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?St(e[0],"inline-block"):TP()&&Qt(t.actions)};function a1(){const t=Ge.innerParams.get(this),e=Ge.domCache.get(this);return e?Ah(e.popup,t.input):null}function l1(t,e,n){const r=Ge.domCache.get(t);e.forEach(i=>{r[i].disabled=n})}function u1(t,e){const n=Me();if(!(!n||!t))if(t.type==="radio"){const r=n.querySelectorAll(`[name="${z.radio}"]`);for(let i=0;i<r.length;i++)r[i].disabled=e}else t.disabled=e}function c1(){l1(this,["confirmButton","denyButton","cancelButton"],!1)}function d1(){l1(this,["confirmButton","denyButton","cancelButton"],!0)}function h1(){u1(this.getInput(),!1)}function f1(){u1(this.getInput(),!0)}function p1(t){const e=Ge.domCache.get(this),n=Ge.innerParams.get(this);Un(e.validationMessage,t),e.validationMessage.className=z["validation-message"],n.customClass&&n.customClass.validationMessage&&Ve(e.validationMessage,n.customClass.validationMessage),St(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",z["validation-message"]),Bx(r),Ve(r,z.inputerror))}function m1(){const t=Ge.domCache.get(this);t.validationMessage&&Qt(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Jn(e,z.inputerror))}const Co={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},ZR=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],eN={allowEnterKey:void 0},tN=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],g1=t=>Object.prototype.hasOwnProperty.call(Co,t),y1=t=>ZR.indexOf(t)!==-1,w1=t=>eN[t],nN=t=>{g1(t)||ln(`Unknown parameter "${t}"`)},rN=t=>{tN.includes(t)&&ln(`The parameter "${t}" is incompatible with toasts`)},iN=t=>{const e=w1(t);e&&Mx(t,e)},v1=t=>{t.backdrop===!1&&t.allowOutsideClick&&ln('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&ln(`Invalid theme "${t.theme}"`);for(const e in t)nN(e),t.toast&&rN(e),iN(e)};function _1(t){const e=dn(),n=Me(),r=Ge.innerParams.get(this);if(!n||Hr(n,r.hideClass.popup)){ln("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=sN(t),s=Object.assign({},r,i);v1(s),e.dataset.swal2Theme=s.theme,Yx(this,s),Ge.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const sN=t=>{const e={};return Object.keys(t).forEach(n=>{y1(n)?e[n]=t[n]:ln(`Invalid parameter to update: ${n}`)}),e};function E1(){const t=Ge.domCache.get(this),e=Ge.innerParams.get(this);if(!e){b1(this);return}t.popup&&ce.swalCloseEventFinishedCallback&&(ce.swalCloseEventFinishedCallback(),delete ce.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ce.eventEmitter.emit("didDestroy"),oN(this)}const oN=t=>{b1(t),delete t.params,delete ce.keydownHandler,delete ce.keydownTarget,delete ce.currentInstance},b1=t=>{t.isAwaitingPromise?(Gf(Ge,t),t.isAwaitingPromise=!0):(Gf(Uo,t),Gf(Ge,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},Gf=(t,e)=>{for(const n in t)t[n].delete(e)};var aN=Object.freeze({__proto__:null,_destroy:E1,close:Ci,closeModal:Ci,closePopup:Ci,closeToast:Ci,disableButtons:d1,disableInput:f1,disableLoading:Od,enableButtons:c1,enableInput:h1,getInput:a1,handleAwaitingPromise:lu,hideLoading:Od,rejectPromise:r1,resetValidationMessage:m1,showValidationMessage:p1,update:_1});const lN=(t,e,n)=>{t.toast?uN(t,e,n):(dN(e),hN(e),fN(t,e,n))},uN=(t,e,n)=>{e.popup.onclick=()=>{t&&(cN(t)||t.timer||t.input)||n(oa.close)}},cN=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let Ld=!1;const dN=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(Ld=!0)}}},hN=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(Ld=!0)}}},fN=(t,e,n)=>{e.container.onclick=r=>{if(Ld){Ld=!1;return}r.target===e.container&&Th(t.allowOutsideClick)&&n(oa.backdrop)}},pN=t=>typeof t=="object"&&t.jquery,X_=t=>t instanceof Element||pN(t),mN=t=>{const e={};return typeof t[0]=="object"&&!X_(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,r)=>{const i=t[r];typeof i=="string"||X_(i)?e[n]=i:i!==void 0&&Bs(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof i}`)}),e};function gN(...t){return new this(...t)}function yN(t){class e extends this{_main(r,i){return super._main(r,Object.assign({},t,i))}}return e}const wN=()=>ce.timeout&&ce.timeout.getTimerLeft(),k1=()=>{if(ce.timeout)return SP(),ce.timeout.stop()},x1=()=>{if(ce.timeout){const t=ce.timeout.start();return wy(t),t}},vN=()=>{const t=ce.timeout;return t&&(t.running?k1():x1())},_N=t=>{if(ce.timeout){const e=ce.timeout.increase(t);return wy(e,!0),e}},EN=()=>!!(ce.timeout&&ce.timeout.isRunning());let J_=!1;const Tm={};function bN(t="data-swal-template"){Tm[t]=this,J_||(document.body.addEventListener("click",kN),J_=!0)}const kN=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Tm){const r=e.getAttribute(n);if(r){Tm[n].fire({template:r});return}}};class xN{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const r=this._getHandlersByEventName(e);r.includes(n)||r.push(n)}once(e,n){const r=(...i)=>{this.removeListener(e,r),n.apply(this,i)};this.on(e,r)}emit(e,...n){this._getHandlersByEventName(e).forEach(r=>{try{r.apply(this,n)}catch(i){console.error(i)}})}removeListener(e,n){const r=this._getHandlersByEventName(e),i=r.indexOf(n);i>-1&&r.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ce.eventEmitter=new xN;const TN=(t,e)=>{ce.eventEmitter.on(t,e)},IN=(t,e)=>{ce.eventEmitter.once(t,e)},SN=(t,e)=>{if(!t){ce.eventEmitter.reset();return}e?ce.eventEmitter.removeListener(t,e):ce.eventEmitter.removeAllListeners(t)};var CN=Object.freeze({__proto__:null,argsToParams:mN,bindClickHandler:bN,clickCancel:mR,clickConfirm:Xx,clickDeny:pR,enableLoading:$o,fire:gN,getActions:su,getCancelButton:ia,getCloseButton:py,getConfirmButton:Sr,getContainer:dn,getDenyButton:zs,getFocusableElements:my,getFooter:jx,getHtmlContainer:hy,getIcon:ra,getIconContent:_P,getImage:Fx,getInputLabel:EP,getLoader:sa,getPopup:Me,getProgressSteps:fy,getTimerLeft:wN,getTimerProgressBar:Sh,getTitle:Vx,getValidationMessage:Ih,increaseTimer:_N,isDeprecatedParameter:w1,isLoading:kP,isTimerRunning:EN,isUpdatableParameter:y1,isValidParameter:g1,isVisible:fR,mixin:yN,off:SN,on:TN,once:IN,resumeTimer:x1,showLoading:$o,stopTimer:k1,toggleTimer:vN});class AN{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const T1=["swal-title","swal-html","swal-footer"],PN=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return FN(n),Object.assign(RN(n),NN(n),DN(n),ON(n),LN(n),MN(n),VN(n,T1))},RN=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(r=>{Rs(r,["name","value"]);const i=r.getAttribute("name"),s=r.getAttribute("value");!i||!s||(typeof Co[i]=="boolean"?e[i]=s!=="false":typeof Co[i]=="object"?e[i]=JSON.parse(s):e[i]=s)}),e},NN=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(r=>{const i=r.getAttribute("name"),s=r.getAttribute("value");!i||!s||(e[i]=new Function(`return ${s}`)())}),e},DN=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(r=>{Rs(r,["type","color","aria-label"]);const i=r.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=r.innerHTML,e[`show${uy(i)}Button`]=!0,r.hasAttribute("color")&&(e[`${i}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),e},ON=t=>{const e={},n=t.querySelector("swal-image");return n&&(Rs(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},LN=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Rs(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},MN=t=>{const e={},n=t.querySelector("swal-input");n&&(Rs(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach(i=>{Rs(i,["value"]);const s=i.getAttribute("value");if(!s)return;const o=i.innerHTML;e.inputOptions[s]=o})),e},VN=(t,e)=>{const n={};for(const r in e){const i=e[r],s=t.querySelector(i);s&&(Rs(s,[]),n[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return n},FN=t=>{const e=T1.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const r=n.tagName.toLowerCase();e.includes(r)||ln(`Unrecognized element <${r}>`)})},Rs=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&ln([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},I1=10,jN=t=>{const e=dn(),n=Me();typeof t.willOpen=="function"&&t.willOpen(n),ce.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;UN(e,n,t),setTimeout(()=>{BN(e,n)},I1),gy()&&(zN(e,t.scrollbarPadding,i),kR()),!Ch()&&!ce.previousActiveElement&&(ce.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ce.eventEmitter.emit("didOpen",n),Jn(e,z["no-transition"])},Md=t=>{const e=Me();if(t.target!==e)return;const n=dn();e.removeEventListener("animationend",Md),e.removeEventListener("transitionend",Md),n.style.overflowY="auto"},BN=(t,e)=>{Ux(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Md),e.addEventListener("transitionend",Md)):t.style.overflowY="auto"},zN=(t,e,n)=>{xR(),e&&n!=="hidden"&&RR(n),setTimeout(()=>{t.scrollTop=0})},UN=(t,e,n)=>{Ve(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),St(e,"grid"),setTimeout(()=>{Ve(e,n.showClass.popup),e.style.removeProperty("opacity")},I1)):St(e,"grid"),Ve([document.documentElement,document.body],z.shown),n.heightAuto&&n.backdrop&&!n.toast&&Ve([document.documentElement,document.body],z["height-auto"])};var Z_={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function $N(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Z_.email),t.input==="url"&&(t.inputValidator=Z_.url))}function HN(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(ln('Target parameter is not valid, defaulting to "body"'),t.target="body")}function qN(t){$N(t),t.showLoaderOnConfirm&&!t.preConfirm&&ln(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),HN(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),LP(t)}let yr;var hc=new WeakMap;class pt{constructor(...e){if(hP(this,hc,void 0),typeof window>"u")return;yr=this;const n=Object.freeze(this.constructor.argsToParams(e));this.params=n,this.isAwaitingPromise=!1,fP(hc,this,this._main(yr.params))}_main(e,n={}){if(v1(Object.assign({},n,e)),ce.currentInstance){const s=Uo.swalPromiseResolve.get(ce.currentInstance),{isAwaitingPromise:o}=ce.currentInstance;ce.currentInstance._destroy(),o||s({isDismissed:!0}),gy()&&e1()}ce.currentInstance=yr;const r=GN(e,n);qN(r),Object.freeze(r),ce.timeout&&(ce.timeout.stop(),delete ce.timeout),clearTimeout(ce.restoreFocusTimeout);const i=KN(yr);return Yx(yr,r),Ge.innerParams.set(yr,r),WN(yr,i,r)}then(e){return $_(hc,this).then(e)}finally(e){return $_(hc,this).finally(e)}}const WN=(t,e,n)=>new Promise((r,i)=>{const s=o=>{t.close({isDismissed:!0,dismiss:o})};Uo.swalPromiseResolve.set(t,r),Uo.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{KR(t)},e.denyButton.onclick=()=>{QR(t)},e.cancelButton.onclick=()=>{YR(t,s)},e.closeButton.onclick=()=>{s(oa.close)},lN(n,e,s),gR(ce,n,s),jR(t,n),jN(n),QN(ce,n,s),YN(e,n),setTimeout(()=>{e.container.scrollTop=0})}),GN=(t,e)=>{const n=PN(t),r=Object.assign({},Co,e,n,t);return r.showClass=Object.assign({},Co.showClass,r.showClass),r.hideClass=Object.assign({},Co.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},KN=t=>{const e={popup:Me(),container:dn(),actions:su(),confirmButton:Sr(),denyButton:zs(),cancelButton:ia(),loader:sa(),closeButton:py(),validationMessage:Ih(),progressSteps:fy()};return Ge.domCache.set(t,e),e},QN=(t,e,n)=>{const r=Sh();Qt(r),e.timer&&(t.timeout=new AN(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(St(r),Fn(r,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&wy(e.timer)})))},YN=(t,e)=>{if(!e.toast){if(!Th(e.allowEnterKey)){Mx("allowEnterKey"),ZN();return}XN(t)||JN(t,e)||xm(-1,1)}},XN=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&En(n))return n.focus(),!0;return!1},JN=(t,e)=>e.focusDeny&&En(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&En(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&En(t.confirmButton)?(t.confirmButton.focus(),!0):!1,ZN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}pt.prototype.disableButtons=d1;pt.prototype.enableButtons=c1;pt.prototype.getInput=a1;pt.prototype.disableInput=f1;pt.prototype.enableInput=h1;pt.prototype.hideLoading=Od;pt.prototype.disableLoading=Od;pt.prototype.showValidationMessage=p1;pt.prototype.resetValidationMessage=m1;pt.prototype.close=Ci;pt.prototype.closePopup=Ci;pt.prototype.closeModal=Ci;pt.prototype.closeToast=Ci;pt.prototype.rejectPromise=r1;pt.prototype.update=_1;pt.prototype._destroy=E1;Object.assign(pt,CN);Object.keys(aN).forEach(t=>{pt[t]=function(...e){return yr&&yr[t]?yr[t](...e):null}});pt.DismissReason=oa;pt.version="11.22.0";const hr=pt;hr.default=hr;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function e0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e0(Object(n),!0).forEach(function(r){eD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jc=function(e){return typeof e}:jc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function eD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xr(){return Xr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xr.apply(this,arguments)}function tD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nD(t,e){if(t==null)return{};var n=tD(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var rD="1.15.6";function qr(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ii=qr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),uu=qr(/Edge/i),t0=qr(/firefox/i),ul=qr(/safari/i)&&!qr(/chrome/i)&&!qr(/android/i),xy=qr(/iP(ad|od|hone)/i),S1=qr(/chrome/i)&&qr(/android/i),C1={capture:!1,passive:!1};function Ce(t,e,n){t.addEventListener(e,n,!ii&&C1)}function Te(t,e,n){t.removeEventListener(e,n,!ii&&C1)}function Vd(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function A1(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function sr(t,e,n,r){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Vd(t,e):Vd(t,e))||r&&t===n)return t;if(t===n)break}while(t=A1(t))}return null}var n0=/\s+/g;function Sn(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(n0," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(n0," ")}}function pe(t,e,n){var r=t&&t.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=n+(typeof n=="string"?"":"px")}}function Ao(t,e){var n="";if(typeof t=="string")n=t;else do{var r=pe(t,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function P1(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,s=r.length;if(n)for(;i<s;i++)n(r[i],i);return r}return[]}function kr(){var t=document.scrollingElement;return t||document.documentElement}function wt(t,e,n,r,i){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,c,d,h;if(t!==window&&t.parentNode&&t!==kr()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,c=s.right,d=s.height,h=s.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!ii))do if(i&&i.getBoundingClientRect&&(pe(i,"transform")!=="none"||n&&pe(i,"position")!=="static")){var p=i.getBoundingClientRect();o-=p.top+parseInt(pe(i,"border-top-width")),a-=p.left+parseInt(pe(i,"border-left-width")),l=o+s.height,c=a+s.width;break}while(i=i.parentNode);if(r&&t!==window){var m=Ao(i||t),y=m&&m.a,I=m&&m.d;m&&(o/=I,a/=y,h/=y,d/=I,l=o+d,c=a+h)}return{top:o,left:a,bottom:l,right:c,width:h,height:d}}}function r0(t,e,n){for(var r=Ai(t,!0),i=wt(t)[e];r;){var s=wt(r)[n],o=void 0;if(o=i>=s,!o)return r;if(r===kr())break;r=Ai(r,!1)}return!1}function Ho(t,e,n,r){for(var i=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==me.ghost&&(r||o[s]!==me.dragged)&&sr(o[s],n.draggable,t,!1)){if(i===e)return o[s];i++}s++}return null}function Ty(t,e){for(var n=t.lastElementChild;n&&(n===me.ghost||pe(n,"display")==="none"||e&&!Vd(n,e));)n=n.previousElementSibling;return n||null}function Hn(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==me.clone&&(!e||Vd(t,e))&&n++;return n}function i0(t){var e=0,n=0,r=kr();if(t)do{var i=Ao(t),s=i.a,o=i.d;e+=t.scrollLeft*s,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function iD(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n)}return-1}function Ai(t,e){if(!t||!t.getBoundingClientRect)return kr();var n=t,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=pe(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return kr();if(r||e)return n;r=!0}}while(n=n.parentNode);return kr()}function sD(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Kf(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var cl;function R1(t,e){return function(){if(!cl){var n=arguments,r=this;n.length===1?t.call(r,n[0]):t.apply(r,n),cl=setTimeout(function(){cl=void 0},e)}}}function oD(){clearTimeout(cl),cl=void 0}function N1(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function D1(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function O1(t,e,n){var r={};return Array.from(t.children).forEach(function(i){var s,o,a,l;if(!(!sr(i,e.draggable,t,!1)||i.animated||i===n)){var c=wt(i);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,c.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,c.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,c.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var mn="Sortable"+new Date().getTime();function aD(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(pe(i,"display")==="none"||i===me.ghost)){t.push({target:i,rect:wt(i)});var s=Cr({},t[t.length-1].rect);if(i.thisAnimationDuration){var o=Ao(i,!0);o&&(s.top-=o.f,s.left-=o.e)}i.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(iD(t,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,c=a.target,d=c.fromRect,h=wt(c),p=c.prevFromRect,m=c.prevToRect,y=a.rect,I=Ao(c,!0);I&&(h.top-=I.f,h.left-=I.e),c.toRect=h,c.thisAnimationDuration&&Kf(p,h)&&!Kf(d,h)&&(y.top-h.top)/(y.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(l=uD(y,p,m,i.options)),Kf(h,d)||(c.prevFromRect=d,c.prevToRect=h,l||(l=i.options.animation),i.animate(c,y,h,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,i,s,o){if(o){pe(r,"transition",""),pe(r,"transform","");var a=Ao(this.el),l=a&&a.a,c=a&&a.d,d=(i.left-s.left)/(l||1),h=(i.top-s.top)/(c||1);r.animatingX=!!d,r.animatingY=!!h,pe(r,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=lD(r),pe(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),pe(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){pe(r,"transition",""),pe(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function lD(t){return t.offsetWidth}function uD(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}var Zs=[],Qf={initializeByDefault:!0},cu={mount:function(e){for(var n in Qf)Qf.hasOwnProperty(n)&&!(n in e)&&(e[n]=Qf[n]);Zs.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Zs.push(e)},pluginEvent:function(e,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var s=e+"Global";Zs.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][s]&&n[o.pluginName][s](Cr({sortable:n},r)),n.options[o.pluginName]&&n[o.pluginName][e]&&n[o.pluginName][e](Cr({sortable:n},r)))})},initializePlugins:function(e,n,r,i){Zs.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var c=new a(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,Xr(r,c.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,n){var r={};return Zs.forEach(function(i){typeof i.eventProperties=="function"&&Xr(r,i.eventProperties.call(n[i.pluginName],e))}),r},modifyOption:function(e,n,r){var i;return Zs.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[n]=="function"&&(i=s.optionListeners[n].call(e[s.pluginName],r))}),i}};function cD(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,p=t.originalEvent,m=t.putSortable,y=t.extraEventProperties;if(e=e||n&&n[mn],!!e){var I,P=e.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!ii&&!uu?I=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(I=document.createEvent("Event"),I.initEvent(r,!0,!0)),I.to=o||n,I.from=a||n,I.item=i||n,I.clone=s,I.oldIndex=l,I.newIndex=c,I.oldDraggableIndex=d,I.newDraggableIndex=h,I.originalEvent=p,I.pullMode=m?m.lastPutMode:void 0;var _=Cr(Cr({},y),cu.getEventProperties(r,e));for(var T in _)I[T]=_[T];n&&n.dispatchEvent(I),P[w]&&P[w].call(e,I)}}var dD=["evt"],hn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,s=nD(r,dD);cu.pluginEvent.bind(me)(e,n,Cr({dragEl:Q,parentEl:at,ghostEl:we,rootEl:Ze,nextEl:fs,lastDownEl:Bc,cloneEl:tt,cloneHidden:_i,dragStarted:Ga,putSortable:Pt,activeSortable:me.active,originalEvent:i,oldIndex:_o,oldDraggableIndex:dl,newIndex:An,newDraggableIndex:yi,hideGhostForTarget:F1,unhideGhostForTarget:j1,cloneNowHidden:function(){_i=!0},cloneNowShown:function(){_i=!1},dispatchSortableEvent:function(a){en({sortable:n,name:a,originalEvent:i})}},s))};function en(t){cD(Cr({putSortable:Pt,cloneEl:tt,targetEl:Q,rootEl:Ze,oldIndex:_o,oldDraggableIndex:dl,newIndex:An,newDraggableIndex:yi},t))}var Q,at,we,Ze,fs,Bc,tt,_i,_o,An,dl,yi,fc,Pt,no=!1,Fd=!1,jd=[],as,nr,Yf,Xf,s0,o0,Ga,eo,hl,fl=!1,pc=!1,zc,Ut,Jf=[],Im=!1,Bd=[],Ph=typeof document<"u",mc=xy,a0=uu||ii?"cssFloat":"float",hD=Ph&&!S1&&!xy&&"draggable"in document.createElement("div"),L1=function(){if(Ph){if(ii)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),M1=function(e,n){var r=pe(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=Ho(e,0,n),o=Ho(e,1,n),a=s&&pe(s),l=o&&pe(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+wt(s).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+wt(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[a0]==="none"||o&&r[a0]==="none"&&c+d>i)?"vertical":"horizontal"},fD=function(e,n,r){var i=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||s===l||i+o/2===a+c/2},pD=function(e,n){var r;return jd.some(function(i){var s=i[mn].options.emptyInsertThreshold;if(!(!s||Ty(i))){var o=wt(i),a=e>=o.left-s&&e<=o.right+s,l=n>=o.top-s&&n<=o.bottom+s;if(a&&l)return r=i}}),r},V1=function(e){function n(s,o){return function(a,l,c,d){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||h))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return n(s(a,l,c,d),o)(a,l,c,d);var p=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===p||s.join&&s.indexOf(p)>-1}}var r={},i=e.group;(!i||jc(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,e.group=r},F1=function(){!L1&&we&&pe(we,"display","none")},j1=function(){!L1&&we&&pe(we,"display","")};Ph&&!S1&&document.addEventListener("click",function(t){if(Fd)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Fd=!1,!1},!0);var ls=function(e){if(Q){e=e.touches?e.touches[0]:e;var n=pD(e.clientX,e.clientY);if(n){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[mn]._onDragOver(r)}}},mD=function(e){Q&&Q.parentNode[mn]._isOutsideThisEl(e.target)};function me(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Xr({},e),t[mn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return M1(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:me.supportPointer!==!1&&"PointerEvent"in window&&(!ul||xy),emptyInsertThreshold:5};cu.initializePlugins(this,t,n);for(var r in n)!(r in e)&&(e[r]=n[r]);V1(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:hD,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ce(t,"pointerdown",this._onTapStart):(Ce(t,"mousedown",this._onTapStart),Ce(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ce(t,"dragover",this),Ce(t,"dragenter",this)),jd.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Xr(this,aD())}me.prototype={constructor:me,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(eo=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,Q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,r=this.el,i=this.options,s=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=i.filter;if(kD(r),!Q&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ul&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=sr(l,i.draggable,r,!1),!(l&&l.animated)&&Bc!==l)){if(_o=Hn(l),dl=Hn(l,i.draggable),typeof d=="function"){if(d.call(this,e,l,this)){en({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),hn("filter",n,{evt:e}),s&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=sr(c,h.trim(),r,!1),h)return en({sortable:n,rootEl:h,name:"filter",targetEl:l,fromEl:r,toEl:r}),hn("filter",n,{evt:e}),!0}),d)){s&&e.preventDefault();return}i.handle&&!sr(c,i.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,n,r){var i=this,s=i.el,o=i.options,a=s.ownerDocument,l;if(r&&!Q&&r.parentNode===s){var c=wt(r);if(Ze=s,Q=r,at=Q.parentNode,fs=Q.nextSibling,Bc=r,fc=o.group,me.dragged=Q,as={target:Q,clientX:(n||e).clientX,clientY:(n||e).clientY},s0=as.clientX-c.left,o0=as.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,Q.style["will-change"]="all",l=function(){if(hn("delayEnded",i,{evt:e}),me.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!t0&&i.nativeDraggable&&(Q.draggable=!0),i._triggerDragStart(e,n),en({sortable:i,name:"choose",originalEvent:e}),Sn(Q,o.chosenClass,!0)},o.ignore.split(",").forEach(function(d){P1(Q,d.trim(),Zf)}),Ce(a,"dragover",ls),Ce(a,"mousemove",ls),Ce(a,"touchmove",ls),o.supportPointer?(Ce(a,"pointerup",i._onDrop),!this.nativeDraggable&&Ce(a,"pointercancel",i._onDrop)):(Ce(a,"mouseup",i._onDrop),Ce(a,"touchend",i._onDrop),Ce(a,"touchcancel",i._onDrop)),t0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),hn("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(uu||ii))){if(me.eventCanceled){this._onDrop();return}o.supportPointer?(Ce(a,"pointerup",i._disableDelayedDrag),Ce(a,"pointercancel",i._disableDelayedDrag)):(Ce(a,"mouseup",i._disableDelayedDrag),Ce(a,"touchend",i._disableDelayedDrag),Ce(a,"touchcancel",i._disableDelayedDrag)),Ce(a,"mousemove",i._delayedDragTouchMoveHandler),Ce(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&Ce(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&Zf(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Te(e,"mouseup",this._disableDelayedDrag),Te(e,"touchend",this._disableDelayedDrag),Te(e,"touchcancel",this._disableDelayedDrag),Te(e,"pointerup",this._disableDelayedDrag),Te(e,"pointercancel",this._disableDelayedDrag),Te(e,"mousemove",this._delayedDragTouchMoveHandler),Te(e,"touchmove",this._delayedDragTouchMoveHandler),Te(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ce(document,"pointermove",this._onTouchMove):n?Ce(document,"touchmove",this._onTouchMove):Ce(document,"mousemove",this._onTouchMove):(Ce(Q,"dragend",this),Ce(Ze,"dragstart",this._onDragStart));try{document.selection?Uc(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(no=!1,Ze&&Q){hn("dragStarted",this,{evt:n}),this.nativeDraggable&&Ce(document,"dragover",mD);var r=this.options;!e&&Sn(Q,r.dragClass,!1),Sn(Q,r.ghostClass,!0),me.active=this,e&&this._appendGhost(),en({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(nr){this._lastX=nr.clientX,this._lastY=nr.clientY,F1();for(var e=document.elementFromPoint(nr.clientX,nr.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(nr.clientX,nr.clientY),e!==n);)n=e;if(Q.parentNode[mn]._isOutsideThisEl(e),n)do{if(n[mn]){var r=void 0;if(r=n[mn]._onDragOver({clientX:nr.clientX,clientY:nr.clientY,target:e,rootEl:n}),r&&!this.options.dragoverBubble)break}e=n}while(n=A1(n));j1()}},_onTouchMove:function(e){if(as){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,s=e.touches?e.touches[0]:e,o=we&&Ao(we,!0),a=we&&o&&o.a,l=we&&o&&o.d,c=mc&&Ut&&i0(Ut),d=(s.clientX-as.clientX+i.x)/(a||1)+(c?c[0]-Jf[0]:0)/(a||1),h=(s.clientY-as.clientY+i.y)/(l||1)+(c?c[1]-Jf[1]:0)/(l||1);if(!me.active&&!no){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(we){o?(o.e+=d-(Yf||0),o.f+=h-(Xf||0)):o={a:1,b:0,c:0,d:1,e:d,f:h};var p="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");pe(we,"webkitTransform",p),pe(we,"mozTransform",p),pe(we,"msTransform",p),pe(we,"transform",p),Yf=d,Xf=h,nr=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!we){var e=this.options.fallbackOnBody?document.body:Ze,n=wt(Q,!0,mc,!0,e),r=this.options;if(mc){for(Ut=e;pe(Ut,"position")==="static"&&pe(Ut,"transform")==="none"&&Ut!==document;)Ut=Ut.parentNode;Ut!==document.body&&Ut!==document.documentElement?(Ut===document&&(Ut=kr()),n.top+=Ut.scrollTop,n.left+=Ut.scrollLeft):Ut=kr(),Jf=i0(Ut)}we=Q.cloneNode(!0),Sn(we,r.ghostClass,!1),Sn(we,r.fallbackClass,!0),Sn(we,r.dragClass,!0),pe(we,"transition",""),pe(we,"transform",""),pe(we,"box-sizing","border-box"),pe(we,"margin",0),pe(we,"top",n.top),pe(we,"left",n.left),pe(we,"width",n.width),pe(we,"height",n.height),pe(we,"opacity","0.8"),pe(we,"position",mc?"absolute":"fixed"),pe(we,"zIndex","100000"),pe(we,"pointerEvents","none"),me.ghost=we,e.appendChild(we),pe(we,"transform-origin",s0/parseInt(we.style.width)*100+"% "+o0/parseInt(we.style.height)*100+"%")}},_onDragStart:function(e,n){var r=this,i=e.dataTransfer,s=r.options;if(hn("dragStart",this,{evt:e}),me.eventCanceled){this._onDrop();return}hn("setupClone",this),me.eventCanceled||(tt=D1(Q),tt.removeAttribute("id"),tt.draggable=!1,tt.style["will-change"]="",this._hideClone(),Sn(tt,this.options.chosenClass,!1),me.clone=tt),r.cloneId=Uc(function(){hn("clone",r),!me.eventCanceled&&(r.options.removeCloneOnHide||Ze.insertBefore(tt,Q),r._hideClone(),en({sortable:r,name:"clone"}))}),!n&&Sn(Q,s.dragClass,!0),n?(Fd=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Te(document,"mouseup",r._onDrop),Te(document,"touchend",r._onDrop),Te(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(r,i,Q)),Ce(document,"drop",r),pe(Q,"transform","translateZ(0)")),no=!0,r._dragStartId=Uc(r._dragStarted.bind(r,n,e)),Ce(document,"selectstart",r),Ga=!0,window.getSelection().removeAllRanges(),ul&&pe(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,r=e.target,i,s,o,a=this.options,l=a.group,c=me.active,d=fc===l,h=a.sort,p=Pt||c,m,y=this,I=!1;if(Im)return;function P(U,Z){hn(U,y,Cr({evt:e,isOwner:d,axis:m?"vertical":"horizontal",revert:o,dragRect:i,targetRect:s,canSort:h,fromSortable:p,target:r,completed:_,onMove:function(te,ue){return gc(Ze,n,Q,i,te,wt(te),e,ue)},changed:T},Z))}function w(){P("dragOverAnimationCapture"),y.captureAnimationState(),y!==p&&p.captureAnimationState()}function _(U){return P("dragOverCompleted",{insertion:U}),U&&(d?c._hideClone():c._showClone(y),y!==p&&(Sn(Q,Pt?Pt.options.ghostClass:c.options.ghostClass,!1),Sn(Q,a.ghostClass,!0)),Pt!==y&&y!==me.active?Pt=y:y===me.active&&Pt&&(Pt=null),p===y&&(y._ignoreWhileAnimating=r),y.animateAll(function(){P("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(r===Q&&!Q.animated||r===n&&!r.animated)&&(eo=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Q.parentNode[mn]._isOutsideThisEl(e.target),!U&&ls(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),I=!0}function T(){An=Hn(Q),yi=Hn(Q,a.draggable),en({sortable:y,name:"change",toEl:n,newIndex:An,newDraggableIndex:yi,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=sr(r,a.draggable,n,!0),P("dragOver"),me.eventCanceled)return I;if(Q.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||y._ignoreWhileAnimating===r)return _(!1);if(Fd=!1,c&&!a.disabled&&(d?h||(o=at!==Ze):Pt===this||(this.lastPutMode=fc.checkPull(this,c,Q,e))&&l.checkPut(this,c,Q,e))){if(m=this._getDirection(e,r)==="vertical",i=wt(Q),P("dragOverValid"),me.eventCanceled)return I;if(o)return at=Ze,w(),this._hideClone(),P("revert"),me.eventCanceled||(fs?Ze.insertBefore(Q,fs):Ze.appendChild(Q)),_(!0);var L=Ty(n,a.draggable);if(!L||vD(e,m,this)&&!L.animated){if(L===Q)return _(!1);if(L&&n===e.target&&(r=L),r&&(s=wt(r)),gc(Ze,n,Q,i,r,s,e,!!r)!==!1)return w(),L&&L.nextSibling?n.insertBefore(Q,L.nextSibling):n.appendChild(Q),at=n,T(),_(!0)}else if(L&&wD(e,m,this)){var F=Ho(n,0,a,!0);if(F===Q)return _(!1);if(r=F,s=wt(r),gc(Ze,n,Q,i,r,s,e,!1)!==!1)return w(),n.insertBefore(Q,F),at=n,T(),_(!0)}else if(r.parentNode===n){s=wt(r);var O=0,C,b=Q.parentNode!==n,S=!fD(Q.animated&&Q.toRect||i,r.animated&&r.toRect||s,m),v=m?"top":"left",x=r0(r,"top","top")||r0(Q,"top","top"),R=x?x.scrollTop:void 0;eo!==r&&(C=s[v],fl=!1,pc=!S&&a.invertSwap||b),O=_D(e,r,s,m,S?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,pc,eo===r);var A;if(O!==0){var V=Hn(Q);do V-=O,A=at.children[V];while(A&&(pe(A,"display")==="none"||A===we))}if(O===0||A===r)return _(!1);eo=r,hl=O;var H=r.nextElementSibling,ee=!1;ee=O===1;var X=gc(Ze,n,Q,i,r,s,e,ee);if(X!==!1)return(X===1||X===-1)&&(ee=X===1),Im=!0,setTimeout(yD,30),w(),ee&&!H?n.appendChild(Q):r.parentNode.insertBefore(Q,ee?H:r),x&&N1(x,0,R-x.scrollTop),at=Q.parentNode,C!==void 0&&!pc&&(zc=Math.abs(C-wt(r)[v])),T(),_(!0)}if(n.contains(Q))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Te(document,"mousemove",this._onTouchMove),Te(document,"touchmove",this._onTouchMove),Te(document,"pointermove",this._onTouchMove),Te(document,"dragover",ls),Te(document,"mousemove",ls),Te(document,"touchmove",ls)},_offUpEvents:function(){var e=this.el.ownerDocument;Te(e,"mouseup",this._onDrop),Te(e,"touchend",this._onDrop),Te(e,"pointerup",this._onDrop),Te(e,"pointercancel",this._onDrop),Te(e,"touchcancel",this._onDrop),Te(document,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;if(An=Hn(Q),yi=Hn(Q,r.draggable),hn("drop",this,{evt:e}),at=Q&&Q.parentNode,An=Hn(Q),yi=Hn(Q,r.draggable),me.eventCanceled){this._nulling();return}no=!1,pc=!1,fl=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Sm(this.cloneId),Sm(this._dragStartId),this.nativeDraggable&&(Te(document,"drop",this),Te(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ul&&pe(document.body,"user-select",""),pe(Q,"transform",""),e&&(Ga&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),we&&we.parentNode&&we.parentNode.removeChild(we),(Ze===at||Pt&&Pt.lastPutMode!=="clone")&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),Q&&(this.nativeDraggable&&Te(Q,"dragend",this),Zf(Q),Q.style["will-change"]="",Ga&&!no&&Sn(Q,Pt?Pt.options.ghostClass:this.options.ghostClass,!1),Sn(Q,this.options.chosenClass,!1),en({sortable:this,name:"unchoose",toEl:at,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ze!==at?(An>=0&&(en({rootEl:at,name:"add",toEl:at,fromEl:Ze,originalEvent:e}),en({sortable:this,name:"remove",toEl:at,originalEvent:e}),en({rootEl:at,name:"sort",toEl:at,fromEl:Ze,originalEvent:e}),en({sortable:this,name:"sort",toEl:at,originalEvent:e})),Pt&&Pt.save()):An!==_o&&An>=0&&(en({sortable:this,name:"update",toEl:at,originalEvent:e}),en({sortable:this,name:"sort",toEl:at,originalEvent:e})),me.active&&((An==null||An===-1)&&(An=_o,yi=dl),en({sortable:this,name:"end",toEl:at,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){hn("nulling",this),Ze=Q=at=we=fs=tt=Bc=_i=as=nr=Ga=An=yi=_o=dl=eo=hl=Pt=fc=me.dragged=me.ghost=me.clone=me.active=null,Bd.forEach(function(e){e.checked=!0}),Bd.length=Yf=Xf=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Q&&(this._onDragOver(e),gD(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,r=this.el.children,i=0,s=r.length,o=this.options;i<s;i++)n=r[i],sr(n,o.draggable,this.el,!1)&&e.push(n.getAttribute(o.dataIdAttr)||bD(n));return e},sort:function(e,n){var r={},i=this.el;this.toArray().forEach(function(s,o){var a=i.children[o];sr(a,this.options.draggable,i,!1)&&(r[s]=a)},this),n&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(i.removeChild(r[s]),i.appendChild(r[s]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return sr(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var r=this.options;if(n===void 0)return r[e];var i=cu.modifyOption(this,e,n);typeof i<"u"?r[e]=i:r[e]=n,e==="group"&&V1(r)},destroy:function(){hn("destroy",this);var e=this.el;e[mn]=null,Te(e,"mousedown",this._onTapStart),Te(e,"touchstart",this._onTapStart),Te(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Te(e,"dragover",this),Te(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jd.splice(jd.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!_i){if(hn("hideClone",this),me.eventCanceled)return;pe(tt,"display","none"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),_i=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(_i){if(hn("showClone",this),me.eventCanceled)return;Q.parentNode==Ze&&!this.options.group.revertClone?Ze.insertBefore(tt,Q):fs?Ze.insertBefore(tt,fs):Ze.appendChild(tt),this.options.group.revertClone&&this.animate(Q,tt),pe(tt,"display",""),_i=!1}}};function gD(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function gc(t,e,n,r,i,s,o,a){var l,c=t[mn],d=c.options.onMove,h;return window.CustomEvent&&!ii&&!uu?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=s||wt(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),d&&(h=d.call(c,l,o)),h}function Zf(t){t.draggable=!1}function yD(){Im=!1}function wD(t,e,n){var r=wt(Ho(n.el,0,n.options,!0)),i=O1(n.el,n.options,we),s=10;return e?t.clientX<i.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-s||t.clientY<r.bottom&&t.clientX<r.left}function vD(t,e,n){var r=wt(Ty(n.el,n.options.draggable)),i=O1(n.el,n.options,we),s=10;return e?t.clientX>i.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+s||t.clientX>r.right&&t.clientY>r.top}function _D(t,e,n,r,i,s,o,a){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,d=r?n.top:n.left,h=r?n.bottom:n.right,p=!1;if(!o){if(a&&zc<c*i){if(!fl&&(hl===1?l>d+c*s/2:l<h-c*s/2)&&(fl=!0),fl)p=!0;else if(hl===1?l<d+zc:l>h-zc)return-hl}else if(l>d+c*(1-i)/2&&l<h-c*(1-i)/2)return ED(e)}return p=p||o,p&&(l<d+c*s/2||l>h-c*s/2)?l>d+c/2?1:-1:0}function ED(t){return Hn(Q)<Hn(t)?1:-1}function bD(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function kD(t){Bd.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&Bd.push(r)}}function Uc(t){return setTimeout(t,0)}function Sm(t){return clearTimeout(t)}Ph&&Ce(document,"touchmove",function(t){(me.active||no)&&t.cancelable&&t.preventDefault()});me.utils={on:Ce,off:Te,css:pe,find:P1,is:function(e,n){return!!sr(e,n,e,!1)},extend:sD,throttle:R1,closest:sr,toggleClass:Sn,clone:D1,index:Hn,nextTick:Uc,cancelNextTick:Sm,detectDirection:M1,getChild:Ho,expando:mn};me.get=function(t){return t[mn]};me.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(me.utils=Cr(Cr({},me.utils),r.utils)),cu.mount(r)})};me.create=function(t,e){return new me(t,e)};me.version=rD;var mt=[],Ka,Cm,Am=!1,ep,tp,zd,Qa;function xD(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ce(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Ce(document,"touchmove",this._handleFallbackAutoScroll):Ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Te(document,"dragover",this._handleAutoScroll):(Te(document,"pointermove",this._handleFallbackAutoScroll),Te(document,"touchmove",this._handleFallbackAutoScroll),Te(document,"mousemove",this._handleFallbackAutoScroll)),l0(),$c(),oD()},nulling:function(){zd=Cm=Ka=Am=Qa=ep=tp=null,mt.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,s=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(s,o);if(zd=n,r||this.options.forceAutoScrollFallback||uu||ii||ul){np(n,this.options,a,r);var l=Ai(a,!0);Am&&(!Qa||s!==ep||o!==tp)&&(Qa&&l0(),Qa=setInterval(function(){var c=Ai(document.elementFromPoint(s,o),!0);c!==l&&(l=c,$c()),np(n,i.options,c,r)},10),ep=s,tp=o)}else{if(!this.options.bubbleScroll||Ai(a,!0)===kr()){$c();return}np(n,this.options,Ai(a,!1),!1)}}},Xr(t,{pluginName:"scroll",initializeByDefault:!0})}function $c(){mt.forEach(function(t){clearInterval(t.pid)}),mt=[]}function l0(){clearInterval(Qa)}var np=R1(function(t,e,n,r){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=kr(),c=!1,d;Cm!==n&&(Cm=n,$c(),Ka=e.scroll,d=e.scrollFn,Ka===!0&&(Ka=Ai(n,!0)));var h=0,p=Ka;do{var m=p,y=wt(m),I=y.top,P=y.bottom,w=y.left,_=y.right,T=y.width,L=y.height,F=void 0,O=void 0,C=m.scrollWidth,b=m.scrollHeight,S=pe(m),v=m.scrollLeft,x=m.scrollTop;m===l?(F=T<C&&(S.overflowX==="auto"||S.overflowX==="scroll"||S.overflowX==="visible"),O=L<b&&(S.overflowY==="auto"||S.overflowY==="scroll"||S.overflowY==="visible")):(F=T<C&&(S.overflowX==="auto"||S.overflowX==="scroll"),O=L<b&&(S.overflowY==="auto"||S.overflowY==="scroll"));var R=F&&(Math.abs(_-i)<=o&&v+T<C)-(Math.abs(w-i)<=o&&!!v),A=O&&(Math.abs(P-s)<=o&&x+L<b)-(Math.abs(I-s)<=o&&!!x);if(!mt[h])for(var V=0;V<=h;V++)mt[V]||(mt[V]={});(mt[h].vx!=R||mt[h].vy!=A||mt[h].el!==m)&&(mt[h].el=m,mt[h].vx=R,mt[h].vy=A,clearInterval(mt[h].pid),(R!=0||A!=0)&&(c=!0,mt[h].pid=setInterval((function(){r&&this.layer===0&&me.active._onTouchMove(zd);var H=mt[this.layer].vy?mt[this.layer].vy*a:0,ee=mt[this.layer].vx?mt[this.layer].vx*a:0;typeof d=="function"&&d.call(me.dragged.parentNode[mn],ee,H,t,zd,mt[this.layer].el)!=="continue"||N1(mt[this.layer].el,ee,H)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&p!==l&&(p=Ai(p,!1)));Am=c}},30),B1=function(e){var n=e.originalEvent,r=e.putSortable,i=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=r||s;a();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Iy(){}Iy.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Ho(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:B1};Xr(Iy,{pluginName:"revertOnSpill"});function Sy(){}Sy.prototype={onSpill:function(e){var n=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:B1};Xr(Sy,{pluginName:"removeOnSpill"});me.mount(new xD);me.mount(Sy,Iy);var u0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},U1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new ID;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ID extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SD=function(t){const e=z1(t);return U1.encodeByteArray(e,!0)},Ud=function(t){return SD(t).replace(/\./g,"")},$1=function(t){try{return U1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=()=>CD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof u0>"u")return;const t=u0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$1(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return AD()||PD()||RD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H1=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ND=t=>{const e=H1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},q1=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},W1=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ud(JSON.stringify(n)),Ud(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function MD(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zD(){return!MD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UD(){try{return typeof indexedDB=="object"}catch{return!1}}function $D(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="FirebaseError";class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HD,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?qD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new si(i,a,r)}}function qD(t,e){return t.replace(WD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const WD=/\{\$([^}]+)}/g;function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(c0(s)&&c0(o)){if(!$d(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function c0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KD(t,e){const n=new QD(t,e);return n.subscribe.bind(n)}class QD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rp),i.error===void 0&&(i.error=rp),i.complete===void 0&&(i.complete=rp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JD(t){return t===ps?void 0:t}function ZD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new XD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const tO={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},nO=Ae.INFO,rO={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},iO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cy{constructor(e){this.name=e,this._logLevel=nO,this._logHandler=iO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const sO=(t,e)=>e.some(n=>t instanceof n);let d0,h0;function oO(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G1=new WeakMap,Pm=new WeakMap,K1=new WeakMap,ip=new WeakMap,Ay=new WeakMap;function lO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ji(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G1.set(n,t)}).catch(()=>{}),Ay.set(e,t),e}function uO(t){if(Pm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pm.set(t,e)}let Rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cO(t){Rm=t(Rm)}function dO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sp(this),e,...n);return K1.set(r,e.sort?e.sort():[e]),ji(r)}:aO().includes(t)?function(...e){return t.apply(sp(this),e),ji(G1.get(this))}:function(...e){return ji(t.apply(sp(this),e))}}function hO(t){return typeof t=="function"?dO(t):(t instanceof IDBTransaction&&uO(t),sO(t,oO())?new Proxy(t,Rm):t)}function ji(t){if(t instanceof IDBRequest)return lO(t);if(ip.has(t))return ip.get(t);const e=hO(t);return e!==t&&(ip.set(t,e),Ay.set(e,t)),e}const sp=t=>Ay.get(t);function fO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ji(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],op=new Map;function f0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return op.set(e,s),s}cO(t=>({...t,get:(e,n,r)=>f0(e,n)||t.get(e,n,r),has:(e,n)=>!!f0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",p0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Cy("@firebase/app"),wO="@firebase/app-compat",vO="@firebase/analytics-compat",_O="@firebase/analytics",EO="@firebase/app-check-compat",bO="@firebase/app-check",kO="@firebase/auth",xO="@firebase/auth-compat",TO="@firebase/database",IO="@firebase/data-connect",SO="@firebase/database-compat",CO="@firebase/functions",AO="@firebase/functions-compat",PO="@firebase/installations",RO="@firebase/installations-compat",NO="@firebase/messaging",DO="@firebase/messaging-compat",OO="@firebase/performance",LO="@firebase/performance-compat",MO="@firebase/remote-config",VO="@firebase/remote-config-compat",FO="@firebase/storage",jO="@firebase/storage-compat",BO="@firebase/firestore",zO="@firebase/vertexai-preview",UO="@firebase/firestore-compat",$O="firebase",HO="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",qO={[Nm]:"fire-core",[wO]:"fire-core-compat",[_O]:"fire-analytics",[vO]:"fire-analytics-compat",[bO]:"fire-app-check",[EO]:"fire-app-check-compat",[kO]:"fire-auth",[xO]:"fire-auth-compat",[TO]:"fire-rtdb",[IO]:"fire-data-connect",[SO]:"fire-rtdb-compat",[CO]:"fire-fn",[AO]:"fire-fn-compat",[PO]:"fire-iid",[RO]:"fire-iid-compat",[NO]:"fire-fcm",[DO]:"fire-fcm-compat",[OO]:"fire-perf",[LO]:"fire-perf-compat",[MO]:"fire-rc",[VO]:"fire-rc-compat",[FO]:"fire-gcs",[jO]:"fire-gcs-compat",[BO]:"fire-fst",[UO]:"fire-fst-compat",[zO]:"fire-vertex","fire-js":"fire-js",[$O]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Map,WO=new Map,Om=new Map;function m0(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(Om.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(const n of Hd.values())m0(n,t);for(const n of WO.values())m0(n,t);return!0}function Py(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new du("app","Firebase",GO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=HO;function Q1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bi.create("bad-app-name",{appName:String(i)});if(n||(n=q1()),!n)throw Bi.create("no-options");const s=Hd.get(i);if(s){if($d(n,s.options)&&$d(r,s.config))return s;throw Bi.create("duplicate-app",{appName:i})}const o=new eO(i);for(const l of Om.values())o.addComponent(l);const a=new KO(n,r,o);return Hd.set(i,a),a}function Y1(t=Dm){const e=Hd.get(t);if(!e&&t===Dm&&q1())return Q1();if(!e)throw Bi.create("no-app",{appName:t});return e}function zi(t,e,n){var r;let i=(r=qO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(a.join(" "));return}qo(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="firebase-heartbeat-database",YO=1,jl="firebase-heartbeat-store";let ap=null;function X1(){return ap||(ap=fO(QO,YO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bi.create("idb-open",{originalErrorMessage:t.message})})),ap}async function XO(t){try{const n=(await X1()).transaction(jl),r=await n.objectStore(jl).get(J1(t));return await n.done,r}catch(e){if(e instanceof si)Jr.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function g0(t,e){try{const r=(await X1()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,J1(t)),await r.done}catch(n){if(n instanceof si)Jr.warn(n.message);else{const r=Bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(r.message)}}}function J1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=1024,ZO=30*24*60*60*1e3;class eL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ZO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y0(),{heartbeatsToSend:r,unsentEntries:i}=tL(this._heartbeatsCache.heartbeats),s=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Jr.warn(n),""}}}function y0(){return new Date().toISOString().substring(0,10)}function tL(t,e=JO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),w0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),w0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UD()?$D().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return g0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function w0(t){return Ud(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){qo(new Ns("platform-logger",e=>new gO(e),"PRIVATE")),qo(new Ns("heartbeat",e=>new eL(e),"PRIVATE")),zi(Nm,p0,t),zi(Nm,p0,"esm2017"),zi("fire-js","")}rL("");var iL="firebase",sL="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(iL,sL,"app");function Ry(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oL=Z1,eT=new du("auth","Firebase",Z1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Cy("@firebase/auth");function aL(t,...e){qd.logLevel<=Ae.WARN&&qd.warn(`Auth (${aa}): ${t}`,...e)}function Hc(t,...e){qd.logLevel<=Ae.ERROR&&qd.error(`Auth (${aa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw Dy(t,...e)}function ur(t,...e){return Dy(t,...e)}function Ny(t,e,n){const r=Object.assign(Object.assign({},oL()),{[e]:n});return new du("auth","Firebase",r).create(e,{appName:t.name})}function Ui(t){return Ny(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(t,"argument-error"),Ny(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eT.create(t,...e)}function ge(t,e,...n){if(!t)throw Dy(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function Zr(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uL(){return v0()==="http:"||v0()==="https:"}function v0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uL()||FD()||"connection"in navigator)?navigator.onLine:!0}function dL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=LD()||jD()}get(){return cL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new fu(3e4,6e4);function Nh(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function la(t,e,n,r,i={}){return nT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=hu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return VD()||(c.referrerPolicy="no-referrer"),tT.fetch()(iT(t,t.config.apiHost,n,a),c)})}async function nT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hL),e);try{const i=new pL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ny(t,d,c);Ar(t,d)}}catch(i){if(i instanceof si)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function rT(t,e,n,r,i={}){const s=await la(t,e,n,r,i);return"mfaPendingCredential"in s&&Ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Oy(t.config,i):`${t.config.apiScheme}://${i}`}class pL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),fL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return la(t,"POST","/v1/accounts:delete",e)}async function sT(t,e){return la(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gL(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=Ly(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pl(lp(i.auth_time)),issuedAtTime:pl(lp(i.iat)),expirationTime:pl(lp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lp(t){return Number(t)*1e3}function Ly(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const i=$1(n);return i?JSON.parse(i):(Hc("Failed to decode base64 JWT payload"),null)}catch(i){return Hc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _0(t){const e=Ly(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof si&&yL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bl(t,sT(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oT(s.providerUserInfo):[],a=_L(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function vL(t){const e=kt(t);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oT(t){return t.map(e=>{var{providerId:n}=e,r=Ry(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,e){const n=await nT(t,{},async()=>{const r=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bL(t,e){return la(t,"POST","/v2/accounts:revokeToken",Nh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=_0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Po;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ry(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gL(this,e)}reload(){return vL(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Ui(this.auth));const e=await this.getIdToken();return await Bl(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:L,isAnonymous:F,providerData:O,stsTokenManager:C}=n;ge(T&&C,e,"internal-error");const b=Po.fromJSON(this.name,C);ge(typeof T=="string",e,"internal-error"),fi(h,e.name),fi(p,e.name),ge(typeof L=="boolean",e,"internal-error"),ge(typeof F=="boolean",e,"internal-error"),fi(m,e.name),fi(y,e.name),fi(I,e.name),fi(P,e.name),fi(w,e.name),fi(_,e.name);const S=new zr({uid:T,auth:e,email:p,emailVerified:L,displayName:h,isAnonymous:F,photoURL:y,phoneNumber:m,tenantId:I,stsTokenManager:b,createdAt:w,lastLoginAt:_});return O&&Array.isArray(O)&&(S.providerData=O.map(v=>Object.assign({},v))),P&&(S._redirectEventId=P),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Po;i.updateFromServerResponse(n);const s=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ge(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Po;a.updateFromIdToken(r);const l=new zr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function Ur(t){Zr(t instanceof Function,"Expected a class definition");let e=E0.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const b0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ro{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qc(this.userKey,i.apiKey,s),this.fullPersistenceKey=qc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ro(Ur(b0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ur(b0);const o=qc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=zr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ro(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ro(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(pT(e))return"Webos";if(uT(e))return"Safari";if((e.includes("chrome/")||cT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lT(t=Yt()){return/firefox\//i.test(t)}function uT(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cT(t=Yt()){return/crios\//i.test(t)}function dT(t=Yt()){return/iemobile/i.test(t)}function hT(t=Yt()){return/android/i.test(t)}function fT(t=Yt()){return/blackberry/i.test(t)}function pT(t=Yt()){return/webos/i.test(t)}function My(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kL(t=Yt()){var e;return My(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xL(){return BD()&&document.documentMode===10}function mT(t=Yt()){return My(t)||hT(t)||pT(t)||fT(t)||/windows phone/i.test(t)||dT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t,e=[]){let n;switch(t){case"Browser":n=k0(Yt());break;case"Worker":n=`${k0(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IL(t,e={}){return la(t,"GET","/v2/passwordPolicy",Nh(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=6;class CL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:SL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new TL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sT(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(Ui(this));const n=e?kt(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IL(this),n=new CL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pu(t){return kt(t)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PL(t){Vy=t}function RL(t){return Vy.loadJS(t)}function NL(){return Vy.gapiScript}function DL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){const n=Py(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if($d(s,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function LL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ML(t,e,n){const r=pu(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=yT(e),{host:o,port:a}=VL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),FL()}function yT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VL(t){const e=yT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:T0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:T0(o)}}}function T0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function FL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return rT(t,"POST","/v1/accounts:signInWithIdp",Nh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL="http://localhost";class Ds extends wT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ry(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ds(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,No(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:jL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends mu{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vr.credential(n,r)}catch{return null}}}Vr.GOOGLE_SIGN_IN_METHOD="google.com";Vr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends mu{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends mu{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){return rT(t,"POST","/v1/accounts:signUp",Nh(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await zr._fromIdTokenResponse(e,r,i),o=I0(r);return new Gi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=I0(r);return new Gi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function I0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(t){var e;if(vr(t.app))return Promise.reject(Ui(t));const n=pu(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Gi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await BL(n,{returnSecureToken:!0}),i=await Gi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends si{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Gd(e,n,r,i)}}function vT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(t,s,e,r):s})}async function UL(t,e,n=!1){const r=await Bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $L(t,e,n=!1){const{auth:r}=t;if(vr(r.app))return Promise.reject(Ui(r));const i="reauthenticate";try{const s=await Bl(t,vT(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=Ly(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Gi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e,n=!1){if(vr(t.app))return Promise.reject(Ui(t));const r="signIn",i=await vT(t,r,e),s=await Gi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function qL(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function WL(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function GL(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}const Kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=1e3,QL=10;class ET extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ET.type="LOCAL";const YL=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bT.type="SESSION";const kT=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await XL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=jy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function ZL(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function eM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nM(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firebaseLocalStorageDb",rM=1,Qd="firebaseLocalStorage",IT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function iM(){const t=indexedDB.deleteDatabase(TT);return new gu(t).toPromise()}function Vm(){const t=indexedDB.open(TT,rM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:IT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await iM(),e(await Vm()))})})}async function S0(t,e,n){const r=Oh(t,!0).put({[IT]:e,value:n});return new gu(r).toPromise()}async function sM(t,e){const n=Oh(t,!1).get(e),r=await new gu(n).toPromise();return r===void 0?null:r.value}function C0(t,e){const n=Oh(t,!0).delete(e);return new gu(n).toPromise()}const oM=800,aM=3;class ST{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>aM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(nM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await eM(),!this.activeServiceWorker)return;this.sender=new JL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await S0(e,Kd,"1"),await C0(e,Kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>C0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Oh(i,!1).getAll();return new gu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ST.type="LOCAL";const lM=ST;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){return e?Ur(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By extends wT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uM(t){return HL(t.auth,new By(t),t.bypassAuthState)}function cM(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),$L(n,new By(t),t.bypassAuthState)}async function dM(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),UL(n,new By(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uM;case"linkViaPopup":case"linkViaRedirect":return dM;case"reauthViaPopup":case"reauthViaRedirect":return cM;default:Ar(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=new fu(2e3,1e4);async function fM(t,e,n){if(vr(t.app))return Promise.reject(ur(t,"operation-not-supported-in-this-environment"));const r=pu(t);lL(t,e,Fy);const i=CT(r,n);return new vs(r,"signInViaPopup",e,i).executeNotNull()}class vs extends AT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vs.currentPopupAction&&vs.currentPopupAction.cancel(),vs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=jy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hM.get())};e()}}vs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM="pendingRedirect",Wc=new Map;class mM extends AT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await gM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gM(t,e){const n=vM(e),r=wM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function yM(t,e){Wc.set(t._key(),e)}function wM(t){return Ur(t._redirectPersistence)}function vM(t){return qc(pM,t.config.apiKey,t.name)}async function _M(t,e,n=!1){if(vr(t.app))return Promise.reject(Ui(t));const r=pu(t),i=CT(r,e),o=await new mM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=10*60*1e3;class bM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EM&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}}function A0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return la(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IM=/^https?/;async function SM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(CM(n))return}catch{}Ar(t,"unauthorized-domain")}function CM(t){const e=Lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!IM.test(n))return!1;if(TM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new fu(3e4,6e4);function P0(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function PM(t){return new Promise((e,n)=>{var r,i,s;function o(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),n(ur(t,"network-request-failed"))},timeout:AM.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xr().gapi)===null||s===void 0)&&s.load)o();else{const a=DL("iframefcb");return xr()[a]=()=>{gapi.load?o():n(ur(t,"network-request-failed"))},RL(`${NL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function RM(t){return Gc=Gc||PM(t),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new fu(5e3,15e3),DM="__/auth/iframe",OM="emulator/auth/iframe",LM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VM(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oy(e,OM):`https://${t.config.authDomain}/${DM}`,r={apiKey:e.apiKey,appName:t.name,v:aa},i=MM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hu(r).slice(1)}`}async function FM(t){const e=await RM(t),n=xr().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:VM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ur(t,"network-request-failed"),a=xr().setTimeout(()=>{s(o)},NM.get());function l(){xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BM=500,zM=600,UM="_blank",$M="http://localhost";class R0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HM(t,e,n,r=BM,i=zM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},jM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Yt().toLowerCase();n&&(a=cT(c)?UM:n),lT(c)&&(e=e||$M,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(kL(c)&&a!=="_self")return qM(e||"",a),new R0(null);const h=window.open(e||"",a,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new R0(h)}function qM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="__/auth/handler",GM="emulator/auth/handler",KM=encodeURIComponent("fac");async function N0(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:aa,eventId:i};if(e instanceof Fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",GD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof mu){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${KM}=${encodeURIComponent(l)}`:"";return`${QM(t)}?${hu(a).slice(1)}${c}`}function QM({config:t}){return t.emulator?Oy(t,GM):`https://${t.authDomain}/${WM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="webStorageSupport";class YM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=_M,this._overrideRedirectResult=yM}async _openPopup(e,n,r,i){var s;Zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await N0(e,n,r,Lm(),i);return HM(e,o,jy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await N0(e,n,r,Lm(),i);return ZL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Zr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await FM(e),r=new bM(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(up,{type:up},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[up];o!==void 0&&n(!!o),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||uT()||My()}}const XM=YM;var D0="@firebase/auth",O0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eV(t){qo(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gT(t)},c=new AL(r,i,s,l);return LL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new Ns("auth-internal",e=>{const n=pu(e.getProvider("auth").getImmediate());return(r=>new JM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(D0,O0,ZM(t)),zi(D0,O0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=5*60,nV=W1("authIdTokenMaxAge")||tV;let L0=null;const rV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nV)return;const i=n==null?void 0:n.token;L0!==i&&(L0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iV(t=Y1()){const e=Py(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OL(t,{popupRedirectResolver:XM,persistence:[lM,YL,kT]}),r=W1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=rV(s.toString());WL(n,o,()=>o(n.currentUser)),qL(n,a=>o(a))}}const i=H1("auth");return i&&ML(n,`http://${i}`),n}function sV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",sV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eV("Browser");var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,RT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function S(){}S.prototype=b.prototype,C.D=b.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(v,x,R){for(var A=Array(arguments.length-2),V=2;V<arguments.length;V++)A[V-2]=arguments[V];return b.prototype[x].apply(v,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,b,S){S||(S=0);var v=Array(16);if(typeof b=="string")for(var x=0;16>x;++x)v[x]=b.charCodeAt(S++)|b.charCodeAt(S++)<<8|b.charCodeAt(S++)<<16|b.charCodeAt(S++)<<24;else for(x=0;16>x;++x)v[x]=b[S++]|b[S++]<<8|b[S++]<<16|b[S++]<<24;b=C.g[0],S=C.g[1],x=C.g[2];var R=C.g[3],A=b+(R^S&(x^R))+v[0]+3614090360&4294967295;b=S+(A<<7&4294967295|A>>>25),A=R+(x^b&(S^x))+v[1]+3905402710&4294967295,R=b+(A<<12&4294967295|A>>>20),A=x+(S^R&(b^S))+v[2]+606105819&4294967295,x=R+(A<<17&4294967295|A>>>15),A=S+(b^x&(R^b))+v[3]+3250441966&4294967295,S=x+(A<<22&4294967295|A>>>10),A=b+(R^S&(x^R))+v[4]+4118548399&4294967295,b=S+(A<<7&4294967295|A>>>25),A=R+(x^b&(S^x))+v[5]+1200080426&4294967295,R=b+(A<<12&4294967295|A>>>20),A=x+(S^R&(b^S))+v[6]+2821735955&4294967295,x=R+(A<<17&4294967295|A>>>15),A=S+(b^x&(R^b))+v[7]+4249261313&4294967295,S=x+(A<<22&4294967295|A>>>10),A=b+(R^S&(x^R))+v[8]+1770035416&4294967295,b=S+(A<<7&4294967295|A>>>25),A=R+(x^b&(S^x))+v[9]+2336552879&4294967295,R=b+(A<<12&4294967295|A>>>20),A=x+(S^R&(b^S))+v[10]+4294925233&4294967295,x=R+(A<<17&4294967295|A>>>15),A=S+(b^x&(R^b))+v[11]+2304563134&4294967295,S=x+(A<<22&4294967295|A>>>10),A=b+(R^S&(x^R))+v[12]+1804603682&4294967295,b=S+(A<<7&4294967295|A>>>25),A=R+(x^b&(S^x))+v[13]+4254626195&4294967295,R=b+(A<<12&4294967295|A>>>20),A=x+(S^R&(b^S))+v[14]+2792965006&4294967295,x=R+(A<<17&4294967295|A>>>15),A=S+(b^x&(R^b))+v[15]+1236535329&4294967295,S=x+(A<<22&4294967295|A>>>10),A=b+(x^R&(S^x))+v[1]+4129170786&4294967295,b=S+(A<<5&4294967295|A>>>27),A=R+(S^x&(b^S))+v[6]+3225465664&4294967295,R=b+(A<<9&4294967295|A>>>23),A=x+(b^S&(R^b))+v[11]+643717713&4294967295,x=R+(A<<14&4294967295|A>>>18),A=S+(R^b&(x^R))+v[0]+3921069994&4294967295,S=x+(A<<20&4294967295|A>>>12),A=b+(x^R&(S^x))+v[5]+3593408605&4294967295,b=S+(A<<5&4294967295|A>>>27),A=R+(S^x&(b^S))+v[10]+38016083&4294967295,R=b+(A<<9&4294967295|A>>>23),A=x+(b^S&(R^b))+v[15]+3634488961&4294967295,x=R+(A<<14&4294967295|A>>>18),A=S+(R^b&(x^R))+v[4]+3889429448&4294967295,S=x+(A<<20&4294967295|A>>>12),A=b+(x^R&(S^x))+v[9]+568446438&4294967295,b=S+(A<<5&4294967295|A>>>27),A=R+(S^x&(b^S))+v[14]+3275163606&4294967295,R=b+(A<<9&4294967295|A>>>23),A=x+(b^S&(R^b))+v[3]+4107603335&4294967295,x=R+(A<<14&4294967295|A>>>18),A=S+(R^b&(x^R))+v[8]+1163531501&4294967295,S=x+(A<<20&4294967295|A>>>12),A=b+(x^R&(S^x))+v[13]+2850285829&4294967295,b=S+(A<<5&4294967295|A>>>27),A=R+(S^x&(b^S))+v[2]+4243563512&4294967295,R=b+(A<<9&4294967295|A>>>23),A=x+(b^S&(R^b))+v[7]+1735328473&4294967295,x=R+(A<<14&4294967295|A>>>18),A=S+(R^b&(x^R))+v[12]+2368359562&4294967295,S=x+(A<<20&4294967295|A>>>12),A=b+(S^x^R)+v[5]+4294588738&4294967295,b=S+(A<<4&4294967295|A>>>28),A=R+(b^S^x)+v[8]+2272392833&4294967295,R=b+(A<<11&4294967295|A>>>21),A=x+(R^b^S)+v[11]+1839030562&4294967295,x=R+(A<<16&4294967295|A>>>16),A=S+(x^R^b)+v[14]+4259657740&4294967295,S=x+(A<<23&4294967295|A>>>9),A=b+(S^x^R)+v[1]+2763975236&4294967295,b=S+(A<<4&4294967295|A>>>28),A=R+(b^S^x)+v[4]+1272893353&4294967295,R=b+(A<<11&4294967295|A>>>21),A=x+(R^b^S)+v[7]+4139469664&4294967295,x=R+(A<<16&4294967295|A>>>16),A=S+(x^R^b)+v[10]+3200236656&4294967295,S=x+(A<<23&4294967295|A>>>9),A=b+(S^x^R)+v[13]+681279174&4294967295,b=S+(A<<4&4294967295|A>>>28),A=R+(b^S^x)+v[0]+3936430074&4294967295,R=b+(A<<11&4294967295|A>>>21),A=x+(R^b^S)+v[3]+3572445317&4294967295,x=R+(A<<16&4294967295|A>>>16),A=S+(x^R^b)+v[6]+76029189&4294967295,S=x+(A<<23&4294967295|A>>>9),A=b+(S^x^R)+v[9]+3654602809&4294967295,b=S+(A<<4&4294967295|A>>>28),A=R+(b^S^x)+v[12]+3873151461&4294967295,R=b+(A<<11&4294967295|A>>>21),A=x+(R^b^S)+v[15]+530742520&4294967295,x=R+(A<<16&4294967295|A>>>16),A=S+(x^R^b)+v[2]+3299628645&4294967295,S=x+(A<<23&4294967295|A>>>9),A=b+(x^(S|~R))+v[0]+4096336452&4294967295,b=S+(A<<6&4294967295|A>>>26),A=R+(S^(b|~x))+v[7]+1126891415&4294967295,R=b+(A<<10&4294967295|A>>>22),A=x+(b^(R|~S))+v[14]+2878612391&4294967295,x=R+(A<<15&4294967295|A>>>17),A=S+(R^(x|~b))+v[5]+4237533241&4294967295,S=x+(A<<21&4294967295|A>>>11),A=b+(x^(S|~R))+v[12]+1700485571&4294967295,b=S+(A<<6&4294967295|A>>>26),A=R+(S^(b|~x))+v[3]+2399980690&4294967295,R=b+(A<<10&4294967295|A>>>22),A=x+(b^(R|~S))+v[10]+4293915773&4294967295,x=R+(A<<15&4294967295|A>>>17),A=S+(R^(x|~b))+v[1]+2240044497&4294967295,S=x+(A<<21&4294967295|A>>>11),A=b+(x^(S|~R))+v[8]+1873313359&4294967295,b=S+(A<<6&4294967295|A>>>26),A=R+(S^(b|~x))+v[15]+4264355552&4294967295,R=b+(A<<10&4294967295|A>>>22),A=x+(b^(R|~S))+v[6]+2734768916&4294967295,x=R+(A<<15&4294967295|A>>>17),A=S+(R^(x|~b))+v[13]+1309151649&4294967295,S=x+(A<<21&4294967295|A>>>11),A=b+(x^(S|~R))+v[4]+4149444226&4294967295,b=S+(A<<6&4294967295|A>>>26),A=R+(S^(b|~x))+v[11]+3174756917&4294967295,R=b+(A<<10&4294967295|A>>>22),A=x+(b^(R|~S))+v[2]+718787259&4294967295,x=R+(A<<15&4294967295|A>>>17),A=S+(R^(x|~b))+v[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var S=b-this.blockSize,v=this.B,x=this.h,R=0;R<b;){if(x==0)for(;R<=S;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<b;)if(v[x++]=C.charCodeAt(R++),x==this.blockSize){i(this,v),x=0;break}}else for(;R<b;)if(v[x++]=C[R++],x==this.blockSize){i(this,v),x=0;break}}this.h=x,this.o+=b},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var S=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=S&255,S/=256;for(this.u(C),C=Array(16),b=S=0;4>b;++b)for(var v=0;32>v;v+=8)C[S++]=this.g[b]>>>v&255;return C};function s(C,b){var S=a;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=b(C)}function o(C,b){this.h=b;for(var S=[],v=!0,x=C.length-1;0<=x;x--){var R=C[x]|0;v&&R==b||(S[x]=R,v=!1)}this.g=S}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return P(c(-C));for(var b=[],S=1,v=0;C>=S;v++)b[v]=C/S|0,S*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return P(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(b,8)),v=h,x=0;x<C.length;x+=8){var R=Math.min(8,C.length-x),A=parseInt(C.substring(x,x+R),b);8>R?(R=c(Math.pow(b,R)),v=v.j(R).add(c(A))):(v=v.j(S),v=v.add(c(A)))}return v}var h=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-P(this).m();for(var C=0,b=1,S=0;S<this.g.length;S++){var v=this.i(S);C+=(0<=v?v:4294967296+v)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(I(this))return"-"+P(this).toString(C);for(var b=c(Math.pow(C,6)),S=this,v="";;){var x=L(S,b).g;S=w(S,x.j(b));var R=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=x,y(S))return R+v;for(;6>R.length;)R="0"+R;v=R+v}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function y(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function I(C){return C.h==-1}t.l=function(C){return C=w(this,C),I(C)?-1:y(C)?0:1};function P(C){for(var b=C.g.length,S=[],v=0;v<b;v++)S[v]=~C.g[v];return new o(S,~C.h).add(p)}t.abs=function(){return I(this)?P(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),S=[],v=0,x=0;x<=b;x++){var R=v+(this.i(x)&65535)+(C.i(x)&65535),A=(R>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);v=A>>>16,R&=65535,A&=65535,S[x]=A<<16|R}return new o(S,S[S.length-1]&-2147483648?-1:0)};function w(C,b){return C.add(P(b))}t.j=function(C){if(y(this)||y(C))return h;if(I(this))return I(C)?P(this).j(P(C)):P(P(this).j(C));if(I(C))return P(this.j(P(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,S=[],v=0;v<2*b;v++)S[v]=0;for(v=0;v<this.g.length;v++)for(var x=0;x<C.g.length;x++){var R=this.i(v)>>>16,A=this.i(v)&65535,V=C.i(x)>>>16,H=C.i(x)&65535;S[2*v+2*x]+=A*H,_(S,2*v+2*x),S[2*v+2*x+1]+=R*H,_(S,2*v+2*x+1),S[2*v+2*x+1]+=A*V,_(S,2*v+2*x+1),S[2*v+2*x+2]+=R*V,_(S,2*v+2*x+2)}for(v=0;v<b;v++)S[v]=S[2*v+1]<<16|S[2*v];for(v=b;v<2*b;v++)S[v]=0;return new o(S,0)};function _(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function T(C,b){this.g=C,this.h=b}function L(C,b){if(y(b))throw Error("division by zero");if(y(C))return new T(h,h);if(I(C))return b=L(P(C),b),new T(P(b.g),P(b.h));if(I(b))return b=L(C,P(b)),new T(P(b.g),b.h);if(30<C.g.length){if(I(C)||I(b))throw Error("slowDivide_ only works with positive integers.");for(var S=p,v=b;0>=v.l(C);)S=F(S),v=F(v);var x=O(S,1),R=O(v,1);for(v=O(v,2),S=O(S,2);!y(v);){var A=R.add(v);0>=A.l(C)&&(x=x.add(S),R=A),v=O(v,1),S=O(S,1)}return b=w(C,x.j(b)),new T(x,b)}for(x=h;0<=C.l(b);){for(S=Math.max(1,Math.floor(C.m()/b.m())),v=Math.ceil(Math.log(S)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),R=c(S),A=R.j(b);I(A)||0<A.l(C);)S-=v,R=c(S),A=R.j(b);y(R)&&(R=p),x=x.add(R),C=w(C,A)}return new T(x,C)}t.A=function(C){return L(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),S=[],v=0;v<b;v++)S[v]=this.i(v)&C.i(v);return new o(S,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),S=[],v=0;v<b;v++)S[v]=this.i(v)|C.i(v);return new o(S,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),S=[],v=0;v<b;v++)S[v]=this.i(v)^C.i(v);return new o(S,this.h^C.h)};function F(C){for(var b=C.g.length+1,S=[],v=0;v<b;v++)S[v]=C.i(v)<<1|C.i(v-1)>>>31;return new o(S,C.h)}function O(C,b){var S=b>>5;b%=32;for(var v=C.g.length-S,x=[],R=0;R<v;R++)x[R]=0<b?C.i(R+S)>>>b|C.i(R+S+1)<<32-b:C.i(R+S);return new o(x,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ts=o}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,Ya,DT,Kc,Fm,OT,LT,MT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var k=0;k<u.length-1;k++){var M=u[k];if(!(M in g))break e;g=g[M]}u=u[u.length-1],k=g[u],f=f(k),f!=k&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,k=!1,M={next:function(){if(!k&&g<u.length){var j=g++;return{value:f(j,u[j]),done:!1}}return k=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,k),u.apply(f,M)}}return function(){return u.apply(f,arguments)}}function p(u,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var k=g.slice();return k.push.apply(k,arguments),u.apply(this,k)}}function y(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(k,M,j){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return f.prototype[M].apply(k,Y)}}function I(u){const f=u.length;if(0<f){const g=Array(f);for(let k=0;k<f;k++)g[k]=u[k];return g}return[]}function P(u,f){for(let g=1;g<arguments.length;g++){const k=arguments[g];if(l(k)){const M=u.length||0,j=k.length||0;u.length=M+j;for(let Y=0;Y<j;Y++)u[M+Y]=k[Y]}else u.push(k)}}class w{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function L(u){return L[" "](u),u}L[" "]=function(){};var F=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,f,g){for(const k in u)f.call(g,u[k],k,u)}function C(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function b(u){const f={};for(const g in u)f[g]=u[g];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(u,f){let g,k;for(let M=1;M<arguments.length;M++){k=arguments[M];for(g in k)u[g]=k[g];for(let j=0;j<S.length;j++)g=S[j],Object.prototype.hasOwnProperty.call(k,g)&&(u[g]=k[g])}}function x(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function R(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Z;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class V{constructor(){this.h=this.g=null}add(f,g){const k=H.get();k.set(f,g),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new w(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let X,U=!1,Z=new V,N=()=>{const u=a.Promise.resolve(void 0);X=()=>{u.then(te)}};var te=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){R(g)}var f=H;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}U=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var Fe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function ne(u,f){if(D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,k=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(F){e:{try{L(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ne.aa.h.call(this)}}y(ne,D);var re={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),Se=0;function Ke(u,f,g,k,M){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!k,this.ha=M,this.key=++Se,this.da=this.fa=!1}function Ne(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ct(u){this.src=u,this.g={},this.h=0}Ct.prototype.add=function(u,f,g,k,M){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var Y=pa(u,f,k,M);return-1<Y?(f=u[Y],g||(f.fa=!1)):(f=new Ke(f,this.src,j,!!k,M),f.fa=g,u.push(f)),f};function Zn(u,f){var g=f.type;if(g in u.g){var k=u.g[g],M=Array.prototype.indexOf.call(k,f,void 0),j;(j=0<=M)&&Array.prototype.splice.call(k,M,1),j&&(Ne(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function pa(u,f,g,k){for(var M=0;M<u.length;++M){var j=u[M];if(!j.da&&j.listener==f&&j.capture==!!g&&j.ha==k)return M}return-1}var ma="closure_lm_"+(1e6*Math.random()|0),Ws={};function ga(u,f,g,k,M){if(Array.isArray(f)){for(var j=0;j<f.length;j++)ga(u,f[j],g,k,M);return null}return g=Du(g),u&&u[ae]?u.K(f,g,c(k)?!!k.capture:!1,M):Ru(u,f,g,!1,k,M)}function Ru(u,f,g,k,M,j){if(!f)throw Error("Invalid event type");var Y=c(M)?!!M.capture:!!M,$e=wa(u);if($e||(u[ma]=$e=new Ct(u)),g=$e.add(f,g,k,Y,j),g.proxy)return g;if(k=nf(),g.proxy=k,k.src=u,k.listener=g,u.addEventListener)Fe||(M=Y),M===void 0&&(M=!1),u.addEventListener(f.toString(),k,M);else if(u.attachEvent)u.attachEvent(Nu(f.toString()),k);else if(u.addListener&&u.removeListener)u.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return g}function nf(){function u(g){return f.call(u.src,u.listener,g)}const f=rf;return u}function ya(u,f,g,k,M){if(Array.isArray(f))for(var j=0;j<f.length;j++)ya(u,f[j],g,k,M);else k=c(k)?!!k.capture:!!k,g=Du(g),u&&u[ae]?(u=u.i,f=String(f).toString(),f in u.g&&(j=u.g[f],g=pa(j,g,k,M),-1<g&&(Ne(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete u.g[f],u.h--)))):u&&(u=wa(u))&&(f=u.g[f.toString()],u=-1,f&&(u=pa(f,g,k,M)),(g=-1<u?f[u]:null)&&Gs(g))}function Gs(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[ae])Zn(f.i,u);else{var g=u.type,k=u.proxy;f.removeEventListener?f.removeEventListener(g,k,u.capture):f.detachEvent?f.detachEvent(Nu(g),k):f.addListener&&f.removeListener&&f.removeListener(k),(g=wa(f))?(Zn(g,u),g.h==0&&(g.src=null,f[ma]=null)):Ne(u)}}}function Nu(u){return u in Ws?Ws[u]:Ws[u]="on"+u}function rf(u,f){if(u.da)u=!0;else{f=new ne(f,this);var g=u.listener,k=u.ha||u.src;u.fa&&Gs(u),u=g.call(k,f)}return u}function wa(u){return u=u[ma],u instanceof Ct?u:null}var va="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(u){return typeof u=="function"?u:(u[va]||(u[va]=function(f){return u.handleEvent(f)}),u[va])}function B(){ue.call(this),this.i=new Ct(this),this.M=this,this.F=null}y(B,ue),B.prototype[ae]=!0,B.prototype.removeEventListener=function(u,f,g,k){ya(this,u,f,g,k)};function W(u,f){var g,k=u.F;if(k)for(g=[];k;k=k.F)g.push(k);if(u=u.M,k=f.type||f,typeof f=="string")f=new D(f,u);else if(f instanceof D)f.target=f.target||u;else{var M=f;f=new D(k,u),v(f,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var Y=f.g=g[j];M=fe(Y,k,!0,f)&&M}if(Y=f.g=u,M=fe(Y,k,!0,f)&&M,M=fe(Y,k,!1,f)&&M,g)for(j=0;j<g.length;j++)Y=f.g=g[j],M=fe(Y,k,!1,f)&&M}B.prototype.N=function(){if(B.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],k=0;k<g.length;k++)Ne(g[k]);delete u.g[f],u.h--}}this.F=null},B.prototype.K=function(u,f,g,k){return this.i.add(String(u),f,!1,g,k)},B.prototype.L=function(u,f,g,k){return this.i.add(String(u),f,!0,g,k)};function fe(u,f,g,k){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,j=0;j<f.length;++j){var Y=f[j];if(Y&&!Y.da&&Y.capture==g){var $e=Y.listener,At=Y.ha||Y.src;Y.fa&&Zn(u.i,Y),M=$e.call(At,k)!==!1&&M}}return M&&!k.defaultPrevented}function be(u,f,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function je(u){u.g=be(()=>{u.g=null,u.i&&(u.i=!1,je(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class kn extends ue{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:je(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(u){ue.call(this),this.h=u,this.g={}}y(xn,ue);var $n=[];function ai(u){O(u.g,function(f,g){this.g.hasOwnProperty(g)&&Gs(f)},u),u.g={}}xn.prototype.N=function(){xn.aa.N.call(this),ai(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=a.JSON.stringify,Jt=a.JSON.parse,li=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Tn(){}Tn.prototype.h=null;function zw(u){return u.h||(u.h=u.i())}function Uw(){}var _a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sf(){D.call(this,"d")}y(sf,D);function of(){D.call(this,"c")}y(of,D);var ns={},$w=null;function Ou(){return $w=$w||new B}ns.La="serverreachability";function Hw(u){D.call(this,ns.La,u)}y(Hw,D);function Ea(u){const f=Ou();W(f,new Hw(f))}ns.STAT_EVENT="statevent";function qw(u,f){D.call(this,ns.STAT_EVENT,u),this.stat=f}y(qw,D);function Zt(u){const f=Ou();W(f,new qw(f,u))}ns.Ma="timingevent";function Ww(u,f){D.call(this,ns.Ma,u),this.size=f}y(Ww,D);function ba(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function ka(){this.g=!0}ka.prototype.xa=function(){this.g=!1};function oC(u,f,g,k,M,j){u.info(function(){if(u.g)if(j)for(var Y="",$e=j.split("&"),At=0;At<$e.length;At++){var Oe=$e[At].split("=");if(1<Oe.length){var Ft=Oe[0];Oe=Oe[1];var jt=Ft.split("_");Y=2<=jt.length&&jt[1]=="type"?Y+(Ft+"="+Oe+"&"):Y+(Ft+"=redacted&")}}else Y=null;else Y=j;return"XMLHTTP REQ ("+k+") [attempt "+M+"]: "+f+`
`+g+`
`+Y})}function aC(u,f,g,k,M,j,Y){u.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+M+"]: "+f+`
`+g+`
`+j+" "+Y})}function Ks(u,f,g,k){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+uC(u,g)+(k?" "+k:"")})}function lC(u,f){u.info(function(){return"TIMEOUT: "+f})}ka.prototype.info=function(){};function uC(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var k=g[u];if(!(2>k.length)){var M=k[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var Y=1;Y<M.length;Y++)M[Y]=""}}}}return Nr(g)}catch{return f}}var Lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function Mu(){}y(Mu,Tn),Mu.prototype.g=function(){return new XMLHttpRequest},Mu.prototype.i=function(){return{}},af=new Mu;function ui(u,f,g,k){this.j=u,this.i=f,this.l=g,this.R=k||1,this.U=new xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kw}function Kw(){this.i=null,this.g="",this.h=!1}var Qw={},lf={};function uf(u,f,g){u.L=1,u.v=Bu(Dr(f)),u.m=g,u.P=!0,Yw(u,null)}function Yw(u,f){u.F=Date.now(),Vu(u),u.A=Dr(u.v);var g=u.A,k=u.R;Array.isArray(k)||(k=[String(k)]),cv(g.i,"t",k),u.C=0,g=u.j.J,u.h=new Kw,u.g=Cv(u.j,g?f:null,!u.m),0<u.O&&(u.M=new kn(p(u.Y,u,u.g),u.O)),f=u.U,g=u.g,k=u.ca;var M="readystatechange";Array.isArray(M)||(M&&($n[0]=M.toString()),M=$n);for(var j=0;j<M.length;j++){var Y=ga(g,M[j],k||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),Ea(),oC(u.i,u.u,u.A,u.l,u.R,u.m)}ui.prototype.ca=function(u){u=u.target;const f=this.M;f&&Or(u)==3?f.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)e:{const jt=Or(this.g);var f=this.g.Ba();const Xs=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||yv(this.g)))){this.J||jt!=4||f==7||(f==8||0>=Xs?Ea(3):Ea(2)),cf(this);var g=this.g.Z();this.X=g;t:if(Xw(this)){var k=yv(this.g);u="";var M=k.length,j=Or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),xa(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,u+=this.h.i.decode(k[f],{stream:!(j&&f==M-1)});k.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=g==200,aC(this.i,this.u,this.A,this.l,this.R,jt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,At=this.g;if(($e=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_($e)){var Oe=$e;break t}}Oe=null}if(g=Oe)Ks(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,df(this,g);else{this.o=!1,this.s=3,Zt(12),rs(this),xa(this);break e}}if(this.P){g=!0;let er;for(;!this.J&&this.C<Y.length;)if(er=cC(this,Y),er==lf){jt==4&&(this.s=4,Zt(14),g=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(er==Qw){this.s=4,Zt(15),Ks(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}else Ks(this.i,this.l,er,null),df(this,er);if(Xw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Y.length!=0||this.h.h||(this.s=1,Zt(16),g=!1),this.o=this.o&&g,!g)Ks(this.i,this.l,Y,"[Invalid Chunked Response]"),rs(this),xa(this);else if(0<Y.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),yf(Ft),Ft.M=!0,Zt(11))}}else Ks(this.i,this.l,Y,null),df(this,Y);jt==4&&rs(this),this.o&&!this.J&&(jt==4?xv(this.j,this):(this.o=!1,Vu(this)))}else SC(this.g),g==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),rs(this),xa(this)}}}catch{}finally{}};function Xw(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cC(u,f){var g=u.C,k=f.indexOf(`
`,g);return k==-1?lf:(g=Number(f.substring(g,k)),isNaN(g)?Qw:(k+=1,k+g>f.length?lf:(f=f.slice(k,k+g),u.C=k+g,f)))}ui.prototype.cancel=function(){this.J=!0,rs(this)};function Vu(u){u.S=Date.now()+u.I,Jw(u,u.I)}function Jw(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ba(p(u.ba,u),f)}function cf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}ui.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lC(this.i,this.A),this.L!=2&&(Ea(),Zt(17)),rs(this),this.s=2,xa(this)):Jw(this,this.S-u)};function xa(u){u.j.G==0||u.J||xv(u.j,u)}function rs(u){cf(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,ai(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function df(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||hf(g.h,u))){if(!u.K&&hf(g.h,u)&&g.G==3){try{var k=g.Da.g.parse(f)}catch{k=null}if(Array.isArray(k)&&k.length==3){var M=k;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Wu(g),Hu(g);else break e;gf(g),Zt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=ba(p(g.Za,g),6e3));if(1>=tv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ss(g,11)}else if((u.K||g.g==u)&&Wu(g),!_(f))for(M=g.Da.g.parse(f),f=0;f<M.length;f++){let Oe=M[f];if(g.T=Oe[0],Oe=Oe[1],g.G==2)if(Oe[0]=="c"){g.K=Oe[1],g.ia=Oe[2];const Ft=Oe[3];Ft!=null&&(g.la=Ft,g.j.info("VER="+g.la));const jt=Oe[4];jt!=null&&(g.Aa=jt,g.j.info("SVER="+g.Aa));const Xs=Oe[5];Xs!=null&&typeof Xs=="number"&&0<Xs&&(k=1.5*Xs,g.L=k,g.j.info("backChannelRequestTimeoutMs_="+k)),k=g;const er=u.g;if(er){const Ku=er.g?er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var j=k.h;j.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ff(j,j.h),j.h=null))}if(k.D){const wf=er.g?er.g.getResponseHeader("X-HTTP-Session-Id"):null;wf&&(k.ya=wf,Qe(k.I,k.D,wf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),k=g;var Y=u;if(k.qa=Sv(k,k.J?k.ia:null,k.W),Y.K){nv(k.h,Y);var $e=Y,At=k.L;At&&($e.I=At),$e.B&&(cf($e),Vu($e)),k.g=Y}else bv(k);0<g.i.length&&qu(g)}else Oe[0]!="stop"&&Oe[0]!="close"||ss(g,7);else g.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ss(g,7):mf(g):Oe[0]!="noop"&&g.l&&g.l.ta(Oe),g.v=0)}}Ea(4)}catch{}}var dC=class{constructor(u,f){this.g=u,this.map=f}};function Zw(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ev(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function tv(u){return u.h?1:u.g?u.g.size:0}function hf(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function ff(u,f){u.g?u.g.add(f):u.h=f}function nv(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Zw.prototype.cancel=function(){if(this.i=rv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function rv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return I(u.i)}function hC(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,k=0;k<g;k++)f.push(u[k]);return f}f=[],g=0;for(k in u)f[g++]=u[k];return f}function fC(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const k in u)f[g++]=k;return f}}}function iv(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=fC(u),k=hC(u),M=k.length,j=0;j<M;j++)f.call(void 0,k[j],g&&g[j],u)}var sv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pC(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var k=u[g].indexOf("="),M=null;if(0<=k){var j=u[g].substring(0,k);M=u[g].substring(k+1)}else j=u[g];f(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function is(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof is){this.h=u.h,Fu(this,u.j),this.o=u.o,this.g=u.g,ju(this,u.s),this.l=u.l;var f=u.i,g=new Sa;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),ov(this,g),this.m=u.m}else u&&(f=String(u).match(sv))?(this.h=!1,Fu(this,f[1]||"",!0),this.o=Ta(f[2]||""),this.g=Ta(f[3]||"",!0),ju(this,f[4]),this.l=Ta(f[5]||"",!0),ov(this,f[6]||"",!0),this.m=Ta(f[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}is.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Ia(f,av,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Ia(f,av,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Ia(g,g.charAt(0)=="/"?yC:gC,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Ia(g,vC)),u.join("")};function Dr(u){return new is(u)}function Fu(u,f,g){u.j=g?Ta(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function ju(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function ov(u,f,g){f instanceof Sa?(u.i=f,_C(u.i,u.h)):(g||(f=Ia(f,wC)),u.i=new Sa(f,u.h))}function Qe(u,f,g){u.i.set(f,g)}function Bu(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ta(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ia(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,mC),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mC(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var av=/[#\/\?@]/g,gC=/[#\?:]/g,yC=/[#\?]/g,wC=/[#\?@]/g,vC=/#/g;function Sa(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function ci(u){u.g||(u.g=new Map,u.h=0,u.i&&pC(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Sa.prototype,t.add=function(u,f){ci(this),this.i=null,u=Qs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function lv(u,f){ci(u),f=Qs(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function uv(u,f){return ci(u),f=Qs(u,f),u.g.has(f)}t.forEach=function(u,f){ci(this),this.g.forEach(function(g,k){g.forEach(function(M){u.call(f,M,k,this)},this)},this)},t.na=function(){ci(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let k=0;k<f.length;k++){const M=u[k];for(let j=0;j<M.length;j++)g.push(f[k])}return g},t.V=function(u){ci(this);let f=[];if(typeof u=="string")uv(this,u)&&(f=f.concat(this.g.get(Qs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return ci(this),this.i=null,u=Qs(this,u),uv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function cv(u,f,g){lv(u,f),0<g.length&&(u.i=null,u.g.set(Qs(u,f),I(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var k=f[g];const j=encodeURIComponent(String(k)),Y=this.V(k);for(k=0;k<Y.length;k++){var M=j;Y[k]!==""&&(M+="="+encodeURIComponent(String(Y[k]))),u.push(M)}}return this.i=u.join("&")};function Qs(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function _C(u,f){f&&!u.j&&(ci(u),u.i=null,u.g.forEach(function(g,k){var M=k.toLowerCase();k!=M&&(lv(this,k),cv(this,M,g))},u)),u.j=f}function EC(u,f){const g=new ka;if(a.Image){const k=new Image;k.onload=m(di,g,"TestLoadImage: loaded",!0,f,k),k.onerror=m(di,g,"TestLoadImage: error",!1,f,k),k.onabort=m(di,g,"TestLoadImage: abort",!1,f,k),k.ontimeout=m(di,g,"TestLoadImage: timeout",!1,f,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=u}else f(!1)}function bC(u,f){const g=new ka,k=new AbortController,M=setTimeout(()=>{k.abort(),di(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:k.signal}).then(j=>{clearTimeout(M),j.ok?di(g,"TestPingServer: ok",!0,f):di(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),di(g,"TestPingServer: error",!1,f)})}function di(u,f,g,k,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),k(g)}catch{}}function kC(){this.g=new li}function xC(u,f,g){const k=g||"";try{iv(u,function(M,j){let Y=M;c(M)&&(Y=Nr(M)),f.push(k+j+"="+encodeURIComponent(Y))})}catch(M){throw f.push(k+"type="+encodeURIComponent("_badmap")),M}}function zu(u){this.l=u.Ub||null,this.j=u.eb||!1}y(zu,Tn),zu.prototype.g=function(){return new Uu(this.l,this.j)},zu.prototype.i=function(u){return function(){return u}}({});function Uu(u,f){B.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Uu,B),t=Uu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Aa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ca(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Aa(this)),this.g&&(this.readyState=3,Aa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function dv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Ca(this):Aa(this),this.readyState==3&&dv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ca(this))},t.Qa=function(u){this.g&&(this.response=u,Ca(this))},t.ga=function(){this.g&&Ca(this)};function Ca(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Aa(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function Aa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hv(u){let f="";return O(u,function(g,k){f+=k,f+=":",f+=g,f+=`\r
`}),f}function pf(u,f,g){e:{for(k in g){var k=!1;break e}k=!0}k||(g=hv(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Qe(u,f,g))}function ot(u){B.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(ot,B);var TC=/^https?$/i,IC=["POST","PUT"];t=ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?zw(this.o):zw(af),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(j){fv(this,j);return}if(u=g||"",g=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var M in k)g.set(M,k[M]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const j of k.keys())g.set(j,k.get(j));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(IC,f,void 0))||k||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,Y]of g)this.g.setRequestHeader(j,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gv(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){fv(this,j)}};function fv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,pv(u),$u(u)}function pv(u){u.A||(u.A=!0,W(u,"complete"),W(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,W(this,"complete"),W(this,"abort"),$u(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$u(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mv(this):this.bb())},t.bb=function(){mv(this)};function mv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Or(u)!=4||u.Z()!=2)){if(u.u&&Or(u)==4)be(u.Ea,0,u);else if(W(u,"readystatechange"),Or(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var k;if(k=Y===0){var M=String(u.D).match(sv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),k=!TC.test(M?M.toLowerCase():"")}g=k}if(g)W(u,"complete"),W(u,"success");else{u.m=6;try{var j=2<Or(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",pv(u)}}finally{$u(u)}}}}function $u(u,f){if(u.g){gv(u);const g=u.g,k=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||W(u,"ready");try{g.onreadystatechange=k}catch{}}}function gv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Or(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Or(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),Jt(f)}};function yv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function SC(u){const f={};u=(u.g&&2<=Or(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<u.length;k++){if(_(u[k]))continue;var g=x(u[k]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=f[M]||[];f[M]=j,j.push(g)}C(f,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function wv(u){this.Aa=0,this.i=[],this.j=new ka,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,u),this.cb=Pa("retryDelaySeedMs",1e4,u),this.Wa=Pa("forwardChannelMaxRetries",2,u),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Zw(u&&u.concurrentRequestLimit),this.Da=new kC,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wv.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,k){Zt(0),this.W=u,this.H=f||{},g&&k!==void 0&&(this.H.OSID=g,this.H.OAID=k),this.F=this.X,this.I=Sv(this,null,this.W),qu(this)};function mf(u){if(vv(u),u.G==3){var f=u.U++,g=Dr(u.I);if(Qe(g,"SID",u.K),Qe(g,"RID",f),Qe(g,"TYPE","terminate"),Ra(u,g),f=new ui(u,u.j,f),f.L=2,f.v=Bu(Dr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=Cv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Vu(f)}Iv(u)}function Hu(u){u.g&&(yf(u),u.g.cancel(),u.g=null)}function vv(u){Hu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Wu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function qu(u){if(!ev(u.h)&&!u.s){u.s=!0;var f=u.Ga;X||N(),U||(X(),U=!0),Z.add(f,u),u.B=0}}function CC(u,f){return tv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ba(p(u.Ga,u,f),Tv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new ui(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),v(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var k=this.i[g];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(f+=k,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Ev(this,M,f),g=Dr(this.I),Qe(g,"RID",u),Qe(g,"CVER",22),this.D&&Qe(g,"X-HTTP-Session-Id",this.D),Ra(this,g),j&&(this.O?f="headers="+encodeURIComponent(String(hv(j)))+"&"+f:this.m&&pf(g,this.m,j)),ff(this.h,M),this.Ua&&Qe(g,"TYPE","init"),this.P?(Qe(g,"$req",f),Qe(g,"SID","null"),M.T=!0,uf(M,g,null)):uf(M,g,f),this.G=2}}else this.G==3&&(u?_v(this,u):this.i.length==0||ev(this.h)||_v(this))};function _v(u,f){var g;f?g=f.l:g=u.U++;const k=Dr(u.I);Qe(k,"SID",u.K),Qe(k,"RID",g),Qe(k,"AID",u.T),Ra(u,k),u.m&&u.o&&pf(k,u.m,u.o),g=new ui(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=Ev(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ff(u.h,g),uf(g,k,f)}function Ra(u,f){u.H&&O(u.H,function(g,k){Qe(f,k,g)}),u.l&&iv({},function(g,k){Qe(f,k,g)})}function Ev(u,f,g){g=Math.min(u.i.length,g);var k=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let j=-1;for(;;){const Y=["count="+g];j==-1?0<g?(j=M[0].g,Y.push("ofs="+j)):j=0:Y.push("ofs="+j);let $e=!0;for(let At=0;At<g;At++){let Oe=M[At].g;const Ft=M[At].map;if(Oe-=j,0>Oe)j=Math.max(0,M[At].g-100),$e=!1;else try{xC(Ft,Y,"req"+Oe+"_")}catch{k&&k(Ft)}}if($e){k=Y.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,k}function bv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;X||N(),U||(X(),U=!0),Z.add(f,u),u.v=0}}function gf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ba(p(u.Fa,u),Tv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,kv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ba(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Hu(this),kv(this))};function yf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function kv(u){u.g=new ui(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Dr(u.qa);Qe(f,"RID","rpc"),Qe(f,"SID",u.K),Qe(f,"AID",u.T),Qe(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(f,"TO",u.ja),Qe(f,"TYPE","xmlhttp"),Ra(u,f),u.m&&u.o&&pf(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Bu(Dr(f)),g.m=null,g.P=!0,Yw(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Hu(this),gf(this),Zt(19))};function Wu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function xv(u,f){var g=null;if(u.g==f){Wu(u),yf(u),u.g=null;var k=2}else if(hf(u.h,f))g=f.D,nv(u.h,f),k=1;else return;if(u.G!=0){if(f.o)if(k==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var M=u.B;k=Ou(),W(k,new Ww(k,g)),qu(u)}else bv(u);else if(M=f.s,M==3||M==0&&0<f.X||!(k==1&&CC(u,f)||k==2&&gf(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),M){case 1:ss(u,5);break;case 4:ss(u,10);break;case 3:ss(u,6);break;default:ss(u,2)}}}function Tv(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function ss(u,f){if(u.j.info("Error code "+f),f==2){var g=p(u.fb,u),k=u.Xa;const M=!k;k=new is(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fu(k,"https"),Bu(k),M?EC(k.toString(),g):bC(k.toString(),g)}else Zt(2);u.G=0,u.l&&u.l.sa(f),Iv(u),vv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function Iv(u){if(u.G=0,u.ka=[],u.l){const f=rv(u.h);(f.length!=0||u.i.length!=0)&&(P(u.ka,f),P(u.ka,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.ra()}}function Sv(u,f,g){var k=g instanceof is?Dr(g):new is(g);if(k.g!="")f&&(k.g=f+"."+k.g),ju(k,k.s);else{var M=a.location;k=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var j=new is(null);k&&Fu(j,k),f&&(j.g=f),M&&ju(j,M),g&&(j.l=g),k=j}return g=u.D,f=u.ya,g&&f&&Qe(k,g,f),Qe(k,"VER",u.la),Ra(u,k),k}function Cv(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new ot(new zu({eb:g})):new ot(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Av(){}t=Av.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gu(){}Gu.prototype.g=function(u,f){return new In(u,f)};function In(u,f){B.call(this),this.g=new wv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!_(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new Ys(this)}y(In,B),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){mf(this.g)},In.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Nr(u),u=g);f.i.push(new dC(f.Ya++,u)),f.G==3&&qu(f)},In.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,In.aa.N.call(this)};function Pv(u){sf.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}y(Pv,sf);function Rv(){of.call(this),this.status=1}y(Rv,of);function Ys(u){this.g=u}y(Ys,Av),Ys.prototype.ua=function(){W(this.g,"a")},Ys.prototype.ta=function(u){W(this.g,new Pv(u))},Ys.prototype.sa=function(u){W(this.g,new Rv)},Ys.prototype.ra=function(){W(this.g,"b")},Gu.prototype.createWebChannel=Gu.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,MT=function(){return new Gu},LT=function(){return Ou()},OT=ns,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Kc=Lu,Gw.COMPLETE="complete",DT=Gw,Uw.EventType=_a,_a.OPEN="a",_a.CLOSE="b",_a.ERROR="c",_a.MESSAGE="d",B.prototype.listen=B.prototype.K,Ya=Uw,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,NT=ot}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ua="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Cy("@firebase/firestore");function Ba(){return Os.logLevel}function oe(t,...e){if(Os.logLevel<=Ae.DEBUG){const n=e.map(zy);Os.debug(`Firestore (${ua}): ${t}`,...n)}}function ei(t,...e){if(Os.logLevel<=Ae.ERROR){const n=e.map(zy);Os.error(`Firestore (${ua}): ${t}`,...n)}}function Wo(t,...e){if(Os.logLevel<=Ae.WARN){const n=e.map(zy);Os.warn(`Firestore (${ua}): ${t}`,...n)}}function zy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${ua}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function Ue(t,e){t||ye()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class aV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lV{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new VT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ht(e)}}class uV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new dV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ft(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ve(e)}static min(){return new ve(new ft(0,0))}static max(){return new ve(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends zl{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const pV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends zl{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return pV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new se($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new se($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new se($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new se($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Xe.fromString(e))}static fromName(e){return new le(Xe.fromString(e).popFirst(5))}static empty(){return new le(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Xe(e.slice()))}}function mV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new Ki(i,le.empty(),e)}function gV(t){return new Ki(t.readTime,t.key,-1)}class Ki{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ki(ve.min(),le.empty(),-1)}static max(){return new Ki(ve.max(),le.empty(),-1)}}function yV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==wV)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function _V(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uy.oe=-1;function Lh(t){return t==null}function Yd(t){return t===0&&1/t==-1/0}function EV(t){return typeof t=="number"&&Number.isInteger(t)&&!Yd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Us(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vc(this.root,e,this.comparator,!0)}}class vc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=i??Nt.EMPTY,this.right=s??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Nt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j0(this.data.getIterator())}getIteratorFrom(e){return new j0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class j0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Lt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new BT("Invalid base64 string: "+s):s}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const bV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=bV.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hy(t){const e=t.mapValue.fields.__previous_value__;return $y(e)?Hy(e):e}function Ul(t){const e=Qi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class $l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:TV(t)?9007199254740991:xV(t)?10:11:ye()}function Pr(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Qi(i.timestampValue),a=Qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ls(i.bytesValue).isEqual(Ls(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?Yd(o)===Yd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(F0(o)!==F0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Pr(o[l],a[l])))return!1;return!0}(t,e);default:return ye()}}function Hl(t,e){return(t.values||[]).find(n=>Pr(n,e))!==void 0}function Ko(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dt(s.integerValue||s.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return B0(t.timestampValue,e.timestampValue);case 4:return B0(Ul(t),Ul(e));case 5:return Le(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ls(s),l=Ls(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Le(a[c],l[c]);if(d!==0)return d}return Le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Le(dt(s.latitude),dt(o.latitude));return a!==0?a:Le(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return z0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=p.value)===null||l===void 0?void 0:l.arrayValue,I=Le(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:z0(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_c.mapValue&&o===_c.mapValue)return 0;if(s===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=Le(l[h],d[h]);if(p!==0)return p;const m=Ko(a[l[h]],c[d[h]]);if(m!==0)return m}return Le(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ye()}}function B0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=Qi(t),r=Qi(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function z0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ko(n[i],r[i]);if(s)return s}return Le(n.length,r.length)}function Qo(t){return jm(t)}function jm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jm(n.fields[o])}`;return i+"}"}(t.mapValue):ye()}function U0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function $0(t){return!!t&&"nullValue"in t}function H0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qc(t){return!!t&&"mapValue"in t}function xV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Us(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ml(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Qc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Us(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gn(ml(this.value))}}function zT(t){const e=[];return Us(t.fields,(n,r)=>{const i=new Dt([n]);if(Qc(r)){const s=zT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ve.min(),ve.min(),ve.min(),gn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,ve.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,ve.min(),ve.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ve.min(),ve.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function q0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Ko(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function W0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n="asc"){this.field=e,this.dir=n}}function IV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class _t extends UT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CV(e,n,r):n==="array-contains"?new RV(e,r):n==="in"?new NV(e,r):n==="not-in"?new DV(e,r):n==="array-contains-any"?new OV(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AV(e,r):new PV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends UT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return $T(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $T(t){return t.op==="and"}function HT(t){return SV(t)&&$T(t)}function SV(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function zm(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+Qo(t.value);if(HT(t))return t.filters.map(e=>zm(e)).join(",");{const e=t.filters.map(n=>zm(n)).join(",");return`${t.op}(${e})`}}function qT(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Pr(r.value,i.value)}(t,e):t instanceof fr?function(r,i){return i instanceof fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&qT(o,i.filters[a]),!0):!1}(t,e):void ye()}function WT(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(t):"Filter"}class CV extends _t{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class AV extends _t{constructor(e,n){super(e,"in",n),this.keys=GT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PV extends _t{constructor(e,n){super(e,"not-in",n),this.keys=GT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class RV extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qy(n)&&Hl(n.arrayValue,this.value)}}class NV extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class DV extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class OV extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function G0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new LV(t,e,n,r,i,s,o)}function Wy(t){const e=_e(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qo(r)).join(",")),e.ue=n}return e.ue}function Gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!W0(t.startAt,e.startAt)&&W0(t.endAt,e.endAt)}function Um(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function MV(t,e,n,r,i,s,o,a){return new vu(t,e,n,r,i,s,o,a)}function Ky(t){return new vu(t)}function K0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KT(t){return t.collectionGroup!==null}function gl(t){const e=_e(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Dt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Jd(s,r))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new Jd(Dt.keyField(),r))}return e.ce}function Tr(t){const e=_e(t);return e.le||(e.le=VV(e,gl(t))),e.le}function VV(t,e){if(t.limitType==="F")return G0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Jd(i.field,s)});const n=t.endAt?new Xd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xd(t.startAt.position,t.startAt.inclusive):null;return G0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $m(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hm(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return Gy(Tr(t),Tr(e))&&t.limitType===e.limitType}function QT(t){return`${Wy(Tr(t))}|lt:${t.limitType}`}function ro(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WT(i)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qo(i)).join(",")),`Target(${r})`}(Tr(t))}; limitType=${t.limitType})`}function Vh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=q0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,gl(r),i)||r.endAt&&!function(o,a,l){const c=q0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,gl(r),i))}(t,e)}function FV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YT(t){return(e,n)=>{let r=!1;for(const i of gl(t)){const s=jV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jV(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ko(l,c):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new st(le.comparator);function ti(){return BV}const XT=new st(le.comparator);function Xa(...t){let e=XT;for(const n of t)e=e.insert(n.key,n);return e}function JT(t){let e=XT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return yl()}function ZT(){return yl()}function yl(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const zV=new st(le.comparator),UV=new Lt(le.comparator);function Ie(...t){let e=UV;for(const n of t)e=e.add(n);return e}const $V=new Lt(Le);function HV(){return $V}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yd(e)?"-0":e}}function eI(t){return{integerValue:""+t}}function qV(t,e){return EV(e)?eI(e):Qy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function WV(t,e,n){return t instanceof Zd?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$y(s)&&(s=Hy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?nI(t,e):t instanceof Wl?rI(t,e):function(i,s){const o=tI(i,s),a=Q0(o)+Q0(i.Pe);return Bm(o)&&Bm(i.Pe)?eI(a):Qy(i.serializer,a)}(t,e)}function GV(t,e,n){return t instanceof ql?nI(t,e):t instanceof Wl?rI(t,e):n}function tI(t,e){return t instanceof eh?function(r){return Bm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Zd extends Fh{}class ql extends Fh{constructor(e){super(),this.elements=e}}function nI(t,e){const n=iI(e);for(const r of t.elements)n.some(i=>Pr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wl extends Fh{constructor(e){super(),this.elements=e}}function rI(t,e){let n=iI(e);for(const r of t.elements)n=n.filter(i=>!Pr(i,r));return{arrayValue:{values:n}}}class eh extends Fh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Q0(t){return dt(t.integerValue||t.doubleValue)}function iI(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Wl&&i instanceof Wl?Go(r.elements,i.elements,Pr):r instanceof eh&&i instanceof eh?Pr(r.Pe,i.Pe):r instanceof Zd&&i instanceof Zd}(t.transform,e.transform)}class QV{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jh{}function sI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bh(t.key,on.none()):new _u(t.key,t.data,on.none());{const n=t.data,r=gn.empty();let i=new Lt(Dt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new es(t.key,r,new Nn(i.toArray()),on.none())}}function YV(t,e,n){t instanceof _u?function(i,s,o){const a=i.value.clone(),l=X0(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof es?function(i,s,o){if(!Yc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=X0(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function wl(t,e,n,r){return t instanceof _u?function(s,o,a,l){if(!Yc(s.precondition,o))return a;const c=s.value.clone(),d=J0(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof es?function(s,o,a,l){if(!Yc(s.precondition,o))return a;const c=J0(s.fieldTransforms,l,o),d=o.data;return d.setAll(oI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Yc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function XV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tI(r.transform,i||null);s!=null&&(n===null&&(n=gn.empty()),n.set(r.field,s))}return n||null}function Y0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Go(r,i,(s,o)=>KV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends jh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class es extends jh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X0(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,GV(o,a,n[i]))}return r}function J0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,WV(s,o,e))}return r}class Bh extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JV extends jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&YV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(n,r)=>Y0(n,r))&&Go(this.baseMutations,e.baseMutations,(n,r)=>Y0(n,r))}}class Yy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return zV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Yy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function nF(t){switch(t){default:return ye();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function aI(t){if(t===void 0)return ei("GRPC error has no .code"),$.UNKNOWN;switch(t){case gt.OK:return $.OK;case gt.CANCELLED:return $.CANCELLED;case gt.UNKNOWN:return $.UNKNOWN;case gt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case gt.INTERNAL:return $.INTERNAL;case gt.UNAVAILABLE:return $.UNAVAILABLE;case gt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case gt.NOT_FOUND:return $.NOT_FOUND;case gt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case gt.ABORTED:return $.ABORTED;case gt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case gt.DATA_LOSS:return $.DATA_LOSS;default:return ye()}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=new Ts([4294967295,4294967295],0);function Z0(t){const e=rF().encode(t),n=new RT;return n.update(e),new Uint8Array(n.digest())}function eE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ts([n,r],0),new Ts([i,s],0)]}class Xy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(r<0)throw new Ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ts.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ts.fromNumber(r)));return i.compare(iF)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Z0(e),[r,i]=eE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Z0(e),[r,i]=eE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(ve.min(),i,new st(Le),ti(),Ie())}}class Eu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class lI{constructor(e,n){this.targetId=e,this.me=n}}class uI{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tE{constructor(){this.fe=0,this.ge=rE(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new Eu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=rE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sF{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=nE(),this.Qe=new st(Le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Um(s))if(r===0){const o=new le(s.path);this.Ue(n,o,Wt.newNoDocument(o,ve.min()))}else Ue(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ls(r).toUint8Array()}catch(l){if(l instanceof BT)return Wo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Xy(o,i,s)}catch(l){return Wo(l instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Um(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Wt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ie();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zh(e,n,this.Qe,this.ke,r);return this.ke=ti(),this.qe=nE(),this.Qe=new st(Le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new tE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Lt(Le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function nE(){return new st(le.comparator)}function rE(){return new st(le.comparator)}const oF={asc:"ASCENDING",desc:"DESCENDING"},aF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lF={and:"AND",or:"OR"};class uF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cF(t,e){return th(t,e.toTimestamp())}function Ir(t){return Ue(!!t),ve.fromTimestamp(function(n){const r=Qi(n);return new ft(r.seconds,r.nanos)}(t))}function Jy(t,e){return Wm(t,e).canonicalString()}function Wm(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=Xe.fromString(t);return Ue(gI(e)),e}function Gm(t,e){return Jy(t.databaseId,e.path)}function cp(t,e){const n=dI(e);if(n.get(1)!==t.databaseId.projectId)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(fI(n))}function hI(t,e){return Jy(t.databaseId,e)}function dF(t){const e=dI(t);return e.length===4?Xe.emptyPath():fI(e)}function Km(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function iE(t,e,n){return{name:Gm(t,e),fields:n.value.mapValue.fields}}function hF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ue(d===void 0||typeof d=="string"),Vt.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Vt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?$.UNKNOWN:aI(c.code);return new se(d,c.message||"")}(o);n=new uI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cp(t,r.document.name),s=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):ve.min(),a=new gn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Xc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cp(t,r.document),s=r.readTime?Ir(r.readTime):ve.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Xc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cp(t,r.document),s=r.removedTargetIds||[];n=new Xc([],s,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new tF(i,s),a=r.targetId;n=new lI(a,o)}}return n}function fF(t,e){let n;if(e instanceof _u)n={update:iE(t,e.key,e.value)};else if(e instanceof Bh)n={delete:Gm(t,e.key)};else if(e instanceof es)n={update:iE(t,e.key,e.data),updateMask:bF(e.fieldMask)};else{if(!(e instanceof JV))return ye();n={verify:Gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Zd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:cF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),n}function pF(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ir(i.updateTime):Ir(s);return o.isEqual(ve.min())&&(o=Ir(s)),new QV(o,i.transformResults||[])}(n,e))):[]}function mF(t,e){return{documents:[hI(t,e.path)]}}function gF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(t,i);const s=function(c){if(c.length!==0)return mI(fr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:io(p.field),direction:vF(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function yF(t){let e=dF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=pI(h);return p instanceof fr&&HT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new Jd(so(y.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,Lh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new Xd(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new Xd(m,p)}(n.endAt)),MV(e,i,o,s,a,"F",l,c)}function wF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=so(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=so(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=so(n.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=so(n.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(so(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>pI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function vF(t){return oF[t]}function _F(t){return aF[t]}function EF(t){return lF[t]}function io(t){return{fieldPath:t.canonicalString()}}function so(t){return Dt.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof _t?function(n){if(n.op==="=="){if(H0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if($0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if($0(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:_F(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(i=>mI(i));return r.length===1?r[0]:{compositeFilter:{op:EF(n.op),filters:r}}}(t):ye()}function bF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r,i,s=ve.min(),o=ve.min(),a=Vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.ct=e}}function xF(t){const e=yF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.un=new IF}addToCollectionParentIndex(e,n){return this.un.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ki.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class IF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Lt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Lt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yo(0)}static kn(){return new Yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&wl(r.mutation,i,Nn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=_s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Xa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ti();const o=yl(),a=function(){return yl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof es)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),wl(d.mutation,c,d.mutation.getFieldMask(),ft.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new CF(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=yl();let i=new st((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Nn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Ie()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=ZT();d.forEach(p=>{if(!s.has(p)){const m=sI(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(_s());let a=-1,l=s;return o.next(c=>q.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ie())).next(d=>({batchId:a,changes:JT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Xa();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{const c=function(h,p){return new vu(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Wt.newInvalidDocument(d)))});let a=Xa();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&wl(d.mutation,c,Nn.empty(),ft.now()),Vh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return q.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:xF(i.bundledQuery),readTime:Ir(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.overlays=new st(le.comparator),this.Ir=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=_s(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=_s(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=_s(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return q.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eF(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ie(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Tr=new Lt(xt.Er),this.dr=new Lt(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new le(new Xe([])),r=new xt(n,e),i=new xt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new le(new Xe([])),r=new xt(n,e),i=new xt(n,e+1);let s=Ie();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return le.comparator(e.key,n.key)||Le(e.wr,n.wr)}static Ar(e,n){return Le(e.wr,n.wr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Lt(xt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ZV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Lt(Le);return n.forEach(i=>{const s=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),q.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new xt(new le(s),0);let a=new Lt(Le);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return q.forEach(n.mutations,i=>{const s=new xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new xt(n,0),i=this.br.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.Mr=e,this.docs=function(){return new st(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yV(gV(d),r)<=0||(i.has(d.key)||Vh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ye()}Or(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new LF(this)}getSize(e){return q.resolve(this.size)}}class LF extends SF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.persistence=e,this.Nr=new ca(n=>Wy(n),Gy),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zy,this.targetCount=0,this.kr=Yo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),q.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Kn(n),q.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Uy(0),this.Kr=!1,this.Kr=!0,this.$r=new NF,this.referenceDelegate=e(this),this.Ur=new MF(this),this.indexManager=new TF,this.remoteDocumentCache=function(i){return new OF(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kF(n),this.Gr=new PF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new DF(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new FF(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return q.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class FF extends vV{constructor(e){super(),this.currentSequenceNumber=e}}class ew{constructor(e){this.persistence=e,this.Jr=new Zy,this.Yr=null}static Zr(e){return new ew(e)}get Xr(){if(this.Yr)return this.Yr;throw ye()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,r=>{const i=le.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return q.or([()=>q.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zD()?8:_V(Yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jF;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ba()<=Ae.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Ba()<=Ae.DEBUG&&oe("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ba()<=Ae.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):q.resolve())}Yi(e,n){if(K0(n))return q.resolve(null);let r=Tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hm(n,null,"F"),r=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Hm(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return K0(n)||i.isEqual(ve.min())?q.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?q.resolve(null):(Ba()<=Ae.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ro(n)),this.rs(e,o,n,mV(i,-1)).next(a=>a))})}ts(e,n){let r=new Lt(YT(e));return n.forEach((i,s)=>{Vh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Ba()<=Ae.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ro(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new st(Le),this._s=new ca(s=>Wy(s),Gy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function UF(t,e,n,r){return new zF(t,e,n,r)}async function yI(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ie();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function $F(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let m=q.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(I=>{const P=c.docVersions.get(y);Ue(P!==null),I.version.compareTo(P)<0&&(h.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wI(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function HF(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Vt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(I,P,w){return I.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,d)&&a.push(n.Ur.updateTargetData(s,m))});let l=ti(),c=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(qF(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ve.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function qF(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function WF(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GF(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Pi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Qm(t,e,n){const r=_e(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!wu(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function sE(t,e,n){const r=_e(t);let i=ve.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=_e(l),p=h._s.get(d);return p!==void 0?q.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,o,Tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ve.min(),n?s:Ie())).next(a=>(KF(r,FV(e),a),{documents:a,Ts:s})))}function KF(t,e,n){let r=t.us.get(e)||ve.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class oE{constructor(){this.activeTargetIds=HV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QF{constructor(){this.so=new oE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new oE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function dp(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class ZF extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=dp(),l=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(oe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Wo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ua}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=XF[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=dp();return new Promise((o,a)=>{const l=new NT;l.setWithCredentials(!0),l.listenOnce(DT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kc.NO_ERROR:const d=l.getResponseJson();oe($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Kc.TIMEOUT:oe($t,`RPC '${e}' ${s} timed out`),a(new se($.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const h=l.getStatus();if(oe($t,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const y=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(m.status);a(new se(y,m.message))}else a(new se($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new se($.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{oe($t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe($t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=dp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MT(),a=LT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");oe($t,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,m=!1;const y=new JF({Io:P=>{m?oe($t,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(p||(oe($t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),oe($t,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},To:()=>h.close()}),I=(P,w,_)=>{P.listen(w,T=>{try{_(T)}catch(L){setTimeout(()=>{throw L},0)}})};return I(h,Ya.EventType.OPEN,()=>{m||(oe($t,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),I(h,Ya.EventType.CLOSE,()=>{m||(m=!0,oe($t,`RPC '${e}' stream ${i} transport closed`),y.So())}),I(h,Ya.EventType.ERROR,P=>{m||(m=!0,Wo($t,`RPC '${e}' stream ${i} transport errored:`,P),y.So(new se($.UNAVAILABLE,"The operation could not be completed")))}),I(h,Ya.EventType.MESSAGE,P=>{var w;if(!m){const _=P.data[0];Ue(!!_);const T=_,L=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(L){oe($t,`RPC '${e}' stream ${i} received error:`,L);const F=L.status;let O=function(S){const v=gt[S];if(v!==void 0)return aI(v)}(F),C=L.message;O===void 0&&(O=$.INTERNAL,C="Unknown error status: "+F+" with message "+L.message),m=!0,y.So(new se(O,C)),h.close()}else oe($t,`RPC '${e}' stream ${i} received:`,_),y.bo(_)}}),I(a,OT.STAT_EVENT,P=>{P.stat===Fm.PROXY?oe($t,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Fm.NOPROXY&&oe($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return new uF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new se($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e4 extends _I{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=hF(this.serializer,e),r=function(s){if(!("targetChange"in s))return ve.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Ir(o.readTime):ve.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Um(l)?{documents:mF(s,l)}:{query:gF(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cI(s,o.resumeToken);const c=qm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=th(s,o.snapshotVersion.toTimestamp());const c=qm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=wF(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.a_(n)}}class t4 extends _I{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=pF(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Km(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fF(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Wm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Wm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class r4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ei(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{$s(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=_e(l);c.L_.add(4),await bu(c),c.q_.set("Unknown"),c.L_.delete(4),await $h(c)}(this))})}),this.q_=new r4(r,i)}}async function $h(t){if($s(t))for(const e of t.B_)await e(!0)}async function bu(t){for(const e of t.B_)await e(!1)}function EI(t,e){const n=_e(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sw(n)?iw(n):da(n).r_()&&rw(n,e))}function nw(t,e){const n=_e(t),r=da(n);n.N_.delete(e),r.r_()&&bI(n,e),n.N_.size===0&&(r.r_()?r.o_():$s(n)&&n.q_.set("Unknown"))}function rw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}da(t).A_(e)}function bI(t,e){t.Q_.xe(e),da(t).R_(e)}function iw(t){t.Q_=new sF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),da(t).start(),t.q_.v_()}function sw(t){return $s(t)&&!da(t).n_()&&t.N_.size>0}function $s(t){return _e(t).L_.size===0}function kI(t){t.Q_=void 0}async function s4(t){t.q_.set("Online")}async function o4(t){t.N_.forEach((e,n)=>{rw(t,e)})}async function a4(t,e){kI(t),sw(t)?(t.q_.M_(e),iw(t)):t.q_.set("Unknown")}async function l4(t,e,n){if(t.q_.set("Online"),e instanceof uI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nh(t,r)}else if(e instanceof Xc?t.Q_.Ke(e):e instanceof lI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ve.min()))try{const r=await wI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Vt.EMPTY_BYTE_STRING,d.snapshotVersion)),bI(s,l);const h=new Pi(d.target,l,c,d.sequenceNumber);rw(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await nh(t,r)}}async function nh(t,e,n){if(!wu(e))throw e;t.L_.add(1),await bu(t),t.q_.set("Offline"),n||(n=()=>wI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await $h(t)})}function xI(t,e){return e().catch(n=>nh(t,n,e))}async function Hh(t){const e=_e(t),n=Yi(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;u4(e);)try{const i=await WF(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,c4(e,i)}catch(i){await nh(e,i)}TI(e)&&II(e)}function u4(t){return $s(t)&&t.O_.length<10}function c4(t,e){t.O_.push(e);const n=Yi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function TI(t){return $s(t)&&!Yi(t).n_()&&t.O_.length>0}function II(t){Yi(t).start()}async function d4(t){Yi(t).p_()}async function h4(t){const e=Yi(t);for(const n of t.O_)e.m_(n.mutations)}async function f4(t,e,n){const r=t.O_.shift(),i=Yy.from(r,e,n);await xI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Hh(t)}async function p4(t,e){e&&Yi(t).V_&&await async function(r,i){if(function(o){return nF(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Yi(r).s_(),await xI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Hh(r)}}(t,e),TI(t)&&II(t)}async function lE(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=$s(n);n.L_.add(3),await bu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await $h(n)}async function m4(t,e){const n=_e(t);e?(n.L_.delete(2),await $h(n)):e||(n.L_.add(2),await bu(n),n.q_.set("Unknown"))}function da(t){return t.K_||(t.K_=function(n,r,i){const s=_e(n);return s.w_(),new e4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:s4.bind(null,t),Ro:o4.bind(null,t),mo:a4.bind(null,t),d_:l4.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sw(t)?iw(t):t.q_.set("Unknown")):(await t.K_.stop(),kI(t))})),t.K_}function Yi(t){return t.U_||(t.U_=function(n,r,i){const s=_e(n);return s.w_(),new t4(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d4.bind(null,t),mo:p4.bind(null,t),f_:h4.bind(null,t),g_:f4.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hh(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ow(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aw(t,e){if(ei("AsyncQueue",`${e}: ${t}`),wu(t))return new se($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Do;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.W_=new st(le.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ye():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xo(e,n,Do.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class y4{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=_e(n),s=i.queries;i.queries=cE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new se($.ABORTED,"Firestore shutting down"))}}function cE(){return new ca(t=>QT(t),Mh)}async function SI(t,e){const n=_e(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new g4,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=aw(o,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&lw(n)}async function CI(t,e){const n=_e(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function w4(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&lw(n)}function v4(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function lw(t){t.Y_.forEach(e=>{e.next()})}var Ym,dE;(dE=Ym||(Ym={})).ea="default",dE.Cache="cache";class AI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.key=e}}class RI{constructor(e){this.key=e}}class _4{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=YT(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new uE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=Vh(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let P=!1;p&&m?p.data.isEqual(m.data)?y!==I&&(r.track({type:3,doc:m}),P=!0):this.ga(p,m)||(r.track({type:2,doc:m}),P=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),P=!0):p&&!m&&(r.track({type:1,doc:p}),P=!0,(l||c)&&(a=!0)),P&&(m?(o=o.add(m),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(m,y){const I=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return I(m)-I(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Xo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new RI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new PI(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class E4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class b4{constructor(e){this.key=e,this.va=!1}}class k4{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ca(a=>QT(a),Mh),this.Ma=new Map,this.xa=new Set,this.Oa=new st(le.comparator),this.Na=new Map,this.La=new Zy,this.Ba={},this.ka=new Map,this.qa=Yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function x4(t,e,n=!0){const r=VI(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await NI(r,e,n,!0),i}async function T4(t,e){const n=VI(t);await NI(n,e,!0,!1)}async function NI(t,e,n,r){const i=await GF(t.localStore,Tr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await I4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&EI(t.remoteStore,i),a}async function I4(t,e,n,r,i){t.Ka=(h,p,m)=>async function(I,P,w,_){let T=P.view.ma(w);T.ns&&(T=await sE(I.localStore,P.query,!1).then(({documents:C})=>P.view.ma(C,T)));const L=_&&_.targetChanges.get(P.targetId),F=_&&_.targetMismatches.get(P.targetId)!=null,O=P.view.applyChanges(T,I.isPrimaryClient,L,F);return fE(I,P.targetId,O.wa),O.snapshot}(t,h,p,m);const s=await sE(t.localStore,e,!0),o=new _4(e,s.Ts),a=o.ma(s.documents),l=Eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);fE(t,n,c.wa);const d=new E4(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function S4(t,e,n){const r=_e(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Mh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nw(r.remoteStore,i.targetId),Xm(r,i.targetId)}).catch(yu)):(Xm(r,i.targetId),await Qm(r.localStore,i.targetId,!0))}async function C4(t,e){const n=_e(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nw(n.remoteStore,r.targetId))}async function A4(t,e,n){const r=M4(t);try{const i=await function(o,a){const l=_e(o),c=ft.now(),d=a.reduce((m,y)=>m.add(y.key),Ie());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=ti(),I=Ie();return l.cs.getEntries(m,d).next(P=>{y=P,y.forEach((w,_)=>{_.isValidDocument()||(I=I.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(P=>{h=P;const w=[];for(const _ of a){const T=XV(_,h.get(_.key).overlayedDocument);T!=null&&w.push(new es(_.key,T,zT(T.value.mapValue),on.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(P=>{p=P;const w=P.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(m,P.batchId,w)})}).then(()=>({batchId:p.batchId,changes:JT(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new st(Le)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await ku(r,i.changes),await Hh(r.remoteStore)}catch(i){const s=aw(i,"Failed to persist write");n.reject(s)}}async function DI(t,e){const n=_e(t);try{const r=await HF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ue(o.va):i.removedDocuments.size>0&&(Ue(o.va),o.va=!1))}),await ku(n,r,e)}catch(r){await yu(r)}}function hE(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=_e(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&lw(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P4(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new st(le.comparator);o=o.insert(s,Wt.newNoDocument(s,ve.min()));const a=Ie().add(s),l=new zh(ve.min(),new Map,new st(Le),o,a);await DI(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),uw(r)}else await Qm(r.localStore,e,!1).then(()=>Xm(r,e,n)).catch(yu)}async function R4(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await $F(n.localStore,e);LI(n,r,null),OI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ku(n,i)}catch(i){await yu(i)}}async function N4(t,e,n){const r=_e(t);try{const i=await function(o,a){const l=_e(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ue(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);LI(r,e,n),OI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ku(r,i)}catch(i){await yu(i)}}function OI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function LI(t,e,n){const r=_e(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Xm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||MI(t,r)})}function MI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(nw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),uw(t))}function fE(t,e,n){for(const r of n)r instanceof PI?(t.La.addReference(r.key,e),D4(t,r)):r instanceof RI?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||MI(t,r.key)):ye()}function D4(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),uw(t))}function uw(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new le(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new b4(n)),t.Oa=t.Oa.insert(n,r),EI(t.remoteStore,new Pi(Tr(Ky(n.path)),r,"TargetPurposeLimboResolution",Uy.oe))}}async function ku(t,e,n){const r=_e(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=tw.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=_e(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>q.forEach(c,p=>q.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>q.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!wu(h))throw h;oe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),y=m.snapshotVersion,I=m.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(p,I)}}}(r.localStore,s))}async function O4(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new se($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ku(n,r.hs)}}function L4(t,e){const n=_e(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let i=Ie();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function VI(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P4.bind(null,e),e.Ca.d_=w4.bind(null,e.eventManager),e.Ca.$a=v4.bind(null,e.eventManager),e}function M4(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N4.bind(null,e),e}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return UF(this.persistence,new BF,e.initialUser,this.serializer)}Ga(e){return new VF(ew.Zr,this.serializer)}Wa(e){return new QF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>hE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O4.bind(null,this.syncEngine),await m4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y4}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=function(s){return new ZF(s)}(e.databaseInfo);return function(s,o,a,l){return new n4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new i4(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return aE.D()?new aE:new YF}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new k4(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=_e(i);oe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await bu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=FT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function fp(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function pE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F4(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lE(e.remoteStore,i)),t._onlineComponents=e}async function F4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await fp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await fp(t,new rh)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await fp(t,new rh);return t._offlineComponents}async function jI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await pE(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await pE(t,new Jm))),t._onlineComponents}function j4(t){return jI(t).then(e=>e.syncEngine)}async function Zm(t){const e=await jI(t),n=e.eventManager;return n.onListen=x4.bind(null,e.syncEngine),n.onUnlisten=S4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C4.bind(null,e.syncEngine),n}function B4(t,e,n={}){const r=new $i;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new FI({next:p=>{d.Za(),o.enqueueAndForget(()=>CI(s,h)),p.fromCache&&l.source==="server"?c.reject(new se($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new AI(a,d,{includeMetadataChanges:!0,_a:!0});return SI(s,h)}(await Zm(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t,e,n){if(!n)throw new se($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z4(t,e,n,r){if(e===!0&&r===!0)throw new se($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gE(t){if(!le.isDocumentKey(t))throw new se($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yE(t){if(le.isDocumentKey(t))throw new se($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(t);throw new se($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oV;switch(r.type){case"firstParty":return new cV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=mE.get(n);r&&(oe("ComponentProvider","Removing Datastore"),mE.delete(n),r.terminate())}(this),Promise.resolve()}}function U4(t,e,n,r={}){var i;const s=(t=Ln(t,Wh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=OD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new se($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(c)}t._authCredentials=new aV(new VT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Hi extends Hs{constructor(e,n,r){super(e,n,Ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new le(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function nn(t,e,...n){if(t=kt(t),zI("collection","path",e),t instanceof Wh){const r=Xe.fromString(e,...n);return yE(r),new Hi(t,null,r)}{if(!(t instanceof an||t instanceof Hi))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return yE(r),new Hi(t.firestore,null,r)}}function ut(t,e,...n){if(t=kt(t),arguments.length===1&&(e=FT.newId()),zI("doc","path",e),t instanceof Wh){const r=Xe.fromString(e,...n);return gE(r),new an(t,null,new le(r))}{if(!(t instanceof an||t instanceof Hi))throw new se($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return gE(r),new an(t.firestore,t instanceof Hi?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vI(this,"async_queue_retry"),this.Vu=()=>{const r=hp();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new $i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!wu(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ei("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ow.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ye()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function _E(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ni extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function $4(t,e){const n=typeof t=="object"?t:Y1(),r=typeof t=="string"?t:"(default)",i=Py(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ND("firestore");s&&U4(i,...s)}return i}function Gh(t){if(t._terminated)throw new se($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||H4(t),t._firestoreClient}function H4(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new kV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,BI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new V4(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(Vt.fromBase64String(e))}catch(n){throw new se($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jo(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=/^__.*__$/;class W4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class UI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $I(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class fw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new fw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ih(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($I(this.Cu)&&q4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class G4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}Qu(e,n,r,i=!1){return new fw({Cu:e,methodName:n,qu:r,path:Dt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tu(t){const e=t._freezeSettings(),n=Uh(t._databaseId);return new G4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pw(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);mw("Data must be an object, but it was:",o,r);const a=WI(r,o);let l,c;if(s.merge)l=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=eg(e,h,n);if(!o.contains(p))throw new se($.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);KI(d,p)||d.push(p)}l=new Nn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new W4(new gn(a),l,c)}class Kh extends cw{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function HI(t,e,n,r){const i=t.Qu(1,e,n);mw("Data must be an object, but it was:",i,r);const s=[],o=gn.empty();Us(r,(l,c)=>{const d=gw(e,l,n);c=kt(c);const h=i.Nu(d);if(c instanceof Kh)s.push(d);else{const p=Iu(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new Nn(s);return new UI(o,a,i.fieldTransforms)}function qI(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[eg(e,r,n)],l=[i];if(s.length%2!=0)throw new se($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(eg(e,s[p])),l.push(s[p+1]);const c=[],d=gn.empty();for(let p=a.length-1;p>=0;--p)if(!KI(c,a[p])){const m=a[p];let y=l[p];y=kt(y);const I=o.Nu(m);if(y instanceof Kh)c.push(m);else{const P=Iu(y,I);P!=null&&(c.push(m),d.set(m,P))}}const h=new Nn(c);return new UI(d,h,o.fieldTransforms)}function K4(t,e,n,r=!1){return Iu(n,t.Qu(r?4:3,e))}function Iu(t,e){if(GI(t=kt(t)))return mw("Unsupported field value:",e,t),WI(t,e);if(t instanceof cw)return function(r,i){if(!$I(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Iu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ft.fromDate(r);return{timestampValue:th(i.serializer,s)}}if(r instanceof ft){const s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(i.serializer,s)}}if(r instanceof dw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jo)return{bytesValue:cI(i.serializer,r._byteString)};if(r instanceof an){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Jy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hw)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Qy(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${qh(r)}`)}(t,e)}function WI(t,e){const n={};return jT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(t,(r,i)=>{const s=Iu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof dw||t instanceof Jo||t instanceof an||t instanceof cw||t instanceof hw)}function mw(t,e,n){if(!GI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function eg(t,e,n){if((e=kt(e))instanceof xu)return e._internalPath;if(typeof e=="string")return gw(t,e);throw ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const Q4=new RegExp("[~\\*/\\[\\]]");function gw(t,e,n){if(e.search(Q4)>=0)throw ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ih(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new se($.INVALID_ARGUMENT,a+t+l)}function KI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Y4 extends QI{data(){return super.data()}}function yw(t,e){return typeof e=="string"?gw(t,e):e instanceof xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ww{}class X4 extends ww{}function Gl(t,e,...n){let r=[];e instanceof ww&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof vw).length,a=s.filter(l=>l instanceof Qh).length;if(o>1||o>0&&a>0)throw new se($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qh extends X4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qh(e,n,r)}_apply(e){const n=this._parse(e);return XI(e._query,n),new Hs(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=Tu(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new se($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){bE(h,d);const m=[];for(const y of h)m.push(EE(l,s,y));p={arrayValue:{values:m}}}else p=EE(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||bE(h,d),p=K4(a,o,h,d==="in"||d==="not-in");return _t.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kl(t,e,n){const r=e,i=yw("where",t);return Qh._create(i,r,n)}class vw extends ww{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)XI(o,l),o=$m(o,l)}(e._query,n),new Hs(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function EE(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new se($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&n.indexOf("/")!==-1)throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!le.isDocumentKey(r))throw new se($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U0(t,new le(r))}if(n instanceof an)return U0(t,n._key);throw new se($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function bE(t,e){if(!Array.isArray(t)||t.length===0)throw new se($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XI(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class J4{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Us(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>dt(o.doubleValue));return new hw(s)}convertGeoPoint(e){return new dw(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);Ue(gI(r));const i=new $l(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JI extends QI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jc extends JI{data(e={}){return super.data(e)}}class ZI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Za(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jc(this._firestore,this._userDataWriter,r.key,r,new Za(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Za(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Z4(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Z4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class Ew extends J4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function kE(t){t=Ln(t,Hs);const e=Ln(t.firestore,ni),n=Gh(e),r=new Ew(e);return YI(t._query),B4(n,t._query).then(i=>new ZI(e,r,t,i))}function Zc(t,e,n){t=Ln(t,an);const r=Ln(t.firestore,ni),i=_w(t.converter,e,n);return Su(r,[pw(Tu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,on.none())])}function Ql(t,e,n,...r){t=Ln(t,an);const i=Ln(t.firestore,ni),s=Tu(i);let o;return o=typeof(e=kt(e))=="string"||e instanceof xu?qI(s,"updateDoc",t._key,e,n,r):HI(s,"updateDoc",t._key,e),Su(i,[o.toMutation(t._key,on.exists(!0))])}function ej(t){return Su(Ln(t.firestore,ni),[new Bh(t._key,on.none())])}function tg(t,e){const n=Ln(t.firestore,ni),r=ut(t),i=_w(t.converter,e);return Su(n,[pw(Tu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,on.exists(!1))]).then(()=>r)}function _r(t,...e){var n,r,i;t=kt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||_E(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(_E(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof an)c=Ln(t.firestore,ni),d=Ky(t._key.path),l={next:h=>{e[o]&&e[o](tj(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ln(t,Hs);c=Ln(h.firestore,ni),d=h._query;const p=new Ew(c);l={next:m=>{e[o]&&e[o](new ZI(c,p,h,m))},error:e[o+1],complete:e[o+2]},YI(t._query)}return function(p,m,y,I){const P=new FI(I),w=new AI(m,P,y);return p.asyncQueue.enqueueAndForget(async()=>SI(await Zm(p),w)),()=>{P.Za(),p.asyncQueue.enqueueAndForget(async()=>CI(await Zm(p),w))}}(Gh(c),d,a,l)}function Su(t,e){return function(r,i){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>A4(await j4(r),i,s)),s.promise}(Gh(t),e)}function tj(t,e,n){const r=n.docs.get(e._key),i=new Ew(t);return new JI(t,i,e._key,r,new Za(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Tu(e)}set(e,n,r){this._verifyNotCommitted();const i=pp(e,this._firestore),s=_w(i.converter,n,r),o=pw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,on.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=pp(e,this._firestore);let o;return o=typeof(n=kt(n))=="string"||n instanceof xu?qI(this._dataReader,"WriteBatch.update",s._key,n,r,i):HI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,on.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pp(e,this._firestore);return this._mutations=this._mutations.concat(new Bh(n._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se($.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pp(t,e){if((t=kt(t)).firestore!==e)throw new se($.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){return Gh(t=Ln(t,ni)),new nj(t,e=>Su(t,e))}(function(e,n=!0){(function(i){ua=i})(aa),qo(new Ns("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ni(new lV(r.getProvider("auth-internal")),new hV(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new se($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),zi(V0,"4.7.3",e),zi(V0,"4.7.3","esm2017")})();const eS=Q1(nP),us=iV(eS),he=$4(eS),Dn=({children:t,onClick:e,type:n="button",variant:r="primary",className:i="",...s})=>{const o="w-full text-center px-4 py-2 rounded-md font-semibold text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",a={primary:"bg-primary text-white hover:bg-green-700",secondary:"bg-gray-500 dark:bg-gray-600 text-white hover:bg-gray-600 dark:hover:bg-gray-500",outline:"border border-current text-primary hover:bg-primary/10 dark:hover:bg-primary/20","outline-success":"border border-green-500 text-green-600 hover:bg-green-500/10"};return E.jsx("button",{type:n,onClick:e,className:`${o} ${a[r]} ${i}`,...s,children:t})},Wr=({label:t,id:e,...n})=>E.jsxs("div",{children:[E.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),E.jsx("input",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...n})]}),Es=({label:t,id:e,children:n,...r})=>E.jsxs("div",{children:[E.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),E.jsx("select",{id:e,className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light focus:ring-2 focus:ring-primary focus:border-primary outline-none",...r,children:n})]});function rj({showNotification:t,allMeets:e}){const[n,r]=J.useState(""),[i,s]=J.useState(""),[o,a]=J.useState(null),[l,c]=J.useState(8),d=P=>P.toISOString().split("T")[0],h=P=>{a(P),r(P.name),s(d(P.date)),c(P.lanesAvailable||8)},p=()=>{r(""),s(""),a(null),c(8)},m=async(P,w)=>{if((await hr.fire({title:"Are you sure?",text:`This will permanently delete "${w}" and all of its scheduled events. This action cannot be undone.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{const T=Gl(nn(he,"meet_events"),Kl("meetId","==",P)),L=await kE(T),F=xi(he);L.forEach(O=>F.delete(O.ref)),F.delete(ut(he,"meets",P)),await F.commit(),t(`"${w}" and all its events were deleted.`,"success")}catch(T){t("Failed to delete meet and its events.","danger"),console.error("Error deleting meet:",T)}},y=async P=>{if(P.preventDefault(),!n.trim()||!i){t("Please provide a name and a date for the meet.","warning");return}const w=new Date(i+"T00:00:00"),_={name:n,date:ft.fromDate(w),lanesAvailable:parseInt(l,10)||8};try{o?(await Ql(ut(he,"meets",o.id),_),t("Meet updated successfully!","success")):(await tg(nn(he,"meets"),_),t("Meet successfully added!","success")),p()}catch{t("Failed to save meet.","danger")}},I=async P=>{const{value:w}=await hr.fire({title:`Copy Meet: ${P.name}`,html:`<input id="swal-input1" class="swal2-input" value="Copy of ${P.name}"><input id="swal-input2" type="date" class="swal2-input" value="${d(new Date)}">`,focusConfirm:!1,preConfirm:()=>[document.getElementById("swal-input1").value,document.getElementById("swal-input2").value]});if(w){const[_,T]=w;if(!_||!T){t("New meet name and date are required.","warning");return}try{const L=await tg(nn(he,"meets"),{name:_,date:ft.fromDate(new Date(T))}),F=Gl(nn(he,"meet_events"),Kl("meetId","==",P.id)),C=(await kE(F)).docs.map(S=>({...S.data(),id:S.id})),b=xi(he);C.forEach(S=>{const v=ut(nn(he,"meet_events")),x={...S,meetId:L.id,heats:[]};delete x.id,b.set(v,x)}),await b.commit(),t("Successfully copied meet and its schedule.","success")}catch{t("Failed to copy meet.","danger")}}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:o?"Edit Meet":"Create New Meet"}),E.jsxs("form",{onSubmit:y,className:"space-y-4 mt-2",children:[E.jsx(Wr,{label:"Meet Name",id:"meetName",type:"text",value:n,onChange:P=>r(P.target.value)}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[E.jsx(Wr,{label:"Meet Date",id:"meetDate",type:"date",value:i,onChange:P=>s(P.target.value)}),E.jsx(Wr,{label:"Lanes Available",id:"lanesAvailable",type:"number",min:"1",max:"12",value:l,onChange:P=>c(P.target.value)})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[E.jsx(Dn,{type:"submit",children:o?"Update Meet":"Add Meet"}),o&&E.jsx(Dn,{type:"button",variant:"secondary",onClick:p,children:"Cancel"})]})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Meets"}),E.jsx("ul",{className:"mt-2 space-y-2",children:e.map(P=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("span",{className:"font-medium",children:[P.name," ",E.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["(",P.date.toLocaleDateString(),")"]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:()=>I(P),title:"Copy",children:E.jsx(Be,{name:"copy"})}),E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>h(P),title:"Edit",children:E.jsx(Be,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>m(P.id,P.name),title:"Delete",children:E.jsx(Be,{name:"trash"})})]})]},P.id))})]})}function ij({adminRole:t,showNotification:e}){const[n,r]=J.useState(""),[i,s]=J.useState([]),[o,a]=J.useState(null);J.useEffect(()=>{const m=nn(he,"event_library"),y=_r(m,I=>{const P=I.docs.map(w=>({id:w.id,...w.data()})).sort((w,_)=>w.name.localeCompare(_.name));s(P)});return()=>y()},[]);const l=()=>{r(""),a(null)},c=m=>{a(m),r(m.name)},d=async(m,y)=>{if((await hr.fire({title:"Are you sure?",text:`This will permanently delete "${y}" from the Event Library.`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await ej(ut(he,"event_library",m)),e("Library event deleted successfully.","success")}catch{e("Error deleting library event.","danger")}},h=async m=>{if(m.preventDefault(),!n.trim()){e("Event name cannot be empty.","warning");return}try{o?(await Ql(ut(he,"event_library",o.id),{name:n}),e("Library event updated successfully.","success")):(await tg(nn(he,"event_library"),{name:n}),e("Library event created successfully.","success")),l()}catch{e("Error saving library event.","danger")}},p=async()=>{if(!(await hr.fire({title:"Bulk Load Events?",text:"This will add any missing standard events to the library. It will not create duplicates.",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, load them!"})).isConfirmed)return;if(typeof Fc>"u"||!Array.isArray(Fc)){e("Standard event library is not defined in config.js.","danger");return}const y=new Set(i.map(w=>w.name)),I=Fc.filter(w=>!y.has(w));if(I.length===0){e("All standard library events already exist.","info");return}e(`Adding ${I.length} new library events...`,"info");const P=xi(he);I.forEach(w=>{const _=ut(nn(he,"event_library"));P.set(_,{name:w})});try{await P.commit(),e("Bulk load complete!","success")}catch(w){e("An error occurred during bulk load.","danger"),console.error("Bulk load error:",w)}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Event Library"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create a master list of reusable event types."}),t==="SUPERADMIN"&&E.jsxs("div",{className:"my-4 space-y-4",children:[E.jsxs("form",{onSubmit:h,className:"space-y-4",children:[E.jsx(Wr,{label:o?"Edit Event Name":"New Event Name",id:"libraryEventName",type:"text",value:n,onChange:m=>r(m.target.value),placeholder:"e.g., Girls 9-10 50m Freestyle"}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[E.jsx(Dn,{type:"submit",children:o?"Update Event":"Create Event"}),o&&E.jsx(Dn,{type:"button",variant:"secondary",onClick:l,children:"Cancel"})]})]}),E.jsx(Dn,{variant:"outline",onClick:p,children:"Bulk Load Standard Events"})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsx("h5",{className:"mt-3 font-semibold text-lg",children:"Existing Library Events"}),E.jsx("ul",{className:"mt-2 space-y-2",children:i.map(m=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsx("span",{className:"font-medium",children:m.name}),t==="SUPERADMIN"&&E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>c(m),title:"Edit",children:E.jsx(Be,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>d(m.id,m.name),title:"Delete",children:E.jsx(Be,{name:"trash"})})]})]},m.id))})]})}function sj({allMeets:t,showNotification:e}){const[n,r]=J.useState(""),[i,s]=J.useState([]),[o,a]=J.useState([]),[l,c]=J.useState(new Set),[d,h]=J.useState(new Set),[p,m]=J.useState(null),[y,I]=J.useState(""),P=J.useRef(null),w=J.useRef(null);J.useEffect(()=>{const x=_r(nn(he,"event_library"),R=>{const A=R.docs.map(V=>({id:V.id,...V.data()})).sort((V,H)=>V.name.localeCompare(H.name));s(A)});return()=>x()},[]),J.useEffect(()=>{if(!n){a([]);return}const x=Gl(nn(he,"meet_events"),Kl("meetId","==",n)),R=_r(x,A=>{const V=A.docs.map(H=>({id:H.id,...H.data()})).sort((H,ee)=>H.eventNumber-ee.eventNumber);a(V)},A=>{e("Could not load schedule.","danger")});return()=>R()},[n]),J.useEffect(()=>{P.current&&(w.current&&w.current.destroy(),w.current=new me(P.current,{animation:150,disabled:!!p,onEnd:async x=>{const{oldIndex:R,newIndex:A}=x;if(R===A)return;const V=[...o],[H]=V.splice(R,1);V.splice(A,0,H);const ee=xi(he);V.forEach((X,U)=>{ee.update(ut(he,"meet_events",X.id),{eventNumber:U+1})});try{await ee.commit(),e("Event order updated.","success")}catch{e("Failed to update event order.","danger")}}}))},[o,p]);const _=(x,R)=>{(R==="library"?c:h)(V=>{const H=new Set(V);return H.has(x)?H.delete(x):H.add(x),H})},T=J.useMemo(()=>{const x=new Set(o.map(R=>R.name));return i.filter(R=>!x.has(R.name))},[i,o]),L=async x=>{if(!n||x.length===0)return;const R=x.map((V,H)=>{const ee=i.find(X=>X.id===V);return{meetId:n,libraryEventId:ee.id,name:ee.name,eventNumber:o.length+1+H,heats:[]}}),A=xi(he);R.forEach(V=>A.set(ut(nn(he,"meet_events")),V));try{await A.commit(),e(`${R.length} event(s) added successfully.`,"success"),c(new Set)}catch{e("Error adding events.","danger")}},F=async x=>{if(!n||x.length===0)return;if((await hr.fire({title:"Are you sure?",text:`This will remove ${x.length} event(s) from this meet's schedule.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove them"})).isConfirmed){const A=xi(he);x.forEach(H=>A.delete(ut(he,"meet_events",H))),o.filter(H=>!x.includes(H.id)).sort((H,ee)=>H.eventNumber-ee.eventNumber).forEach((H,ee)=>A.update(ut(he,"meet_events",H.id),{eventNumber:ee+1}));try{await A.commit(),e("Selected events removed.","success"),h(new Set)}catch{e("Failed to remove events.","danger")}}},O=()=>{const x=new Set(o.map(V=>V.name)),A=Fc.map(V=>i.find(H=>H.name===V)).filter(V=>V&&!x.has(V.name)).map(V=>V.id);L(A)},C=async()=>{if(o.length===0)return;if((await hr.fire({title:"Are you sure?",text:"This will remove ALL events from this meet's schedule. This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",confirmButtonText:"Yes, clear the schedule!"})).isConfirmed){const R=xi(he);o.forEach(A=>R.delete(ut(he,"meet_events",A.id)));try{await R.commit(),e("Complete schedule has been cleared.","success"),h(new Set)}catch{e("Failed to clear schedule.","danger")}}},b=x=>{m(x.id),I(x.eventNumber)},S=()=>{m(null),I("")},v=async()=>{const x=p,R=parseInt(y,10);if(isNaN(R)||R<1||R>o.length){e(`Please enter a valid event number between 1 and ${o.length}.`,"warning");return}const A=[...o],V=A.find(X=>X.id===x);if(!V)return;const H=A.findIndex(X=>X.id===x);A.splice(H,1),A.splice(R-1,0,V);const ee=xi(he);A.forEach((X,U)=>{ee.update(ut(he,"meet_events",X.id),{eventNumber:U+1})});try{await ee.commit(),e("Event number updated successfully.","success"),S()}catch{e("Failed to update event number.","danger")}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Manage a Meet's Schedule"}),E.jsx("div",{className:"my-4",children:E.jsxs(Es,{label:"1. Select Meet to Manage",id:"meetSelectForSchedule",value:n,onChange:x=>r(x.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),t.map(x=>E.jsx("option",{value:x.id,children:x.name},x.id))]})}),n&&E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 items-center mt-4",children:[E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[E.jsxs("h6",{className:"font-semibold mb-2",children:["Event Library (",T.length,")"]}),E.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",children:T.map(x=>E.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2",children:[E.jsx("input",{type:"checkbox",id:`lib-${x.id}`,checked:l.has(x.id),onChange:()=>_(x.id,"library")}),E.jsx("label",{htmlFor:`lib-${x.id}`,className:"flex-grow cursor-pointer",children:x.name})]},x.id))})]}),E.jsxs("div",{className:"flex flex-row md:flex-col gap-2 justify-center",children:[E.jsx(Dn,{onClick:O,title:"Add All",children:E.jsx(Be,{name:"angle-double-right"})}),E.jsx(Dn,{onClick:()=>L(Array.from(l)),title:"Add Selected",children:E.jsx(Be,{name:"angle-right"})}),E.jsx(Dn,{onClick:()=>F(Array.from(d)),title:"Remove Selected",children:E.jsx(Be,{name:"angle-left"})}),E.jsx(Dn,{onClick:C,title:"Remove All",children:E.jsx(Be,{name:"angle-double-left"})})]}),E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg p-3",children:[E.jsxs("h6",{className:"font-semibold mb-2",children:["Scheduled Events (",o.length,")"]}),E.jsx("ul",{className:"h-64 overflow-y-auto space-y-1",ref:P,children:o.map(x=>E.jsxs("li",{className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 flex items-center gap-2","data-id":x.id,children:[E.jsx("input",{type:"checkbox",id:`sch-${x.id}`,checked:d.has(x.id),onChange:()=>_(x.id,"schedule"),disabled:!!p}),p===x.id?E.jsxs(E.Fragment,{children:[" ",E.jsx("input",{type:"number",className:"w-16 p-1 text-center rounded-md border border-primary bg-surface-light dark:bg-surface-dark",value:y,onChange:R=>I(R.target.value),onKeyDown:R=>{R.key==="Enter"&&v(),R.key==="Escape"&&S()},autoFocus:!0}),E.jsx("span",{className:"flex-grow",children:x.name}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:v,title:"Save",className:"text-green-500 hover:text-green-700",children:E.jsx(Be,{name:"check"})}),E.jsx("button",{onClick:S,title:"Cancel",className:"text-red-500 hover:text-red-700",children:E.jsx(Be,{name:"times"})})]})]}):E.jsxs(E.Fragment,{children:[" ",E.jsxs("label",{htmlFor:`sch-${x.id}`,className:"flex-grow cursor-grab",children:[E.jsxs("strong",{className:"mr-2 w-8 inline-block text-center",children:["E",x.eventNumber,":"]}),x.name]}),E.jsx("div",{className:"ml-auto",children:E.jsx("button",{onClick:()=>b(x),title:"Edit Number",className:"text-gray-500 hover:text-gray-700",children:E.jsx(Be,{name:"pencil-alt"})})})]})]},x.id))})]})]})]})}function oj({adminRole:t,showNotification:e}){const n=t==="SUPERADMIN",[r,i]=J.useState(n?"":t),[s,o]=J.useState([]),[a,l]=J.useState({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),c=J.useMemo(()=>Object.values(Sd).filter(P=>P!=="SUPERADMIN").sort(),[]),d=J.useRef(null);J.useEffect(()=>{if(r){const P=_r(ut(he,"rosters",r),w=>{o(w.exists()?w.data().swimmers||[]:[])});return()=>P()}else o([])},[r]);const h=()=>l({id:null,firstName:"",lastName:"",age:"",gender:"Boy"}),p=async P=>{P.preventDefault();const{id:w,firstName:_,lastName:T,age:L,gender:F}=a;if(!_.trim()||!T.trim()||!L||!r){e("Please select a team and fill out all swimmer fields.","warning");return}let O=w?s.map(C=>C.id===w?{...C,firstName:_,lastName:T,age:parseInt(L),gender:F}:C):[...s,{id:crypto.randomUUID(),firstName:_,lastName:T,age:parseInt(L),gender:F}];await Zc(ut(he,"rosters",r),{swimmers:O},{merge:!0}),e(`Swimmer ${w?"updated":"added"} successfully!`,"success"),h()},m=P=>l(P),y=async P=>{if((await hr.fire({title:"Are you sure?",text:`This removes ${P.firstName} from the team roster. It does NOT remove them from any events they are already entered in.`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove from roster"})).isConfirmed)try{const _=s.filter(T=>T.id!==P.id);await Zc(ut(he,"rosters",r),{swimmers:_}),e("Swimmer removed from roster.","success")}catch(_){e("Failed to remove swimmer from roster.","danger"),console.error("Error removing swimmer:",_)}},I=P=>{const w=P.target.files[0];if(!w)return;const _=new FileReader;_.onload=async T=>{const F=T.target.result.split(`
`).filter(S=>S.trim()!==""),O=F.shift().toLowerCase().split(",").map(S=>S.trim());if(O[0]!=="firstname"||O[1]!=="lastname"||O[2]!=="age"||O[3]!=="gender"){e("Invalid CSV headers. Must be: firstName,lastName,age,gender","danger");return}const C=F.map(S=>{const[v,x,R,A]=S.split(",");return{id:crypto.randomUUID(),firstName:v.trim(),lastName:x.trim(),age:parseInt(R),gender:A.trim()}}),b=[...s,...C];await Zc(ut(he,"rosters",r),{swimmers:b},{merge:!0}),e(`Bulk upload successful! Added ${C.length} swimmers.`,"success"),d.current.value=""},_.readAsText(w)};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:"Manage Team Rosters"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add or view swimmers for a specific team."}),E.jsx("div",{className:"my-4 space-y-4",children:n&&E.jsxs(Es,{label:"1. Select Team",id:"teamSelectRoster",value:r||"",onChange:P=>i(P.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),c.map(P=>E.jsx("option",{value:P,children:P},P))]})}),r&&E.jsxs(E.Fragment,{children:[E.jsxs("h6",{className:"font-semibold mt-6",children:[a.id?"Edit Swimmer":"Add Swimmer"," to ",r]}),E.jsxs("form",{onSubmit:p,className:"my-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:flex lg:items-end gap-3",children:[E.jsx("div",{className:"lg:flex-grow",children:E.jsx(Wr,{label:"First Name",id:"swimmerFirstName",type:"text",value:a.firstName,onChange:P=>l({...a,firstName:P.target.value})})}),E.jsx("div",{className:"lg:flex-grow",children:E.jsx(Wr,{label:"Last Name",id:"swimmerLastName",type:"text",value:a.lastName,onChange:P=>l({...a,lastName:P.target.value})})}),E.jsx("div",{className:"lg:w-20",children:E.jsx(Wr,{label:"Age",id:"swimmerAge",type:"number",value:a.age,onChange:P=>l({...a,age:P.target.value})})}),E.jsx("div",{className:"lg:w-28",children:E.jsxs(Es,{label:"Gender",id:"swimmerGender",value:a.gender,onChange:P=>l({...a,gender:P.target.value}),children:[E.jsx("option",{value:"Boy",children:"Boy"}),E.jsx("option",{value:"Girl",children:"Girl"})]})}),E.jsxs("div",{className:"flex space-x-2 pt-5 lg:pt-0",children:[E.jsx(Dn,{type:"submit",className:"flex-1",children:a.id?"Update":"Add"}),a.id&&E.jsx(Dn,{type:"button",variant:"secondary",onClick:h,className:"flex-1",children:"Cancel"})]})]}),E.jsxs("div",{className:"mt-6",children:[E.jsx("label",{htmlFor:"csvUpload",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bulk Upload Roster (CSV)"}),E.jsx("input",{type:"file",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20",id:"csvUpload",accept:".csv",ref:d,onChange:I}),E.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Format: firstName,lastName,age,gender (with header row)"})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Team Roster for ",r]}),E.jsx("ul",{className:"mt-2 space-y-2",children:s.length>0?s.map(P=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("span",{className:"font-medium",children:[P.firstName," ",P.lastName," (Age: ",P.age,", ",P.gender,")"]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700",onClick:()=>m(P),title:"Edit",children:E.jsx(Be,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>y(P),title:"Delete",children:E.jsx(Be,{name:"trash"})})]})]},P.id)):E.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No swimmers on this roster yet."})})]})]})}function aj({adminRole:t,allMeets:e,showNotification:n,selectedMeet:r}){const i=t==="SUPERADMIN",[s,o]=J.useState(""),[a,l]=J.useState(i?"":t),[c,d]=J.useState([]),[h,p]=J.useState(""),[m,y]=J.useState(""),[I,P]=J.useState({heat:"",lane:""}),[w,_]=J.useState([]),[T,L]=J.useState([]),[F,O]=J.useState(null),C=c.find(V=>V.id===h),b=J.useMemo(()=>Object.values(Sd).filter(V=>V!=="SUPERADMIN").sort(),[]),S=J.useMemo(()=>{if(!C||!w)return[];const V=H=>{const ee=H.toLowerCase(),X=ee.startsWith("girls")?"Girl":ee.startsWith("boys")?"Boy":"Mixed",U=H.match(/(\d+)(-(\d+))?(\s*&\s*Under)?/);return U?U[4]?{minAge:0,maxAge:parseInt(U[1]),gender:X}:U[3]?{minAge:parseInt(U[1]),maxAge:parseInt(U[3]),gender:X}:{minAge:parseInt(U[1]),maxAge:parseInt(U[1]),gender:X}:{minAge:0,maxAge:100,gender:X}};return w.filter(H=>{const{minAge:ee,maxAge:X,gender:U}=V(H.name),Z=C.age>=ee&&C.age<=X,N=U==="Mixed"||U===C.gender;return Z&&N})},[C,w]);J.useEffect(()=>{if(!he||!s){_([]);return}const V=Gl(nn(he,"meet_events"),Kl("meetId","==",s)),H=_r(V,ee=>{_(ee.docs.map(X=>({id:X.id,...X.data()})).sort((X,U)=>X.eventNumber-U.eventNumber))});return()=>H()},[s]),J.useEffect(()=>{if(a){const V=_r(ut(he,"rosters",a),H=>{d(H.exists()?H.data().swimmers||[]:[])});return()=>V()}else d([])},[a]),J.useEffect(()=>{if(!w||w.length===0){L([]);return}let V=[];w.forEach(H=>{H.heats&&H.heats.forEach(ee=>{ee.lanes.forEach(X=>{V.push({swimmerId:X.id,swimmerName:`${X.firstName} ${X.lastName}`,team:X.team,eventId:H.id,eventName:H.name,eventNumber:H.eventNumber,heatNumber:ee.heatNumber,laneNumber:X.lane})})})}),i||(V=V.filter(H=>H.team===t)),V.sort((H,ee)=>H.eventNumber!==ee.eventNumber?H.eventNumber-ee.eventNumber:H.swimmerName.localeCompare(ee.swimmerName)),L(V)},[w,t,i]);const v=()=>{O(null),p(""),y(""),P({heat:"",lane:""})},x=V=>{O(V),i||l(V.team),p(V.swimmerId),y(V.eventId),P({heat:V.heatNumber,lane:V.laneNumber});const H=document.querySelector(".admin-view");H&&H.scrollIntoView({behavior:"smooth"})},R=async V=>{if(!(await hr.fire({title:"Are you sure?",text:`Remove ${V.swimmerName} from E${V.eventNumber}: ${V.eventName}?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove them!"})).isConfirmed)return;const ee=ut(he,"meet_events",V.eventId);try{const X=w.find(Z=>Z.id===V.eventId);if(!X)throw new Error("Event not found");const U=X.heats.map(Z=>({...Z,lanes:Z.lanes.filter(N=>N.id!==V.swimmerId)})).filter(Z=>Z.lanes.length>0);await Ql(ee,{heats:U}),n("Entry deleted successfully.","success")}catch(X){n("Failed to delete entry.","danger"),console.error("Error deleting entry:",X)}},A=async()=>{const V=c.find(te=>te.id===h);if(!V||!m||!a||!s){n("Please select a meet, team, swimmer, and event.","warning");return}const H=ut(he,"meet_events",m),ee=w.find(te=>te.id===m);if(!ee)return;let X=JSON.parse(JSON.stringify(ee.heats||[]));F&&(X=X.map(te=>({...te,lanes:te.lanes.filter(ue=>ue.id!==F.swimmerId)})).filter(te=>te.lanes.length>0));const U=(r==null?void 0:r.lanesAvailable)||8,Z=parseInt(I.heat,10),N=parseInt(I.lane,10);if(Z&&N){if(N>U){n(`Invalid lane. Only ${U} lanes are available for this meet.`,"danger");return}let te=X.find(D=>D.heatNumber===Z);if(te||(te={heatNumber:Z,lanes:[]},X.push(te)),te.lanes.some(D=>D.lane===N)){n(`Lane ${N} in Heat ${Z} is already occupied.`,"danger");return}te.lanes.push({...V,team:a,seedTime:"NT",lane:N})}else{let te=!1;for(const ue of X)if(ue.lanes.length<U){const D=new Set(ue.lanes.map(Fe=>Fe.lane));for(let Fe=1;Fe<=U;Fe++)if(!D.has(Fe)){ue.lanes.push({...V,team:a,seedTime:"NT",lane:Fe}),te=!0;break}if(te)break}te||X.push({heatNumber:X.length+1,lanes:[{...V,team:a,seedTime:"NT",lane:1}]})}X.sort((te,ue)=>te.heatNumber-ue.heatNumber),X.forEach(te=>te.lanes.sort((ue,D)=>ue.lane-D.lane));try{await Ql(H,{heats:X}),n(`${V.firstName} was ${F?"updated":"entered"} successfully.`,"success"),v()}catch(te){n(`Failed to ${F?"update":"add"} entry.`,"danger"),console.error("Error in entry transaction:",te)}};return E.jsxs(E.Fragment,{children:[E.jsx("h5",{className:"font-semibold text-lg",children:F?"Edit Entry":"Enter Swimmers into Events"}),E.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Assign swimmers to events for the selected meet."}),E.jsxs("div",{className:"my-4 space-y-4",children:[E.jsxs(Es,{label:"1. Select Meet",id:"meetSelectEntries",value:s,onChange:V=>o(V.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a meet --"}),e.map(V=>E.jsx("option",{value:V.id,children:V.name},V.id))]}),i&&s&&E.jsxs(Es,{label:"2. Select Team",id:"teamSelectManage",value:a||"",onChange:V=>l(V.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose a Team --"}),b.map(V=>E.jsx("option",{value:V,children:V},V))]})]}),a&&s&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs(Es,{label:"3. Select Swimmer",id:"swimmerSelect",value:h,onChange:V=>p(V.target.value),children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose from roster --"}),c.map(V=>E.jsxs("option",{value:V.id,children:[V.firstName," ",V.lastName," (Age: ",V.age,")"]},V.id))]}),E.jsxs(Es,{label:"4. Select Event",id:"eventSelect",value:m,onChange:V=>y(V.target.value),disabled:!h,children:[E.jsx("option",{value:"",disabled:!0,children:"-- Choose an event --"}),S.map(V=>E.jsxs("option",{value:V.id,children:["E",V.eventNumber," - ",V.name]},V.id))]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Wr,{label:"Heat (Optional)",id:"heatNumber",type:"number",min:"1",placeholder:"Auto",value:I.heat,onChange:V=>P({...I,heat:V.target.value})}),E.jsx(Wr,{label:"Lane (Optional)",id:"laneNumber",type:"number",min:"1",placeholder:"Auto",value:I.lane,onChange:V=>P({...I,lane:V.target.value})})]}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx(Dn,{onClick:A,disabled:!h||!m,variant:"primary",children:F?"Update Entry":"Add Entry"}),F&&E.jsx(Dn,{onClick:v,variant:"secondary",children:"Cancel Edit"})]})]}),E.jsx("hr",{className:"my-6 border-border-light dark:border-border-dark"}),E.jsxs("h6",{className:"font-semibold text-lg mt-3",children:["Current Entries for ",i?"All Teams":a]}),E.jsx("ul",{className:"mt-2 space-y-2",children:T.length>0?T.map(V=>E.jsxs("li",{className:"p-3 bg-gray-50 dark:bg-gray-800/50 rounded-md flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("span",{className:"font-semibold",children:V.swimmerName})," (",V.team,")",E.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["E",V.eventNumber,": ",V.eventName]})]}),E.jsxs("div",{className:"flex items-center space-x-2",children:[E.jsx("button",{className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white",onClick:()=>x(V),title:"Edit",children:E.jsx(Be,{name:"pencil-alt"})}),E.jsx("button",{className:"text-red-500 hover:text-red-700",onClick:()=>R(V),title:"Delete",children:E.jsx(Be,{name:"trash"})})]})]},`${V.swimmerId}-${V.eventId}`)):E.jsx("li",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No entries found for the selected team."})})]})]})}function lj({adminRole:t,allMeets:e,showNotification:n}){const[r,i]=J.useState("meets"),s=e.find(d=>{var h;return d.id===(r==="entries"?(h=document.getElementById("meetSelectEntries"))==null?void 0:h.value:null)});if(!t)return E.jsx("div",{className:"p-4 text-yellow-800 bg-yellow-100 border border-yellow-200 rounded-md",children:"You are not authorized to view this page."});const o=()=>{switch(r){case"meets":return E.jsx(rj,{showNotification:n,allMeets:e});case"library":return E.jsx(ij,{adminRole:t,showNotification:n});case"schedule":return E.jsx(sj,{allMeets:e,showNotification:n});case"rosters":return E.jsx(oj,{adminRole:t,showNotification:n});case"entries":return E.jsx(aj,{adminRole:t,allMeets:e,showNotification:n,selectedMeet:s});default:return null}},a="block w-full text-center px-4 py-2 rounded-md font-semibold text-sm",l="bg-primary text-white",c="bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600";return E.jsxs("div",{className:"admin-view",children:[E.jsx("h2",{className:"text-xl font-bold mb-3",children:"Admin Panel"}),E.jsxs("ul",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2 mb-4",children:[E.jsx("li",{children:E.jsx("button",{className:`${a} ${r==="meets"?l:c}`,onClick:()=>i("meets"),children:"Meets"})}),E.jsx("li",{children:E.jsx("button",{className:`${a} ${r==="library"?l:c}`,onClick:()=>i("library"),children:"Library"})}),E.jsx("li",{children:E.jsx("button",{className:`${a} ${r==="schedule"?l:c}`,onClick:()=>i("schedule"),children:"Schedule"})}),E.jsx("li",{children:E.jsx("button",{className:`${a} ${r==="rosters"?l:c}`,onClick:()=>i("rosters"),children:"Rosters"})}),E.jsx("li",{children:E.jsx("button",{className:`${a} ${r==="entries"?l:c}`,onClick:()=>i("entries"),children:"Entries"})})]}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsx("div",{className:"p-4",children:o()})})]})}function uj(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cj=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dj=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hj={};function xE(t,e){return(hj.jsx?dj:cj).test(t)}const fj=/[ \t\n\f\r]/g;function pj(t){return typeof t=="object"?t.type==="text"?TE(t.value):!1:TE(t)}function TE(t){return t.replace(fj,"")===""}class Cu{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Cu.prototype.normal={};Cu.prototype.property={};Cu.prototype.space=void 0;function tS(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Cu(n,r,e)}function ng(t){return t.toLowerCase()}class bn{constructor(e,n){this.attribute=n,this.property=e}}bn.prototype.attribute="";bn.prototype.booleanish=!1;bn.prototype.boolean=!1;bn.prototype.commaOrSpaceSeparated=!1;bn.prototype.commaSeparated=!1;bn.prototype.defined=!1;bn.prototype.mustUseProperty=!1;bn.prototype.number=!1;bn.prototype.overloadedBoolean=!1;bn.prototype.property="";bn.prototype.spaceSeparated=!1;bn.prototype.space=void 0;let mj=0;const Ee=qs(),yt=qs(),rg=qs(),K=qs(),qe=qs(),Oo=qs(),Cn=qs();function qs(){return 2**++mj}const ig=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ee,booleanish:yt,commaOrSpaceSeparated:Cn,commaSeparated:Oo,number:K,overloadedBoolean:rg,spaceSeparated:qe},Symbol.toStringTag,{value:"Module"})),mp=Object.keys(ig);class bw extends bn{constructor(e,n,r,i){let s=-1;if(super(e,n),IE(this,"space",i),typeof r=="number")for(;++s<mp.length;){const o=mp[s];IE(this,mp[s],(r&ig[o])===ig[o])}}}bw.prototype.defined=!0;function IE(t,e,n){n&&(t[e]=n)}function ha(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new bw(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[ng(r)]=r,n[ng(s.attribute)]=r}return new Cu(e,n,t.space)}const nS=ha({properties:{ariaActiveDescendant:null,ariaAtomic:yt,ariaAutoComplete:null,ariaBusy:yt,ariaChecked:yt,ariaColCount:K,ariaColIndex:K,ariaColSpan:K,ariaControls:qe,ariaCurrent:null,ariaDescribedBy:qe,ariaDetails:null,ariaDisabled:yt,ariaDropEffect:qe,ariaErrorMessage:null,ariaExpanded:yt,ariaFlowTo:qe,ariaGrabbed:yt,ariaHasPopup:null,ariaHidden:yt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:qe,ariaLevel:K,ariaLive:null,ariaModal:yt,ariaMultiLine:yt,ariaMultiSelectable:yt,ariaOrientation:null,ariaOwns:qe,ariaPlaceholder:null,ariaPosInSet:K,ariaPressed:yt,ariaReadOnly:yt,ariaRelevant:null,ariaRequired:yt,ariaRoleDescription:qe,ariaRowCount:K,ariaRowIndex:K,ariaRowSpan:K,ariaSelected:yt,ariaSetSize:K,ariaSort:null,ariaValueMax:K,ariaValueMin:K,ariaValueNow:K,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function rS(t,e){return e in t?t[e]:e}function iS(t,e){return rS(t,e.toLowerCase())}const gj=ha({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Oo,acceptCharset:qe,accessKey:qe,action:null,allow:null,allowFullScreen:Ee,allowPaymentRequest:Ee,allowUserMedia:Ee,alt:null,as:null,async:Ee,autoCapitalize:null,autoComplete:qe,autoFocus:Ee,autoPlay:Ee,blocking:qe,capture:null,charSet:null,checked:Ee,cite:null,className:qe,cols:K,colSpan:null,content:null,contentEditable:yt,controls:Ee,controlsList:qe,coords:K|Oo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ee,defer:Ee,dir:null,dirName:null,disabled:Ee,download:rg,draggable:yt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ee,formTarget:null,headers:qe,height:K,hidden:rg,high:K,href:null,hrefLang:null,htmlFor:qe,httpEquiv:qe,id:null,imageSizes:null,imageSrcSet:null,inert:Ee,inputMode:null,integrity:null,is:null,isMap:Ee,itemId:null,itemProp:qe,itemRef:qe,itemScope:Ee,itemType:qe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ee,low:K,manifest:null,max:null,maxLength:K,media:null,method:null,min:null,minLength:K,multiple:Ee,muted:Ee,name:null,nonce:null,noModule:Ee,noValidate:Ee,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ee,optimum:K,pattern:null,ping:qe,placeholder:null,playsInline:Ee,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ee,referrerPolicy:null,rel:qe,required:Ee,reversed:Ee,rows:K,rowSpan:K,sandbox:qe,scope:null,scoped:Ee,seamless:Ee,selected:Ee,shadowRootClonable:Ee,shadowRootDelegatesFocus:Ee,shadowRootMode:null,shape:null,size:K,sizes:null,slot:null,span:K,spellCheck:yt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:K,step:null,style:null,tabIndex:K,target:null,title:null,translate:null,type:null,typeMustMatch:Ee,useMap:null,value:yt,width:K,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:qe,axis:null,background:null,bgColor:null,border:K,borderColor:null,bottomMargin:K,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ee,declare:Ee,event:null,face:null,frame:null,frameBorder:null,hSpace:K,leftMargin:K,link:null,longDesc:null,lowSrc:null,marginHeight:K,marginWidth:K,noResize:Ee,noHref:Ee,noShade:Ee,noWrap:Ee,object:null,profile:null,prompt:null,rev:null,rightMargin:K,rules:null,scheme:null,scrolling:yt,standby:null,summary:null,text:null,topMargin:K,valueType:null,version:null,vAlign:null,vLink:null,vSpace:K,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ee,disableRemotePlayback:Ee,prefix:null,property:null,results:K,security:null,unselectable:null},space:"html",transform:iS}),yj=ha({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Cn,accentHeight:K,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:K,amplitude:K,arabicForm:null,ascent:K,attributeName:null,attributeType:null,azimuth:K,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:K,by:null,calcMode:null,capHeight:K,className:qe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:K,diffuseConstant:K,direction:null,display:null,dur:null,divisor:K,dominantBaseline:null,download:Ee,dx:null,dy:null,edgeMode:null,editable:null,elevation:K,enableBackground:null,end:null,event:null,exponent:K,externalResourcesRequired:null,fill:null,fillOpacity:K,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Oo,g2:Oo,glyphName:Oo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:K,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:K,horizOriginX:K,horizOriginY:K,id:null,ideographic:K,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:K,k:K,k1:K,k2:K,k3:K,k4:K,kernelMatrix:Cn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:K,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:K,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:K,overlineThickness:K,paintOrder:null,panose1:null,path:null,pathLength:K,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:qe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:K,pointsAtY:K,pointsAtZ:K,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Cn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Cn,rev:Cn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Cn,requiredFeatures:Cn,requiredFonts:Cn,requiredFormats:Cn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:K,specularExponent:K,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:K,strikethroughThickness:K,string:null,stroke:null,strokeDashArray:Cn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:K,strokeOpacity:K,strokeWidth:null,style:null,surfaceScale:K,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Cn,tabIndex:K,tableValues:null,target:null,targetX:K,targetY:K,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Cn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:K,underlineThickness:K,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:K,values:null,vAlphabetic:K,vMathematical:K,vectorEffect:null,vHanging:K,vIdeographic:K,version:null,vertAdvY:K,vertOriginX:K,vertOriginY:K,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:K,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rS}),sS=ha({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),oS=ha({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:iS}),aS=ha({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),wj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},vj=/[A-Z]/g,SE=/-[a-z]/g,_j=/^data[-\w.:]+$/i;function Ej(t,e){const n=ng(e);let r=e,i=bn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_j.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(SE,kj);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!SE.test(s)){let o=s.replace(vj,bj);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=bw}return new i(r,e)}function bj(t){return"-"+t.toLowerCase()}function kj(t){return t.charAt(1).toUpperCase()}const xj=tS([nS,gj,sS,oS,aS],"html"),kw=tS([nS,yj,sS,oS,aS],"svg");function Tj(t){return t.join(" ").trim()}var xw={},CE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Ij=/\n/g,Sj=/^\s*/,Cj=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Aj=/^:\s*/,Pj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Rj=/^[;\s]*/,Nj=/^\s+|\s+$/g,Dj=`
`,AE="/",PE="*",ms="",Oj="comment",Lj="declaration",Mj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(y){var I=y.match(Ij);I&&(n+=I.length);var P=y.lastIndexOf(Dj);r=~P?y.length-P:r+y.length}function s(){var y={line:n,column:r};return function(I){return I.position=new o(y),c(),I}}function o(y){this.start=y,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(y){var I=new Error(e.source+":"+n+":"+r+": "+y);if(I.reason=y,I.filename=e.source,I.line=n,I.column=r,I.source=t,!e.silent)throw I}function l(y){var I=y.exec(t);if(I){var P=I[0];return i(P),t=t.slice(P.length),I}}function c(){l(Sj)}function d(y){var I;for(y=y||[];I=h();)I!==!1&&y.push(I);return y}function h(){var y=s();if(!(AE!=t.charAt(0)||PE!=t.charAt(1))){for(var I=2;ms!=t.charAt(I)&&(PE!=t.charAt(I)||AE!=t.charAt(I+1));)++I;if(I+=2,ms===t.charAt(I-1))return a("End of comment missing");var P=t.slice(2,I-2);return r+=2,i(P),t=t.slice(I),r+=2,y({type:Oj,comment:P})}}function p(){var y=s(),I=l(Cj);if(I){if(h(),!l(Aj))return a("property missing ':'");var P=l(Pj),w=y({type:Lj,property:RE(I[0].replace(CE,ms)),value:P?RE(P[0].replace(CE,ms)):ms});return l(Rj),w}}function m(){var y=[];d(y);for(var I;I=p();)I!==!1&&(y.push(I),d(y));return y}return c(),m()};function RE(t){return t?t.replace(Nj,ms):ms}var Vj=nd&&nd.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xw,"__esModule",{value:!0});xw.default=jj;var Fj=Vj(Mj);function jj(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Fj.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.camelCase=void 0;var Bj=/^--[a-zA-Z0-9_-]+$/,zj=/-([a-z])/g,Uj=/^[^-]+$/,$j=/^-(webkit|moz|ms|o|khtml)-/,Hj=/^-(ms)-/,qj=function(t){return!t||Uj.test(t)||Bj.test(t)},Wj=function(t,e){return e.toUpperCase()},NE=function(t,e){return"".concat(e,"-")},Gj=function(t,e){return e===void 0&&(e={}),qj(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Hj,NE):t=t.replace($j,NE),t.replace(zj,Wj))};Yh.camelCase=Gj;var Kj=nd&&nd.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Qj=Kj(xw),Yj=Yh;function sg(t,e){var n={};return!t||typeof t!="string"||(0,Qj.default)(t,function(r,i){r&&i&&(n[(0,Yj.camelCase)(r,e)]=i)}),n}sg.default=sg;var Xj=sg;const Jj=pg(Xj),lS=uS("end"),Tw=uS("start");function uS(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Zj(t){const e=Tw(t),n=lS(t);if(e&&n)return{start:e,end:n}}function vl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?DE(t.position):"start"in t||"end"in t?DE(t):"line"in t||"column"in t?og(t):""}function og(t){return OE(t&&t.line)+":"+OE(t&&t.column)}function DE(t){return og(t&&t.start)+"-"+og(t&&t.end)}function OE(t){return t&&typeof t=="number"?t:1}class Xt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=vl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Xt.prototype.file="";Xt.prototype.name="";Xt.prototype.reason="";Xt.prototype.message="";Xt.prototype.stack="";Xt.prototype.column=void 0;Xt.prototype.line=void 0;Xt.prototype.ancestors=void 0;Xt.prototype.cause=void 0;Xt.prototype.fatal=void 0;Xt.prototype.place=void 0;Xt.prototype.ruleId=void 0;Xt.prototype.source=void 0;const Iw={}.hasOwnProperty,e5=new Map,t5=/[A-Z]/g,n5=new Set(["table","tbody","thead","tfoot","tr"]),r5=new Set(["td","th"]),cS="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function i5(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=h5(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=d5(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?kw:xj,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=dS(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function dS(t,e,n){if(e.type==="element")return s5(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return o5(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return l5(t,e,n);if(e.type==="mdxjsEsm")return a5(t,e);if(e.type==="root")return u5(t,e,n);if(e.type==="text")return c5(t,e)}function s5(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=kw,t.schema=i),t.ancestors.push(e);const s=fS(t,e.tagName,!1),o=f5(t,e);let a=Cw(t,e);return n5.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!pj(l):!0})),hS(t,o,s,e),Sw(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function o5(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Yl(t,e.position)}function a5(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Yl(t,e.position)}function l5(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=kw,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:fS(t,e.name,!0),o=p5(t,e),a=Cw(t,e);return hS(t,o,s,e),Sw(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function u5(t,e,n){const r={};return Sw(r,Cw(t,e)),t.create(e,t.Fragment,r,n)}function c5(t,e){return e.value}function hS(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function Sw(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function d5(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function h5(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=Tw(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function f5(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&Iw.call(e.properties,i)){const s=m5(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&r5.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function p5(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else Yl(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else Yl(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function Cw(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:e5;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=dS(t,s,o);a!==void 0&&n.push(a)}return n}function m5(t,e,n){const r=Ej(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?uj(n):Tj(n)),r.property==="style"){let i=typeof n=="object"?n:g5(t,String(n));return t.stylePropertyNameCase==="css"&&(i=y5(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?wj[r.property]||r.property:r.attribute,n]}}function g5(t,e){try{return Jj(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Xt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=cS+"#cannot-parse-style-attribute",i}}function fS(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=xE(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=xE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return Iw.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);Yl(t)}function Yl(t,e){const n=new Xt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=cS+"#cannot-handle-mdx-estrees-without-createevaluater",n}function y5(t){const e={};let n;for(n in t)Iw.call(t,n)&&(e[w5(n)]=t[n]);return e}function w5(t){let e=t.replace(t5,v5);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function v5(t){return"-"+t.toLowerCase()}const gp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},_5={};function Aw(t,e){const n=_5,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pS(t,r,i)}function pS(t,e,n){if(E5(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return LE(t.children,e,n)}return Array.isArray(t)?LE(t,e,n):""}function LE(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=pS(t[i],e,n);return r.join("")}function E5(t){return!!(t&&typeof t=="object")}const ME=document.createElement("i");function Pw(t){const e="&"+t+";";ME.innerHTML=e;const n=ME.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Mn(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function Gn(t,e){return t.length>0?(Mn(t,t.length,0,e),t):e}const VE={}.hasOwnProperty;function mS(t){const e={};let n=-1;for(;++n<t.length;)b5(e,t[n]);return e}function b5(t,e){let n;for(n in e){const i=(VE.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){VE.call(i,o)||(i[o]=[]);const a=s[o];k5(i[o],Array.isArray(a)?a:a?[a]:[])}}}function k5(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Mn(t,0,0,r)}function gS(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function cr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rn=ts(/[A-Za-z]/),Gt=ts(/[\dA-Za-z]/),x5=ts(/[#-'*+\--9=?A-Z^-~]/);function sh(t){return t!==null&&(t<32||t===127)}const ag=ts(/\d/),T5=ts(/[\dA-Fa-f]/),I5=ts(/[!-/:-@[-`{-~]/);function de(t){return t!==null&&t<-2}function He(t){return t!==null&&(t<0||t===32)}function ke(t){return t===-2||t===-1||t===32}const Xh=ts(new RegExp("\\p{P}|\\p{S}","u")),Vs=ts(/\s/);function ts(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function fa(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Gt(t.charCodeAt(n+1))&&Gt(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Re(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return ke(l)?(t.enter(n),a(l)):e(l)}function a(l){return ke(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const S5={tokenize:C5};function C5(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Re(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return de(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const A5={tokenize:P5},FE={tokenize:R5};function P5(t){const e=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const L=n[r];return e.containerState=L[1],t.attempt(L[0].continuation,l,c)(T)}return c(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&_();const L=e.events.length;let F=L,O;for(;F--;)if(e.events[F][0]==="exit"&&e.events[F][1].type==="chunkFlow"){O=e.events[F][1].end;break}w(r);let C=L;for(;C<e.events.length;)e.events[C][1].end={...O},C++;return Mn(e.events,F+1,0,e.events.slice(L)),e.events.length=C,c(T)}return a(T)}function c(T){if(r===n.length){if(!i)return p(T);if(i.currentConstruct&&i.currentConstruct.concrete)return y(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(FE,d,h)(T)}function d(T){return i&&_(),w(r),p(T)}function h(T){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,y(T)}function p(T){return e.containerState={},t.attempt(FE,m,y)(T)}function m(T){return r++,n.push([e.currentConstruct,e.containerState]),p(T)}function y(T){if(T===null){i&&_(),w(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),I(T)}function I(T){if(T===null){P(t.exit("chunkFlow"),!0),w(0),t.consume(T);return}return de(T)?(t.consume(T),P(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(T),I)}function P(T,L){const F=e.sliceStream(T);if(L&&F.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(F),e.parser.lazy[T.start.line]){let O=i.events.length;for(;O--;)if(i.events[O][1].start.offset<o&&(!i.events[O][1].end||i.events[O][1].end.offset>o))return;const C=e.events.length;let b=C,S,v;for(;b--;)if(e.events[b][0]==="exit"&&e.events[b][1].type==="chunkFlow"){if(S){v=e.events[b][1].end;break}S=!0}for(w(r),O=C;O<e.events.length;)e.events[O][1].end={...v},O++;Mn(e.events,b+1,0,e.events.slice(C)),e.events.length=O}}function w(T){let L=n.length;for(;L-- >T;){const F=n[L];e.containerState=F[1],F[0].exit.call(e,t)}n.length=T}function _(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function R5(t,e,n){return Re(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Zo(t){if(t===null||He(t)||Vs(t))return 1;if(Xh(t))return 2}function Jh(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const lg={name:"attention",resolveAll:N5,tokenize:D5};function N5(t,e){let n=-1,r,i,s,o,a,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},p={...t[n][1].start};jE(h,-l),jE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Gn(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Gn(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Gn(c,Jh(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Gn(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=Gn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,Mn(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function D5(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Zo(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),d=Zo(l),h=!d||d===2&&i||n.includes(l),p=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?h:h&&(i||!p)),c._close=!!(s===42?p:p&&(d||!h)),e(l)}}function jE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const O5={name:"autolink",tokenize:L5};function L5(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return rn(m)?(t.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Gt(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||Gt(m))&&r++<32?(t.consume(m),a):(r=0,c(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||sh(m)?n(m):(t.consume(m),l)}function c(m){return m===64?(t.consume(m),d):x5(m)?(t.consume(m),c):n(m)}function d(m){return Gt(m)?h(m):n(m)}function h(m){return m===46?(t.consume(m),r=0,d):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||Gt(m))&&r++<63){const y=m===45?p:h;return t.consume(m),y}return n(m)}}const Au={partial:!0,tokenize:M5};function M5(t,e,n){return r;function r(s){return ke(s)?Re(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||de(s)?e(s):n(s)}}const yS={continuation:{tokenize:F5},exit:j5,name:"blockQuote",tokenize:V5};function V5(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return ke(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function F5(t,e,n){const r=this;return i;function i(o){return ke(o)?Re(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(yS,e,n)(o)}}function j5(t){t.exit("blockQuote")}const wS={name:"characterEscape",tokenize:B5};function B5(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return I5(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const vS={name:"characterReference",tokenize:z5};function z5(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Gt,d(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=T5,d):(t.enter("characterReferenceValue"),s=7,o=ag,d(h))}function d(h){if(h===59&&i){const p=t.exit("characterReferenceValue");return o===Gt&&!Pw(r.sliceSerialize(p))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),d):n(h)}}const BE={partial:!0,tokenize:$5},zE={concrete:!0,name:"codeFenced",tokenize:U5};function U5(t,e,n){const r=this,i={partial:!0,tokenize:F};let s=0,o=0,a;return l;function l(O){return c(O)}function c(O){const C=r.events[r.events.length-1];return s=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,a=O,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(O)}function d(O){return O===a?(o++,t.consume(O),d):o<3?n(O):(t.exit("codeFencedFenceSequence"),ke(O)?Re(t,h,"whitespace")(O):h(O))}function h(O){return O===null||de(O)?(t.exit("codeFencedFence"),r.interrupt?e(O):t.check(BE,I,L)(O)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(O))}function p(O){return O===null||de(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(O)):ke(O)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Re(t,m,"whitespace")(O)):O===96&&O===a?n(O):(t.consume(O),p)}function m(O){return O===null||de(O)?h(O):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(O))}function y(O){return O===null||de(O)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(O)):O===96&&O===a?n(O):(t.consume(O),y)}function I(O){return t.attempt(i,L,P)(O)}function P(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),w}function w(O){return s>0&&ke(O)?Re(t,_,"linePrefix",s+1)(O):_(O)}function _(O){return O===null||de(O)?t.check(BE,I,L)(O):(t.enter("codeFlowValue"),T(O))}function T(O){return O===null||de(O)?(t.exit("codeFlowValue"),_(O)):(t.consume(O),T)}function L(O){return t.exit("codeFenced"),e(O)}function F(O,C,b){let S=0;return v;function v(H){return O.enter("lineEnding"),O.consume(H),O.exit("lineEnding"),x}function x(H){return O.enter("codeFencedFence"),ke(H)?Re(O,R,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):R(H)}function R(H){return H===a?(O.enter("codeFencedFenceSequence"),A(H)):b(H)}function A(H){return H===a?(S++,O.consume(H),A):S>=o?(O.exit("codeFencedFenceSequence"),ke(H)?Re(O,V,"whitespace")(H):V(H)):b(H)}function V(H){return H===null||de(H)?(O.exit("codeFencedFence"),C(H)):b(H)}}}function $5(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const yp={name:"codeIndented",tokenize:q5},H5={partial:!0,tokenize:W5};function q5(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Re(t,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):de(c)?t.attempt(H5,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||de(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function W5(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):de(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):Re(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):de(o)?i(o):n(o)}}const G5={name:"codeText",previous:Q5,resolve:K5,tokenize:Y5};function K5(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Q5(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Y5(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,d(h)):de(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||de(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class X5{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&za(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),za(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),za(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);za(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);za(this.left,n.reverse())}}}function za(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function _S(t){const e={};let n=-1,r,i,s,o,a,l,c;const d=new X5(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,J5(d,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return Mn(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function J5(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,h,p=-1,m=n,y=0,I=0;const P=[I];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(I=p+1,P.push(I),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):P.pop(),p=P.length;p--;){const w=a.slice(P[p],P[p+1]),_=s.pop();l.push([_,_+w.length-1]),t.splice(_,2,w)}for(l.reverse(),p=-1;++p<l.length;)c[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return c}const Z5={resolve:tB,tokenize:nB},eB={partial:!0,tokenize:rB};function tB(t){return _S(t),t}function nB(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):de(a)?t.check(eB,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function rB(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Re(t,s,"linePrefix")}function s(o){if(o===null||de(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function ES(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(w){return w===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(w),t.exit(s),p):w===null||w===32||w===41||sh(w)?n(w):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),I(w))}function p(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(t.exit("chunkString"),t.exit(a),p(w)):w===null||w===60||de(w)?n(w):(t.consume(w),w===92?y:m)}function y(w){return w===60||w===62||w===92?(t.consume(w),m):m(w)}function I(w){return!d&&(w===null||w===41||He(w))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(w)):d<c&&w===40?(t.consume(w),d++,I):w===41?(t.consume(w),d--,I):w===null||w===32||w===40||sh(w)?n(w):(t.consume(w),w===92?P:I)}function P(w){return w===40||w===41||w===92?(t.consume(w),I):I(w)}}function bS(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):de(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||de(m)||a++>999?(t.exit("chunkString"),d(m)):(t.consume(m),l||(l=!ke(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,h):h(m)}}function kS(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):de(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Re(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||de(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?h:d)}function h(p){return p===o||p===92?(t.consume(p),d):d(p)}}function _l(t,e){let n;return r;function r(i){return de(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):ke(i)?Re(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const iB={name:"definition",tokenize:oB},sB={partial:!0,tokenize:aB};function oB(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return bS.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=cr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return He(m)?_l(t,c)(m):c(m)}function c(m){return ES(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return t.attempt(sB,h,h)(m)}function h(m){return ke(m)?Re(t,p,"whitespace")(m):p(m)}function p(m){return m===null||de(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function aB(t,e,n){return r;function r(a){return He(a)?_l(t,i)(a):n(a)}function i(a){return kS(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return ke(a)?Re(t,o,"whitespace")(a):o(a)}function o(a){return a===null||de(a)?e(a):n(a)}}const lB={name:"hardBreakEscape",tokenize:uB};function uB(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return de(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const cB={name:"headingAtx",resolve:dB,tokenize:hB};function dB(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Mn(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function hB(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||He(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||de(d)?(t.exit("atxHeading"),e(d)):ke(d)?Re(t,a,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||He(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),c)}}const fB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],UE=["pre","script","style","textarea"],pB={concrete:!0,name:"htmlFlow",resolveTo:yB,tokenize:wB},mB={partial:!0,tokenize:_B},gB={partial:!0,tokenize:vB};function yB(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function wB(t,e,n){const r=this;let i,s,o,a,l;return c;function c(D){return d(D)}function d(D){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(D),h}function h(D){return D===33?(t.consume(D),p):D===47?(t.consume(D),s=!0,I):D===63?(t.consume(D),i=3,r.interrupt?e:N):rn(D)?(t.consume(D),o=String.fromCharCode(D),P):n(D)}function p(D){return D===45?(t.consume(D),i=2,m):D===91?(t.consume(D),i=5,a=0,y):rn(D)?(t.consume(D),i=4,r.interrupt?e:N):n(D)}function m(D){return D===45?(t.consume(D),r.interrupt?e:N):n(D)}function y(D){const Fe="CDATA[";return D===Fe.charCodeAt(a++)?(t.consume(D),a===Fe.length?r.interrupt?e:R:y):n(D)}function I(D){return rn(D)?(t.consume(D),o=String.fromCharCode(D),P):n(D)}function P(D){if(D===null||D===47||D===62||He(D)){const Fe=D===47,ne=o.toLowerCase();return!Fe&&!s&&UE.includes(ne)?(i=1,r.interrupt?e(D):R(D)):fB.includes(o.toLowerCase())?(i=6,Fe?(t.consume(D),w):r.interrupt?e(D):R(D)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(D):s?_(D):T(D))}return D===45||Gt(D)?(t.consume(D),o+=String.fromCharCode(D),P):n(D)}function w(D){return D===62?(t.consume(D),r.interrupt?e:R):n(D)}function _(D){return ke(D)?(t.consume(D),_):v(D)}function T(D){return D===47?(t.consume(D),v):D===58||D===95||rn(D)?(t.consume(D),L):ke(D)?(t.consume(D),T):v(D)}function L(D){return D===45||D===46||D===58||D===95||Gt(D)?(t.consume(D),L):F(D)}function F(D){return D===61?(t.consume(D),O):ke(D)?(t.consume(D),F):T(D)}function O(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),l=D,C):ke(D)?(t.consume(D),O):b(D)}function C(D){return D===l?(t.consume(D),l=null,S):D===null||de(D)?n(D):(t.consume(D),C)}function b(D){return D===null||D===34||D===39||D===47||D===60||D===61||D===62||D===96||He(D)?F(D):(t.consume(D),b)}function S(D){return D===47||D===62||ke(D)?T(D):n(D)}function v(D){return D===62?(t.consume(D),x):n(D)}function x(D){return D===null||de(D)?R(D):ke(D)?(t.consume(D),x):n(D)}function R(D){return D===45&&i===2?(t.consume(D),ee):D===60&&i===1?(t.consume(D),X):D===62&&i===4?(t.consume(D),te):D===63&&i===3?(t.consume(D),N):D===93&&i===5?(t.consume(D),Z):de(D)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(mB,ue,A)(D)):D===null||de(D)?(t.exit("htmlFlowData"),A(D)):(t.consume(D),R)}function A(D){return t.check(gB,V,ue)(D)}function V(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),H}function H(D){return D===null||de(D)?A(D):(t.enter("htmlFlowData"),R(D))}function ee(D){return D===45?(t.consume(D),N):R(D)}function X(D){return D===47?(t.consume(D),o="",U):R(D)}function U(D){if(D===62){const Fe=o.toLowerCase();return UE.includes(Fe)?(t.consume(D),te):R(D)}return rn(D)&&o.length<8?(t.consume(D),o+=String.fromCharCode(D),U):R(D)}function Z(D){return D===93?(t.consume(D),N):R(D)}function N(D){return D===62?(t.consume(D),te):D===45&&i===2?(t.consume(D),N):R(D)}function te(D){return D===null||de(D)?(t.exit("htmlFlowData"),ue(D)):(t.consume(D),te)}function ue(D){return t.exit("htmlFlow"),e(D)}}function vB(t,e,n){const r=this;return i;function i(o){return de(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function _B(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Au,e,n)}}const EB={name:"htmlText",tokenize:bB};function bB(t,e,n){const r=this;let i,s,o;return a;function a(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),c):N===47?(t.consume(N),F):N===63?(t.consume(N),T):rn(N)?(t.consume(N),b):n(N)}function c(N){return N===45?(t.consume(N),d):N===91?(t.consume(N),s=0,y):rn(N)?(t.consume(N),_):n(N)}function d(N){return N===45?(t.consume(N),m):n(N)}function h(N){return N===null?n(N):N===45?(t.consume(N),p):de(N)?(o=h,X(N)):(t.consume(N),h)}function p(N){return N===45?(t.consume(N),m):h(N)}function m(N){return N===62?ee(N):N===45?p(N):h(N)}function y(N){const te="CDATA[";return N===te.charCodeAt(s++)?(t.consume(N),s===te.length?I:y):n(N)}function I(N){return N===null?n(N):N===93?(t.consume(N),P):de(N)?(o=I,X(N)):(t.consume(N),I)}function P(N){return N===93?(t.consume(N),w):I(N)}function w(N){return N===62?ee(N):N===93?(t.consume(N),w):I(N)}function _(N){return N===null||N===62?ee(N):de(N)?(o=_,X(N)):(t.consume(N),_)}function T(N){return N===null?n(N):N===63?(t.consume(N),L):de(N)?(o=T,X(N)):(t.consume(N),T)}function L(N){return N===62?ee(N):T(N)}function F(N){return rn(N)?(t.consume(N),O):n(N)}function O(N){return N===45||Gt(N)?(t.consume(N),O):C(N)}function C(N){return de(N)?(o=C,X(N)):ke(N)?(t.consume(N),C):ee(N)}function b(N){return N===45||Gt(N)?(t.consume(N),b):N===47||N===62||He(N)?S(N):n(N)}function S(N){return N===47?(t.consume(N),ee):N===58||N===95||rn(N)?(t.consume(N),v):de(N)?(o=S,X(N)):ke(N)?(t.consume(N),S):ee(N)}function v(N){return N===45||N===46||N===58||N===95||Gt(N)?(t.consume(N),v):x(N)}function x(N){return N===61?(t.consume(N),R):de(N)?(o=x,X(N)):ke(N)?(t.consume(N),x):S(N)}function R(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),i=N,A):de(N)?(o=R,X(N)):ke(N)?(t.consume(N),R):(t.consume(N),V)}function A(N){return N===i?(t.consume(N),i=void 0,H):N===null?n(N):de(N)?(o=A,X(N)):(t.consume(N),A)}function V(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||He(N)?S(N):(t.consume(N),V)}function H(N){return N===47||N===62||He(N)?S(N):n(N)}function ee(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function X(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),U}function U(N){return ke(N)?Re(t,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):Z(N)}function Z(N){return t.enter("htmlTextData"),o(N)}}const Rw={name:"labelEnd",resolveAll:IB,resolveTo:SB,tokenize:CB},kB={tokenize:AB},xB={tokenize:PB},TB={tokenize:RB};function IB(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Mn(t,0,t.length,n),t}function SB(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=Gn(a,t.slice(s+1,s+r+3)),a=Gn(a,[["enter",d,e]]),a=Gn(a,Jh(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=Gn(a,[["exit",d,e],t[o-2],t[o-1],["exit",c,e]]),a=Gn(a,t.slice(o+1)),a=Gn(a,[["exit",l,e]]),Mn(t,s,t.length,a),t}function CB(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?h(p):(o=r.parser.defined.includes(cr(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(kB,d,o?d:h)(p):p===91?t.attempt(xB,d,o?c:h)(p):o?d(p):h(p)}function c(p){return t.attempt(TB,d,h)(p)}function d(p){return e(p)}function h(p){return s._balanced=!0,n(p)}}function AB(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return He(h)?_l(t,s)(h):s(h)}function s(h){return h===41?d(h):ES(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return He(h)?_l(t,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?kS(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return He(h)?_l(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function PB(t,e,n){const r=this;return i;function i(a){return bS.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(cr(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function RB(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const NB={name:"labelStartImage",resolveAll:Rw.resolveAll,tokenize:DB};function DB(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const OB={name:"labelStartLink",resolveAll:Rw.resolveAll,tokenize:LB};function LB(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const wp={name:"lineEnding",tokenize:MB};function MB(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Re(t,e,"linePrefix")}}const ed={name:"thematicBreak",tokenize:VB};function VB(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||de(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),ke(c)?Re(t,a,"whitespace")(c):a(c))}}const fn={continuation:{tokenize:zB},exit:$B,name:"list",tokenize:BB},FB={partial:!0,tokenize:HB},jB={partial:!0,tokenize:UB};function BB(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ag(m)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(ed,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return ag(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Au,r.interrupt?n:d,t.attempt(FB,p,h))}function d(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function h(m){return ke(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function zB(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Au,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Re(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!ke(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(jB,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Re(t,t.attempt(fn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function UB(t,e,n){const r=this;return Re(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function $B(t){t.exit(this.containerState.type)}function HB(t,e,n){const r=this;return Re(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!ke(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const $E={name:"setextUnderline",resolveTo:qB,tokenize:WB};function qB(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function WB(t,e,n){const r=this;let i;return s;function s(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),ke(c)?Re(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||de(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const GB={tokenize:KB};function KB(t){const e=this,n=t.attempt(Au,r,t.attempt(this.parser.constructs.flowInitial,i,Re(t,t.attempt(this.parser.constructs.flow,i,t.attempt(Z5,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const QB={resolveAll:TS()},YB=xS("string"),XB=xS("text");function xS(t){return{resolveAll:TS(t==="text"?JB:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function TS(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function JB(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const ZB={42:fn,43:fn,45:fn,48:fn,49:fn,50:fn,51:fn,52:fn,53:fn,54:fn,55:fn,56:fn,57:fn,62:yS},e3={91:iB},t3={[-2]:yp,[-1]:yp,32:yp},n3={35:cB,42:ed,45:[$E,ed],60:pB,61:$E,95:ed,96:zE,126:zE},r3={38:vS,92:wS},i3={[-5]:wp,[-4]:wp,[-3]:wp,33:NB,38:vS,42:lg,60:[O5,EB],91:OB,92:[lB,wS],93:Rw,95:lg,96:G5},s3={null:[lg,QB]},o3={null:[42,95]},a3={null:[]},l3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:o3,contentInitial:e3,disable:a3,document:ZB,flow:n3,flowInitial:t3,insideSpan:s3,string:r3,text:i3},Symbol.toStringTag,{value:"Module"}));function u3(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:C(F),check:C(O),consume:_,enter:T,exit:L,interrupt:C(O,{interrupt:!0})},c={code:null,containerState:{},defineSkip:I,events:[],now:y,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(x){return o=Gn(o,x),P(),o[o.length-1]!==null?[]:(b(e,0),c.events=Jh(s,c.events,c),c.events)}function p(x,R){return d3(m(x),R)}function m(x){return c3(o,x)}function y(){const{_bufferIndex:x,_index:R,line:A,column:V,offset:H}=r;return{_bufferIndex:x,_index:R,line:A,column:V,offset:H}}function I(x){i[x.line]=x.column,v()}function P(){let x;for(;r._index<o.length;){const R=o[r._index];if(typeof R=="string")for(x=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===x&&r._bufferIndex<R.length;)w(R.charCodeAt(r._bufferIndex));else w(R)}}function w(x){d=d(x)}function _(x){de(x)?(r.line++,r.column=1,r.offset+=x===-3?2:1,v()):x!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=x}function T(x,R){const A=R||{};return A.type=x,A.start=y(),c.events.push(["enter",A,c]),a.push(A),A}function L(x){const R=a.pop();return R.end=y(),c.events.push(["exit",R,c]),R}function F(x,R){b(x,R.from)}function O(x,R){R.restore()}function C(x,R){return A;function A(V,H,ee){let X,U,Z,N;return Array.isArray(V)?ue(V):"tokenize"in V?ue([V]):te(V);function te(re){return ae;function ae(Se){const Ke=Se!==null&&re[Se],Ne=Se!==null&&re.null,Ct=[...Array.isArray(Ke)?Ke:Ke?[Ke]:[],...Array.isArray(Ne)?Ne:Ne?[Ne]:[]];return ue(Ct)(Se)}}function ue(re){return X=re,U=0,re.length===0?ee:D(re[U])}function D(re){return ae;function ae(Se){return N=S(),Z=re,re.partial||(c.currentConstruct=re),re.name&&c.parser.constructs.disable.null.includes(re.name)?ne():re.tokenize.call(R?Object.assign(Object.create(c),R):c,l,Fe,ne)(Se)}}function Fe(re){return x(Z,N),H}function ne(re){return N.restore(),++U<X.length?D(X[U]):ee}}}function b(x,R){x.resolveAll&&!s.includes(x)&&s.push(x),x.resolve&&Mn(c.events,R,c.events.length-R,x.resolve(c.events.slice(R),c)),x.resolveTo&&(c.events=x.resolveTo(c.events,c))}function S(){const x=y(),R=c.previous,A=c.currentConstruct,V=c.events.length,H=Array.from(a);return{from:V,restore:ee};function ee(){r=x,c.previous=R,c.currentConstruct=A,c.events.length=V,a=H,v()}}function v(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function c3(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function d3(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function h3(t){const r={constructs:mS([l3,...(t||{}).extensions||[]]),content:i(S5),defined:[],document:i(A5),flow:i(GB),lazy:{},string:i(YB),text:i(XB)};return r;function i(s){return o;function o(a){return u3(r,s,a)}}}function f3(t){for(;!_S(t););return t}const HE=/[\0\t\n\r]/g;function p3(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,d,h,p,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(HE.lastIndex=h,c=HE.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(s.slice(h,p)),t+=p-h),m){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const m3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function g3(t){return t.replace(m3,y3)}function y3(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return gS(n.slice(s?2:1),s?16:10)}return Pw(n)||t}const IS={}.hasOwnProperty;function w3(t,e,n){return typeof e!="string"&&(n=e,e=void 0),v3(n)(f3(h3(n).document().write(p3()(t,e,!0))))}function v3(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ya),autolinkProtocol:S,autolinkEmail:S,atxHeading:s(Ws),blockQuote:s(Ne),characterEscape:S,characterReference:S,codeFenced:s(Ct),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ct,o),codeText:s(Zn,o),codeTextData:S,data:S,codeFlowValue:S,definition:s(pa),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ma),hardBreakEscape:s(ga),hardBreakTrailing:s(ga),htmlFlow:s(Ru,o),htmlFlowData:S,htmlText:s(Ru,o),htmlTextData:S,image:s(nf),label:o,link:s(ya),listItem:s(Nu),listItemValue:p,listOrdered:s(Gs,h),listUnordered:s(Gs),paragraph:s(rf),reference:D,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(Ws),strong:s(wa),thematicBreak:s(Du)},exit:{atxHeading:l(),atxHeadingSequence:F,autolink:l(),autolinkEmail:Ke,autolinkProtocol:Se,blockQuote:l(),characterEscapeValue:v,characterReferenceMarkerHexadecimal:ne,characterReferenceMarkerNumeric:ne,characterReferenceValue:re,characterReference:ae,codeFenced:l(P),codeFencedFence:I,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:v,codeIndented:l(w),codeText:l(H),codeTextData:v,data:v,definition:l(),definitionDestinationString:L,definitionLabelString:_,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(R),hardBreakTrailing:l(R),htmlFlow:l(A),htmlFlowData:v,htmlText:l(V),htmlTextData:v,image:l(X),label:Z,labelText:U,lineEnding:x,link:l(ee),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Fe,resourceDestinationString:N,resourceTitleString:te,resource:ue,setextHeading:l(b),setextHeadingLineSequence:C,setextHeadingText:O,strong:l(),thematicBreak:l()}};SS(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(B){let W={type:"root",children:[]};const fe={stack:[W],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:d,data:n},be=[];let je=-1;for(;++je<B.length;)if(B[je][1].type==="listOrdered"||B[je][1].type==="listUnordered")if(B[je][0]==="enter")be.push(je);else{const kn=be.pop();je=i(B,kn,je)}for(je=-1;++je<B.length;){const kn=e[B[je][0]];IS.call(kn,B[je][1].type)&&kn[B[je][1].type].call(Object.assign({sliceSerialize:B[je][2].sliceSerialize},fe),B[je][1])}if(fe.tokenStack.length>0){const kn=fe.tokenStack[fe.tokenStack.length-1];(kn[1]||qE).call(fe,void 0,kn[0])}for(W.position={start:pi(B.length>0?B[0][1].start:{line:1,column:1,offset:0}),end:pi(B.length>0?B[B.length-2][1].end:{line:1,column:1,offset:0})},je=-1;++je<e.transforms.length;)W=e.transforms[je](W)||W;return W}function i(B,W,fe){let be=W-1,je=-1,kn=!1,xn,$n,ai,Nr;for(;++be<=fe;){const Jt=B[be];switch(Jt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Jt[0]==="enter"?je++:je--,Nr=void 0;break}case"lineEndingBlank":{Jt[0]==="enter"&&(xn&&!Nr&&!je&&!ai&&(ai=be),Nr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Nr=void 0}if(!je&&Jt[0]==="enter"&&Jt[1].type==="listItemPrefix"||je===-1&&Jt[0]==="exit"&&(Jt[1].type==="listUnordered"||Jt[1].type==="listOrdered")){if(xn){let li=be;for($n=void 0;li--;){const Tn=B[li];if(Tn[1].type==="lineEnding"||Tn[1].type==="lineEndingBlank"){if(Tn[0]==="exit")continue;$n&&(B[$n][1].type="lineEndingBlank",kn=!0),Tn[1].type="lineEnding",$n=li}else if(!(Tn[1].type==="linePrefix"||Tn[1].type==="blockQuotePrefix"||Tn[1].type==="blockQuotePrefixWhitespace"||Tn[1].type==="blockQuoteMarker"||Tn[1].type==="listItemIndent"))break}ai&&(!$n||ai<$n)&&(xn._spread=!0),xn.end=Object.assign({},$n?B[$n][1].start:Jt[1].end),B.splice($n||be,0,["exit",xn,Jt[2]]),be++,fe++}if(Jt[1].type==="listItemPrefix"){const li={type:"listItem",_spread:!1,start:Object.assign({},Jt[1].start),end:void 0};xn=li,B.splice(be,0,["enter",li,Jt[2]]),be++,fe++,ai=void 0,Nr=!0}}}return B[W][1]._spread=kn,fe}function s(B,W){return fe;function fe(be){a.call(this,B(be),be),W&&W.call(this,be)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(B,W,fe){this.stack[this.stack.length-1].children.push(B),this.stack.push(B),this.tokenStack.push([W,fe||void 0]),B.position={start:pi(W.start),end:void 0}}function l(B){return W;function W(fe){B&&B.call(this,fe),c.call(this,fe)}}function c(B,W){const fe=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==B.type&&(W?W.call(this,B,be[0]):(be[1]||qE).call(this,B,be[0]));else throw new Error("Cannot close `"+B.type+"` ("+vl({start:B.start,end:B.end})+"): its not open");fe.position.end=pi(B.end)}function d(){return Aw(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(B){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(B),10),this.data.expectingFirstListItemValue=void 0}}function m(){const B=this.resume(),W=this.stack[this.stack.length-1];W.lang=B}function y(){const B=this.resume(),W=this.stack[this.stack.length-1];W.meta=B}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function P(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B.replace(/(\r?\n|\r)$/g,"")}function _(B){const W=this.resume(),fe=this.stack[this.stack.length-1];fe.label=W,fe.identifier=cr(this.sliceSerialize(B)).toLowerCase()}function T(){const B=this.resume(),W=this.stack[this.stack.length-1];W.title=B}function L(){const B=this.resume(),W=this.stack[this.stack.length-1];W.url=B}function F(B){const W=this.stack[this.stack.length-1];if(!W.depth){const fe=this.sliceSerialize(B).length;W.depth=fe}}function O(){this.data.setextHeadingSlurpLineEnding=!0}function C(B){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(B).codePointAt(0)===61?1:2}function b(){this.data.setextHeadingSlurpLineEnding=void 0}function S(B){const fe=this.stack[this.stack.length-1].children;let be=fe[fe.length-1];(!be||be.type!=="text")&&(be=va(),be.position={start:pi(B.start),end:void 0},fe.push(be)),this.stack.push(be)}function v(B){const W=this.stack.pop();W.value+=this.sliceSerialize(B),W.position.end=pi(B.end)}function x(B){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=W.children[W.children.length-1];fe.position.end=pi(B.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(W.type)&&(S.call(this,B),v.call(this,B))}function R(){this.data.atHardBreak=!0}function A(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B}function V(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B}function H(){const B=this.resume(),W=this.stack[this.stack.length-1];W.value=B}function ee(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=W,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function X(){const B=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";B.type+="Reference",B.referenceType=W,delete B.url,delete B.title}else delete B.identifier,delete B.label;this.data.referenceType=void 0}function U(B){const W=this.sliceSerialize(B),fe=this.stack[this.stack.length-2];fe.label=g3(W),fe.identifier=cr(W).toLowerCase()}function Z(){const B=this.stack[this.stack.length-1],W=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const be=B.children;fe.children=be}else fe.alt=W}function N(){const B=this.resume(),W=this.stack[this.stack.length-1];W.url=B}function te(){const B=this.resume(),W=this.stack[this.stack.length-1];W.title=B}function ue(){this.data.inReference=void 0}function D(){this.data.referenceType="collapsed"}function Fe(B){const W=this.resume(),fe=this.stack[this.stack.length-1];fe.label=W,fe.identifier=cr(this.sliceSerialize(B)).toLowerCase(),this.data.referenceType="full"}function ne(B){this.data.characterReferenceType=B.type}function re(B){const W=this.sliceSerialize(B),fe=this.data.characterReferenceType;let be;fe?(be=gS(W,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=Pw(W);const je=this.stack[this.stack.length-1];je.value+=be}function ae(B){const W=this.stack.pop();W.position.end=pi(B.end)}function Se(B){v.call(this,B);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(B)}function Ke(B){v.call(this,B);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(B)}function Ne(){return{type:"blockquote",children:[]}}function Ct(){return{type:"code",lang:null,meta:null,value:""}}function Zn(){return{type:"inlineCode",value:""}}function pa(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ma(){return{type:"emphasis",children:[]}}function Ws(){return{type:"heading",depth:0,children:[]}}function ga(){return{type:"break"}}function Ru(){return{type:"html",value:""}}function nf(){return{type:"image",title:null,url:"",alt:null}}function ya(){return{type:"link",title:null,url:"",children:[]}}function Gs(B){return{type:"list",ordered:B.type==="listOrdered",start:null,spread:B._spread,children:[]}}function Nu(B){return{type:"listItem",spread:B._spread,checked:null,children:[]}}function rf(){return{type:"paragraph",children:[]}}function wa(){return{type:"strong",children:[]}}function va(){return{type:"text",value:""}}function Du(){return{type:"thematicBreak"}}}function pi(t){return{line:t.line,column:t.column,offset:t.offset}}function SS(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?SS(t,r):_3(t,r)}}function _3(t,e){let n;for(n in e)if(IS.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function qE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+vl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+vl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+vl({start:e.start,end:e.end})+") is still open")}function E3(t){const e=this;e.parser=n;function n(r){return w3(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function b3(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function k3(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function x3(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function T3(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I3(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function S3(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=fa(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function C3(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function A3(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function CS(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function P3(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return CS(t,e);const i={src:fa(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function R3(t,e){const n={src:fa(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function N3(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function D3(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return CS(t,e);const i={href:fa(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function O3(t,e){const n={href:fa(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function L3(t,e,n){const r=t.all(e),i=n?M3(n):AS(e),s={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function M3(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=AS(n[r])}return e}function AS(t){const e=t.spread;return e??t.children.length>1}function V3(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function F3(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j3(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function B3(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function z3(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=Tw(e.children[1]),l=lS(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function U3(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const h=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let y={type:"element",tagName:s,properties:p,children:[]};h&&(y.children=t.all(h),t.patch(h,y),y=t.applyData(h,y)),c.push(y)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function $3(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const WE=9,GE=32;function H3(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(KE(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(KE(e.slice(i),i>0,!1)),s.join("")}function KE(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===WE||s===GE;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===WE||s===GE;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function q3(t,e){const n={type:"text",value:H3(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function W3(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const G3={blockquote:b3,break:k3,code:x3,delete:T3,emphasis:I3,footnoteReference:S3,heading:C3,html:A3,imageReference:P3,image:R3,inlineCode:N3,linkReference:D3,link:O3,listItem:L3,list:V3,paragraph:F3,root:j3,strong:B3,table:z3,tableCell:$3,tableRow:U3,text:q3,thematicBreak:W3,toml:bc,yaml:bc,definition:bc,footnoteDefinition:bc};function bc(){}const PS=-1,Zh=0,El=1,oh=2,Nw=3,Dw=4,Ow=5,Lw=6,RS=7,NS=8,QE=typeof self=="object"?self:globalThis,K3=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case Zh:case PS:return n(o,i);case El:{const a=n([],i);for(const l of o)a.push(r(l));return a}case oh:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case Nw:return n(new Date(o),i);case Dw:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case Ow:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case Lw:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case RS:{const{name:a,message:l}=o;return n(new QE[a](l),i)}case NS:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new QE[s](o),i)};return r},YE=t=>K3(new Map,t)(0),to="",{toString:Q3}={},{keys:Y3}=Object,Ua=t=>{const e=typeof t;if(e!=="object"||!t)return[Zh,e];const n=Q3.call(t).slice(8,-1);switch(n){case"Array":return[El,to];case"Object":return[oh,to];case"Date":return[Nw,to];case"RegExp":return[Dw,to];case"Map":return[Ow,to];case"Set":return[Lw,to];case"DataView":return[El,n]}return n.includes("Array")?[El,n]:n.includes("Error")?[RS,n]:[oh,n]},kc=([t,e])=>t===Zh&&(e==="function"||e==="symbol"),X3=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=Ua(o);switch(a){case Zh:{let d=o;switch(l){case"bigint":a=NS,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([PS],o)}return i([a,d],o)}case El:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const d=[],h=i([a,d],o);for(const p of o)d.push(s(p));return h}case oh:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([a,d],o);for(const p of Y3(o))(t||!kc(Ua(o[p])))&&d.push([s(p),s(o[p])]);return h}case Nw:return i([a,o.toISOString()],o);case Dw:{const{source:d,flags:h}=o;return i([a,{source:d,flags:h}],o)}case Ow:{const d=[],h=i([a,d],o);for(const[p,m]of o)(t||!(kc(Ua(p))||kc(Ua(m))))&&d.push([s(p),s(m)]);return h}case Lw:{const d=[],h=i([a,d],o);for(const p of o)(t||!kc(Ua(p)))&&d.push(s(p));return h}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},XE=(t,{json:e,lossy:n}={})=>{const r=[];return X3(!(e||n),!!e,new Map,r)(t),r},ah=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?YE(XE(t,e)):structuredClone(t):(t,e)=>YE(XE(t,e));function J3(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Z3(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function ez(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||J3,r=t.options.footnoteBackLabel||Z3,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),h=String(c.identifier).toUpperCase(),p=fa(h.toLowerCase());let m=0;const y=[],I=t.footnoteCounts.get(h);for(;I!==void 0&&++m<=I;){y.length>0&&y.push({type:"text",value:" "});let _=typeof n=="string"?n:n(l,m);typeof _=="string"&&(_={type:"text",value:_}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(_)?_:[_]})}const P=d[d.length-1];if(P&&P.type==="element"&&P.tagName==="p"){const _=P.children[P.children.length-1];_&&_.type==="text"?_.value+=" ":P.children.push({type:"text",value:" "}),P.children.push(...y)}else d.push(...y);const w={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(d,!0)};t.patch(c,w),a.push(w)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ah(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const ef=function(t){if(t==null)return iz;if(typeof t=="function")return tf(t);if(typeof t=="object")return Array.isArray(t)?tz(t):nz(t);if(typeof t=="string")return rz(t);throw new Error("Expected function, string, or object as test")};function tz(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ef(t[n]);return tf(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function nz(t){const e=t;return tf(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function rz(t){return tf(e);function e(n){return n&&n.type===t}}function tf(t){return e;function e(n,r,i){return!!(sz(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function iz(){return!0}function sz(t){return t!==null&&typeof t=="object"&&"type"in t}const DS=[],oz=!0,ug=!1,az="skip";function OS(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=ef(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=DS,y,I,P;if((!e||s(l,c,d[d.length-1]||void 0))&&(m=lz(n(l,d)),m[0]===ug))return m;if("children"in l&&l.children){const w=l;if(w.children&&m[0]!==az)for(I=(r?w.children.length:-1)+o,P=d.concat(w);I>-1&&I<w.children.length;){const _=w.children[I];if(y=a(_,I,P)(),y[0]===ug)return y;I=typeof y[1]=="number"?y[1]:I+o}}return m}}}function lz(t){return Array.isArray(t)?t:typeof t=="number"?[oz,t]:t==null?DS:[t]}function Mw(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),OS(t,s,a,i);function a(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const cg={}.hasOwnProperty,uz={};function cz(t,e){const n=e||uz,r=new Map,i=new Map,s=new Map,o={...G3,...n.handlers},a={all:c,applyData:hz,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:dz,wrap:pz};return Mw(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(cg.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:I,...P}=d,w=ah(P);return w.children=a.all(d),w}return ah(d)}return(a.options.unknownHandler||fz)(a,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const y=a.one(p[m],d);if(y){if(m&&p[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=JE(y.value)),!Array.isArray(y)&&y.type==="element")){const I=y.children[0];I&&I.type==="text"&&(I.value=JE(I.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function dz(t,e){t.position&&(e.position=Zj(t))}function hz(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,ah(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function fz(t,e){const n=e.data||{},r="value"in e&&!(cg.call(n,"hProperties")||cg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function pz(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function JE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ZE(t,e){const n=cz(t,e),r=n.one(t,void 0),i=ez(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function mz(t,e){return t&&"run"in t?async function(n,r){const i=ZE(n,{file:r,...e});await t.run(i,r)}:function(n,r){return ZE(n,{file:r,...t||e})}}function eb(t){if(t)throw t}var td=Object.prototype.hasOwnProperty,LS=Object.prototype.toString,tb=Object.defineProperty,nb=Object.getOwnPropertyDescriptor,rb=function(e){return typeof Array.isArray=="function"?Array.isArray(e):LS.call(e)==="[object Array]"},ib=function(e){if(!e||LS.call(e)!=="[object Object]")return!1;var n=td.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&td.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||td.call(e,i)},sb=function(e,n){tb&&n.name==="__proto__"?tb(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},ob=function(e,n){if(n==="__proto__")if(td.call(e,n)){if(nb)return nb(e,n).value}else return;return e[n]},gz=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=ob(a,n),i=ob(e,n),a!==i&&(d&&i&&(ib(i)||(s=rb(i)))?(s?(s=!1,o=r&&rb(r)?r:[]):o=r&&ib(r)?r:{},sb(a,{name:n,newValue:t(d,o,i)})):typeof i<"u"&&sb(a,{name:n,newValue:i}));return a};const vp=pg(gz);function dg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yz(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const d=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?wz(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function wz(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const gr={basename:vz,dirname:_z,extname:Ez,join:bz,sep:"/"};function vz(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Pu(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function _z(t){if(Pu(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Ez(t){Pu(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function bz(...t){let e=-1,n;for(;++e<t.length;)Pu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":kz(n)}function kz(t){Pu(t);const e=t.codePointAt(0)===47;let n=xz(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function xz(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Pu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Tz={cwd:Iz};function Iz(){return"/"}function hg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Sz(t){if(typeof t=="string")t=new URL(t);else if(!hg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Cz(t)}function Cz(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const _p=["history","path","basename","stem","extname","dirname"];class MS{constructor(e){let n;e?hg(e)?n={path:e}:typeof e=="string"||Az(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Tz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_p.length;){const s=_p[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)_p.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?gr.basename(this.path):void 0}set basename(e){bp(e,"basename"),Ep(e,"basename"),this.path=gr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?gr.dirname(this.path):void 0}set dirname(e){ab(this.basename,"dirname"),this.path=gr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?gr.extname(this.path):void 0}set extname(e){if(Ep(e,"extname"),ab(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){hg(e)&&(e=Sz(e)),bp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?gr.basename(this.path,this.extname):void 0}set stem(e){bp(e,"stem"),Ep(e,"stem"),this.path=gr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Xt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Ep(t,e){if(t&&t.includes(gr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+gr.sep+"`")}function bp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function ab(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Az(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Pz=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},Rz={}.hasOwnProperty;class Vw extends Pz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yz()}copy(){const e=new Vw;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(vp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Tp("data",this.frozen),this.namespace[e]=n,this):Rz.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Tp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=xc(e),r=this.parser||this.Parser;return kp("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),kp("process",this.parser||this.Parser),xp("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=xc(e),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return c(d);const m=h,y=r.stringify(m,p);Oz(y)?p.value=y:p.result=y,c(d,p)});function c(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),kp("processSync",this.parser||this.Parser),xp("processSync",this.compiler||this.Compiler),this.process(e,i),ub("processSync","process",n),r;function i(s,o){n=!0,eb(s),r=o}}run(e,n,r){lb(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=xc(n);i.run(e,l,c);function c(d,h,p){const m=h||e;d?a(d):o?o(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),ub("runSync","run",r),i;function s(o,a){eb(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=xc(n),i=this.compiler||this.Compiler;return xp("stringify",i),lb(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Tp("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=vp(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...y]=d;const I=r[p][1];dg(I)&&dg(m)&&(m=vp(!0,I,m)),r[p]=[c,m,...y]}}}}const Nz=new Vw().freeze();function kp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function xp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Tp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function lb(t){if(!dg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function ub(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function xc(t){return Dz(t)?t:new MS(t)}function Dz(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Oz(t){return typeof t=="string"||Lz(t)}function Lz(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Mz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",cb=[],db={allowDangerousHtml:!0},Vz=/^(https?|ircs?|mailto|xmpp)$/i,Fz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jz(t){const e=Bz(t),n=zz(t);return Uz(e.runSync(e.parse(n),n),t)}function Bz(t){const e=t.rehypePlugins||cb,n=t.remarkPlugins||cb,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...db}:db;return Nz().use(E3).use(n).use(mz,r).use(e)}function zz(t){const e=t.children||"",n=new MS;return typeof e=="string"&&(n.value=e),n}function Uz(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||$z;for(const d of Fz)Object.hasOwn(e,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Mz+d.id,void 0);return Mw(t,c),i5(t,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function c(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return o?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in gp)if(Object.hasOwn(gp,m)&&Object.hasOwn(d.properties,m)){const y=d.properties[m],I=gp[m];(I===null||I.includes(d.tagName))&&(d.properties[m]=l(String(y||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):s?s.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function $z(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Vz.test(t.slice(0,e))?t:""}function hb(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}function Hz(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function qz(t,e,n){const i=ef((n||{}).ignore||[]),s=Wz(e);let o=-1;for(;++o<s.length;)OS(t,"text",a);function a(c,d){let h=-1,p;for(;++h<d.length;){const m=d[h],y=p?p.children:void 0;if(i(m,y?y.indexOf(m):void 0,p))return;p=m}if(p)return l(c,d)}function l(c,d){const h=d[d.length-1],p=s[o][0],m=s[o][1];let y=0;const P=h.children.indexOf(c);let w=!1,_=[];p.lastIndex=0;let T=p.exec(c.value);for(;T;){const L=T.index,F={index:T.index,input:T.input,stack:[...d,c]};let O=m(...T,F);if(typeof O=="string"&&(O=O.length>0?{type:"text",value:O}:void 0),O===!1?p.lastIndex=L+1:(y!==L&&_.push({type:"text",value:c.value.slice(y,L)}),Array.isArray(O)?_.push(...O):O&&_.push(O),y=L+T[0].length,w=!0),!p.global)break;T=p.exec(c.value)}return w?(y<c.value.length&&_.push({type:"text",value:c.value.slice(y)}),h.children.splice(P,1,..._)):_=[c],P+_.length}}function Wz(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([Gz(i[0]),Kz(i[1])])}return e}function Gz(t){return typeof t=="string"?new RegExp(Hz(t),"g"):t}function Kz(t){return typeof t=="function"?t:function(){return t}}const Ip="phrasing",Sp=["autolink","link","image","label"];function Qz(){return{transforms:[nU],enter:{literalAutolink:Xz,literalAutolinkEmail:Cp,literalAutolinkHttp:Cp,literalAutolinkWww:Cp},exit:{literalAutolink:tU,literalAutolinkEmail:eU,literalAutolinkHttp:Jz,literalAutolinkWww:Zz}}}function Yz(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Ip,notInConstruct:Sp},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Ip,notInConstruct:Sp},{character:":",before:"[ps]",after:"\\/",inConstruct:Ip,notInConstruct:Sp}]}}function Xz(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function Cp(t){this.config.enter.autolinkProtocol.call(this,t)}function Jz(t){this.config.exit.autolinkProtocol.call(this,t)}function Zz(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function eU(t){this.config.exit.autolinkEmail.call(this,t)}function tU(t){this.exit(t)}function nU(t){qz(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),iU]],{ignore:["link","linkReference"]})}function rU(t,e,n,r,i){let s="";if(!VS(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!sU(n)))return!1;const o=oU(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function iU(t,e,n,r){return!VS(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function sU(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function oU(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=hb(t,"(");let s=hb(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function VS(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Vs(n)||Xh(n))&&(!e||n!==47)}FS.peek=mU;function aU(){this.buffer()}function lU(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function uU(){this.buffer()}function cU(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function dU(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function hU(t){this.exit(t)}function fU(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=cr(this.sliceSerialize(t)).toLowerCase(),n.label=e}function pU(t){this.exit(t)}function mU(){return"["}function FS(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function gU(){return{enter:{gfmFootnoteCallString:aU,gfmFootnoteCall:lU,gfmFootnoteDefinitionLabelString:uU,gfmFootnoteDefinition:cU},exit:{gfmFootnoteCallString:dU,gfmFootnoteCall:hU,gfmFootnoteDefinitionLabelString:fU,gfmFootnoteDefinition:pU}}}function yU(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:FS},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?jS:wU))),c(),l}}function wU(t,e,n){return e===0?t:jS(t,e,n)}function jS(t,e,n){return(n?"":"    ")+t}const vU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BS.peek=xU;function _U(){return{canContainEols:["delete"],enter:{strikethrough:bU},exit:{strikethrough:kU}}}function EU(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:vU}],handlers:{delete:BS}}}function bU(t){this.enter({type:"delete",children:[]},t)}function kU(t){this.exit(t)}function BS(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function xU(){return"~"}function TU(t){return t.length}function IU(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||TU,s=[],o=[],a=[],l=[];let c=0,d=-1;for(;++d<t.length;){const I=[],P=[];let w=-1;for(t[d].length>c&&(c=t[d].length);++w<t[d].length;){const _=SU(t[d][w]);if(n.alignDelimiters!==!1){const T=i(_);P[w]=T,(l[w]===void 0||T>l[w])&&(l[w]=T)}I.push(_)}o[d]=I,a[d]=P}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<c;)s[h]=fb(r[h]);else{const I=fb(r);for(;++h<c;)s[h]=I}h=-1;const p=[],m=[];for(;++h<c;){const I=s[h];let P="",w="";I===99?(P=":",w=":"):I===108?P=":":I===114&&(w=":");let _=n.alignDelimiters===!1?1:Math.max(1,l[h]-P.length-w.length);const T=P+"-".repeat(_)+w;n.alignDelimiters!==!1&&(_=P.length+_+w.length,_>l[h]&&(l[h]=_),m[h]=_),p[h]=T}o.splice(1,0,p),a.splice(1,0,m),d=-1;const y=[];for(;++d<o.length;){const I=o[d],P=a[d];h=-1;const w=[];for(;++h<c;){const _=I[h]||"";let T="",L="";if(n.alignDelimiters!==!1){const F=l[h]-(P[h]||0),O=s[h];O===114?T=" ".repeat(F):O===99?F%2?(T=" ".repeat(F/2+.5),L=" ".repeat(F/2-.5)):(T=" ".repeat(F/2),L=T):L=" ".repeat(F)}n.delimiterStart!==!1&&!h&&w.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&_==="")&&(n.delimiterStart!==!1||h)&&w.push(" "),n.alignDelimiters!==!1&&w.push(T),w.push(_),n.alignDelimiters!==!1&&w.push(L),n.padding!==!1&&w.push(" "),(n.delimiterEnd!==!1||h!==c-1)&&w.push("|")}y.push(n.delimiterEnd===!1?w.join("").replace(/ +$/,""):w.join(""))}return y.join(`
`)}function SU(t){return t==null?"":String(t)}function fb(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function CU(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),AU);return i(),o}function AU(t,e,n){return">"+(n?"":" ")+t}function PU(t,e){return pb(t,e.inConstruct,!0)&&!pb(t,e.notInConstruct,!1)}function pb(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function mb(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&PU(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function RU(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function NU(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function DU(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function OU(t,e,n,r){const i=DU(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(NU(t,n)){const h=n.enter("codeIndented"),p=n.indentLines(s,LU);return h(),p}const a=n.createTracker(r),l=i.repeat(Math.max(RU(s,i)+1,3)),c=n.enter("codeFenced");let d=a.move(l);if(t.lang){const h=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...a.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...a.current()})),h()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(l),c(),d}function LU(t,e,n){return(n?"":"    ")+t}function Fw(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function MU(t,e,n,r){const i=Fw(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function VU(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Xl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function lh(t,e,n){const r=Zo(t),i=Zo(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}zS.peek=FU;function zS(t,e,n,r){const i=VU(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),d=lh(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Xl(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=lh(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+Xl(h));const m=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+m}function FU(t,e,n){return n.options.emphasis||"*"}function jU(t,e){let n=!1;return Mw(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ug}),!!((!t.depth||t.depth<3)&&Aw(t)&&(e.options.setext||n))}function BU(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(jU(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),d(),p+`
`+(i===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Xl(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}US.peek=zU;function US(t){return t.value||""}function zU(){return"<"}$S.peek=UU;function $S(t,e,n,r){const i=Fw(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function UU(){return"!"}HS.peek=$U;function HS(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function $U(){return"!"}qS.peek=HU;function qS(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function HU(){return"`"}function WS(t,e){const n=Aw(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}GS.peek=qU;function GS(t,e,n,r){const i=Fw(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(WS(t,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=d,h}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function qU(t,e,n){return WS(t,n)?"<":"["}KS.peek=WU;function KS(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function WU(){return"["}function jw(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function GU(t){const e=jw(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function KU(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function QS(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function QU(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?KU(n):jw(n);const a=t.ordered?o==="."?")":".":GU(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),QS(n)===o&&d){let h=-1;for(;++h<t.children.length;){const p=t.children[h];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function YU(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function XU(t,e,n,r){const i=YU(n);let s=n.bulletCurrent||jw(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),d);return l(),c;function d(h,p,m){return p?(m?"":" ".repeat(o))+h:(m?s:s+" ".repeat(o-s.length))+h}}function JU(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const ZU=ef(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function e9(t,e,n,r){return(t.children.some(function(o){return ZU(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function t9(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}YS.peek=n9;function YS(t,e,n,r){const i=t9(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),d=lh(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Xl(c)+l.slice(1));const h=l.charCodeAt(l.length-1),p=lh(r.after.charCodeAt(0),h,i);p.inside&&(l=l.slice(0,-1)+Xl(h));const m=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},a+l+m}function n9(t,e,n){return n.options.strong||"*"}function r9(t,e,n,r){return n.safe(t.value,r)}function i9(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function s9(t,e,n){const r=(QS(n)+(n.options.ruleSpaces?" ":"")).repeat(i9(n));return n.options.ruleSpaces?r.slice(0,-1):r}const XS={blockquote:CU,break:mb,code:OU,definition:MU,emphasis:zS,hardBreak:mb,heading:BU,html:US,image:$S,imageReference:HS,inlineCode:qS,link:GS,linkReference:KS,list:QU,listItem:XU,paragraph:JU,root:e9,strong:YS,text:r9,thematicBreak:s9};function o9(){return{enter:{table:a9,tableData:gb,tableHeader:gb,tableRow:u9},exit:{codeText:c9,table:l9,tableData:Ap,tableHeader:Ap,tableRow:Ap}}}function a9(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function l9(t){this.exit(t),this.data.inTable=void 0}function u9(t){this.enter({type:"tableRow",children:[]},t)}function Ap(t){this.exit(t)}function gb(t){this.enter({type:"tableCell",children:[]},t)}function c9(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,d9));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function d9(t,e){return e==="|"?e:t}function h9(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:a}};function o(m,y,I,P){return c(d(m,I,P),m.align)}function a(m,y,I,P){const w=h(m,I,P),_=c([w]);return _.slice(0,_.indexOf(`
`))}function l(m,y,I,P){const w=I.enter("tableCell"),_=I.enter("phrasing"),T=I.containerPhrasing(m,{...P,before:s,after:s});return _(),w(),T}function c(m,y){return IU(m,{align:y,alignDelimiters:r,padding:n,stringLength:i})}function d(m,y,I){const P=m.children;let w=-1;const _=[],T=y.enter("table");for(;++w<P.length;)_[w]=h(P[w],y,I);return T(),_}function h(m,y,I){const P=m.children;let w=-1;const _=[],T=y.enter("tableRow");for(;++w<P.length;)_[w]=l(P[w],m,y,I);return T(),_}function p(m,y,I){let P=XS.inlineCode(m,y,I);return I.stack.includes("tableCell")&&(P=P.replace(/\|/g,"\\$&")),P}}function f9(){return{exit:{taskListCheckValueChecked:yb,taskListCheckValueUnchecked:yb,paragraph:m9}}}function p9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:g9}}}function yb(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function m9(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function g9(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=XS.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function y9(){return[Qz(),gU(),_U(),o9(),f9()]}function w9(t){return{extensions:[Yz(),yU(t),EU(),h9(t),p9()]}}const v9={tokenize:T9,partial:!0},JS={tokenize:I9,partial:!0},ZS={tokenize:S9,partial:!0},eC={tokenize:C9,partial:!0},_9={tokenize:A9,partial:!0},tC={name:"wwwAutolink",tokenize:k9,previous:rC},nC={name:"protocolAutolink",tokenize:x9,previous:iC},oi={name:"emailAutolink",tokenize:b9,previous:sC},Rr={};function E9(){return{text:Rr}}let cs=48;for(;cs<123;)Rr[cs]=oi,cs++,cs===58?cs=65:cs===91&&(cs=97);Rr[43]=oi;Rr[45]=oi;Rr[46]=oi;Rr[95]=oi;Rr[72]=[oi,nC];Rr[104]=[oi,nC];Rr[87]=[oi,tC];Rr[119]=[oi,tC];function b9(t,e,n){const r=this;let i,s;return o;function o(h){return!fg(h)||!sC.call(r,r.previous)||Bw(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(h))}function a(h){return fg(h)?(t.consume(h),a):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(_9,d,c)(h):h===45||h===95||Gt(h)?(s=!0,t.consume(h),l):d(h)}function c(h){return t.consume(h),i=!0,l}function d(h){return s&&i&&rn(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function k9(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!rC.call(r,r.previous)||Bw(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(v9,t.attempt(JS,t.attempt(ZS,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function x9(t,e,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&iC.call(r,r.previous)&&!Bw(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),a):n(h)}function a(h){if(rn(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),a;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),s?c:(s=!0,l)):n(h)}function c(h){return h===null||sh(h)||He(h)||Vs(h)||Xh(h)?n(h):t.attempt(JS,t.attempt(ZS,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function T9(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function I9(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(eC,l,a)(c):c===null||He(c)||Vs(c)||c!==45&&Xh(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function S9(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(eC,e,s)(o):o===null||He(o)||Vs(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function C9(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||He(a)||Vs(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||He(a)||Vs(a)?e(a):r(a)}function s(a){return rn(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):rn(a)?(t.consume(a),o):n(a)}}function A9(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return Gt(s)?n(s):e(s)}}function rC(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||He(t)}function iC(t){return!rn(t)}function sC(t){return!(t===47||fg(t))}function fg(t){return t===43||t===45||t===46||t===95||Gt(t)}function Bw(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const P9={tokenize:F9,partial:!0};function R9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:L9,continuation:{tokenize:M9},exit:V9}},text:{91:{name:"gfmFootnoteCall",tokenize:O9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:N9,resolveTo:D9}}}}function N9(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=cr(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function D9(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function O9(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(h){if(s>999||h===93&&!o||h===null||h===91||He(h))return n(h);if(h===93){t.exit("chunkString");const p=t.exit("gfmFootnoteCallString");return i.includes(cr(r.sliceSerialize(p)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return He(h)||(o=!0),s++,t.consume(h),h===92?d:c}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,c):c(h)}}function L9(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(y){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(y){return y===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(y)}function d(y){if(o>999||y===93&&!a||y===null||y===91||He(y))return n(y);if(y===93){t.exit("chunkString");const I=t.exit("gfmFootnoteDefinitionLabelString");return s=cr(r.sliceSerialize(I)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(y),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),p}return He(y)||(a=!0),o++,t.consume(y),y===92?h:d}function h(y){return y===91||y===92||y===93?(t.consume(y),o++,d):d(y)}function p(y){return y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),i.includes(s)||i.push(s),Re(t,m,"gfmFootnoteDefinitionWhitespace")):n(y)}function m(y){return e(y)}}function M9(t,e,n){return t.check(Au,e,t.attempt(P9,e,n))}function V9(t){t.exit("gfmFootnoteDefinition")}function F9(t,e,n){const r=this;return Re(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function j9(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",d,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",h,a]],m=a.parser.constructs.insideSpan.null;m&&Mn(p,p.length,0,Jh(m,o.slice(c+1,l),a)),Mn(p,p.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",d,a]]),Mn(o,c-1,l-c+3,p),l=c+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,d=this.events;let h=0;return p;function p(y){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(y):(o.enter("strikethroughSequenceTemporary"),m(y))}function m(y){const I=Zo(c);if(y===126)return h>1?l(y):(o.consume(y),h++,m);if(h<2&&!n)return l(y);const P=o.exit("strikethroughSequenceTemporary"),w=Zo(y);return P._open=!w||w===2&&!!I,P._close=!I||I===2&&!!w,a(y)}}}class B9{constructor(){this.map=[]}add(e,n,r){z9(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function z9(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function U9(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function $9(){return{flow:{null:{name:"table",tokenize:H9,resolveAll:q9}}}}function H9(t,e,n){const r=this;let i=0,s=0,o;return a;function a(v){let x=r.events.length-1;for(;x>-1;){const V=r.events[x][1].type;if(V==="lineEnding"||V==="linePrefix")x--;else break}const R=x>-1?r.events[x][1].type:null,A=R==="tableHead"||R==="tableRow"?O:l;return A===O&&r.parser.lazy[r.now().line]?n(v):A(v)}function l(v){return t.enter("tableHead"),t.enter("tableRow"),c(v)}function c(v){return v===124||(o=!0,s+=1),d(v)}function d(v){return v===null?n(v):de(v)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),m):n(v):ke(v)?Re(t,d,"whitespace")(v):(s+=1,o&&(o=!1,i+=1),v===124?(t.enter("tableCellDivider"),t.consume(v),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),h(v)))}function h(v){return v===null||v===124||He(v)?(t.exit("data"),d(v)):(t.consume(v),v===92?p:h)}function p(v){return v===92||v===124?(t.consume(v),h):h(v)}function m(v){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(v):(t.enter("tableDelimiterRow"),o=!1,ke(v)?Re(t,y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):y(v))}function y(v){return v===45||v===58?P(v):v===124?(o=!0,t.enter("tableCellDivider"),t.consume(v),t.exit("tableCellDivider"),I):F(v)}function I(v){return ke(v)?Re(t,P,"whitespace")(v):P(v)}function P(v){return v===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(v),t.exit("tableDelimiterMarker"),w):v===45?(s+=1,w(v)):v===null||de(v)?L(v):F(v)}function w(v){return v===45?(t.enter("tableDelimiterFiller"),_(v)):F(v)}function _(v){return v===45?(t.consume(v),_):v===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(v),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(v))}function T(v){return ke(v)?Re(t,L,"whitespace")(v):L(v)}function L(v){return v===124?y(v):v===null||de(v)?!o||i!==s?F(v):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(v)):F(v)}function F(v){return n(v)}function O(v){return t.enter("tableRow"),C(v)}function C(v){return v===124?(t.enter("tableCellDivider"),t.consume(v),t.exit("tableCellDivider"),C):v===null||de(v)?(t.exit("tableRow"),e(v)):ke(v)?Re(t,C,"whitespace")(v):(t.enter("data"),b(v))}function b(v){return v===null||v===124||He(v)?(t.exit("data"),C(v)):(t.consume(v),v===92?S:b)}function S(v){return v===92||v===124?(t.consume(v),b):b(v)}}function q9(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,d,h;const p=new B9;for(;++n<t.length;){const m=t[n],y=m[1];m[0]==="enter"?y.type==="tableHead"?(a=!1,l!==0&&(wb(p,e,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(n,0,[["enter",c,e]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},p.add(n,0,[["enter",d,e]])),i=y.type==="tableDelimiterRow"?2:d?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=Tc(p,e,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):y.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=Tc(p,e,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):y.type==="tableHead"?(a=!0,l=n):y.type==="tableRow"||y.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],h=Tc(p,e,s,i,n,h)):o[1]!==0&&(h=Tc(p,e,o,i,n,h)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&wb(p,e,l,c,d),p.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=U9(e.events,n))}return t}function Tc(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},oo(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=oo(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=oo(e.events,n[2]),d=oo(e.events,n[3]),h={type:a,start:Object.assign({},c),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const p=e.events[n[2]],m=e.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const y=n[2]+1,I=n[3]-n[2]-1;t.add(y,I,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(s.end=Object.assign({},oo(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function wb(t,e,n,r,i){const s=[],o=oo(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function oo(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const W9={name:"tasklistCheck",tokenize:K9};function G9(){return{text:{91:W9}}}function K9(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return He(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return de(l)?e(l):ke(l)?t.check({tokenize:Q9},e,n)(l):n(l)}}function Q9(t,e,n){return Re(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Y9(t){return mS([E9(),R9(),j9(t),$9(),G9()])}const X9={};function J9(t){const e=this,n=t||X9,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Y9(n)),s.push(y9()),o.push(w9(n))}function Z9({theme:t,setTheme:e,user:n,isAuthorized:r,handleSignIn:i,handleSignOut:s}){const[o,a]=J.useState(!1),[l,c]=J.useState("Loading...");J.useEffect(()=>{o&&l==="Loading..."&&fetch("CHANGELOG.md").then(h=>{if(h.ok)return h.text();throw new Error("Could not load changelog.")}).then(h=>c(h)).catch(h=>c(h.message))},[o]);const d=()=>n?n.isAnonymous?E.jsxs("button",{className:"w-full flex items-center justify-center px-4 py-2 rounded-md font-semibold text-sm bg-blue-600 text-white hover:bg-blue-700",onClick:i,children:[E.jsx(Be,{name:"google",type:"fab",className:"mr-2"})," Admin Sign-In"]}):E.jsxs("div",{className:"space-y-3 text-center",children:[E.jsxs("p",{children:["Signed in as ",E.jsx("span",{className:"font-semibold",children:n.email})]}),r&&E.jsx("p",{className:"text-green-600 dark:text-green-400 font-bold",children:"You have admin privileges."}),E.jsx("button",{className:"w-full px-4 py-2 rounded-md font-semibold text-sm bg-gray-500 text-white hover:bg-gray-600",onClick:s,children:"Sign Out"})]}):null;return E.jsxs("div",{className:"settings-view space-y-4",children:[E.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold mb-2",children:"Theme"}),E.jsxs("div",{className:"flex w-full rounded-md shadow-sm",children:[E.jsx("button",{onClick:()=>e("light"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-l-md border ${t==="light"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Light"}),E.jsx("button",{onClick:()=>e("dark"),className:`flex-1 px-4 py-2 text-sm font-medium border-t border-b ${t==="dark"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"Dark"}),E.jsx("button",{onClick:()=>e("system"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-r-md border ${t==="system"?"bg-primary text-white border-primary":"bg-transparent border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:"System"})]})]})}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsxs("button",{className:"flex justify-between items-center w-full font-semibold",onClick:()=>a(!o),"aria-expanded":o,children:[E.jsx("span",{children:"Version History & Changelog"}),E.jsx(Be,{name:o?"chevron-up":"chevron-down"})]}),o&&E.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none mt-4 pt-4 border-t border-border-light dark:border-border-dark",children:E.jsx(jz,{remarkPlugins:[J9],children:l})})]})}),E.jsx("div",{className:"bg-surface-light dark:bg-surface-dark rounded-lg shadow-md border border-border-light dark:border-border-dark",children:E.jsxs("div",{className:"p-4",children:[E.jsx("h3",{className:"text-md font-semibold mb-2 text-center",children:"Account"}),d()]})})]})}const vb=new Vr,e6=t=>{try{localStorage.setItem("swimMeetFavorites",JSON.stringify(Array.from(t)))}catch(e){console.error("Error saving favorites:",e)}},t6=()=>{try{const t=localStorage.getItem("swimMeetFavorites");return t?new Set(JSON.parse(t)):new Set}catch(t){return console.error("Error loading favorites:",t),new Set}};function n6(){const[t,e]=J.useState(localStorage.getItem("theme")||"system"),[n,r]=J.useState(null),[i,s]=J.useState(null),[o,a]=J.useState(t6),[l,c]=J.useState("schedule"),[d,h]=J.useState({eventNumber:1,heatNumber:1,isTracking:!1}),[p,m]=J.useState(""),[y,I]=J.useState(""),[P,w]=J.useState({show:!1,message:"",type:""}),[_,T]=J.useState(!1),[L,F]=J.useState(null),[O,C]=J.useState(!0),[b,S]=J.useState(null),[v,x]=J.useState([]),[R,A]=J.useState(null),[V,H]=J.useState({}),ee=(ne,re="info")=>{w({show:!0,message:ne,type:re}),setTimeout(()=>{w({show:!1,message:"",type:""})},3e3)};J.useEffect(()=>{const ne=Se=>{const Ke=Se==="system"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Se,Ne=document.documentElement;Ke==="dark"?Ne.classList.add("dark"):Ne.classList.remove("dark")};ne(t),localStorage.setItem("theme",t);const re=window.matchMedia("(prefers-color-scheme: dark)"),ae=()=>ne(t);return re.addEventListener("change",ae),()=>re.removeEventListener("change",ae)},[t]),J.useEffect(()=>{if(!us){S("Authentication service is not available.");return}const ne=GL(us,re=>{re?(r(re),re.email&&typeof Sd<"u"?s(Sd[re.email]||null):s(null)):zL(us).catch(ae=>{console.error("Anonymous sign-in failed:",ae)})});return()=>ne()},[]),J.useEffect(()=>{if(!he)return;const ne=nn(he,"rosters"),re=_r(ne,ae=>{const Se={};ae.forEach(Ke=>{const Ne=Ke.id;(Ke.data().swimmers||[]).forEach(Zn=>{Se[Zn.id]={...Zn,team:Ne}})}),H(Se)});return()=>re()},[]),J.useEffect(()=>{if(!he)return;const ne=nn(he,"meets"),re=_r(ne,ae=>{const Se=ae.docs.map(Ke=>({id:Ke.id,...Ke.data(),date:Ke.data().date.toDate()})).sort((Ke,Ne)=>Ke.date-Ne.date);if(x(Se),!R&&Se.length>0){const Ke=new Date,Ne=Se.find(Ct=>Ct.date>=Ke);A(Ne?Ne.id:Se[Se.length-1].id)}C(!1)},ae=>{console.error("Error fetching meets:",ae),S("Could not load meets from the database."),C(!1)});return()=>re()},[]),J.useEffect(()=>{if(!he||!R){F(null);return}const ne=v.find(Se=>Se.id===R);if(!ne)return;const re=Gl(nn(he,"meet_events"),Kl("meetId","==",R)),ae=_r(re,Se=>{const Ke=Se.docs.map(Ne=>({id:Ne.id,...Ne.data()})).sort((Ne,Ct)=>Ne.eventNumber-Ct.eventNumber);F({...ne,events:Ke})},Se=>{console.error(`Error fetching events for meet ${R}:`,Se),S("Could not load events for the selected meet.")});return()=>ae()},[he,R,v]);const X=()=>{!us||!vb||fM(us,vb).catch(ne=>console.error("Sign-in failed:",ne))},U=()=>us&&us.signOut();J.useEffect(()=>{if(!he||!R)return;const ne=ut(he,"meet_status",R),re=_r(ne,ae=>{ae.exists()?h(ae.data()):Zc(ne,{eventNumber:1,heatNumber:1,isTracking:!1})});return()=>re()},[he,R]);const Z=async ne=>{if(!he||!i||!R)return;const re=ut(he,"meet_status",R);await Ql(re,ne)};J.useEffect(()=>e6(o),[o]);const N=ne=>{a(re=>{const ae=new Set(re);return ae.has(ne)?ae.delete(ne):ae.add(ne),ae})};J.useEffect(()=>{if(Object.keys(V).length===0)return;let ne=!1;const re=new Set(o);for(const ae of re)V[ae]||(re.delete(ae),ne=!0);ne&&(console.log("Cleaned stale swimmer IDs from favorites."),a(re))},[V,o]);const te=J.useMemo(()=>Array.from(o).map(re=>{const ae=V[re];if(!ae)return{id:re,name:"Loading swimmer...",team:"",events:[]};const Se=[];if(L&&L.events){const Ke=Ne=>(Ne||"").replace("Freestyle","Free").replace("Backstroke","Back").replace("Breaststroke","Breast").replace("Butterfly","Fly");L.events.forEach(Ne=>{Ne.heats&&Ne.heats.forEach(Ct=>{Ct.lanes.forEach(Zn=>{Zn.id===re&&Se.push(`E${Ne.eventNumber} H${Ct.heatNumber} L${Zn.lane}: ${Ke(Ne.name)}`)})})})}return{id:re,name:`${ae.firstName} ${ae.lastName}`,team:ae.team,events:Se,isInCurrentMeet:Se.length>0}}).sort((re,ae)=>re.name.localeCompare(ae.name)),[o,V,L]),ue=J.useMemo(()=>{if(!y.trim()||Object.keys(V).length===0)return[];const ne=y.toLowerCase();return Object.values(V).filter(ae=>`${ae.firstName} ${ae.lastName}`.toLowerCase().includes(ne)).map(ae=>({id:ae.id,name:`${ae.firstName} ${ae.lastName}`,team:ae.team})).sort((ae,Se)=>ae.name.localeCompare(Se.name))},[y,V]),D=J.useMemo(()=>{if(!p.trim()||!L||!L.events)return[];const ne=p.toLowerCase();return L.events.filter(re=>re.name.toLowerCase().includes(ne)||String(re.eventNumber).includes(ne))},[p,L]);if(O)return E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx("h4",{className:"text-lg font-semibold",children:"Loading Meet Data..."})});if(b)return E.jsx("div",{className:"container mx-auto mt-4",children:E.jsx("div",{className:"p-4 text-red-800 bg-red-100 border border-red-200 rounded-md",children:b})});const Fe=()=>{switch(l){case"schedule":return L?E.jsx(U_,{events:L.events,favorites:o,currentEvent:d,toggleFavorite:N,adminRole:i,updateMeetStatus:Z}):E.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."});case"searchEvents":return L?E.jsx(uP,{search:p,setSearch:m,results:D,favorites:o,currentEvent:d,toggleFavorite:N}):E.jsx("p",{className:"text-center",children:"Select a meet to search events."});case"searchSwimmers":return L?E.jsx(cP,{search:y,setSearch:I,results:ue,favorites:o,toggleFavorite:N}):E.jsx("p",{className:"text-center",children:"Select a meet to search swimmers."});case"admin":return E.jsx(lj,{adminRole:i,allMeets:v,showNotification:ee});case"settings":return E.jsx(Z9,{theme:t,setTheme:e,user:n,isAuthorized:!!i,handleSignIn:X,handleSignOut:U});default:return L?E.jsx(U_,{events:L.events,favorites:o,currentEvent:d,toggleFavorite:N,adminRole:i,updateMeetStatus:Z}):E.jsx("p",{className:"text-center",children:"Select a meet to view the schedule."})}};return E.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark text-text-dark dark:text-text-light transition-colors duration-300 pb-20 min-h-screen",children:[E.jsx(lP,{}),E.jsx(rP,{show:P.show,message:P.message,type:P.type}),E.jsxs("div",{className:"container mx-auto px-4 py-4",children:[E.jsxs("header",{className:"text-center mb-4",children:[l!=="admin"&&L?E.jsx("h1",{className:"font-bold text-3xl text-primary",children:L.name}):E.jsx("h1",{className:"font-bold text-3xl text-primary",children:"Swim Meet Live"}),v.length>0&&l!=="admin"&&E.jsx("div",{className:"mt-2 max-w-md mx-auto",children:E.jsx("select",{className:"w-full p-2 border border-border-light dark:border-border-dark rounded-md text-sm bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",value:R||"",onChange:ne=>A(ne.target.value),children:v.map(ne=>E.jsxs("option",{value:ne.id,children:[ne.name," - ",ne.date.toLocaleDateString()]},ne.id))})})]}),l!=="settings"&&l!=="admin"&&L&&E.jsxs("div",{className:"border border-border-light dark:border-border-dark rounded-lg overflow-hidden mb-3",children:[E.jsx("h2",{className:"accordion-header",id:"favorites-header",children:E.jsxs("button",{className:"flex justify-between items-center w-full p-4 font-semibold text-left bg-surface-light dark:bg-surface-dark text-text-dark dark:text-text-light",onClick:()=>T(!_),"aria-expanded":_,"aria-controls":"favorites-content",children:[E.jsxs("span",{children:["My Favorites (",o.size,")"]}),E.jsx(Be,{name:_?"chevron-up":"chevron-down",className:`transition-transform duration-200 ${_?"rotate-180":""}`})]})}),_&&E.jsx("div",{id:"favorites-content",className:"p-4 bg-white dark:bg-surface-dark border-t border-border-light dark:border-border-dark",role:"region","aria-labelledby":"favorites-header",children:te.length>0?E.jsx("div",{className:"divide-y divide-border-light dark:divide-border-dark -mx-4",children:te.map(ne=>E.jsxs("div",{className:"px-4 py-3 flex justify-between items-start",children:[E.jsxs("div",{className:"mr-auto",children:[E.jsxs("div",{className:"font-bold flex items-center",children:[E.jsx("span",{children:ne.name}),ne.isInCurrentMeet&&E.jsx("span",{className:"ml-2 h-2.5 w-2.5 bg-green-500 rounded-full",title:"Swimming in this meet"})]}),E.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ne.events.length>0?ne.events.map((re,ae)=>E.jsx("div",{children:re},ae)):E.jsx("p",{className:"italic text-gray-400 dark:text-gray-500 mt-1",children:"Not in this meet"})})]}),l==="searchSwimmers"&&E.jsx("button",{className:"p-2 -m-2",onClick:()=>N(ne.id),"aria-label":`Toggle favorite for ${ne.name}`,children:E.jsx("div",{className:"text-secondary",children:E.jsx(Be,{name:"star",type:"fas"})})})]},ne.id))}):E.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mb-0",children:"No favorites added yet. Tap the star next to a swimmer's name to add them."})})]}),E.jsx("main",{children:Fe()})]}),E.jsx("nav",{className:"fixed bottom-0 left-0 w-full bg-surface-light dark:bg-surface-dark border-t border-border-light dark:border-border-dark z-30",children:E.jsxs("div",{className:"flex justify-around items-center",children:[E.jsxs("button",{onClick:()=>c("schedule"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="schedule"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Be,{name:"list-ol"})}),E.jsx("div",{className:"text-xs",children:"Schedule"})]}),E.jsxs("button",{onClick:()=>c("searchEvents"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="searchEvents"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Be,{name:"magnifying-glass"})}),E.jsx("div",{className:"text-xs",children:"Events"})]}),E.jsxs("button",{onClick:()=>c("searchSwimmers"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="searchSwimmers"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Be,{name:"user"})}),E.jsx("div",{className:"text-xs",children:"Swimmers"})]}),i&&E.jsxs("button",{onClick:()=>c("admin"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="admin"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Be,{name:"user-shield"})}),E.jsx("div",{className:"text-xs",children:"Admin"})]}),E.jsxs("button",{onClick:()=>c("settings"),className:`flex-1 text-center py-2 px-1 rounded-lg text-sm transition-colors ${l==="settings"?"bg-primary/10 text-primary dark:bg-primary/15 dark:text-primary-light":"text-gray-600 dark:text-gray-400"}`,children:[E.jsx("div",{children:E.jsx(Be,{name:"gear"})}),E.jsx("div",{className:"text-xs",children:"Settings"})]})]})})]})}Pp.createRoot(document.getElementById("root")).render(E.jsx(HC.StrictMode,{children:E.jsx(n6,{})}));
